webpackJsonp([4],{"+zVg":function(t,e,n){"use strict";var i=n("wZOE");e.of=i.ArrayObservable.of},"/oeL":function(t,e,n){"use strict";(function(t){function i(){if(!Vi){var t=Ri.Symbol;if(t&&t.iterator)Vi=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Vi=i)}}return Vi}function r(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function a(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function u(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+s(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,i=n.length-1,r=t[i];if("function"!=typeof r)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+s(r)+"'");if(i!=r.length)throw new Error("Number of annotations ("+i+") does not match number of arguments ("+r.length+") in the function: "+s(r));for(var o=[],u=0,h=n.length-1;u<h;u++){var l=[];o.push(l);var c=n[u];if(Array.isArray(c))for(var f=0;f<c.length;f++)l.push(a(c[f]));else"function"==typeof c?l.push(a(c)):l.push(c)}return Bi.defineMetadata("parameters",o,r),r}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+s(t)+"'")}function h(t){var e=u(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+s(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var i in t)"extends"!==i&&"prototype"!==i&&t.hasOwnProperty(i)&&(n[i]=u(t[i],i));this&&this.annotations instanceof Array&&Bi.defineMetadata("annotations",this.annotations,e);var r=e.name;return r&&"constructor"!==r||(e.overriddenName="class"+Ii++),e}function l(t,e,n,i){function r(t){if(!Bi||!Bi.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof r)return o.call(this,t),this;var e=new r(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var s=function(t){var n=Bi.getOwnMetadata("annotations",t)||[];return n.push(e),Bi.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=h,i&&i(s),s}var o=c([e]);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function c(t){return function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t.forEach(function(t,i){var r=n[i];if(Array.isArray(t))e[t[0]]=void 0===r?t[1]:r;else for(var o in t)e[o]=r&&r.hasOwnProperty(o)?r[o]:t[o]})}}function f(t,e,n){function i(){function t(t,e,n){for(var i=Bi.getOwnMetadata("parameters",t)||[];i.length<=n;)i.push(null);return i[n]=i[n]||[],i[n].push(o),Bi.defineMetadata("parameters",i,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=new(i.bind.apply(i,[void 0].concat(e)));return t.annotation=o,t}var r=c(e);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function p(t,e,n){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n=new(i.bind.apply(i,[void 0].concat(t)));return function(t,e){var i=Bi.getOwnMetadata("propMetadata",t.constructor)||{};i[e]=i.hasOwnProperty(e)&&i[e]||[],i[e].unshift(n),Bi.defineMetadata("propMetadata",i,t.constructor)}}var r=c(e);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function d(t){return t.__forward_ref__=d,t.toString=function(){return s(this())},t}function y(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===d?t():t}function v(t){return t[pr]}function g(t){return t[dr]}function m(t){return t[yr]||b}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}function w(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),i=Error(n);return i[dr]=e,i}function x(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function k(t){if(t.length>1){return" ("+x(t.slice().reverse()).map(function(t){return s(t.token)}).join(" -> ")+")"}return""}function P(t,e,n,i){var r=i?w("",i):Error();return r.addKey=C,r.keys=[e],r.injectors=[t],r.constructResolvingMessage=n,r.message=r.constructResolvingMessage(),r[dr]=i,r}function C(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage()}function S(t,e){return P(t,e,function(){return"No provider for "+s(this.keys[0].token)+"!"+k(this.keys)})}function T(t,e){return P(t,e,function(){return"Cannot instantiate cyclic dependency!"+k(this.keys)})}function M(t,e,n,i){return P(t,i,function(){var t=s(this.keys[0].token);return g(this).message+": Error during instantiation of "+t+"!"+k(this.keys)+"."},e)}function _(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}function N(t,e){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];o&&0!=o.length?n.push(o.map(s).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+s(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+s(t)+"' is decorated with Injectable.")}function A(t){return Error("Index "+t+" is out-of-bounds.")}function O(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function j(t){return"function"==typeof t}function E(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,i=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(i)))}):[]}function L(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function D(t){var e,n;if(t.useClass){var i=y(t.useClass);e=Sr.factory(i),n=q(i)}else t.useExisting?(e=function(t){return t},n=[Tr.fromKey(gr.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=B(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Mr);return new Nr(e,n)}function F(t){return new _r(gr.get(t.provide),[D(t)],t.multi||!1)}function R(t){var e=I(t,[]),n=e.map(F),i=V(n,new Map);return Array.from(i.values())}function V(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw O(r,i);if(i.multiProvider)for(var o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else e.set(i.key.id,i)}else{var s=void 0;s=i.multiProvider?new _r(i.key,i.resolvedFactories.slice(),i.multiProvider):i,e.set(i.key.id,s)}}return e}function I(t,e){return t.forEach(function(t){if(t instanceof wr)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw _(t);I(t,e)}}),e}function B(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return z(t,e,n)})}return q(t)}function q(t){var e=Sr.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw N(t,e);return e.map(function(n){return z(t,n,e)})}function z(t,e,n){var i=null,r=!1;if(!Array.isArray(e))return e instanceof ir?G(e.token,r,null):G(e,r,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof wr?i=a:a instanceof ir?i=a.token:a instanceof rr?r=!0:a instanceof sr||a instanceof ar?o=a:a instanceof Ei&&(i=a)}if(null!=(i=y(i)))return G(i,r,o);throw N(t,n)}function G(t,e,n){return new Tr(gr.get(t),e,n)}function H(t,e){for(var n=new Array(t._providers.length),i=0;i<t._providers.length;++i)n[i]=e(t.getProviderAtIndex(i));return n}function U(t){return!!t&&"function"==typeof t.then}function K(t){return!!t&&"function"==typeof t.subscribe}function W(){return""+J()+J()+J()}function J(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function Y(){throw new Error("Runtime compiler is not loaded")}function Q(t){var e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[Kr]=t,e}function Z(t,e){return void 0===e&&(e=null),Qr.createScope(t,e)}function X(t,e){return Yr.leaveScope(t,e),e}function $(t,e){return null}function tt(t){fo=t}function et(){if(yo)throw new Error("Cannot enable prod mode after platform setup.");po=!1}function nt(){return yo=!0,po}function it(t){if(lo&&!lo.destroyed&&!lo.injector.get(vo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lo=t.get(mo);var e=t.get(Vr,null);return e&&e.forEach(function(t){return t()}),lo}function rt(t,e,n){void 0===n&&(n=[]);var i=new Ei("Platform: "+e);return function(e){void 0===e&&(e=[]);var r=st();return r&&!r.injector.get(vo,!1)||(t?t(n.concat(e).concat({provide:i,useValue:!0})):it(Or.resolveAndCreate(n.concat(e).concat({provide:i,useValue:!0})))),ot(i)}}function ot(t){var e=st();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function st(){return lo&&!lo.destroyed?lo:null}function at(t,e){try{var n=e();return U(n)?n.catch(function(e){throw t.handleError(e),e}):n}catch(e){throw t.handleError(e),e}}function ut(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ht(t){return t.reduce(function(t,e){var n=Array.isArray(e)?ht(e):e;return t.concat(n)},[])}function lt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function ct(t,e,n){t.childNodes.forEach(function(t){t instanceof Vo&&(e(t)&&n.push(t),ct(t,e,n))})}function ft(t,e,n){t instanceof Vo&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Vo&&ft(t,e,n)})}function pt(t){return Io.get(t)||null}function dt(t){Io.set(t.nativeNode,t)}function yt(t){Io.delete(t.nativeNode)}function vt(t,e){var n=gt(t),i=gt(e);if(n&&i)return mt(t,e,vt);var r=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!s)||o(t,e)}function gt(t){return!!wt(t)&&(Array.isArray(t)||!(t instanceof Map)&&i()in t)}function mt(t,e,n){for(var r=t[i()](),o=e[i()]();;){var s=r.next(),a=o.next();if(s.done&&a.done)return!0;if(s.done||a.done)return!1;if(!n(s.value,a.value))return!1}}function bt(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[i()](),o=void 0;!(o=r.next()).done;)e(o.value)}function wt(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xt(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function kt(t){return t.name||typeof t}function Pt(){return Sr}function Ct(t,e){return t.nodes[e]}function St(t,e){return t.nodes[e]}function Tt(t,e){return t.nodes[e]}function Mt(t,e){return t.nodes[e]}function _t(t,e){return t.nodes[e]}function Nt(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Ot(r,t)}function At(t,e){return t instanceof Error||(t=new Error(t.toString())),jt(t,e),t}function Ot(t,e){var n=new Error(t);return jt(n,e),n}function jt(t,e){t[pr]=e,t[yr]=e.logError.bind(e)}function Et(t){return!!v(t)}function Lt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Dt(t){var e=cs.get(t);return e||(e=s(t)+"_"+cs.size,cs.set(t,e)),e}function Ft(t,e,n,i){if(i instanceof Bo){i=i.wrapped;var r=t.def.nodes[e].bindingIndex+n,o=t.oldValues[r];o instanceof Bo&&(o=o.wrapped),t.oldValues[r]=new Bo(o)}return i}function Rt(t){return{id:fs,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function Vt(t){if(t&&t.id===fs){var e=null!=t.encapsulation&&t.encapsulation!==tr.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+ds++:ps}return t&&t.id===ps&&(t=null),t||null}function It(t,e,n,i){var r=t.oldValues;return!(!(2&t.state)&&o(r[e.bindingIndex+n],i))}function Bt(t,e,n,i){return!!It(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function qt(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!vt(r,i))throw Nt(hs.createDebugContext(t,e.index),r,i,0!=(1&t.state))}function zt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Gt(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ht(t,e,n,i){return zt(33554432&t.def.nodes[e].flags?St(t,e).componentView:t),hs.handleEvent(t,e,n,i)}function Ut(t){if(t.parent){return St(t.parent,t.parentNodeDef.index)}return null}function Kt(t){return t.parent?t.parentNodeDef.parent:null}function Wt(t,e){switch(201347067&e.flags){case 1:return St(t,e.index).renderElement;case 2:return Ct(t,e.index).renderText}}function Jt(t,e){return t?t+":"+e:e}function Yt(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Qt(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Zt(t){return 1<<t%32}function Xt(t){var e={},n=0,i={};return t&&t.forEach(function(t){var r=t[0],o=t[1];"number"==typeof r?(e[r]=o,n|=Zt(r)):i[r]=o}),{matchedQueries:e,references:i,matchedQueryIds:n}}function $t(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===tr.Native?St(t,n.renderParent.index).renderElement:void 0:e}function te(t){var e=ys.get(t);return e||(e=t(function(){return ls}),e.factory=t,ys.set(t,e)),e}function ee(t){var e=[];return ne(t,0,void 0,void 0,e),e}function ne(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(Wt(t,t.def.lastRenderRootNode))),ie(t,e,0,t.def.nodes.length-1,n,i,r)}function ie(t,e,n,i,r,o,s){for(var a=n;a<=i;a++){var u=t.def.nodes[a];11&u.flags&&oe(t,u,e,r,o,s),a+=u.childCount}}function re(t,e,n,i,r,o){for(var s=t;s&&!Yt(s);)s=s.parent;for(var a=s.parent,u=Kt(s),h=u.index+1,l=u.index+u.childCount,c=h;c<=l;c++){var f=a.def.nodes[c];f.ngContentIndex===e&&oe(a,f,n,i,r,o),c+=f.childCount}if(!a.parent){var p=t.root.projectableNodes[e];if(p)for(var c=0;c<p.length;c++)se(t,p[c],n,i,r,o)}}function oe(t,e,n,i,r,o){if(8&e.flags)re(t,e.ngContent.index,n,i,r,o);else{var s=Wt(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&se(t,s,n,i,r,o),32&e.bindingFlags){var a=St(t,e.index).componentView;se(a,s,n,i,r,o)}}else se(t,s,n,i,r,o);if(16777216&e.flags)for(var u=St(t,e.index).viewContainer._embeddedViews,h=0;h<u.length;h++)ne(u[h],n,i,r,o);1&e.flags&&!e.element.name&&ie(t,n,e.index+1,e.index+e.childCount,i,r,o)}}function se(t,e,n,i,r,o){var s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}function ae(t){if(":"===t[0]){var e=t.match(vs);return[e[1],e[2]]}return["",t]}function ue(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function he(t,e,n,i,r,o,s,a,u,h,l,c,f,p,d,y,v,g,m,b){switch(t){case 1:return e+le(n)+i;case 2:return e+le(n)+i+le(r)+o;case 3:return e+le(n)+i+le(r)+o+le(s)+a;case 4:return e+le(n)+i+le(r)+o+le(s)+a+le(u)+h;case 5:return e+le(n)+i+le(r)+o+le(s)+a+le(u)+h+le(l)+c;case 6:return e+le(n)+i+le(r)+o+le(s)+a+le(u)+h+le(l)+c+le(f)+p;case 7:return e+le(n)+i+le(r)+o+le(s)+a+le(u)+h+le(l)+c+le(f)+p+le(d)+y;case 8:return e+le(n)+i+le(r)+o+le(s)+a+le(u)+h+le(l)+c+le(f)+p+le(d)+y+le(v)+g;case 9:return e+le(n)+i+le(r)+o+le(s)+a+le(u)+h+le(l)+c+le(f)+p+le(d)+y+le(v)+g+le(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function le(t){return null!=t?t.toString():""}function ce(t,e,n,i,r,o){t|=1;var s=Xt(e),a=s.matchedQueries,u=s.references;return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?te(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||ls},provider:null,text:null,query:null,ngContent:null}}function fe(t,e,n,i,r,o,s,a,u,h,l){void 0===o&&(o=[]),u||(u=ls);var c=Xt(e),f=c.matchedQueries,p=c.references,d=c.matchedQueryIds,y=null,v=null;r&&(E=ae(r),y=E[0],v=E[1]),s=s||[];for(var g=new Array(s.length),m=0;m<s.length;m++){var b=s[m],w=b[0],x=b[1],k=b[2],P=ae(x),C=P[0],S=P[1],T=void 0,M=void 0;switch(15&w){case 4:M=k;break;case 1:case 8:T=k}g[m]={flags:w,ns:C,name:S,nonMinifiedName:S,securityContext:T,suffix:M}}a=a||[];for(var _=new Array(a.length),m=0;m<a.length;m++){var N=a[m],A=N[0],O=N[1];_[m]={type:0,target:A,eventName:O,propName:null}}o=o||[];var j=o.map(function(t){var e=t[0],n=t[1],i=ae(e);return[i[0],i[1],n]});return l=Vt(l),h&&(t|=33554432),t|=1,{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:d,references:p,ngContentIndex:n,childCount:i,bindings:g,bindingFlags:ue(g),outputs:_,element:{ns:y,name:v,attrs:j,template:null,componentProvider:null,componentView:h||null,componentRendererType:l,publicProviders:null,allProviders:null,handleEvent:u||ls},provider:null,text:null,query:null,ngContent:null};var E}function pe(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){i=r.name?s.createElement(r.name,r.ns):s.createComment("");var a=$t(t,e,n);a&&s.appendChild(a,i)}else i=s.selectRootElement(o);if(r.attrs)for(var u=0;u<r.attrs.length;u++){var h=r.attrs[u],l=h[0],c=h[1],f=h[2];s.setAttribute(i,c,f,l)}return i}function de(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],s=ye(t,n.index,Jt(o.target,o.eventName)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var h=u.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=h}}function ye(t,e,n){return function(i){try{return Ht(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}}function ve(t,e,n,i,r,o,s,a,u,h,l,c){var f=e.bindings.length,p=!1;return f>0&&me(t,e,0,n)&&(p=!0),f>1&&me(t,e,1,i)&&(p=!0),f>2&&me(t,e,2,r)&&(p=!0),f>3&&me(t,e,3,o)&&(p=!0),f>4&&me(t,e,4,s)&&(p=!0),f>5&&me(t,e,5,a)&&(p=!0),f>6&&me(t,e,6,u)&&(p=!0),f>7&&me(t,e,7,h)&&(p=!0),f>8&&me(t,e,8,l)&&(p=!0),f>9&&me(t,e,9,c)&&(p=!0),p}function ge(t,e,n){for(var i=!1,r=0;r<n.length;r++)me(t,e,r,n[r])&&(i=!0);return i}function me(t,e,n,i){if(!Bt(t,e,n,i))return!1;var r=e.bindings[n],o=St(t,e.index),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:be(t,r,s,r.ns,a,i);break;case 2:we(t,s,a,i);break;case 4:xe(t,r,s,a,i);break;case 8:ke(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}function be(t,e,n,i,r,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,r,a,i):u.removeAttribute(n,r,i)}function we(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}function xe(t,e,n,i,r){var o=t.root.sanitizer.sanitize(as.STYLE,r);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,i,o):a.removeStyle(n,i)}function ke(t,e,n,i,r){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}function Pe(t,e){return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ce(t,e,n){var i=$t(t,e,n);if(i){re(t,n.ngContent.index,1,i,null,void 0)}}function Se(t,e,n,i){var r=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=r.length),i.viewContainerParent=t,Ee(r,n,i),Te(e,i),hs.dirtyParentQueries(i),Oe(e,n>0?r[n-1]:null,i)}function Te(t,e){var n=Ut(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),Me(e.parent.def,e.parentNodeDef)}}function Me(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}function _e(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,Le(n,e),hs.dirtyParentQueries(i),je(i),i}function Ne(t){if(16&t.state){var e=Ut(t);if(e){var n=e.template._projectedViews;n&&(Le(n,n.indexOf(t)),hs.dirtyParentQueries(t))}}}function Ae(t,e,n){var i=t.viewContainer._embeddedViews,r=i[e];return Le(i,e),null==n&&(n=i.length),Ee(i,n,r),hs.dirtyParentQueries(r),je(r),Oe(t,n>0?i[n-1]:null,r),r}function Oe(t,e,n){var i=e?Wt(e,e.def.lastRenderRootNode):t.renderElement;ne(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function je(t){ne(t,3,null,null,void 0)}function Ee(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Le(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function De(t,e,n,i,r,o){return new ms(t,e,n,i,r,o)}function Fe(t,e,n){return new ws(t,e,n)}function Re(t){return new xs(t)}function Ve(t,e){return new ks(t,e)}function Ie(t,e){return new Ps(t,e)}function Be(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=St(t,n.index);return n.element.template?i.template:i.renderElement}if(2&n.flags)return Ct(t,n.index).renderText;if(20240&n.flags)return Tt(t,n.index).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function qe(t){return new Cs(t.renderer)}function ze(t,e,n,i,r,o,s){var a=[];if(o)for(var u in o){var h=o[u],l=h[0],c=h[1];a[l]={flags:8,name:u,nonMinifiedName:c,ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var p in s)f.push({type:1,propName:p,target:null,eventName:s[p]});return t|=16384,Ue(t,e,n,i,i,r,a,f)}function Ge(t,e,n){return t|=16,Ue(t,null,0,e,e,n)}function He(t,e,n,i,r){return Ue(t,e,0,n,i,r)}function Ue(t,e,n,i,r,o,s,a){var u=Xt(e),h=u.matchedQueries,l=u.references,c=u.matchedQueryIds;a||(a=[]),s||(s=[]);var f=o.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:Dt(e)}});return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:c,references:l,ngContentIndex:-1,childCount:n,bindings:s,bindingFlags:ue(s),outputs:a,element:null,provider:{token:i,tokenKey:Dt(i),value:r,deps:f},text:null,query:null,ngContent:null}}function Ke(t,e){return 4096&e.flags?js:Xe(t,e)}function We(t,e){for(var n=t;n.parent&&!Yt(n);)n=n.parent;return $e(n.parent,Kt(n),!0,e.provider.value,e.provider.deps)}function Je(t,e){var n=(32768&e.flags)>0,i=$e(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],s=i[o.propName].subscribe(Ye(t,e.parent.index,o.eventName));t.disposables[e.outputIndex+r]=s.unsubscribe.bind(s)}return i}function Ye(t,e,n){return function(i){try{return Ht(t,e,n,i)}catch(e){t.root.errorHandler.handleError(e)}}}function Qe(t,e,n,i,r,o,s,a,u,h,l,c){var f=Tt(t,e.index),p=f.instance,d=!1,y=void 0,v=e.bindings.length;return v>0&&It(t,e,0,n)&&(d=!0,y=rn(t,f,e,0,n,y)),v>1&&It(t,e,1,i)&&(d=!0,y=rn(t,f,e,1,i,y)),v>2&&It(t,e,2,r)&&(d=!0,y=rn(t,f,e,2,r,y)),v>3&&It(t,e,3,o)&&(d=!0,y=rn(t,f,e,3,o,y)),v>4&&It(t,e,4,s)&&(d=!0,y=rn(t,f,e,4,s,y)),v>5&&It(t,e,5,a)&&(d=!0,y=rn(t,f,e,5,a,y)),v>6&&It(t,e,6,u)&&(d=!0,y=rn(t,f,e,6,u,y)),v>7&&It(t,e,7,h)&&(d=!0,y=rn(t,f,e,7,h,y)),v>8&&It(t,e,8,l)&&(d=!0,y=rn(t,f,e,8,l,y)),v>9&&It(t,e,9,c)&&(d=!0,y=rn(t,f,e,9,c,y)),y&&p.ngOnChanges(y),2&t.state&&65536&e.flags&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}function Ze(t,e,n){for(var i=Tt(t,e.index),r=i.instance,o=!1,s=void 0,a=0;a<n.length;a++)It(t,e,a,n[a])&&(o=!0,s=rn(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),2&t.state&&65536&e.flags&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}function Xe(t,e){var n,i=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:n=$e(t,e.parent,i,r.value,r.deps);break;case 1024:n=tn(t,e.parent,i,r.value,r.deps);break;case 2048:n=en(t,e.parent,i,r.deps[0]);break;case 256:n=r.value}return n}function $e(t,e,n,i,r){var o,s=r.length;switch(s){case 0:o=new i;break;case 1:o=new i(en(t,e,n,r[0]));break;case 2:o=new i(en(t,e,n,r[0]),en(t,e,n,r[1]));break;case 3:o=new i(en(t,e,n,r[0]),en(t,e,n,r[1]),en(t,e,n,r[2]));break;default:for(var a=new Array(s),u=0;u<s;u++)a[u]=en(t,e,n,r[u]);o=new(i.bind.apply(i,[void 0].concat(a)))}return o}function tn(t,e,n,i,r){var o,s=r.length;switch(s){case 0:o=i();break;case 1:o=i(en(t,e,n,r[0]));break;case 2:o=i(en(t,e,n,r[0]),en(t,e,n,r[1]));break;case 3:o=i(en(t,e,n,r[0]),en(t,e,n,r[1]),en(t,e,n,r[2]));break;default:for(var a=Array(s),u=0;u<s;u++)a[u]=en(t,e,n,r[u]);o=i.apply(void 0,a)}return o}function en(t,e,n,i,r){if(void 0===r&&(r=fr.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var s=i.tokenKey;for(s===As&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case Ss:var a=nn(t,e,n);return qe(a);case Ts:var a=nn(t,e,n);return a.renderer;case Ms:return new To(St(t,e.index).renderElement);case _s:return St(t,e.index).viewContainer;case Ns:if(e.element.template)return St(t,e.index).template;break;case As:return Re(nn(t,e,n));case Os:return Ie(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var h=Tt(t,u.index);return h.instance===js&&(h.instance=Xe(t,u)),h.instance}}n=Yt(t),e=Kt(t),t=t.parent}var l=o.root.injector.get(i.token,Es);return l!==Es||r===Es?l:o.root.ngModule.injector.get(i.token,r)}function nn(t,e,n){var i;if(n)i=St(t,e.index).componentView;else for(i=t;i.parent&&!Yt(i);)i=i.parent;return i}function rn(t,e,n,i,r,o){if(32768&n.flags){var s=St(t,n.parent.index).componentView;2&s.def.flags&&(s.state|=8)}var a=n.bindings[i],u=a.name;if(e.instance[u]=r,524288&n.flags){o=o||{};var h=t.oldValues[n.bindingIndex+i];h instanceof Bo&&(h=h.wrapped);o[n.bindings[i].nonMinifiedName]=new qo(h,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function on(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0;i<n.length;i++){var r=n[i],o=r.parent;for(!o&&r.flags&e&&an(t,i,r.flags&e),0==(r.childFlags&e)&&(i+=r.childCount);o&&1&o.flags&&i===o.index+o.childCount;)o.directChildFlags&e&&sn(t,o,e),o=o.parent}}function sn(t,e,n){for(var i=e.index+1;i<=e.index+e.childCount;i++){var r=t.def.nodes[i];r.flags&n&&an(t,i,r.flags&n),i+=r.childCount}}function an(t,e,n){var i=Tt(t,e).instance;i!==js&&(hs.setCurrentNode(t,e),1048576&n&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}function un(t){return ln(128,new Array(t+1))}function hn(t){return ln(64,t)}function ln(t,e){for(var n=new Array(e.length),i=0;i<e.length;i++){var r=e[i];n[i]={flags:8,name:r,ns:null,nonMinifiedName:r,securityContext:null,suffix:null}}return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:n,bindingFlags:ue(n),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function cn(t,e){return{value:void 0}}function fn(t,e,n,i,r,o,s,a,u,h,l,c){var f=e.bindings,p=!1,d=f.length;if(d>0&&Bt(t,e,0,n)&&(p=!0),d>1&&Bt(t,e,1,i)&&(p=!0),d>2&&Bt(t,e,2,r)&&(p=!0),d>3&&Bt(t,e,3,o)&&(p=!0),d>4&&Bt(t,e,4,s)&&(p=!0),d>5&&Bt(t,e,5,a)&&(p=!0),d>6&&Bt(t,e,6,u)&&(p=!0),d>7&&Bt(t,e,7,h)&&(p=!0),d>8&&Bt(t,e,8,l)&&(p=!0),d>9&&Bt(t,e,9,c)&&(p=!0),p){var y=Mt(t,e.index),v=void 0;switch(201347067&e.flags){case 32:v=new Array(f.length),d>0&&(v[0]=n),d>1&&(v[1]=i),d>2&&(v[2]=r),d>3&&(v[3]=o),d>4&&(v[4]=s),d>5&&(v[5]=a),d>6&&(v[6]=u),d>7&&(v[7]=h),d>8&&(v[8]=l),d>9&&(v[9]=c);break;case 64:v={},d>0&&(v[f[0].name]=n),d>1&&(v[f[1].name]=i),d>2&&(v[f[2].name]=r),d>3&&(v[f[3].name]=o),d>4&&(v[f[4].name]=s),d>5&&(v[f[5].name]=a),d>6&&(v[f[6].name]=u),d>7&&(v[f[7].name]=h),d>8&&(v[f[8].name]=l),d>9&&(v[f[9].name]=c);break;case 128:var g=n;switch(d){case 1:v=g.transform(n);break;case 2:v=g.transform(i);break;case 3:v=g.transform(i,r);break;case 4:v=g.transform(i,r,o);break;case 5:v=g.transform(i,r,o,s);break;case 6:v=g.transform(i,r,o,s,a);break;case 7:v=g.transform(i,r,o,s,a,u);break;case 8:v=g.transform(i,r,o,s,a,u,h);break;case 9:v=g.transform(i,r,o,s,a,u,h,l);break;case 10:v=g.transform(i,r,o,s,a,u,h,l,c)}}y.value=v}return p}function pn(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Bt(t,e,o,n[o])&&(r=!0);if(r){var s=Mt(t,e.index),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var o=0;o<n.length;o++)a[i[o].name]=n[o];break;case 128:var u=n[0],h=n.slice(1);a=u.transform.apply(u,h)}s.value=a}return r}function dn(t,e,n){var i=[];for(var r in n){var o=n[r];i.push({propName:r,bindingType:o})}return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Zt(e),bindings:i},ngContent:null}}function yn(){return new _o}function vn(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Qt(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.index+n.childCount,r=0;r<=i;r++){var o=t.def.nodes[r];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&_t(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.index)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var r=0;r<t.def.nodes.length;r++){var o=t.def.nodes[r];134217728&o.flags&&536870912&o.flags&&_t(t,r).setDirty(),r+=o.childCount}}function gn(t,e){var n=_t(t,e.index);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=mn(t,o.index,o.index+o.childCount,e.query,[]),i=Tt(t,e.parent.index).instance}else 134217728&e.flags&&(r=mn(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var h=s[u],l=void 0;switch(h.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}i[h.propName]=l}a&&n.notifyOnChanges()}}function mn(t,e,n,i,r){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[i.id];if(null!=a&&r.push(bn(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var u=St(t,o);if(16777216&s.flags)for(var h=u.viewContainer._embeddedViews,l=0;l<h.length;l++){var c=h[l],f=Ut(c);f&&f===u&&mn(c,0,c.def.nodes.length-1,i,r)}var p=u.template._projectedViews;if(p)for(var l=0;l<p.length;l++){var d=p[l];mn(d,0,d.def.nodes.length-1,i,r)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(o+=s.childCount)}return r}function bn(t,e,n){if(null!=n){var i=void 0;switch(n){case 1:i=St(t,e.index).renderElement;break;case 0:i=new To(St(t,e.index).renderElement);break;case 2:i=St(t,e.index).template;break;case 3:i=St(t,e.index).viewContainer;break;case 4:i=Tt(t,e.index).instance}return i}}function wn(t,e){for(var n=new Array(e.length-1),i=1;i<e.length;i++)n[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:e[i]};return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:n,bindingFlags:ue(n),outputs:[],element:null,provider:null,text:{prefix:e[0]},query:null,ngContent:null}}function xn(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=$t(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function kn(t,e,n,i,r,o,s,a,u,h,l,c){var f=!1,p=e.bindings,d=p.length;if(d>0&&Bt(t,e,0,n)&&(f=!0),d>1&&Bt(t,e,1,i)&&(f=!0),d>2&&Bt(t,e,2,r)&&(f=!0),d>3&&Bt(t,e,3,o)&&(f=!0),d>4&&Bt(t,e,4,s)&&(f=!0),d>5&&Bt(t,e,5,a)&&(f=!0),d>6&&Bt(t,e,6,u)&&(f=!0),d>7&&Bt(t,e,7,h)&&(f=!0),d>8&&Bt(t,e,8,l)&&(f=!0),d>9&&Bt(t,e,9,c)&&(f=!0),f){var y=e.text.prefix;d>0&&(y+=Cn(n,p[0])),d>1&&(y+=Cn(i,p[1])),d>2&&(y+=Cn(r,p[2])),d>3&&(y+=Cn(o,p[3])),d>4&&(y+=Cn(s,p[4])),d>5&&(y+=Cn(a,p[5])),d>6&&(y+=Cn(u,p[6])),d>7&&(y+=Cn(h,p[7])),d>8&&(y+=Cn(l,p[8])),d>9&&(y+=Cn(c,p[9]));var v=Ct(t,e.index).renderText;t.renderer.setValue(v,y)}return f}function Pn(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Bt(t,e,o,n[o])&&(r=!0);if(r){for(var s="",o=0;o<n.length;o++)s+=Cn(n[o],i[o]);s=e.text.prefix+s;var a=Ct(t,e.index).renderText;t.renderer.setValue(a,s)}return r}function Cn(t,e){return(null!=t?t.toString():"")+e.suffix}function Sn(t,e,n,i){for(var r=0,o=0,s=0,a=0,u=0,h=null,l=!1,c=!1,f=null,p=0;p<e.length;p++){for(;h&&p>h.index+h.childCount;){var d=h.parent;d&&(d.childFlags|=h.childFlags,d.childMatchedQueries|=h.childMatchedQueries),h=d}var y=e[p];y.index=p,y.parent=h,y.bindingIndex=r,y.outputIndex=o;var v=void 0;if(v=h&&1&h.flags&&!h.element.name?h.renderParent:h,y.renderParent=v,y.element){var g=y.element;g.publicProviders=h?h.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,l=!1,c=!1}if(Tn(h,y,e.length),s|=y.flags,u|=y.matchedQueryIds,y.element&&y.element.template&&(u|=y.element.template.nodeMatchedQueries),h?(h.childFlags|=y.flags,h.directChildFlags|=y.flags,h.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(h.childMatchedQueries|=y.element.template.nodeMatchedQueries)):a|=y.flags,r+=y.bindings.length,o+=y.outputs.length,!v&&3&y.flags&&(f=y),20224&y.flags){l||(l=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);var m=0!=(8192&y.flags),b=0!=(32768&y.flags);!m||b?h.element.publicProviders[y.provider.tokenKey]=y:(c||(c=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[y.provider.tokenKey]=y),b&&(h.element.componentProvider=y)}y.childCount&&(h=y)}for(;h;){var d=h.parent;d&&(d.childFlags|=h.childFlags,d.childMatchedQueries|=h.childMatchedQueries),h=d}var w=function(t,n,i,r){return e[n].element.handleEvent(t,i,r)};return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ls,updateRenderer:i||ls,handleEvent:w||ls,bindingCount:r,outputCount:o,lastRenderRootNode:f}}function Tn(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.index+"!")}if(20224&e.flags){if(0==(1&(t?t.flags:0)))throw new Error("Illegal State: Provider/Directive nodes need to be children of elements or anchors, at index "+e.index+"!")}if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.index+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.index+"!")}if(e.childCount){var r=t?t.index+t.childCount:n-1;if(e.index<=r&&e.index+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.index+"!")}}function Mn(t,e,n){var i=Nn(t.root,t.renderer,t,e,e.element.template);return An(i,t.component,n),On(i),i}function _n(t,e,n){var i=Nn(t,t.renderer,null,null,e);return An(i,n,n),On(i),i}function Nn(t,e,n,i,r){var o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s}}function An(t,e,n){t.component=e,t.context=n}function On(t){var e;if(Yt(t)){var n=t.parentNodeDef;e=St(t.parent,n.parent.index).renderElement}for(var i=t.def,r=t.nodes,o=0;o<i.nodes.length;o++){var s=i.nodes[o];hs.setCurrentNode(t,o);var a=void 0;switch(201347067&s.flags){case 1:var u=pe(t,e,s),h=void 0;if(33554432&s.flags){var l=te(s.element.componentView),c=s.element.componentRendererType,f=void 0;f=c?t.root.rendererFactory.createRenderer(u,c):t.root.renderer,h=Nn(t.root,f,t,s.element.componentProvider,l)}de(t,h,s,u),a={renderElement:u,componentView:h,viewContainer:null,template:s.element.template?Ve(t,s):void 0},16777216&s.flags&&(a.viewContainer=Fe(t,s,a));break;case 2:a=xn(t,e,s);break;case 512:case 1024:case 2048:case 256:var p=Ke(t,s);a={instance:p};break;case 16:var p=We(t,s);a={instance:p};break;case 16384:var p=Je(t,s);if(a={instance:p},32768&s.flags){An(St(t,s.parent.index).componentView,p,p)}break;case 32:case 64:case 128:a=cn(t,s);break;case 67108864:case 134217728:a=yn();break;case 8:Ce(t,e,s),a=void 0}r[o]=a}Hn(t,Ls.CreateViewNodes),Jn(t,201326592,268435456,0)}function jn(t){Dn(t),hs.updateDirectives(t,1),Un(t,Ls.CheckNoChanges),hs.updateRenderer(t,1),Hn(t,Ls.CheckNoChanges),t.state&=-97}function En(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Dn(t),hs.updateDirectives(t,0),Un(t,Ls.CheckAndUpdate),Jn(t,67108864,536870912,0),on(t,2097152|(2&t.state?1048576:0)),hs.updateRenderer(t,0),Hn(t,Ls.CheckAndUpdate),Jn(t,134217728,536870912,0),on(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function Ln(t,e,n,i,r,o,s,a,u,h,l,c,f){return 0===n?Fn(t,e,i,r,o,s,a,u,h,l,c,f):Rn(t,e,i)}function Dn(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=St(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var s=r[o];s.state|=32,Gt(s,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Fn(t,e,n,i,r,o,s,a,u,h,l,c){var f=!1;switch(201347067&e.flags){case 1:f=ve(t,e,n,i,r,o,s,a,u,h,l,c);break;case 2:f=kn(t,e,n,i,r,o,s,a,u,h,l,c);break;case 16384:f=Qe(t,e,n,i,r,o,s,a,u,h,l,c);break;case 32:case 64:case 128:f=fn(t,e,n,i,r,o,s,a,u,h,l,c)}return f}function Rn(t,e,n){var i=!1;switch(201347067&e.flags){case 1:i=ge(t,e,n);break;case 2:i=Pn(t,e,n);break;case 16384:i=Ze(t,e,n);break;case 32:case 64:case 128:i=pn(t,e,n)}if(i)for(var r=e.bindings.length,o=e.bindingIndex,s=t.oldValues,a=0;a<r;a++)s[o+a]=n[a];return i}function Vn(t,e,n,i,r,o,s,a,u,h,l,c,f){return 0===n?In(t,e,i,r,o,s,a,u,h,l,c,f):Bn(t,e,i),!1}function In(t,e,n,i,r,o,s,a,u,h,l,c){var f=e.bindings.length;f>0&&qt(t,e,0,n),f>1&&qt(t,e,1,i),f>2&&qt(t,e,2,r),f>3&&qt(t,e,3,o),f>4&&qt(t,e,4,s),f>5&&qt(t,e,5,a),f>6&&qt(t,e,6,u),f>7&&qt(t,e,7,h),f>8&&qt(t,e,8,l),f>9&&qt(t,e,9,c)}function Bn(t,e,n){for(var i=0;i<n.length;i++)qt(t,e,i,n[i])}function qn(t,e){if(_t(t,e.index).dirty)throw Nt(hs.createDebugContext(t,e.index),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function zn(t){if(!(128&t.state)){if(Un(t,Ls.Destroy),Hn(t,Ls.Destroy),on(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();Ne(t),t.renderer.destroyNode&&Gn(t),Yt(t)&&t.renderer.destroy(),t.state|=128}}function Gn(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(St(t,n).renderElement):2&i.flags&&t.renderer.destroyNode(Ct(t,n).renderText)}}function Hn(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?Kn(St(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function Un(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=St(t,i).viewContainer._embeddedViews,s=0;s<o.length;s++)Kn(o[s],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function Kn(t,e){var n=t.state;switch(e){case Ls.CheckNoChanges:0==(128&n)&&(12==(12&n)?jn(t):64&n&&Wn(t,Ls.CheckNoChangesProjectedViews));break;case Ls.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?jn(t):64&n&&Wn(t,e));break;case Ls.CheckAndUpdate:0==(128&n)&&(12==(12&n)?En(t):64&n&&Wn(t,Ls.CheckAndUpdateProjectedViews));break;case Ls.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?En(t):64&n&&Wn(t,e));break;case Ls.Destroy:zn(t);break;case Ls.CreateViewNodes:On(t)}}function Wn(t,e){Un(t,e),Hn(t,e)}function Jn(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(hs.setCurrentNode(t,s.index),i){case 0:gn(t,s);break;case 1:qn(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}function Yn(){if(!Ds){Ds=!0;var t=nt()?Zn():Qn();hs.setCurrentNode=t.setCurrentNode,hs.createRootView=t.createRootView,hs.createEmbeddedView=t.createEmbeddedView,hs.checkAndUpdateView=t.checkAndUpdateView,hs.checkNoChangesView=t.checkNoChangesView,hs.destroyView=t.destroyView,hs.resolveDep=en,hs.createDebugContext=t.createDebugContext,hs.handleEvent=t.handleEvent,hs.updateDirectives=t.updateDirectives,hs.updateRenderer=t.updateRenderer,hs.dirtyParentQueries=vn}}function Qn(){return{setCurrentNode:function(){},createRootView:Xn,createEmbeddedView:Mn,checkAndUpdateView:En,checkNoChangesView:jn,destroyView:zn,createDebugContext:function(t,e){return new qs(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?ei:ni,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?ei:ni,t)}}}function Zn(){return{setCurrentNode:ai,createRootView:$n,createEmbeddedView:ii,checkAndUpdateView:ri,checkNoChangesView:oi,destroyView:si,createDebugContext:function(t,e){return new qs(t,e)},handleEvent:ui,updateDirectives:hi,updateRenderer:li}}function Xn(t,e,n,i,r,o){return _n(ti(t,r,r.injector.get(Po),e,n),i,o)}function $n(t,e,n,i,r,o){var s=r.injector.get(Po),a=ti(t,r,new zs(s),e,n);return xi(Fs.create,_n,null,[a,i,o])}function ti(t,e,n,i,r){var o=e.injector.get(us),s=e.injector.get(vr);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function ei(t,e,n,i,r,o,s,a,u,h,l,c,f){var p=t.def.nodes[e];return Ln(t,p,n,i,r,o,s,a,u,h,l,c,f),224&p.flags?Mt(t,e).value:void 0}function ni(t,e,n,i,r,o,s,a,u,h,l,c,f){var p=t.def.nodes[e];return Vn(t,p,n,i,r,o,s,a,u,h,l,c,f),224&p.flags?Mt(t,e).value:void 0}function ii(t,e,n){return xi(Fs.create,Mn,null,[t,e,n])}function ri(t){return xi(Fs.detectChanges,En,null,[t])}function oi(t){return xi(Fs.checkNoChanges,jn,null,[t])}function si(t){return xi(Fs.destroy,zn,null,[t])}function ai(t,e){Vs=t,Is=e}function ui(t,e,n,i){return ai(t,e),xi(Fs.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function hi(t,e){function n(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?ci(t,s,i,r):fi(t,s,i,r),16384&s.flags&&ai(t,vi(t,n)),224&s.flags?Mt(t,s.index).value:void 0}if(128&t.state)throw Lt(Fs[Rs]);return ai(t,vi(t,0)),t.def.updateDirectives(n,t)}function li(t,e){function n(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?ci(t,s,i,r):fi(t,s,i,r),3&s.flags&&ai(t,gi(t,n)),224&s.flags?Mt(t,s.index).value:void 0}if(128&t.state)throw Lt(Fs[Rs]);return ai(t,gi(t,0)),t.def.updateRenderer(n,t)}function ci(t,e,n,i){if(Ln.apply(void 0,[t,e,n].concat(i))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=r[s];8&a.flags&&(o[pi(a.nonMinifiedName)]=yi(u))}var h=e.parent,l=St(t,h.index).renderElement;if(h.element.name)for(var c in o){var u=o[c];null!=u?t.renderer.setAttribute(l,c,u):t.renderer.removeAttribute(l,c)}else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}function fi(t,e,n,i){Vn.apply(void 0,[t,e,n].concat(i))}function pi(t){return"ng-reflect-"+(t=di(t.replace(/[$@]/g,"_")))}function di(t){return t.replace(Bs,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}function yi(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function vi(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function gi(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}function mi(t,e){for(var n=-1,i=0;i<=e;i++){3&t.nodes[i].flags&&n++}return n}function bi(t){for(;t&&!Yt(t);)t=t.parent;return t.parent?St(t.parent,Kt(t).index):null}function wi(t,e,n){for(var i in e.references)n[i]=bn(t,e,e.references[i])}function xi(t,e,n,i){var r=Rs,o=Vs,s=Is;try{Rs=t;var a=e.apply(n,i);return Vs=o,Is=s,Rs=r,a}catch(t){if(Et(t)||!Vs)throw t;throw At(t,ki())}}function ki(){return Vs?new qs(Vs,Is):null}function Pi(){return es}function Ci(){return ns}function Si(t){return t||"en-US"}function Ti(){Yn()}var Mi=n("bKpL"),_i=(n.n(Mi),n("LEug")),Ni=(n.n(_i),n("CE6k")),Ai=(n.n(Ni),n("rlar"));n.n(Ai);n.d(e,"t",function(){return wo}),n.d(e,"a",function(){return et}),n.d(e,"Z",function(){return nt}),n.d(e,"_32",function(){return rt}),n.d(e,"r",function(){return go}),n.d(e,"v",function(){return Fr}),n.d(e,"_31",function(){return Vr}),n.d(e,"_30",function(){return Ir}),n.d(e,"A",function(){return Br}),n.d(e,"s",function(){return Lr}),n.d(e,"j",function(){return Dr}),n.d(e,"_26",function(){return pt}),n.d(e,"h",function(){return uo}),n.d(e,"_25",function(){return tt}),n.d(e,"c",function(){return os}),n.d(e,"m",function(){return Hs}),n.d(e,"N",function(){return so}),n.d(e,"q",function(){return vr}),n.d(e,"y",function(){return us}),n.d(e,"_29",function(){return as}),n.d(e,"_38",function(){return qi}),n.d(e,"_1",function(){return zi}),n.d(e,"_36",function(){return Hi}),n.d(e,"T",function(){return Wi}),n.d(e,"_35",function(){return Zi}),n.d(e,"_34",function(){return Xi}),n.d(e,"W",function(){return Yi}),n.d(e,"_23",function(){return Qi}),n.d(e,"_5",function(){return Ji}),n.d(e,"_7",function(){return $i}),n.d(e,"_27",function(){return tr}),n.d(e,"_8",function(){return er}),n.d(e,"_18",function(){return d}),n.d(e,"_19",function(){return fr}),n.d(e,"_37",function(){return Or}),n.d(e,"M",function(){return Ei}),n.d(e,"_39",function(){return ji}),n.d(e,"Q",function(){return ir}),n.d(e,"P",function(){return rr}),n.d(e,"O",function(){return or}),n.d(e,"_21",function(){return sr}),n.d(e,"_22",function(){return ar}),n.d(e,"_0",function(){return ur}),n.d(e,"g",function(){return ao}),n.d(e,"V",function(){return ko}),n.d(e,"z",function(){return Po}),n.d(e,"_28",function(){return Co}),n.d(e,"n",function(){return zr}),n.d(e,"Y",function(){return Jr}),n.d(e,"U",function(){return To}),n.d(e,"C",function(){return to}),n.d(e,"X",function(){return $r}),n.d(e,"u",function(){return Mo}),n.d(e,"o",function(){return Oo}),n.d(e,"p",function(){return No}),n.d(e,"K",function(){return jo}),n.d(e,"J",function(){return Eo}),n.d(e,"_6",function(){return Lo}),n.d(e,"w",function(){return Zo}),n.d(e,"x",function(){return Xo}),n.d(e,"_2",function(){return Bo}),n.d(e,"_33",function(){return rs}),n.d(e,"R",function(){return gt}),n.d(e,"l",function(){return qr}),n.d(e,"_24",function(){return Ri}),n.d(e,"_20",function(){return o}),n.d(e,"S",function(){return s}),n.d(e,"_4",function(){return K}),n.d(e,"_3",function(){return U}),n.d(e,"B",function(){return no}),n.d(e,"I",function(){return ce}),n.d(e,"L",function(){return De}),n.d(e,"D",function(){return Rt}),n.d(e,"G",function(){return ze}),n.d(e,"F",function(){return fe}),n.d(e,"_10",function(){return he}),n.d(e,"_17",function(){return Pe}),n.d(e,"_13",function(){return Be}),n.d(e,"_14",function(){return Ge}),n.d(e,"_11",function(){return He}),n.d(e,"_9",function(){return hn}),n.d(e,"_15",function(){return un}),n.d(e,"_12",function(){return dn}),n.d(e,"H",function(){return wn}),n.d(e,"_16",function(){return Ft}),n.d(e,"E",function(){return Sn}),n.d(e,"i",function(){return Ti}),n.d(e,"e",function(){return Pi}),n.d(e,"f",function(){return Ci}),n.d(e,"b",function(){return Si}),n.d(e,"k",function(){return xo}),n.d(e,"d",function(){return W});var Oi=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ji=function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}(),Ei=function(t){function e(e){return t.call(this,e)||this}return Oi(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(ji),Li="undefined"!=typeof window&&window,Di="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fi=void 0!==t&&t,Ri=Li||Fi||Di,Vi=null,Ii=0,Bi=Ri.Reflect,qi=new Ei("AnalyzeForEntryComponents"),zi=f("Attribute",[["attributeName",void 0]]),Gi=function(){function t(){}return t}(),Hi=p("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],Gi),Ui=(p("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],Gi),p("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],Gi),p("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],Gi),{});Ui.OnPush=0,Ui.Default=1,Ui[Ui.OnPush]="OnPush",Ui[Ui.Default]="Default";var Ki={};Ki.CheckOnce=0,Ki.Checked=1,Ki.CheckAlways=2,Ki.Detached=3,Ki.Errored=4,Ki.Destroyed=5,Ki[Ki.CheckOnce]="CheckOnce",Ki[Ki.Checked]="Checked",Ki[Ki.CheckAlways]="CheckAlways",Ki[Ki.Detached]="Detached",Ki[Ki.Errored]="Errored",Ki[Ki.Destroyed]="Destroyed";var Wi=l("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),Ji=(l("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:Ui.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},Wi),l("Pipe",{name:void 0,pure:!0})),Yi=p("Input",[["bindingPropertyName",void 0]]),Qi=p("Output",[["bindingPropertyName",void 0]]),Zi=p("HostBinding",[["hostPropertyName",void 0]]),Xi=p("HostListener",[["eventName",void 0],["args",[]]]),$i=l("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0}),tr={};tr.Emulated=0,tr.Native=1,tr.None=2,tr[tr.Emulated]="Emulated",tr[tr.Native]="Native",tr[tr.None]="None";var er=(function(){function t(t){var e=void 0===t?{}:t,n=e.templateUrl,i=e.template,r=e.encapsulation,o=e.styles,s=e.styleUrls,a=e.animations,u=e.interpolation;this.templateUrl=n,this.template=i,this.styleUrls=s,this.styles=o,this.encapsulation=r,this.animations=a,this.interpolation=u}}(),function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}()),nr=new er("4.1.3"),ir=f("Inject",[["token",void 0]]),rr=f("Optional",[]),or=l("Injectable",[]),sr=f("Self",[]),ar=f("SkipSelf",[]),ur=f("Host",[]),hr=new Object,lr=hr,cr=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=hr),e===hr)throw new Error("No provider for "+s(t)+"!");return e},t}(),fr=function(){function t(){}return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();fr.THROW_IF_NOT_FOUND=hr,fr.NULL=new cr;var pr="ngDebugContext",dr="ngOriginalError",yr="ngErrorLogger",vr=function(){function t(t){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=m(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?v(t)?v(t):this._findContext(g(t)):null},t.prototype._findOriginalError=function(t){for(var e=g(t);e&&g(e);)e=g(e);return e},t}(),gr=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return s(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return br.get(y(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return br.numberOfKeys},enumerable:!0,configurable:!0}),t}(),mr=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof gr)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new gr(t,gr.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),br=new mr,wr=Function,xr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,kr=function(){function t(t){this._reflect=t||Ri.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var i=0;i<n.length;i++)void 0===t?n[i]=[]:t[i]!=Object?n[i]=[t[i]]:n[i]=[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n},t.prototype._ownParameters=function(t,e){if(xr.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var i="function"==typeof n?n():n,r=i.map(function(t){return t&&t.type}),o=i.map(function(t){return t&&E(t.decorators)});return this._zipTypesAndAnnotations(r,o)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var o=this._reflect.getOwnMetadata("parameters",t),r=this._reflect.getOwnMetadata("design:paramtypes",t);if(r||o)return this._zipTypesAndAnnotations(r,o)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!j(t))return[];var e=L(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?E(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!j(t))return[];var e=L(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var i=t.propDecorators,r={};return Object.keys(i).forEach(function(t){r[t]=E(i[t])}),r}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!j(t))return{};var e=L(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,r[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof wr&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+s(t)},t.prototype.resourceUri=function(t){return"./"+s(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return i},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),Pr=function(){function t(){}return t.prototype.parameters=function(t){},t.prototype.annotations=function(t){},t.prototype.propMetadata=function(t){},t.prototype.importUri=function(t){},t.prototype.resourceUri=function(t){},t.prototype.resolveIdentifier=function(t,e,n,i){},t.prototype.resolveEnum=function(t,e){},t}(),Cr=function(t){function e(e){var n=t.call(this)||this;return n.reflectionCapabilities=e,n}return Oi(e,t),e.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},e.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},e.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},e.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this.reflectionCapabilities.method(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},e.prototype.resolveIdentifier=function(t,e,n,i){return this.reflectionCapabilities.resolveIdentifier(t,e,n,i)},e.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},e}(Pr),Sr=new Cr(new kr),Tr=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Mr=[],_r=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Nr=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),Ar=new Object,Or=function(){function t(){}return t.resolve=function(t){return R(t)},t.resolveAndCreate=function(e,n){var i=t.resolve(e);return t.fromResolvedProviders(i,n)},t.fromResolvedProviders=function(t,e){return new jr(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),jr=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var i=0;i<n;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=Ar}return t.prototype.get=function(t,e){return void 0===e&&(e=lr),this._getByKey(gr.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=Or.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Or.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw A(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw T(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i=this,r=e.factory;try{n=e.dependencies.map(function(t){return i._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var o;try{o=r.apply(void 0,n)}catch(e){throw M(this,e,e.stack,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:lr)},t.prototype._getByKey=function(t,e,n){return t===Er?this:e instanceof sr?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ar&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ar},t.prototype._throwOrNull=function(t,e){if(e!==lr)return e;throw S(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Ar?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,i){var r;for(r=i instanceof ar?this._parent:this;r instanceof t;){var o=r,s=o._getObjByKeyId(e.id);if(s!==Ar)return s;r=o._parent}return null!==r?r.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+H(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),Er=gr.get(fr),Lr=new Ei("Application Initializer"),Dr=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this._done=!1,this._donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t._done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();U(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();Dr.decorators=[{type:or}],Dr.ctorParameters=function(){return[{type:Array,decorators:[{type:ir,args:[Lr]},{type:rr}]}]};var Fr=new Ei("AppId"),Rr={provide:Fr,useFactory:W,deps:[]},Vr=new Ei("Platform Initializer"),Ir=new Ei("Platform ID"),Br=new Ei("appBootstrapListener"),qr=(new Ei("Application Packages Root URL"),function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}());qr.decorators=[{type:or}],qr.ctorParameters=function(){return[]};var zr=(function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}}(),function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Y()},t.prototype.compileModuleAsync=function(t){throw Y()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Y()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Y()},t.prototype.getNgContentSelectors=function(t){throw Y()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}());zr.decorators=[{type:or}],zr.ctorParameters=function(){return[]};var Gr=(new Ei("compilerOptions"),function(){function t(){}return t.prototype.createCompiler=function(t){},t}()),Hr=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Ur=function(){function t(){}return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,i){},t}(),Kr="ngComponent",Wr=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Q(t)},t}(),Jr=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t}();Jr.NULL=new Wr;var Yr,Qr,Zr=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var r=t[i];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t)||this._parent.resolveComponentFactory(t);return new Xr(e,this._ngModule)},t}(),Xr=function(t){function e(e,n){var i=t.call(this)||this;return i.factory=e,i.ngModule=n,i}return Oi(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}(Ur),$r=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),to=function(){function t(t,e){this._injectorClass=t,this._moduleType=e}return Object.defineProperty(t.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),t.prototype.create=function(t){var e=new this._injectorClass(t||fr.NULL);return e.create(),e},t}(),eo=new Object,no=function(){function t(t,e,n){var i=this;this.parent=t,this._destroyListeners=[],this._destroyed=!1,this.bootstrapFactories=n.map(function(t){return new Xr(t,i)}),this._cmpFactoryResolver=new Zr(e,t.get(Jr,Jr.NULL),this)}return t.prototype.create=function(){this.instance=this.createInternal()},t.prototype.createInternal=function(){},t.prototype.get=function(t,e){if(void 0===e&&(e=lr),t===fr||t===$r)return this;if(t===Jr)return this._cmpFactoryResolver;var n=this.getInternal(t,eo);return n===eo?this.parent.get(t,e):n},t.prototype.getInternal=function(t,e){},Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this._cmpFactoryResolver},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t.prototype.destroyInternal=function(){},t}(),io=function(){var t=Ri.wtf;return!(!t||!(Yr=t.trace))&&(Qr=Yr.events,!0)}(),ro=io?Z:function(t,e){return $},oo=io?X:function(t,e){return e},so=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Oi(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var r,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()})),t.prototype.subscribe.call(this,r,o,s)},e}(Ai.Subject),ao=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new so(!1),this._onMicrotaskEmpty=new so(!1),this._onStable=new so(!1),this._onErrorEvents=new so(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this.inner.run(t)},t.prototype.runGuarded=function(t){return this.inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this.outer.run(t)},Object.defineProperty(t.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),t.prototype.checkStable=function(){var t=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return t._onStable.emit(null)})}finally{this._isStable=!0}}},t.prototype.forkInnerZoneWithAngularBehavior=function(){var t=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,i,r,o,s){try{return t.onEnter(),e.invokeTask(i,r,o,s)}finally{t.onLeave()}},onInvoke:function(e,n,i,r,o,s,a){try{return t.onEnter(),e.invoke(i,r,o,s,a)}finally{t.onLeave()}},onHasTask:function(e,n,i,r){e.hasTask(i,r),n===i&&("microTask"==r.change?t.setHasMicrotask(r.microTask):"macroTask"==r.change&&t.setHasMacrotask(r.macroTask))},onHandleError:function(e,n,i,r){return e.handleError(i,r),t.triggerError(r),!1}})},t.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},t.prototype.onLeave=function(){this._nesting--,this.checkStable()},t.prototype.setHasMicrotask=function(t){this._hasPendingMicrotasks=t,this.checkStable()},t.prototype.setHasMacrotask=function(t){this._hasPendingMacrotasks=t},t.prototype.triggerError=function(t){this._onErrorEvents.emit(t)},t}(),uo=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){ao.assertNotInAngularZone(),r(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?r(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t}();uo.decorators=[{type:or}],uo.ctorParameters=function(){return[{type:ao}]};var ho=function(){function t(){this._applications=new Map,fo.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),fo.findTestabilityInTree(this,t,e)},t}();ho.decorators=[{type:or}],ho.ctorParameters=function(){return[]};var lo,co=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),fo=new co,po=!0,yo=!1,vo=new Ei("AllowMultipleToken"),go=function(){function t(t,e){this.name=t,this.token=e}return t}(),mo=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),bo=function(t){function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return Oi(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new ao({enableLongStackTrace:nt()})),e.run(function(){var i=Or.resolveAndCreate([{provide:ao,useValue:e}],n.injector),r=t.create(i),o=r.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(function(){return ut(n._modules,r)}),e.onError.subscribe({next:function(t){o.handleError(t)}}),at(o,function(){var t=r.injector.get(Dr);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(r),r})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var i=this;return void 0===e&&(e=[]),this.injector.get(Gr).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return i._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(wo);if(t.bootstrapFactories.length>0)t.bootstrapFactories.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}(mo);bo.decorators=[{type:or}],bo.ctorParameters=function(){return[{type:fr}]};var wo=function(){function t(){}return t.prototype.bootstrap=function(t){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),xo=function(t){function e(e,i,o,s,a,u){var h=t.call(this)||this;h._zone=e,h._console=i,h._injector=o,h._exceptionHandler=s,h._componentFactoryResolver=a,h._initStatus=u,h._bootstrapListeners=[],h._rootComponents=[],h._rootComponentTypes=[],h._views=[],h._runningTick=!1,h._enforceNoNewChanges=!1,h._stable=!0,h._enforceNoNewChanges=nt(),h._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var l=new Mi.Observable(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),c=new Mi.Observable(function(t){var e=h._zone.onStable.subscribe(function(){ao.assertNotInAngularZone(),r(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})}),n=h._zone.onUnstable.subscribe(function(){ao.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return h._isStable=n.i(_i.merge)(l,Ni.share.call(c)),h}return Oi(e,t),e.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t;ut(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t){var e=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var n;n=t instanceof Ur?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(n.componentType);var i=n instanceof Xr?null:this._injector.get($r),r=n.create(fr.NULL,[],n.selector,i);r.onDestroy(function(){e._unloadComponent(r)});var o=r.injector.get(uo,null);return o&&r.injector.get(ho).registerApplication(r.location.nativeElement,o),this._loadComponent(r),nt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(Br,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),ut(this._rootComponents,t)},e.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var t=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._exceptionHandler.handleError(t)}finally{this._runningTick=!1,oo(t)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(wo);xo._tickScope=ro("ApplicationRef#tick()"),xo.decorators=[{type:or}],xo.ctorParameters=function(){return[{type:ao},{type:qr},{type:fr},{type:vr},{type:Jr},{type:Dr}]};var ko=(function(){function t(t,e,n,i,r,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=i,this.styles=r,this.animations=o}}(),function(){function t(){}t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){}}(),function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,i,r,o,s){},t}()),Po=(new Ei("Renderer2Interceptor"),function(){function t(){}t.prototype.renderComponent=function(t){}}(),function(){function t(){}return t.prototype.createRenderer=function(t,e){},t}()),Co={};Co.Important=1,Co.DashCase=2,Co[Co.Important]="Important",Co[Co.DashCase]="DashCase";var So=function(){function t(){}return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,i){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,i){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),To=function(){function t(t){this.nativeElement=t}return t}(),Mo=function(){function t(){}return t.prototype.load=function(t){},t}(),_o=(new Map,function(){function t(){this._dirty=!0,this._results=[],this._emitter=new so}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[i()]=function(){return this._results[i()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=ht(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}()),No=function(){function t(){}return t}(),Ao={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Oo=function(){function t(t,e){this._compiler=t,this._config=e||Ao}return t.prototype.load=function(t){return this._compiler instanceof zr?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=t.split("#"),r=i[0],o=i[1];return void 0===o&&(o="default"),n("qtrl")(r).then(function(t){return t[o]}).then(function(t){return lt(t,r,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("qtrl")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return lt(t,i,r)})},t}();Oo.decorators=[{type:or}],Oo.ctorParameters=function(){return[{type:zr},{type:No,decorators:[{type:rr}]}]};var jo=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),Eo=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,i,r){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),Lo=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(Lo),Fo=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Oi(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){}}(Do),function(){function t(t,e){this.name=t,this.callback=e}return t}()),Ro=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Vo?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),Vo=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return Oi(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,i=this.childNodes.indexOf(t);-1!==i&&((r=this.childNodes).splice.apply(r,[i+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var r},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ct(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return ft(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Ro),Io=new Map,Bo=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),qo=(function(){function t(){this.hasWrappedValue=!1}t.prototype.unwrap=function(t){return t instanceof Bo?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1}}(),function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}()),zo=function(){function t(){}return t.prototype.supports=function(t){return gt(t)},t.prototype.create=function(t,e){return new Ho(e||t)},t}(),Go=function(t,e){return e},Ho=function(){function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Go}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<xt(n,i,r)?e:n,s=xt(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var u=s-i,h=a-i;if(u!=h){for(var l=0;l<u;l++){var c=l<r.length?r[l]:r[l]=0,f=c+l;h<=f&&f<u&&(r[l]=c+1)}var p=o.previousIndex;r[p]=h-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!gt(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,r,s=this._itHead,a=!1;if(Array.isArray(t)){this._length=t.length;for(var u=0;u<this._length;u++)i=t[u],r=this._trackByFn(u,i),null!==s&&o(s.trackById,r)?(a&&(s=this._verifyReinsertion(s,i,r,u)),o(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,r,u),a=!0),s=s._next}else n=0,bt(t,function(t){r=e._trackByFn(n,t),null!==s&&o(s.trackById,r)?(a&&(s=e._verifyReinsertion(s,t,r,n)),o(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,r,n),a=!0),s=s._next,n++}),this._length=n;return this._truncate(s),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,i),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Uo(e,n),r,i)),t},t.prototype._verifyReinsertion=function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Wo),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var i=[];this.forEachMovedItem(function(t){return i.push(t)});var r=[];this.forEachRemovedItem(function(t){return r.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+i.join(", ")+"\nremovals: "+r.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),Uo=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?s(this.item):s(this.item)+"["+s(this.previousIndex)+"->"+s(this.currentIndex)+"]"},t}(),Ko=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<n.currentIndex)&&o(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Wo=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ko,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,i=this.map.get(n);return i?i.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+s(this.map)+")"},t}(),Jo=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||wt(t)},t.prototype.create=function(t){return new Yo},t}(),Yo=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||wt(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Qo(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){o(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype.toString=function(){var t=[],e=[],n=[],i=[],r=[];return this.forEachItem(function(e){return t.push(s(e))}),this.forEachPreviousItem(function(t){return e.push(s(t))}),this.forEachChangedItem(function(t){return n.push(s(t))}),this.forEachAddedItem(function(t){return i.push(s(t))}),this.forEachRemovedItem(function(t){return r.push(s(t))}),"map: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+n.join(", ")+"\nremovals: "+r.join(", ")+"\n"},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Qo=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}return t.prototype.toString=function(){return o(this.previousValue,this.currentValue)?s(this.key):s(this.key)+"["+s(this.previousValue)+"->"+s(this.currentValue)+"]"},t}(),Zo=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();return e=e.concat(i),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ar,new rr]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+kt(t)+"'")},t}(),Xo=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ar,new rr]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),$o=[new Jo],ts=[new zo],es=new Zo(ts),ns=new Xo($o),is=[{provide:Ir,useValue:"unknown"},bo,{provide:mo,useExisting:bo},{provide:Cr,useFactory:Pt,deps:[]},{provide:Pr,useExisting:Cr},ho,qr],rs=rt(null,"core",is),os=new Ei("LocaleId"),ss=(new Ei("Translations"),new Ei("TranslationsFormat"),{});ss.Error=0,ss.Warning=1,ss.Ignore=2,ss[ss.Error]="Error",ss[ss.Warning]="Warning",ss[ss.Ignore]="Ignore";var as={};as.NONE=0,as.HTML=1,as.STYLE=2,as.SCRIPT=3,as.URL=4,as.RESOURCE_URL=5,as[as.NONE]="NONE",as[as.HTML]="HTML",as[as.STYLE]="STYLE",as[as.SCRIPT]="SCRIPT",as[as.URL]="URL",as[as.RESOURCE_URL]="RESOURCE_URL";var us=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}(),hs=(function(){function t(){}t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]}}(),{setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0}),ls=function(){},cs=new Map,fs="$$undefined",ps="$$empty",ds=0,ys=new WeakMap,vs=/^:([^:]+):(.+)$/,gs=new Object,ms=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=r,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=i,a}return Oi(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){var i=e[n];t.push({propName:n,templateName:i})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=te(this.viewDefFactory),o=r.nodes[0].element.componentProvider.index,s=hs.createRootView(t,e||[],n,r,i,gs),a=Tt(s,o).instance;return n&&s.renderer.setAttribute(St(s,0).renderElement,"ng-version",nr.full),new bs(s,new xs(s),a)},e}(Ur),bs=function(t){function e(e,n,i){var r=t.call(this)||this;return r._view=e,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r}return Oi(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new To(St(this._view,this._elDef.index).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ps(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Hr),ws=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new To(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Ps(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Kt(t),t=t.parent;return t?new Ps(t,e):new Ps(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length,e=t-1;e>=0;e--){var n=_e(this._data,e);hs.destroyView(n)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new xs(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof Xr||(r=o.get($r));var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){var n=t,i=n._view;return Se(this._view,this._data,e,i),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){var n=this._embeddedViews.indexOf(t._view);return Ae(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=_e(this._data,t);e&&hs.destroyView(e)},t.prototype.detach=function(t){var e=_e(this._data,t);return e?new xs(e):null},t}(),xs=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ee(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){zt(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){hs.checkAndUpdateView(this._view)},t.prototype.checkNoChanges=function(){hs.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),hs.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,je(this._view),hs.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),ks=function(t){function e(e,n){var i=t.call(this)||this;return i._parentView=e,i._def=n,i}return Oi(e,t),e.prototype.createEmbeddedView=function(t){return new xs(hs.createEmbeddedView(this._parentView,this._def,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new To(St(this._parentView,this._def.index).renderElement)},enumerable:!0,configurable:!0}),e}(jo),Ps=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=fr.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return hs.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:Dt(t)},e)},t}(),Cs=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=ae(e),i=n[0],r=n[1],o=this.delegate.createElement(r,i);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=ae(e),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Ss=Dt(ko),Ts=Dt(So),Ms=Dt(To),_s=Dt(Eo),Ns=Dt(jo),As=Dt(Lo),Os=Dt(fr),js=new Object,Es={},Ls={};Ls.CreateViewNodes=0,Ls.CheckNoChanges=1,Ls.CheckNoChangesProjectedViews=2,Ls.CheckAndUpdate=3,Ls.CheckAndUpdateProjectedViews=4,Ls.Destroy=5,Ls[Ls.CreateViewNodes]="CreateViewNodes",Ls[Ls.CheckNoChanges]="CheckNoChanges",Ls[Ls.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",Ls[Ls.CheckAndUpdate]="CheckAndUpdate",Ls[Ls.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",Ls[Ls.Destroy]="Destroy";var Ds=!1,Fs={};Fs.create=0,Fs.detectChanges=1,Fs.checkNoChanges=2,Fs.destroy=3,Fs.handleEvent=4,Fs[Fs.create]="create",Fs[Fs.detectChanges]="detectChanges",Fs[Fs.checkNoChanges]="checkNoChanges",Fs[Fs.destroy]="destroy",Fs[Fs.handleEvent]="handleEvent";var Rs,Vs,Is,Bs=/([A-Z])/g,qs=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Kt(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return St(this.elView,this.elDef.index).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ie(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){wi(this.elView,this.elDef,t);for(var e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&wi(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=bi(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Wt(this.view,this.nodeDef):Wt(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r;2&this.nodeDef.flags?(i=this.view.def,r=this.nodeDef.index):(i=this.elView.def,r=this.elDef.index);var o=mi(i,r),s=-1,a=function(){return s++,s===o?(n=t.error).bind.apply(n,[t].concat(e)):ls;var n};i.factory(a),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),zs=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Gs(this.delegate.createRenderer(t,e))},t}(),Gs=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){yt(pt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=ki();if(i){var r=new Vo(n,null,i);r.name=t,dt(r)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=ki();return n&&dt(new Ro(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=ki();return n&&dt(new Ro(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=pt(t),i=pt(e);n&&i&&n instanceof Vo&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=pt(t),r=pt(e),o=pt(n);i&&r&&i instanceof Vo&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=pt(t),i=pt(e);n&&i&&n instanceof Vo&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=ki();return n&&dt(new Vo(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,i){var r=pt(t);if(r&&r instanceof Vo){var o=i?i+":"+e:e;r.attributes[o]=n}this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=pt(t);if(i&&i instanceof Vo){var r=n?n+":"+e:e;i.attributes[r]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=pt(t);n&&n instanceof Vo&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=pt(t);n&&n instanceof Vo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var r=pt(t);r&&r instanceof Vo&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=pt(t);i&&i instanceof Vo&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=pt(t);i&&i instanceof Vo&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=pt(t);i&&i.listeners.push(new Fo(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),Hs=function(){function t(t){}return t}();Hs.decorators=[{type:$i,args:[{providers:[xo,{provide:wo,useExisting:xo},Dr,zr,Rr,{provide:Zo,useFactory:Pi},{provide:Xo,useFactory:Ci},{provide:os,useFactory:Si,deps:[[new ir(os),new rr,new ar]]},{provide:Lr,useValue:Ti,multi:!0}]}]}],Hs.ctorParameters=function(){return[{type:wo}]};var Us={};Us.OnInit=0,Us.OnDestroy=1,Us.DoCheck=2,Us.OnChanges=3,Us.AfterContentInit=4,Us.AfterContentChecked=5,Us.AfterViewInit=6,Us.AfterViewChecked=7,Us[Us.OnInit]="OnInit",Us[Us.OnDestroy]="OnDestroy",Us[Us.DoCheck]="DoCheck",Us[Us.OnChanges]="OnChanges",Us[Us.AfterContentInit]="AfterContentInit",Us[Us.AfterContentChecked]="AfterContentChecked",Us[Us.AfterViewInit]="AfterViewInit",Us[Us.AfterViewChecked]="AfterViewChecked";Us.OnInit,Us.OnDestroy,Us.DoCheck,Us.OnChanges,Us.AfterContentInit,Us.AfterContentChecked,Us.AfterViewInit,Us.AfterViewChecked}).call(e,n("fRUx"))},"/zHi":function(t,e,n){"use strict";var i=n("bKpL"),r=n("+zVg");i.Observable.of=r.of},"1eQ7":function(t,e,n){"use strict";function i(t,e,n){return this.lift(new a(t,e,n,this))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("TpsG");e.first=i;var a=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},"2B7B":function(t,e,n){"use strict";function i(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var i=t.Map;if(i)for(var r=Object.getOwnPropertyNames(i.prototype),o=0;o<r.length;++o){var s=r[o];if("entries"!==s&&"size"!==s&&i.prototype[s]===i.prototype.entries)return s}return"@@iterator"}var r=n("zijX");e.symbolIteratorPonyfill=i,e.iterator=i(r.root),e.$$iterator=e.iterator},"3lsR":function(t,e,n){"use strict";var i=n("bKpL"),r=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return i.Observable.of(this.value);case"E":return i.Observable.throw(this.error);case"C":return i.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=r},"422b":function(t,e,n){"use strict";function i(t,e){return this.lift(new s(t,e))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.filter=i;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,i){t.call(this,e),this.predicate=n,this.thisArg=i,this.count=0,this.predicate=n}return r(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},"4Fry":function(t,e,n){"use strict";var i=n("/oeL");n.d(e,"a",function(){return r});var r=function(){function t(){this.selectTab=new i.N,this.scroll=new i.N}return t.prototype.setSelectTab=function(t){this.selectTab.emit(t)},t.prototype.setScroll=function(t){this.scroll.emit(t)},t}()},"5C9n":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},"5uCp":function(t,e,n){"use strict";var i=n("bKpL"),r=n("Lqs2");i.Observable.prototype.take=r.take},"5v8a":function(t,e,n){"use strict";var i=n("bKpL"),r=n("lx+J");i.Observable.prototype.map=r.map},"6F8O":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},"7JOC":function(t,e,n){"use strict";var i=n("OWbQ");e.from=i.FromObservable.create},"82j9":function(t,e,n){"use strict";var i=n("bKpL"),r=n("nskO");i.Observable.prototype.toPromise=r.toPromise},"9Qcf":function(t,e,n){"use strict";var i=n("/oeL"),r=n("a3e3"),o=n("WDs4"),s=n("Qg/J"),a=n("R08E"),u=n("GxUr"),h=n("D3O6"),l=n("maBJ");n.d(e,"b",function(){return o.a}),n.d(e,"a",function(){return c});var c=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:r.b,useClass:r.a},e.parser||{provide:a.b,useClass:a.a},e.missingTranslationHandler||{provide:s.b,useClass:s.a},l.a,{provide:o.b,useValue:e.isolate},o.a]}},t.forChild=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:r.b,useClass:r.a},e.parser||{provide:a.b,useClass:a.a},e.missingTranslationHandler||{provide:s.b,useClass:s.a},{provide:o.b,useValue:e.isolate},o.a]}},t}();c.decorators=[{type:i._7,args:[{declarations:[h.a,u.a],exports:[h.a,u.a]}]}],c.ctorParameters=function(){return[]}},"9c2v":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},AHF9:function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("3lsR");e.observeOn=i;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var u=function(t){function e(e,n,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=n,this.delay=i}return r(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new h(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var h=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=h},BkNc:function(t,e,n){"use strict";function i(t){return new Ie(t)}function r(t){var e=Error("NavigationCancelingError: "+t);return e[Be]=!0,e}function o(t){return t[Be]}function s(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function a(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];u(i,h(e,i))}}function u(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Ve)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&a(t.children,e)}function h(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function l(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!c(t[n],e[n]))return!1;return!0}function c(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r,o=0;o<n.length;o++)if(r=n[o],t[r]!==e[r])return!1;return!0}function f(t){return Array.prototype.concat.apply([],t)}function p(t){return t.length>0?t[t.length-1]:null}function d(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function y(t,e){if(0===Object.keys(t).length)return n.i(de.of)({});var i=[],r=[],o={};d(t,function(t,n){var s=me.map.call(e(n,t),function(t){return o[n]=t});n===Ve?i.push(s):r.push(s)});var s=Pe.concatAll.call(de.of.apply(void 0,i.concat(r))),a=Te.last.call(s);return me.map.call(a,function(){return o})}function v(t){var e=Me.mergeAll.call(t);return ve.every.call(e,function(t){return!0===t})}function g(t){return n.i(le._4)(t)?t:n.i(le._3)(t)?n.i(Se.fromPromise)(Promise.resolve(t)):n.i(de.of)(t)}function m(){return new ze(new Ge([],{}),{},null)}function b(t,e,n){return n?w(t.queryParams,e.queryParams)&&x(t.root,e.root):k(t.queryParams,e.queryParams)&&P(t.root,e.root)}function w(t,e){return c(t,e)}function x(t,e){if(!T(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!x(t.children[n],e.children[n]))return!1}return!0}function k(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function P(t,e){return C(t,e,e.segments)}function C(t,e,n){if(t.segments.length>n.length){var i=t.segments.slice(0,n.length);return!!T(i,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!T(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!P(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!T(t.segments,i)&&(!!t.children[Ve]&&C(t.children[Ve],e,o))}function S(t,e){return T(t,e)&&t.every(function(t,n){return c(t.parameters,e[n].parameters)})}function T(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function M(t,e){var n=[];return d(t.children,function(t,i){i===Ve&&(n=n.concat(e(t,i)))}),d(t.children,function(t,i){i!==Ve&&(n=n.concat(e(t,i)))}),n}function _(t){return t.segments.map(function(t){return j(t)}).join("/")}function N(t,e){if(!t.hasChildren())return _(t);if(e){var n=t.children[Ve]?N(t.children[Ve],!1):"",i=[];return d(t.children,function(t,e){e!==Ve&&i.push(e+":"+N(t,!1))}),i.length>0?n+"("+i.join("//")+")":n}var r=M(t,function(e,n){return n===Ve?[N(t.children[Ve],!1)]:[n+":"+N(e,!1)]});return _(t)+"/("+r.join("//")+")"}function A(t){return encodeURIComponent(t)}function O(t){return decodeURIComponent(t)}function j(t){return""+A(t.path)+E(t.parameters)}function E(t){return Object.keys(t).map(function(e){return";"+A(e)+"="+A(t[e])}).join("")}function L(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return A(e)+"="+A(t)}).join("&"):A(e)+"="+A(n)});return e.length?"?"+e.join("&"):""}function D(t){var e=t.match(Je);return e?e[0]:""}function F(t){var e=t.match(Ye);return e?e[0]:""}function R(t){var e=t.match(Qe);return e?e[0]:""}function V(t){return new xe.Observable(function(e){return e.error(new $e(t))})}function I(t){return new xe.Observable(function(e){return e.error(new tn(t))})}function B(t){return new xe.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function q(t){return new xe.Observable(function(e){return e.error(r("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function z(t,e,n,i,r){return new en(t,e,n,i,r).apply()}function G(t,e){var i=e.canLoad;return i&&0!==i.length?v(me.map.call(n.i(pe.from)(i),function(n){var i=t.get(n);return g(i.canLoad?i.canLoad(e):i(e))})):n.i(de.of)(!0)}function H(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=e.matcher||s,r=i(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function U(t,e,n,i){if(n.length>0&&Y(t,n,i)){var r=new Ge(e,J(i,new Ge(n,t.children)));return{segmentGroup:K(r),slicedSegments:[]}}if(0===n.length&&Q(t,n,i)){var r=new Ge(t.segments,W(t,n,i,t.children));return{segmentGroup:K(r),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function K(t){if(1===t.numberOfChildren&&t.children[Ve]){var e=t.children[Ve];return new Ge(t.segments.concat(e.segments),e.children)}return t}function W(t,e,n,i){for(var r={},o=0,s=n;o<s.length;o++){var a=s[o];Z(t,e,a)&&!i[X(a)]&&(r[X(a)]=new Ge([],{}))}return Xe({},i,r)}function J(t,e){var n={};n[Ve]=e;for(var i=0,r=t;i<r.length;i++){var o=r[i];""===o.path&&X(o)!==Ve&&(n[X(o)]=new Ge([],{}))}return n}function Y(t,e,n){return n.some(function(n){return Z(t,e,n)&&X(n)!==Ve})}function Q(t,e,n){return n.some(function(n){return Z(t,e,n)})}function Z(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function X(t){return t.outlet||Ve}function $(t,e){if(t===e.value)return e;for(var n=0,i=e.children;n<i.length;n++){var r=i[n],o=$(t,r);if(o)return o}return null}function tt(t,e,n){if(n.push(e),t===e.value)return n;for(var i=0,r=e.children;i<r.length;i++){var o=r[i],s=n.slice(0),a=tt(t,o,s);if(a.length>0)return a}return[]}function et(t,e){var n=nt(t,e),i=new ce.BehaviorSubject([new He("",{})]),r=new ce.BehaviorSubject({}),o=new ce.BehaviorSubject({}),s=new ce.BehaviorSubject({}),a=new ce.BehaviorSubject(""),u=new an(i,r,s,a,o,Ve,e,n.root);return u.snapshot=n.root,new sn(new rn(u,[]),n)}function nt(t,e){var n={},i={},r={},o=new un([],n,r,"",i,Ve,e,null,t.root,-1,{});return new hn("",new rn(o,[]))}function it(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var i=e[n],r=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(r.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:on({},t.params,e.params),data:on({},t.data,e.data),resolve:on({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function rt(t,e){e.value._routerState=t,e.children.forEach(function(e){return rt(t,e)})}function ot(t){var e=t.children.length>0?" { "+t.children.map(ot).join(", ")+" } ":"";return""+t.value+e}function st(t){if(t.snapshot){var e=t.snapshot;t.snapshot=t._futureSnapshot,c(e.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),e.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),c(e.params,t._futureSnapshot.params)||t.params.next(t._futureSnapshot.params),l(e.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),c(e.data,t._futureSnapshot.data)||t.data.next(t._futureSnapshot.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function at(t,e){var n=c(t.params,e.params)&&S(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||at(t.parent,e.parent))}function ut(t,e,n){var i=ht(t,e._root,n?n._root:void 0);return new sn(i,e)}function ht(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=ct(t,e,n);return new rn(i,r)}if(t.retrieve(e.value)){var o=t.retrieve(e.value).route;return lt(e,o),o}var i=ft(e.value),r=e.children.map(function(e){return ht(t,e)});return new rn(i,r)}function lt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)lt(t.children[n],e.children[n])}function ct(t,e,n){return e.children.map(function(e){for(var i=0,r=n.children;i<r.length;i++){var o=r[i];if(t.shouldReuseRoute(o.value.snapshot,e.value))return ht(t,e,o)}return ht(t,e)})}function ft(t){return new an(new ce.BehaviorSubject(t.url),new ce.BehaviorSubject(t.params),new ce.BehaviorSubject(t.queryParams),new ce.BehaviorSubject(t.fragment),new ce.BehaviorSubject(t.data),t.outlet,t.component,t)}function pt(t,e,n,i,r){if(0===n.length)return yt(e.root,e.root,e,i,r);var o=gt(n);if(o.toRoot())return yt(e.root,new Ge([],{}),e,i,r);var s=mt(o,e,t),a=s.processChildren?Pt(s.segmentGroup,s.index,o.commands):kt(s.segmentGroup,s.index,o.commands);return yt(s.segmentGroup,a,e,i,r)}function dt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yt(t,e,n,i,r){var o={};return i&&d(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new ze(e,o,r):new ze(vt(n.root,t,e),o,r)}function vt(t,e,n){var i={};return d(t.children,function(t,r){i[r]=t===e?n:vt(t,e,n)}),new Ge(t.segments,i)}function gt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ln(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return d(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(i.segmentPath)return t.concat([i.segmentPath])}return"string"!=typeof i?t.concat([i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):t.concat([i])},[]);return new ln(n,e,i)}function mt(t,e,n){if(t.isAbsolute)return new cn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new cn(n.snapshot._urlSegment,!0,0);var i=dt(t.commands[0])?0:1,r=n.snapshot._lastPathIndex+i;return bt(n.snapshot._urlSegment,r,t.numberOfDoubleDots)}function bt(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new cn(i,!1,r-o)}function wt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ve]:""+t}function xt(t){return"object"!=typeof t[0]?(e={},e[Ve]=t,e):void 0===t[0].outlets?(n={},n[Ve]=t,n):t[0].outlets;var e,n}function kt(t,e,n){if(t||(t=new Ge([],{})),0===t.segments.length&&t.hasChildren())return Pt(t,e,n);var i=Ct(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Ge(t.segments.slice(0,i.pathIndex),{});return o.children[Ve]=new Ge(t.segments.slice(i.pathIndex),t.children),Pt(o,0,r)}return i.match&&0===r.length?new Ge(t.segments,{}):i.match&&!t.hasChildren()?St(t,e,n):i.match?Pt(t,0,r):St(t,e,n)}function Pt(t,e,n){if(0===n.length)return new Ge(t.segments,{});var i=xt(n),r={};return d(i,function(n,i){null!==n&&(r[i]=kt(t.children[i],e,n))}),d(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Ge(t.segments,r)}function Ct(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var s=t.segments[r],a=wt(n[i]),u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!_t(a,u,s))return o;i+=2}else{if(!_t(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function St(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=Tt(n[r].outlets);return new Ge(i,o)}if(0===r&&dt(n[0])){var s=t.segments[e];i.push(new He(s.path,n[0])),r++}else{var a=wt(n[r]),u=r<n.length-1?n[r+1]:null;a&&u&&dt(u)?(i.push(new He(a,Mt(u))),r+=2):(i.push(new He(a,{})),r++)}}return new Ge(i,{})}function Tt(t){var e={};return d(t,function(t,n){null!==t&&(e[n]=St(new Ge([],{}),0,t))}),e}function Mt(t){var e={};return d(t,function(t,n){return e[n]=""+t}),e}function _t(t,e,n){return t==n.path&&c(e,n.parameters)}function Nt(t,e,n,i){return new dn(t,e,n,i).recognize()}function At(t){t.sort(function(t,e){return t.value.outlet===Ve?-1:e.value.outlet===Ve?1:t.value.outlet.localeCompare(e.value.outlet)})}function Ot(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function jt(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new pn;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=e.matcher||s,r=i(n,t,e);if(!r)throw new pn;var o={};d(r.posParams,function(t,e){o[e]=t.path});var a=fn({},o,r.consumed[r.consumed.length-1].parameters);return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}function Et(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var i=n.url.map(function(t){return t.toString()}).join("/"),r=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+r+"'.")}e[t.value.outlet]=t.value})}function Lt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Dt(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ft(t,e,n,i){if(n.length>0&&It(t,n,i)){var r=new Ge(e,Vt(t,e,i,new Ge(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&Bt(t,n,i)){var o=new Ge(t.segments,Rt(t,n,i,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new Ge(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Rt(t,e,n,i){for(var r={},o=0,s=n;o<s.length;o++){var a=s[o];if(qt(t,e,a)&&!i[zt(a)]){var u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,r[zt(a)]=u}}return fn({},i,r)}function Vt(t,e,n,i){var r={};r[Ve]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&zt(a)!==Ve){var u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,r[zt(a)]=u}}return r}function It(t,e,n){return n.some(function(n){return qt(t,e,n)&&zt(n)!==Ve})}function Bt(t,e,n){return n.some(function(n){return qt(t,e,n)})}function qt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function zt(t){return t.outlet||Ve}function Gt(t){return t.data||{}}function Ht(t){return t.resolve||{}}function Ut(t){throw t}function Kt(t){return n.i(de.of)(null)}function Wt(t){st(t.value),t.children.forEach(Wt)}function Jt(t){for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function Yt(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function Qt(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Zt(t,e){var n=t._outlets[e.outlet];if(!n){var i=e.component.name;throw e.outlet===Ve?new Error("Cannot find primary outlet to load '"+i+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+i+"'")}return n}function Xt(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function $t(t){return""===t||!!t}function te(){return new le.r("Router",kn)}function ee(t,e,n){return void 0===n&&(n={}),n.useHash?new he.c(t,e):new he.m(t,e)}function ne(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ie(t){return[{provide:le._38,multi:!0,useValue:t},{provide:yn,multi:!0,useValue:t}]}function re(t,e,i,r,o,s,a,u,h,l,c){void 0===h&&(h={});var p=new kn(null,e,i,r,o,s,a,f(u));if(l&&(p.urlHandlingStrategy=l),c&&(p.routeReuseStrategy=c),h.errorHandler&&(p.errorHandler=h.errorHandler),h.enableTracing){var d=n.i(_e.u)();p.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return p}function oe(t){return t.routerState.root}function se(t){return t.appInitializer.bind(t)}function ae(t){return t.bootstrapListener.bind(t)}function ue(){return[zn,{provide:le.s,multi:!0,useFactory:se,deps:[zn]},{provide:Gn,useFactory:ae,deps:[zn]},{provide:le.A,multi:!0,useExisting:Gn}]}var he=n("qbdv"),le=n("/oeL"),ce=n("gvep"),fe=(n.n(ce),n("rlar")),pe=(n.n(fe),n("7JOC")),de=(n.n(pe),n("+zVg")),ye=(n.n(de),n("TQn8")),ve=(n.n(ye),n("THYR")),ge=(n.n(ve),n("1eQ7")),me=(n.n(ge),n("lx+J")),be=(n.n(me),n("cPhF")),we=(n.n(be),n("Tq0x")),xe=(n.n(we),n("bKpL")),ke=(n.n(xe),n("ueUM")),Pe=(n.n(ke),n("I3ay")),Ce=(n.n(Pe),n("TpsG")),Se=(n.n(Ce),n("QU9E")),Te=(n.n(Se),n("WSkQ")),Me=(n.n(Te),n("TIdC")),_e=(n.n(Me),n("fc+i")),Ne=n("422b");n.n(Ne);n.d(e,"x",function(){return An}),n.d(e,"o",function(){return jn}),n.d(e,"j",function(){return kn}),n.d(e,"s",function(){return yn}),n.d(e,"t",function(){return Vn}),n.d(e,"w",function(){return Gn}),n.d(e,"p",function(){return qn}),n.d(e,"l",function(){return gn}),n.d(e,"b",function(){return Dn}),n.d(e,"d",function(){return Ln}),n.d(e,"v",function(){return En}),n.d(e,"c",function(){return Fn}),n.d(e,"u",function(){return an}),n.d(e,"n",function(){return mn}),n.d(e,"k",function(){return Ke}),n.d(e,"r",function(){return Ue}),n.d(e,"q",function(){return In}),n.d(e,"g",function(){return zn}),n.d(e,"h",function(){return se}),n.d(e,"e",function(){return ae}),n.d(e,"i",function(){return ne}),n.d(e,"a",function(){return oe}),n.d(e,"f",function(){return te}),n.d(e,"m",function(){return re});var Ae=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Oe=function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),je=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Ee=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Le=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),De=function(){function t(t,e,n,i){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=i}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Fe=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Re=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Ve="primary",Ie=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),Be="ngNavigationCancelingError",qe=function(){function t(t,e){this.routes=t,this.module=e}return t}(),ze=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=i(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return We.serialize(this)},t}(),Ge=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,d(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return _(this)},t}(),He=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=i(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return j(this)},t}(),Ue=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Ke=function(){function t(){}return t.prototype.parse=function(t){var e=new Ze(t);return new ze(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+N(t.root,!0)+L(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),We=new Ke,Je=/^[^\/()?;=&#]+/,Ye=/^[^=?&#]+/,Qe=/^[^?&#]+/,Ze=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ve]=new Ge(t,e)),n},t.prototype.parseSegment=function(){var t=D(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new He(O(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=D(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=D(this.remaining);i&&(n=i,this.capture(n))}t[O(e)]=O(n)}},t.prototype.parseQueryParam=function(t){var e=F(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=R(this.remaining);i&&(n=i,this.capture(n))}var r=O(e),o=O(n);if(t.hasOwnProperty(r)){var s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=D(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ve);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Ve]:new Ge([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Xe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},$e=function(){function t(t){this.segmentGroup=t||null}return t}(),tn=function(){function t(t){this.urlTree=t}return t}(),en=function(){function t(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(le.X)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ve),n=me.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return ke._catch.call(n,function(e){if(e instanceof tn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof $e)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Ve),i=me.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return ke._catch.call(i,function(t){if(t instanceof $e)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i=t.segments.length>0?new Ge([],(r={},r[Ve]=t,r)):t;return new ze(i,e,n);var r},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?me.map.call(this.expandChildren(t,e,n),function(t){return new Ge([],t)}):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return y(n.children,function(n,r){return i.expandSegmentGroup(t,e,r,n)})},t.prototype.expandSegment=function(t,e,i,r,o,s){var a=this,u=de.of.apply(void 0,i),h=me.map.call(u,function(u){var h=a.expandSegmentAgainstRoute(t,e,i,u,r,o,s);return ke._catch.call(h,function(t){if(t instanceof $e)return n.i(de.of)(null);throw t})}),l=Pe.concatAll.call(h),c=ge.first.call(l,function(t){return!!t});return ke._catch.call(c,function(t,i){if(t instanceof Ce.EmptyError){if(a.noLeftoversInUrl(e,r,o))return n.i(de.of)(new Ge([],{}));throw new $e(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,r,o,s){return X(i)!==o?V(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):V(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?I(o):be.mergeMap.call(this.lineralizeSegments(n,o),function(n){var o=new Ge(n,{});return r.expandSegment(t,o,e,n,i,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){var s=this,a=H(e,i,r),u=a.matched,h=a.consumedSegments,l=a.lastChild,c=a.positionalParamSegments;if(!u)return V(e);var f=this.applyRedirectCommands(h,i.redirectTo,c);return i.redirectTo.startsWith("/")?I(f):be.mergeMap.call(this.lineralizeSegments(i,f),function(i){return s.expandSegment(t,e,n,i.concat(r.slice(l)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,i,r){var o=this;if("**"===i.path)return i.loadChildren?me.map.call(this.configLoader.load(t.injector,i),function(t){return i._loadedConfig=t,new Ge(r,{})}):n.i(de.of)(new Ge(r,{}));var s=H(e,i,r),a=s.matched,u=s.consumedSegments,h=s.lastChild;if(!a)return V(e);var l=r.slice(h),c=this.getChildConfig(t,i);return be.mergeMap.call(c,function(t){var i=t.module,r=t.routes,s=U(e,u,l,r),a=s.segmentGroup,h=s.slicedSegments;if(0===h.length&&a.hasChildren()){var c=o.expandChildren(i,r,a);return me.map.call(c,function(t){return new Ge(u,t)})}if(0===r.length&&0===h.length)return n.i(de.of)(new Ge(u,{}));var f=o.expandSegment(i,a,r,h,Ve,!0);return me.map.call(f,function(t){return new Ge(u.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var i=this;return e.children?n.i(de.of)(new qe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?n.i(de.of)(e._loadedConfig):be.mergeMap.call(G(t.injector,e),function(n){return n?me.map.call(i.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):q(e)}):n.i(de.of)(new qe([],t))},t.prototype.lineralizeSegments=function(t,e){for(var i=[],r=e.root;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return n.i(de.of)(i);if(r.numberOfChildren>1||!r.children[Ve])return B(t.redirectTo);r=r.children[Ve]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new ze(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return d(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),s={};return d(e.children,function(e,o){s[o]=r.createSegmentGroup(t,e,n,i)}),new Ge(o,s)},t.prototype.createSegments=function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){for(var n=0,i=0,r=e;i<r.length;i++){var o=r[i];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),nn=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=$(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=$(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=tt(t,this._root,[]);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root,[]).map(function(t){return t.value})},t}(),rn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),on=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},sn=function(t){function e(e,n){var i=t.call(this,e)||this;return i.snapshot=n,rt(i,e),i}return Ae(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(nn),an=function(){function t(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=me.map.call(this.params,function(t){return i(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=me.map.call(this.queryParams,function(t){return i(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),un=function(){function t(t,e,n,i,r,o,s,a,u,h,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=h,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=i(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=i(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),hn=function(t){function e(e,n){var i=t.call(this,n)||this;return i.url=e,rt(i,n),i}return Ae(e,t),e.prototype.toString=function(){return ot(this._root)},e}(nn),ln=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&dt(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(i&&i!==p(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),cn=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),fn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},pn=function(){function t(){}return t}(),dn=function(){function t(t,e,n,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i}return t.prototype.recognize=function(){try{var t=Ft(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Ve),i=new un([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rn(i,e),o=new hn(this.url,r);return this.inheriteParamsAndData(o._root),n.i(de.of)(o)}catch(t){return new xe.Observable(function(e){return e.error(t)})}},t.prototype.inheriteParamsAndData=function(t){var e=this,n=t.value,i=it(n);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheriteParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,i=M(e,function(e,i){return n.processSegmentGroup(t,e,i)});return Et(i),At(i),i},t.prototype.processSegment=function(t,e,n,i){for(var r=0,o=t;r<o.length;r++){var s=o[r];try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(t){if(!(t instanceof pn))throw t}}if(this.noLeftoversInUrl(e,n,i))return[];throw new pn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new pn;if((t.outlet||Ve)!==i)throw new pn;if("**"===t.path){var r=n.length>0?p(n).parameters:{},o=new un(n,r,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Gt(t),i,t.component,t,Lt(e),Dt(e)+n.length,Ht(t));return[new rn(o,[])]}var s=jt(e,t,n),a=s.consumedSegments,u=s.parameters,h=s.lastChild,l=n.slice(h),c=Ot(t),f=Ft(e,a,l,c),d=f.segmentGroup,y=f.slicedSegments,v=new un(a,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,Gt(t),i,t.component,t,Lt(e),Dt(e)+a.length,Ht(t));if(0===y.length&&d.hasChildren()){var g=this.processChildren(c,d);return[new rn(v,g)]}if(0===c.length&&0===y.length)return[new rn(v,[])];var m=this.processSegment(c,d,y,Ve);return[new rn(v,m)]},t}(),yn=new le.M("ROUTES"),vn=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var i=this.loadModuleFactory(e.loadChildren);return me.map.call(i,function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new qe(f(r.injector.get(yn)),r)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?n.i(Se.fromPromise)(this.loader.load(t)):be.mergeMap.call(g(t()),function(t){return t instanceof le.C?n.i(de.of)(t):n.i(Se.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),gn=function(){function t(){this._outlets={}}return t.prototype.registerOutlet=function(t,e){this._outlets[t]=e},t.prototype.removeOutlet=function(t){this._outlets[t]=void 0},t}(),mn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),bn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),wn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},xn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),kn=function(){function t(t,e,n,i,r,o,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.outletMap=n,this.location=i,this.config=a,this.navigations=new ce.BehaviorSubject(null),this.routerEvents=new fe.Subject,this.navigationId=0,this.errorHandler=Ut,this.navigated=!1,this.hooks={beforePreactivation:Kt,afterPreactivation:Kt},this.urlHandlingStrategy=new bn,this.routeReuseStrategy=new xn;var h=function(t){return u.triggerEvent(new Fe(t))},l=function(t){return u.triggerEvent(new Re(t))};this.ngModule=r.get(le.X),this.resetConfig(a),this.currentUrlTree=m(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new vn(o,s,h,l),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),i="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,i,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){a(t),this.config=t},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){var i=void 0===e?{}:e,r=i.relativeTo,o=i.queryParams,s=i.fragment,a=i.preserveQueryParams,u=i.queryParamsHandling,h=i.preserveFragment;n.i(le.Z)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=r||this.routerState.root,c=h?this.currentUrlTree.fragment:s,f=null;if(u)switch(u){case"merge":f=wn({},this.currentUrlTree.queryParams,o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}else f=a?this.currentUrlTree.queryParams:o||null;return pt(l,this.currentUrlTree,t,f,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof ze?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Xt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof ze)return b(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return b(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!==i&&void 0!==i&&(e[n]=i),e},{})},t.prototype.processNavigations=function(){var t=this;ye.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):n.i(de.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var r=null,o=null,s=new Promise(function(t,e){r=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:r,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,i=t.rawUrl,r=t.extras,o=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(i),u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(i)?(this.routerEvents.next(new Oe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!!r.skipLocationChange,!!r.replaceUrl,n,null)}).then(o,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Oe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,i,!1,!1,n,et(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=i,o(null))},t.prototype.runNavigate=function(t,e,i,r,s,a){var u=this;return s!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Ee(s,this.serializeUrl(t),"Navigation ID "+s+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(h,l){var c;if(a)c=n.i(de.of)({appliedUrl:t,snapshot:a});else{var f=u.ngModule.injector,p=z(f,u.configLoader,u.urlSerializer,t,u.config);c=be.mergeMap.call(p,function(e){return me.map.call(Nt(u.rootComponentType,u.config,e,u.serializeUrl(e)),function(n){return u.routerEvents.next(new De(s,u.serializeUrl(t),u.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var d,y,v=be.mergeMap.call(c,function(t){return me.map.call(u.hooks.beforePreactivation(t.snapshot),function(){return t})}),g=me.map.call(v,function(t){var e=t.appliedUrl,n=t.snapshot,i=u.ngModule.injector;return d=new Sn(n,u.currentRouterState.snapshot,i),d.traverse(u.outletMap),{appliedUrl:e,snapshot:n}}),m=be.mergeMap.call(g,function(t){var e=t.appliedUrl,i=t.snapshot;return u.navigationId!==s?n.i(de.of)(!1):me.map.call(d.checkGuards(),function(t){return{appliedUrl:e,snapshot:i,shouldActivate:t}})}),b=be.mergeMap.call(m,function(t){return u.navigationId!==s?n.i(de.of)(!1):t.shouldActivate?me.map.call(d.resolveData(),function(){return t}):n.i(de.of)(t)}),w=be.mergeMap.call(b,function(t){return me.map.call(u.hooks.afterPreactivation(t.snapshot),function(){return t})}),x=me.map.call(w,function(t){var e=t.appliedUrl,n=t.snapshot,i=t.shouldActivate;if(i){return{appliedUrl:e,state:ut(u.routeReuseStrategy,n,u.currentRouterState),shouldActivate:i}}return{appliedUrl:e,state:null,shouldActivate:i}}),k=u.currentRouterState,P=u.currentUrlTree;x.forEach(function(t){var n=t.appliedUrl,o=t.state;if(!t.shouldActivate||s!==u.navigationId)return void(y=!1);if(u.currentUrlTree=n,u.rawUrlTree=u.urlHandlingStrategy.merge(u.currentUrlTree,e),u.currentRouterState=o,!i){var a=u.urlSerializer.serialize(u.rawUrlTree);u.location.isCurrentPathEqualTo(a)||r?u.location.replaceState(a):u.location.go(a)}new Tn(u.routeReuseStrategy,o,k).activate(u.outletMap),y=!0}).then(function(){y?(u.navigated=!0,u.routerEvents.next(new je(s,u.serializeUrl(t),u.serializeUrl(u.currentUrlTree))),h(!0)):(u.resetUrlToCurrentUrlTree(),u.routerEvents.next(new Ee(s,u.serializeUrl(t),"")),h(!1))},function(n){if(o(n))u.resetUrlToCurrentUrlTree(),u.navigated=!0,u.routerEvents.next(new Ee(s,u.serializeUrl(t),n.message)),h(!1);else{u.routerEvents.next(new Le(s,u.serializeUrl(t),n));try{h(u.errorHandler(n))}catch(t){l(t)}}u.currentRouterState=k,u.currentUrlTree=P,u.rawUrlTree=u.urlHandlingStrategy.merge(u.currentUrlTree,e),u.location.replaceState(u.serializeUrl(u.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),Pn=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),Cn=function(){function t(t,e){this.component=t,this.route=e}return t}(),Sn=function(){function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(0===this.canDeactivateChecks.length&&0===this.canActivateChecks.length)return n.i(de.of)(!0);var e=this.runCanDeactivateChecks();return be.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():n.i(de.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(0===this.canActivateChecks.length)return n.i(de.of)(null);var e=n.i(pe.from)(this.canActivateChecks),i=ye.concatMap.call(e,function(e){return t.runResolve(e.route)});return we.reduce.call(i,function(t,e){return t})},t.prototype.traverseChildRoutes=function(t,e,n,i){var r=this,o=Qt(e);t.children.forEach(function(t){r.traverseRoutes(t,o[t.value.outlet],n,i.concat([t.value])),delete o[t.value.outlet]}),d(o,function(t,e){return r.deactiveRouteAndItsChildren(t,n._outlets[e])})},t.prototype.traverseRoutes=function(t,e,n,i){var r=t.value,o=e?e.value:null,s=n?n._outlets[t.value.outlet]:null;o&&r._routeConfig===o._routeConfig?(this.shouldRunGuardsAndResolvers(o,r,r._routeConfig.runGuardsAndResolvers)?(this.canActivateChecks.push(new Pn(i)),this.canDeactivateChecks.push(new Cn(s.component,o))):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?this.traverseChildRoutes(t,e,s?s.outletMap:null,i):this.traverseChildRoutes(t,e,n,i)):(o&&this.deactiveRouteAndItsChildren(e,s),this.canActivateChecks.push(new Pn(i)),r.component?this.traverseChildRoutes(t,null,s?s.outletMap:null,i):this.traverseChildRoutes(t,null,n,i))},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!at(t,e)||!c(t.queryParams,e.queryParams);case"paramsChange":default:return!at(t,e)}},t.prototype.deactiveRouteAndItsChildren=function(t,e){var n=this,i=Qt(t),r=t.value;d(i,function(t,i){r.component?e?n.deactiveRouteAndItsChildren(t,e.outletMap._outlets[i]):n.deactiveRouteAndItsChildren(t,null):n.deactiveRouteAndItsChildren(t,e)}),r.component&&e&&e.isActivated?this.canDeactivateChecks.push(new Cn(e.component,r)):this.canDeactivateChecks.push(new Cn(null,r))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=n.i(pe.from)(this.canDeactivateChecks),i=be.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ve.every.call(i,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=n.i(pe.from)(this.canActivateChecks),i=be.mergeMap.call(e,function(e){return v(n.i(pe.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ve.every.call(i,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,i=t._routeConfig?t._routeConfig.canActivate:null;return i&&0!==i.length?v(me.map.call(n.i(pe.from)(i),function(n){var i,r=e.getToken(n,t);return i=g(r.canActivate?r.canActivate(t,e.future):r(t,e.future)),ge.first.call(i)})):n.i(de.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return v(me.map.call(n.i(pe.from)(r),function(t){return v(me.map.call(n.i(pe.from)(t.guards),function(n){var r,o=e.getToken(n,t.node);return r=g(o.canActivateChild?o.canActivateChild(i,e.future):o(i,e.future)),ge.first.call(r)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var i=this,r=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!r||0===r.length)return n.i(de.of)(!0);var o=be.mergeMap.call(n.i(pe.from)(r),function(n){var r,o=i.getToken(n,e);return r=g(o.canDeactivate?o.canDeactivate(t,e,i.curr,i.future):o(t,e,i.curr,i.future)),ge.first.call(r)});return ve.every.call(o,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return me.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=wn({},t.data,it(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this;return y(t,function(t,i){var r=n.getToken(i,e);return g(r.resolve?r.resolve(e,n.future):r(e,n.future))})},t.prototype.getToken=function(t,e){var n=Yt(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Tn=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),st(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,r=Qt(e);t.children.forEach(function(t){i.deactivateRoutes(t,r[t.value.outlet],n),delete r[t.value.outlet]}),d(r,function(t,e){return i.deactiveRouteAndItsChildren(t,n)})},t.prototype.activateChildRoutes=function(t,e,n){var i=this,r=Qt(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n)})},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=Zt(n,i);this.deactivateChildRoutes(t,e,o.outletMap)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactiveRouteAndItsChildren(e,n)},t.prototype.activateRoutes=function(t,e,n){var i=t.value;if(i===(e?e.value:null))if(st(i),i.component){var r=Zt(n,i);this.activateChildRoutes(t,e,r.outletMap)}else this.activateChildRoutes(t,e,n);else if(i.component){st(i);var r=Zt(n,t.value);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),r.attach(o.componentRef,o.route.value),Wt(o.route)}else{var s=new gn;this.placeComponentIntoOutlet(s,i,r),this.activateChildRoutes(t,null,s)}}else st(i),this.activateChildRoutes(t,null,n)},t.prototype.placeComponentIntoOutlet=function(t,e,n){var i=Jt(e.snapshot),r=i?i.module.componentFactoryResolver:null;n.activateWith(e,r,t)},t.prototype.deactiveRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactiveRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=Zt(e,t.value),i=n.detach();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t})},t.prototype.deactiveRouteAndOutlet=function(t,e){var n=this,i=Qt(t),r=null;try{r=Zt(e,t.value)}catch(t){return}var o=r.outletMap;d(i,function(i,r){t.value.component?n.deactiveRouteAndItsChildren(i,o):n.deactiveRouteAndItsChildren(i,e)}),r&&r.isActivated&&r.deactivate()},t}(),Mn=function(){function t(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setElementAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){n.i(le.Z)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:$t(this.skipLocationChange),replaceUrl:$t(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$t(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$t(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Mn.decorators=[{type:le.T,args:[{selector:":not(a)[routerLink]"}]}],Mn.ctorParameters=function(){return[{type:kn},{type:an},{type:void 0,decorators:[{type:le._1,args:["tabindex"]}]},{type:le.V},{type:le.U}]},Mn.propDecorators={queryParams:[{type:le.W}],fragment:[{type:le.W}],queryParamsHandling:[{type:le.W}],preserveFragment:[{type:le.W}],skipLocationChange:[{type:le.W}],replaceUrl:[{type:le.W}],routerLink:[{type:le.W}],preserveQueryParams:[{type:le.W}],onClick:[{type:le._34,args:["click"]}]};var _n=function(){function t(t,e,n){var i=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof je&&i.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){n.i(le.Z)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n){if(0!==t||e||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:$t(this.skipLocationChange),replaceUrl:$t(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$t(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$t(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();_n.decorators=[{type:le.T,args:[{selector:"a[routerLink]"}]}],_n.ctorParameters=function(){return[{type:kn},{type:an},{type:he.g}]},_n.propDecorators={target:[{type:le._35,args:["attr.target"]},{type:le.W}],queryParams:[{type:le.W}],fragment:[{type:le.W}],queryParamsHandling:[{type:le.W}],preserveFragment:[{type:le.W}],skipLocationChange:[{type:le.W}],replaceUrl:[{type:le.W}],href:[{type:le._35}],routerLink:[{type:le.W}],preserveQueryParams:[{type:le.W}],onClick:[{type:le._34,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]};var Nn=function(){function t(t,e,n,i){var r=this;this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof je&&r.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.classes.forEach(function(n){return t.renderer.setElementClass(t.element.nativeElement,n,e)}),Promise.resolve(e).then(function(e){return t.active=e}))}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();Nn.decorators=[{type:le.T,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],Nn.ctorParameters=function(){return[{type:kn},{type:le.U},{type:le.V},{type:le._6}]},Nn.propDecorators={links:[{type:le._36,args:[Mn,{descendants:!0}]}],linksWithHrefs:[{type:le._36,args:[_n,{descendants:!0}]}],routerLinkActiveOptions:[{type:le.W}],routerLinkActive:[{type:le.W}]};var An=function(){function t(t,e,n,i){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=i,this.activateEvents=new le.N,this.deactivateEvents=new le.N,t.registerOutlet(i||Ve,this)}return t.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:Ve)},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activate=function(t,e,n,i,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=r,this._activatedRoute=t;var o=t._futureSnapshot,s=o._routeConfig.component,a=e.resolveComponentFactory(s),u=le._37.fromResolvedProviders(i,n);this.activated=this.location.createComponent(a,this.location.length,u,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t.prototype.activateWith=function(t,e,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=n,this._activatedRoute=t;var i=t._futureSnapshot,r=i._routeConfig.component;e=e||this.resolver;var o=e.resolveComponentFactory(r),s=new On(t,n,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,s,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t}();An.decorators=[{type:le.T,args:[{selector:"router-outlet"}]}],An.ctorParameters=function(){return[{type:gn},{type:le.J},{type:le.Y},{type:void 0,decorators:[{type:le._1,args:["name"]}]}]},An.propDecorators={activateEvents:[{type:le._23,args:["activate"]}],deactivateEvents:[{type:le._23,args:["deactivate"]}]};var On=function(){function t(t,e,n){this.route=t,this.map=e,this.parent=n}return t.prototype.get=function(t,e){return t===an?this.route:t===gn?this.map:this.parent.get(t,e)},t}(),jn=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),En=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),Ln=function(){function t(){}return t.prototype.preload=function(t,e){return ke._catch.call(e(),function(){return n.i(de.of)(null)})},t}(),Dn=function(){function t(){}return t.prototype.preload=function(t,e){return n.i(de.of)(null)},t}(),Fn=function(){function t(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r;var o=function(e){return t.triggerEvent(new Fe(e))},s=function(e){return t.triggerEvent(new Re(e))};this.loader=new vn(e,n,o,s)}return t.prototype.setUpPreloading=function(){var t=this,e=Ne.filter.call(this.router.events,function(t){return t instanceof je});this.subscription=ye.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(le.X);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var i=[],r=0,o=e;r<o.length;r++){var s=o[r];if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children))}return Me.mergeAll.call(n.i(pe.from)(i))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var i=n.loader.load(t.injector,e);return be.mergeMap.call(i,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();Fn.decorators=[{type:le.O}],Fn.ctorParameters=function(){return[{type:kn},{type:le.u},{type:le.n},{type:le._19},{type:En}]};var Rn=[An,Mn,_n,Nn],Vn=new le.M("ROUTER_CONFIGURATION"),In=new le.M("ROUTER_FORROOT_GUARD"),Bn=[he.f,{provide:Ue,useClass:Ke},{provide:kn,useFactory:re,deps:[le.t,Ue,gn,he.f,le._19,le.u,le.n,yn,Vn,[mn,new le.P],[jn,new le.P]]},gn,{provide:an,useFactory:oe,deps:[kn]},{provide:le.u,useClass:le.o},Fn,Dn,Ln,{provide:Vn,useValue:{enableTracing:!1}}],qn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Bn,ie(e),{provide:In,useFactory:ne,deps:[[kn,new le.P,new le._22]]},{provide:Vn,useValue:n||{}},{provide:he.g,useFactory:ee,deps:[he.d,[new le.Q(he.e),new le.P],Vn]},{provide:En,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Dn},{provide:le.r,multi:!0,useFactory:te},ue()]}},t.forChild=function(e){return{ngModule:t,providers:[ie(e)]}},t}();qn.decorators=[{type:le._7,args:[{declarations:Rn,exports:Rn}]}],qn.ctorParameters=function(){return[{type:void 0,decorators:[{type:le.P},{type:le.Q,args:[In]}]},{type:kn,decorators:[{type:le.P}]}]};var zn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new fe.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(he.n,Promise.resolve(null)).then(function(){var e=null,i=new Promise(function(t){return e=t}),r=t.injector.get(kn),o=t.injector.get(Vn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?n.i(de.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return i})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Vn),n=this.injector.get(Fn),i=this.injector.get(kn),r=this.injector.get(le.t);t===r.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),i.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();zn.decorators=[{type:le.O}],zn.ctorParameters=function(){return[{type:le._19}]};var Gn=new le.M("Router Initializer");new le._8("4.1.3")},CE6k:function(t,e,n){"use strict";function i(){return new s.Subject}function r(){return o.multicast.call(this,i).refCount()}var o=n("gonN"),s=n("rlar");e.share=r},CPp0:function(t,e,n){"use strict";function i(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function r(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function o(t){for(var e=new Uint16Array(t.length),n=0,i=t.length;n<i;n++)e[n]=t.charCodeAt(n);return e.buffer}function s(t){void 0===t&&(t="");var e=new Map;if(t.length>0){t.split("&").forEach(function(t){var n=t.indexOf("="),i=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],r=i[0],o=i[1],s=e.get(r)||[];s.push(o),e.set(r,s)})}return e}function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function u(){var t="object"==typeof window?window:{};return null===R&&(R=t[F]={}),R}function h(t){var e=new j;return Object.keys(t).forEach(function(n){var i=t[n];i&&Array.isArray(i)?i.forEach(function(t){return e.append(n,t.toString())}):e.append(n,i.toString())}),e}function l(t,e){return t.createConnection(e).response}function c(t,e,n,i){var r=t;return e?r.merge(new Y({method:e.method||n,url:e.url||i,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):r.merge(new Y({method:n,url:i}))}function f(){return new W}function p(t,e){return new it(t,e)}function d(t,e){return new rt(t,e)}var y=n("/oeL"),v=n("bKpL"),g=(n.n(v),n("fc+i"));n.d(e,"a",function(){return b}),n.d(e,"d",function(){return J}),n.d(e,"e",function(){return Q}),n.d(e,"j",function(){return Y}),n.d(e,"b",function(){return M}),n.d(e,"h",function(){return T}),n.d(e,"l",function(){return S}),n.d(e,"k",function(){return it}),n.d(e,"g",function(){return ot}),n.d(e,"i",function(){return N}),n.d(e,"c",function(){return f}),n.d(e,"f",function(){return p});var m=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},b=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();b.decorators=[{type:y.O}],b.ctorParameters=function(){return[]};var w={};w.Get=0,w.Post=1,w.Put=2,w.Delete=3,w.Options=4,w.Head=5,w.Patch=6,w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var x={};x.Unsent=0,x.Open=1,x.HeadersReceived=2,x.Loading=3,x.Done=4,x.Cancelled=5,x[x.Unsent]="Unsent",x[x.Open]="Open",x[x.HeadersReceived]="HeadersReceived",x[x.Loading]="Loading",x[x.Done]="Done",x[x.Cancelled]="Cancelled";var k={};k.Basic=0,k.Cors=1,k.Default=2,k.Error=3,k.Opaque=4,k[k.Basic]="Basic",k[k.Cors]="Cors",k[k.Default]="Default",k[k.Error]="Error",k[k.Opaque]="Opaque";var P={};P.NONE=0,P.JSON=1,P.FORM=2,P.FORM_DATA=3,P.TEXT=4,P.BLOB=5,P.ARRAY_BUFFER=6,P[P.NONE]="NONE",P[P.JSON]="JSON",P[P.FORM]="FORM",P[P.FORM_DATA]="FORM_DATA",P[P.TEXT]="TEXT",P[P.BLOB]="BLOB",P[P.ARRAY_BUFFER]="ARRAY_BUFFER";var C={};C.Text=0,C.Json=1,C.ArrayBuffer=2,C.Blob=3,C[C.Text]="Text",C[C.Json]="Json",C[C.ArrayBuffer]="ArrayBuffer",C[C.Blob]="Blob";var S=function(){function t(e){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var i=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),i.forEach(function(e){return n.append(t,e)})})}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=t.slice(e+1).trim();n.set(i,r)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,i){return t(n,e._normalizedNames.get(i),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,i){var r=[];n.forEach(function(t){return r.push.apply(r,t.split(","))}),e[t._normalizedNames.get(i)]=r}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),T=function(){function t(t){var e=void 0===t?{}:t,n=e.body,i=e.status,r=e.headers,o=e.statusText,s=e.type,a=e.url;this.body=null!=n?n:null,this.status=null!=i?i:null,this.headers=null!=r?r:null,this.statusText=null!=o?o:null,this.type=null!=s?s:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),M=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:k.Default,headers:new S})||this}return m(e,t),e}(T);M.decorators=[{type:y.O}],M.ctorParameters=function(){return[]};var _=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),N=(function(){function t(){}}(),function(){function t(){}return t.prototype.configureRequest=function(t){},t}()),A=function(t){return t>=200&&t<300},O=function(){function t(){}return t.prototype.encodeKey=function(t){return a(t)},t.prototype.encodeValue=function(t){return a(t)},t}(),j=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new O),this.rawParams=t,this.queryEncoder=e,this.paramsMap=s(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0,i.push(t[0]),e.paramsMap.set(n,i)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var i=e.paramsMap.get(n)||[],r=0;r<t.length;++r)i.push(t[r]);e.paramsMap.set(n,i)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0;for(var r=0;r<t.length;++r)i.push(t[r]);e.paramsMap.set(n,i)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,i){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(i)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),E=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof j)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:o(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),L=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return m(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(E),D=0,F="__ng_jsonp__",R=null,V=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+D++},t.prototype.requestCallback=function(t){return F+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){u()[t]=e},t.prototype.removeConnection=function(t){u()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t}();V.decorators=[{type:y.O}],V.ctorParameters=function(){return[]};var I="JSONP injected script did not invoke callback.",B="JSONP requests must use GET request method.",q=function(){function t(){}return t.prototype.finished=function(t){},t}(),z=function(t){function e(e,n,i){var r=t.call(this)||this;if(r._dom=n,r.baseResponseOptions=i,r._finished=!1,e.method!==w.Get)throw new TypeError(B);return r.request=e,r.response=new v.Observable(function(t){r.readyState=x.Loading;var o=r._id=n.nextRequestID();n.exposeConnection(o,r);var s=n.requestCallback(r._id),a=e.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=a.replace("=JSONP_CALLBACK&","="+s+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+"="+s);var u=r._script=n.build(a),h=function(e){if(r.readyState!==x.Cancelled){if(r.readyState=x.Done,n.cleanup(u),!r._finished){var o=new T({body:I,type:k.Error,url:a});return i&&(o=i.merge(o)),void t.error(new L(o))}var s=new T({body:r._responseData,url:a});r.baseResponseOptions&&(s=r.baseResponseOptions.merge(s)),t.next(new L(s)),t.complete()}},l=function(e){if(r.readyState!==x.Cancelled){r.readyState=x.Done,n.cleanup(u);var o=new T({body:e.message,type:k.Error});i&&(o=i.merge(o)),t.error(new L(o))}};return u.addEventListener("load",h),u.addEventListener("error",l),n.send(u),function(){r.readyState=x.Cancelled,u.removeEventListener("load",h),u.removeEventListener("error",l),r._dom.cleanup(u)}}),r}return m(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==x.Cancelled&&(this._responseData=t)},e}(q),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e}(_),H=function(t){function e(e,n){var i=t.call(this)||this;return i._browserJSONP=e,i._baseResponseOptions=n,i}return m(e,t),e.prototype.createConnection=function(t){return new z(t,this._browserJSONP,this._baseResponseOptions)},e}(G);H.decorators=[{type:y.O}],H.ctorParameters=function(){return[{type:V},{type:T}]};var U=/^\)\]\}',?\n/,K=function(){function t(t,e,n){var i=this;this.request=t,this.response=new v.Observable(function(o){var s=e.build();s.open(w[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(s.withCredentials=t.withCredentials);var a=function(){var e=1223===s.status?204:s.status,i=null;204!==e&&"string"==typeof(i=void 0===s.response?s.responseText:s.response)&&(i=i.replace(U,"")),0===e&&(e=i?200:0);var a=S.fromResponseHeaderString(s.getAllResponseHeaders()),u=r(s)||t.url,h=s.statusText||"OK",l=new T({body:i,status:e,headers:a,statusText:h,url:u});null!=n&&(l=n.merge(l));var c=new L(l);if(c.ok=A(e),c.ok)return o.next(c),void o.complete();o.error(c)},u=function(t){var e=new T({body:t,type:k.Error,status:s.status,statusText:s.statusText});null!=n&&(e=n.merge(e)),o.error(new L(e))};if(i.setDetectedContentType(t,s),null==t.headers&&(t.headers=new S),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return s.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=s.responseType)switch(t.responseType){case C.ArrayBuffer:s.responseType="arraybuffer";break;case C.Json:s.responseType="json";break;case C.Text:s.responseType="text";break;case C.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",a),s.addEventListener("error",u),s.send(i.request.getBody()),function(){s.removeEventListener("load",a),s.removeEventListener("error",u),s.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case P.NONE:break;case P.JSON:e.setRequestHeader("content-type","application/json");break;case P.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case P.TEXT:e.setRequestHeader("content-type","text/plain");break;case P.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),W=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=n.i(g.u)().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),J=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new K(t,this._browserXHR,this._baseResponseOptions)},t}();J.decorators=[{type:y.O}],J.ctorParameters=function(){return[{type:b},{type:T},{type:N}]};var Y=function(){function t(t){var e=void 0===t?{}:t,n=e.method,r=e.headers,o=e.body,s=e.url,a=e.search,u=e.params,h=e.withCredentials,l=e.responseType;this.method=null!=n?i(n):null,this.headers=null!=r?r:null,this.body=null!=o?o:null,this.url=null!=s?s:null,this.params=this._mergeSearchParams(u||a),this.withCredentials=null!=h?h:null,this.responseType=null!=l?l:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new S(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof j?t.clone():"string"==typeof t?new j(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new j;return Object.keys(t).forEach(function(i){var r=t[i];Array.isArray(r)?r.forEach(function(t){return e._appendParam(i,t,n)}):e._appendParam(i,r,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),Q=function(t){function e(){return t.call(this,{method:w.Get,headers:new S})||this}return m(e,t),e}(Y);Q.decorators=[{type:y.O}],Q.ctorParameters=function(){return[]};var Z=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var o=e.params||e.search;if(o){var s=void 0;if(s="object"!=typeof o||o instanceof j?o.toString():h(o).toString(),s.length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=r+a+s}}return n._body=e.body,n.method=i(e.method),n.headers=new S(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return m(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return P.JSON;case"application/x-www-form-urlencoded":return P.FORM;case"multipart/form-data":return P.FORM_DATA;case"text/plain":case"text/html":return P.TEXT;case"application/octet-stream":return this._body instanceof nt?P.ARRAY_BUFFER:P.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?P.NONE:this._body instanceof j?P.FORM:this._body instanceof tt?P.FORM_DATA:this._body instanceof et?P.BLOB:this._body instanceof nt?P.ARRAY_BUFFER:this._body&&"object"==typeof this._body?P.JSON:P.TEXT},e.prototype.getBody=function(){switch(this.contentType){case P.JSON:case P.FORM:return this.text();case P.FORM_DATA:return this._body;case P.TEXT:return this.text();case P.BLOB:return this.blob();case P.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(E),X=function(){},$="object"==typeof window?window:X,tt=$.FormData||X,et=$.Blob||X,nt=$.ArrayBuffer||X,it=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=l(this._backend,new Z(c(this._defaultOptions,e,w.Get,t)));else{if(!(t instanceof Z))throw new Error("First argument must be a url string or Request instance.");n=l(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new Z(c(this._defaultOptions,e,w.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new Z(c(this._defaultOptions.merge(new Y({body:e})),n,w.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new Z(c(this._defaultOptions.merge(new Y({body:e})),n,w.Put,t)))},t.prototype.delete=function(t,e){return this.request(new Z(c(this._defaultOptions,e,w.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new Z(c(this._defaultOptions.merge(new Y({body:e})),n,w.Patch,t)))},t.prototype.head=function(t,e){return this.request(new Z(c(this._defaultOptions,e,w.Head,t)))},t.prototype.options=function(t,e){return this.request(new Z(c(this._defaultOptions,e,w.Options,t)))},t}();it.decorators=[{type:y.O}],it.ctorParameters=function(){return[{type:_},{type:Y}]};var rt=function(t){function e(e,n){return t.call(this,e,n)||this}return m(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new Z(c(this._defaultOptions,e,w.Get,t))),!(t instanceof Z))throw new Error("First argument must be a url string or Request instance.");if(t.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return l(this._backend,t)},e}(it);rt.decorators=[{type:y.O}],rt.ctorParameters=function(){return[{type:_},{type:Y}]};var ot=function(){function t(){}return t}();ot.decorators=[{type:y._7,args:[{providers:[{provide:it,useFactory:p,deps:[J,Y]},b,{provide:Y,useClass:Q},{provide:T,useClass:M},J,{provide:N,useFactory:f}]}]}],ot.ctorParameters=function(){return[]};var st=function(){function t(){}return t}();st.decorators=[{type:y._7,args:[{providers:[{provide:rt,useFactory:d,deps:[G,Y]},V,{provide:Y,useClass:Q},{provide:T,useClass:M},{provide:G,useClass:H}]}]}],st.ctorParameters=function(){return[]};new y._8("4.1.3")},CQyF:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return i(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var n=this.error,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{error:n,subscriber:t});t.error(n)},e}(r.Observable);e.ErrorObservable=o},D3O6:function(t,e,n){"use strict";var i=n("/oeL"),r=n("WDs4"),o=n("ansA");n.d(e,"a",function(){return s});var s=function(){function t(t,e){this.translate=t,this._ref=e,this.value=""}return t.prototype.updateValue=function(t,e,n){var i=this,r=function(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,t,e);"function"==typeof o.subscribe?o.subscribe(r):r(o)}this.translate.get(t,e).subscribe(r)},t.prototype.transform=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(!t||0===t.length)return t;if(n.i(o.b)(t,this.lastKey)&&n.i(o.b)(i,this.lastParams))return this.value;var s;if(n.i(o.a)(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var a=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(a)}catch(t){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+i[0])}}else"object"!=typeof i[0]||Array.isArray(i[0])||(s=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(n){e.lastKey&&n.lang===e.translate.currentLang&&(e.lastKey=null,e.updateValue(t,s,n.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(n){e.lastKey&&(e.lastKey=null,e.updateValue(t,s,n.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){e.lastKey&&(e.lastKey=null,e.updateValue(t,s))})),this.value},t.prototype._dispose=function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)},t.prototype.ngOnDestroy=function(){this._dispose()},t}();s.decorators=[{type:i.O},{type:i._5,args:[{name:"translate",pure:!1}]}],s.ctorParameters=function(){return[{type:r.a},{type:i._6}]}},DP67:function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var r=n("zijX");e.getSymbolObservable=i,e.observable=i(r.root),e.$$observable=e.observable},Emqh:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return i(e,t),e}(Error);e.UnsubscriptionError=r},EyWH:function(t,e,n){"use strict";function i(t){return{type:2,steps:t}}function r(t){return{type:6,styles:t}}function o(t){Promise.resolve(null).then(t)}n.d(e,"d",function(){return s}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return u});var s="*",a=(function(){function t(){}t.prototype.onDone=function(t){},t.prototype.onStart=function(t){},t.prototype.onDestroy=function(t){},t.prototype.init=function(){},t.prototype.hasStarted=function(){},t.prototype.play=function(){},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){},t.prototype.destroy=function(){},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){},Object.defineProperty(t.prototype,"parentPlayer",{get:function(){throw new Error("NOT IMPLEMENTED: Base Class")},set:function(t){throw new Error("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0})}(),function(){function t(){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){var t=this;this.hasStarted()||(o(function(){return t._onFinish()}),this._onStart()),this._started=!0},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t}()),u=function(){function t(t){var e=this;this._players=t,this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null;var n=0,i=this._players.length;0==i?o(function(){return e._onFinish()}):this._players.forEach(function(t){t.parentPlayer=e,t.onDone(function(){++n>=i&&e._onFinish()})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this._players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this._players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this._players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._destroyed||(this._onFinish(),this._players.forEach(function(t){return t.destroy()}),this._destroyed=!0,this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this._players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){this._players.forEach(function(e){e.setPosition(t)})},t.prototype.getPosition=function(){var t=0;return this._players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!0,configurable:!0}),t}()},Fhmd:function(t,e,n){"use strict";var i=n("jUlM");e.forkJoin=i.ForkJoinObservable.create},GxUr:function(t,e,n){"use strict";var i=n("/oeL"),r=n("ansA"),o=n("WDs4");n.d(e,"a",function(){return s});var s=function(){function t(t,e,n){var i=this;this.translateService=t,this.element=e,this._ref=n,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(function(t){t.lang===i.translateService.currentLang&&i.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(function(t){i.checkNodes(!0,t.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(function(t){i.checkNodes(!0)}))}return Object.defineProperty(t.prototype,"translate",{set:function(t){t&&(this.key=t,this.checkNodes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translateParams",{set:function(t){n.i(r.b)(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewChecked=function(){this.checkNodes()},t.prototype.checkNodes=function(t,e){void 0===t&&(t=!1);var n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(var i=0;i<n.length;++i){var r=n[i];if(3===r.nodeType){var o=void 0;if(this.key)o=this.key,t&&(r.lastKey=null);else{var s=this.getContent(r).trim();s.length&&(s!==r.currentValue?(o=s,r.originalContent=this.getContent(r)):r.originalContent&&t&&(r.lastKey=null,o=r.originalContent.trim()))}this.updateValue(o,r,e)}}},t.prototype.updateValue=function(t,e,i){var o=this;if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;var s=function(i){i!==t&&(e.lastKey=t),e.originalContent||(e.originalContent=o.getContent(e)),e.currentValue=n.i(r.a)(i)?i:e.originalContent||t,o.setContent(e,o.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),o._ref.markForCheck()};if(n.i(r.a)(i)){var a=this.translateService.getParsedResult(i,t,this.currentParams);"function"==typeof a.subscribe?a.subscribe(s):s(a)}else this.translateService.get(t,this.currentParams).subscribe(s)}},t.prototype.getContent=function(t){return n.i(r.a)(t.textContent)?t.textContent:t.data},t.prototype.setContent=function(t,e){n.i(r.a)(t.textContent)?t.textContent=e:t.data=e},t.prototype.ngOnDestroy=function(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()},t}();s.decorators=[{type:i.T,args:[{selector:"[translate],[ngx-translate]"}]}],s.ctorParameters=function(){return[{type:o.a},{type:i.U},{type:i._6}]},s.propDecorators={translate:[{type:i.W}],translateParams:[{type:i.W}]}},H6Sg:function(t,e,n){"use strict";function i(t){return null!=t&&"object"==typeof t}e.isObject=i},HTfL:function(t,e,n){"use strict";var i=n("CQyF");e._throw=i.ErrorObservable.create},I3ay:function(t,e,n){"use strict";function i(){return this.lift(new r.MergeAllOperator(1))}var r=n("TIdC");e.concatAll=i},IUpl:function(t,e,n){"use strict";var i=n("bKpL"),r=n("Y+l6");i.Observable.prototype.toArray=r.toArray},LEug:function(t,e,n){"use strict";var i=n("ViUi");e.merge=i.mergeStatic},Lhvy:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.ObjectUnsubscribedError=r},LiYJ:function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},Lqs2:function(t,e,n){"use strict";function i(t){return 0===t?new a.EmptyObservable:this.lift(new u(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("uT+d"),a=n("fcnB");e.take=i;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.total))},t}(),h=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},MicL:function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}e.isScheduler=i},NSJx:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},NX9l:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.getEbxColorConstantsString=function(){return this.ebxColorConstantsString},t.prototype.setEbxColorConstantsString=function(t){this.ebxColorConstantsString=t},t.prototype.getEbxStylesheetConstantsString=function(){return this.ebxStylesheetConstantsString},t.prototype.setEbxStylesheetConstantsString=function(t){this.ebxStylesheetConstantsString=t},t.prototype.getMessageBundle=function(){return this.messageBundle},t.prototype.setMessageBundle=function(t){this.messageBundle=t},t.prototype.setLanguage=function(t){this.language=t},t.prototype.getLanguage=function(){return this.language},t.ctorParameters=function(){return[]},t}()},OWbQ:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("NSJx"),o=n("lhZu"),s=n("mUVF"),a=n("mihg"),u=n("TA58"),h=n("wZOE"),l=n("wCVK"),c=n("2B7B"),f=n("bKpL"),p=n("AHF9"),d=n("DP67"),y=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return i(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[d.observable])return t instanceof f.Observable&&!n?t:new e(t,n);if(r.isArray(t))return new h.ArrayObservable(t,n);if(s.isPromise(t))return new a.PromiseObservable(t,n);if("function"==typeof t[c.iterator]||"string"==typeof t)return new u.IteratorObservable(t,n);if(o.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new p.ObserveOnSubscriber(t,n,0))},e}(f.Observable);e.FromObservable=y},QU9E:function(t,e,n){"use strict";var i=n("mihg");e.fromPromise=i.PromiseObservable.create},"Qg/J":function(t,e,n){"use strict";var i=n("/oeL");n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var r=function(){function t(){}return t}(),o=function(){function t(){}return t.prototype.handle=function(t){return t.key},t}();o.decorators=[{type:i.O}],o.ctorParameters=function(){return[]}},R08E:function(t,e,n){"use strict";var i=n("/oeL"),r=n("ansA");n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(){function t(){}return t}(),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return o(e,t),e.prototype.interpolate=function(t,e){var i=this;return"string"==typeof t&&e?t.replace(this.templateMatcher,function(t,o){var s=i.getValue(e,o);return n.i(r.a)(s)?s:t}):t},e.prototype.getValue=function(t,e){var i=e.split(".");e="";do{e+=i.shift(),!n.i(r.a)(t)||!n.i(r.a)(t[e])||"object"!=typeof t[e]&&i.length?i.length?e+=".":t=void 0:(t=t[e],e="")}while(i.length);return t},e}(s);a.decorators=[{type:i.O}],a.ctorParameters=function(){return[]}},RdI5:function(t,e,n){"use strict";function i(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function r(t){return o=t,i}var o,s=n("XRvs");e.tryCatch=r},S7im:function(t,e,n){"use strict";var i=n("bKpL"),r=n("HTfL");i.Observable.throw=r._throw},"T14+":function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("fclq"),o=n("xFbG"),s=n("LiYJ"),a=n("dkwD"),u=function(t){function e(n,i,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!n){this.destination=s.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,n,i,r)}}return i(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(o.Subscription);e.Subscriber=u;var h=function(t){function e(e,n,i,o){t.call(this),this._parentSubscriber=e;var a,u=this;r.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==s.empty&&(u=Object.create(n),r.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=i,this._complete=o}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},TA58:function(t,e,n){"use strict";function i(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new f(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function r(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n("zijX"),h=n("bKpL"),l=n("2B7B"),c=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=i(e)}return a(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,i=t.iterator,r=t.subscriber;if(n)return void r.error(t.error);var o=i.next();return o.done?void r.complete():(r.next(o.value),t.index=e+1,r.closed?void("function"==typeof i.return&&i.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,i=n.iterator,r=n.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:i,subscriber:t});for(;;){var o=i.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof i.return&&i.return();break}}},e}(h.Observable);e.IteratorObservable=c;var f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=r(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},THYR:function(t,e,n){"use strict";function i(t,e){return this.lift(new s(t,e,this))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.every=i;var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,i,r){t.call(this,e),this.predicate=n,this.thisArg=i,this.source=r,this.index=0,this.thisArg=i||this}return r(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},TIdC:function(t,e,n){"use strict";function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new a(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("yW9Z"),s=n("ktfo");e.mergeAll=i;var a=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=a;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},TQn8:function(t,e,n){"use strict";function i(t,e){return this.lift(new r.MergeMapOperator(t,e,1))}var r=n("cPhF");e.concatMap=i},TpsG:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.EmptyError=r},Tq0x:function(t,e,n){"use strict";function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.reduce=i;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;var a=function(t){function e(e,n,i,r){t.call(this,e),this.accumulator=n,this.hasSeed=r,this.index=0,this.hasValue=!1,this.acc=i,this.hasSeed||this.index++}return r(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=a},ViUi:function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(r.apply(void 0,[this].concat(t)))}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,r=t[t.length-1];return u.isScheduler(r)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof r&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof o.Observable?t[0]:new s.ArrayObservable(t,i).lift(new a.MergeAllOperator(n))}var o=n("bKpL"),s=n("wZOE"),a=n("TIdC"),u=n("MicL");e.merge=i,e.mergeStatic=r},WDs4:function(t,e,n){"use strict";var i=n("/oeL"),r=n("bKpL"),o=(n.n(r),n("/zHi")),s=(n.n(o),n("qm+V")),a=(n.n(s),n("5v8a")),u=(n.n(a),n("ub06")),h=(n.n(u),n("IUpl")),l=(n.n(h),n("5uCp")),c=(n.n(l),n("maBJ")),f=n("a3e3"),p=n("Qg/J"),d=n("R08E"),y=n("ansA");n.d(e,"b",function(){return v}),n.d(e,"a",function(){return g});var v=new i._39("USE_STORE"),g=function(){function t(t,e,n,r,o){void 0===o&&(o=!1),this.store=t,this.currentLoader=e,this.parser=n,this.missingTranslationHandler=r,this.isolate=o,this.pending=!1,this._onTranslationChange=new i.N,this._onLangChange=new i.N,this._onDefaultLangChange=new i.N,this._langs=[],this._translations={},this._translationRequests={}}return Object.defineProperty(t.prototype,"onTranslationChange",{get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLangChange",{get:function(){return this.isolate?this._onLangChange:this.store.onLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDefaultLangChange",{get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultLang",{get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langs",{get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translations",{get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._currentLang=t:this.store.translations=t},enumerable:!0,configurable:!0}),t.prototype.setDefaultLang=function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(this.defaultLang||(this.defaultLang=t),n.take(1).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}},t.prototype.getDefaultLang=function(){return this.defaultLang},t.prototype.use=function(t){var e=this,n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.take(1).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),r.Observable.of(this.translations[t]))},t.prototype.retrieveTranslations=function(t){var e;return void 0===this.translations[t]&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e},t.prototype.getTranslation=function(t){var e=this;return this.pending=!0,this.loadingTranslations=this.currentLoader.getTranslation(t).share(),this.loadingTranslations.take(1).subscribe(function(n){e.translations[t]=n,e.updateLangs(),e.pending=!1},function(t){e.pending=!1}),this.loadingTranslations},t.prototype.setTranslation=function(t,e,n){void 0===n&&(n=!1),n&&this.translations[t]?Object.assign(this.translations[t],e):this.translations[t]=e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})},t.prototype.getLangs=function(){return this.langs},t.prototype.addLangs=function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})},t.prototype.updateLangs=function(){this.addLangs(Object.keys(this.translations))},t.prototype.getParsedResult=function(t,e,n){var i;if(e instanceof Array){for(var o={},s=!1,a=0,u=e;a<u.length;a++){var h=u[a];o[h]=this.getParsedResult(t,h,n),"function"==typeof o[h].subscribe&&(s=!0)}if(s){for(var l=void 0,c=0,f=e;c<f.length;c++){var h=f[c],p="function"==typeof o[h].subscribe?o[h]:r.Observable.of(o[h]);l=void 0===l?p:l.merge(p)}return l.toArray().map(function(t){var n={};return t.forEach(function(t,i){n[e[i]]=t}),n})}return o}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&this.defaultLang&&this.defaultLang!==this.currentLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){var d={key:e,translateService:this};void 0!==n&&(d.interpolateParams=n),i=this.missingTranslationHandler.handle(d)}return void 0!==i?i:e},t.prototype.get=function(t,e){var i=this;if(!n.i(y.a)(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return r.Observable.create(function(n){var r=function(t){n.next(t),n.complete()},o=function(t){n.error(t)};i.loadingTranslations.subscribe(function(n){n=i.getParsedResult(n,t,e),"function"==typeof n.subscribe?n.subscribe(r,o):r(n)},o)});var o=this.getParsedResult(this.translations[this.currentLang],t,e);return"function"==typeof o.subscribe?o:r.Observable.of(o)},t.prototype.instant=function(t,e){if(!n.i(y.a)(t)||!t.length)throw new Error('Parameter "key" required');var i=this.getParsedResult(this.translations[this.currentLang],t,e);if(void 0!==i.subscribe){if(t instanceof Array){var r={};return t.forEach(function(e,n){r[t[n]]=t[n]}),r}return t}return i},t.prototype.set=function(t,e,n){void 0===n&&(n=this.currentLang),this.translations[n][t]=e,this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})},t.prototype.changeLang=function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang||this.changeDefaultLang(t)},t.prototype.changeDefaultLang=function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})},t.prototype.reloadLang=function(t){return this.resetLang(t),this.getTranslation(t)},t.prototype.resetLang=function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0},t.prototype.getBrowserLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}},t.prototype.getBrowserCultureLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}},t}();g.decorators=[{type:i.O}],g.ctorParameters=function(){return[{type:c.a},{type:f.b},{type:d.b},{type:p.b},{type:void 0,decorators:[{type:i.Q,args:[v]}]}]}},WSkQ:function(t,e,n){"use strict";function i(t,e,n){return this.lift(new a(t,e,n,this))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+"),s=n("TpsG");e.last=i;var a=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.hasValue=!1,this.index=0,void 0!==r&&(this.lastValue=r,this.hasValue=!0)}return r(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},XRvs:function(t,e,n){"use strict";e.errorObject={e:{}}},"Y+l6":function(t,e,n){"use strict";function i(){return this.lift(new s)}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.toArray=i;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.array=[]}return r(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},"ZNL/":function(t,e){!function(e){function n(t,e,n){Jh.oc(this),this.uC=t,this.Sb=e,this.jH=n}function i(){this.sC=[]}function r(){}function o(t){void 0===t&&(t=42),this.seed=t,this.Iy=48271,this.iv=2147483647,this.eC=this.iv/this.Iy,this.RG=this.iv%this.Iy,this.QG=1/this.iv,this.random()}function s(){}function a(t){this.key=-1,this.value=t}function u(t,e){this.xl=t,this.yl=e,this.kv=!1}function h(t){this.Cc=t,this.$h=null,t.Eb=null,this.Ta=t.F,this.Bc=-1}function l(t){this.Cc=t,t.Ti=null,this.Ta=t.F,this.Bc=t.n.length}function c(t){Jh.oc(this),this.P=!1,this.n=[],this.F=0,this.Ti=this.Eb=null,void 0===t||null===t?this.na=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.na=t:Jh.Fa(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.na=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:Jh.Fa(t,"null, a primitive type name, or a class type","List constructor: type")}function f(t){this.bi=t,t.Eb=null,this.Ta=t.F,this.Wa=null}function p(t){Jh.oc(this),this.P=!1,void 0===t||null===t?this.na=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.na=t:Jh.Fa(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.na=t===Object?"object":t===String?"string":t===Number?"number":t:Jh.Fa(t,"null, a primitive type name, or a class type","Set constructor: type"),this.sd={},this.rd=0,this.Eb=null,this.F=0,this.Uh=this.Ea=null}function d(t){this.Ga=t,this.Ta=t.F,this.Wa=null}function y(t){Jh.oc(this),this.P=!0,this.Ga=t}function v(t){this.Ga=t,t.hh=null,this.Ta=t.F,this.Wa=null}function g(t,e){this.key=t,this.value=e,this.mp=this.$a=null}function m(t){this.Ga=t,t.Eb=null,this.Ta=t.F,this.Wa=null}function b(t,e){Jh.oc(this),this.P=!1,void 0===t||null===t?this.Th=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.Th=t:Jh.Fa(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.Th=t===Object?"object":t===String?"string":t===Number?"number":t:Jh.Fa(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.Jt=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.Jt=e:Jh.Fa(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.Jt=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:Jh.Fa(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.sd={},this.rd=0,this.hh=this.Eb=null,this.F=0,this.Uh=this.Ea=null}function w(t,e){void 0===t?this.y=this.x=0:(this.x=t,this.y=e)}function x(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n}function k(t,e){return e.xh(t),t}function P(t,e){void 0===t?this.height=this.width=0:(this.width=t,this.height=e)}function C(t,e,n,i){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof w?e instanceof w?(this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)):e instanceof P?(this.x=t.x,this.y=t.y,this.width=e.width,this.height=e.height):Jh.k("Incorrect arguments supplied to Rect constructor"):(this.x=t,this.y=e,this.width=n,this.height=i)}function S(t,e,n){t.width=e,t.height=n}function T(t,e){return J(t.x,e.x)&&J(t.y,e.y)&&J(t.width,e.width)&&J(t.height,e.height)}function M(t,e,n,i,r){var o=t.width;return n+r<=-o?(t.x+=o/2,t.width=0):(t.x-=r,t.width+=n+r),n=t.height,e+i<=-n?(t.y+=n/2,t.height=0):(t.y-=e,t.height+=e+i),t}function _(t,e,n,i,r){var o=Math.max(t.x,e),s=Math.max(t.y,n);return e=Math.min(t.x+t.width,e+i),n=Math.min(t.y+t.height,n+r),t.x=o,t.y=s,t.width=Math.max(0,e-o),t.height=Math.max(0,n-s),t}function N(t,e){var n=t.width,i=e.width+10+10,r=t.x,o=e.x-10;return!(r>i+o||o>n+r)&&(n=t.height,i=e.height+10+10,r=t.y,o=e.y-10,!(r>i+o||o>n+r))}function A(t,e,n,i,r){var o=Math.min(t.x,e),s=Math.min(t.y,n);return e=Math.max(t.x+t.width,e+i),n=Math.max(t.y+t.height,n+r),t.x=o,t.y=s,t.width=e-o,t.height=n-s,t}function O(t,e,n,i){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===n?(i=e,this.top=t,this.right=e,this.bottom=t,this.left=i):void 0!==i?(this.top=t,this.right=e,this.bottom=n,this.left=i):Jh.k("Invalid arguments to Margin constructor")}function j(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function E(t,e,n,i){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=i)}function L(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function D(){this.Vb=[1,0,0,1,0,0]}function F(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.KE=[],this.pattern=null}function R(t,e,n){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.Mn=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.Qp=!1,this.Eg=this.st=this.rt=0,this.document=e||document,this.XE=n,this.Rx=null,this.path=[],this.vh=new D,this.stack=[],this.qf=[],this.yx=t,this.iJ="http://www.w3.org/2000/svg",this.width=this.yx.width,this.height=this.yx.height,this.rm=V(this,"svg",{width:this.width+"px",height:this.height+"px",viewBox:"0 0 "+this.yx.width+" "+this.yx.height}),this.rm.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.rm.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),G(this,1,0,0,1,0,0),t=Jh.wm++,e=V(this,"clipPath",{id:"mainClip"+t}),e.appendChild(V(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.rm.appendChild(e),this.qf[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")}function V(t,e,n,i){if(t=t.document.createElementNS(t.iJ,e),Jh.Pa(n))for(var r in n)t.setAttributeNS("href"===r?"http://www.w3.org/1999/xlink":"",r,n[r]);return void 0!==i&&(t.textContent=i),t}function I(t,e,n,i,r){1!==t.globalAlpha&&(n.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof F?n.fill=B(t,t.fillStyle):(/^rgba\(/.test(t.fillStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),n.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",n["fill-opacity"]=e[4]),n.fill=t.fillStyle),n.stroke="none"):"stroke"===e&&(n.fill="none",t.strokeStyle instanceof F?n.stroke=B(t,t.strokeStyle):(/^rgba\(/.test(t.strokeStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),n.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",n["stroke-opacity"]=e[4]),n.stroke=t.strokeStyle),n["stroke-width"]=t.lineWidth,n["stroke-linecap"]=t.lineCap,n["stroke-linejoin"]=t.lineJoin,n["stroke-miterlimit"]=t.miterLimit),t=i.Vb,t="matrix("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")",void 0!==r&&(t+=r),n.transform=t}function B(t,e){var n,i="GRAD"+Jh.wm++;if("linear"===e.type)n=V(t,"linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:i,gradientUnits:"userSpaceOnUse"});else if("radial"===e.type)n=V(t,"radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:i});else{if("pattern"!==e.type)throw Error("invalid gradient");var r=e.pattern;n={width:r.width,height:r.height,id:i,patternUnits:"userSpaceOnUse"};var o="";r instanceof HTMLCanvasElement&&(o=r.toDataURL()),r instanceof HTMLImageElement&&(o=r.src),r={x:0,y:0,width:r.width,height:r.height,href:o},n=V(t,"pattern",n),n.appendChild(V(t,"image",r))}for(var r=e.KE,o=r.length,s=[],a=0;a<o;a++){var u=r[a],h=u.color,u={offset:u.offset,"stop-color":h};/^rgba\(/.test(h)&&(h=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(h),u["stop-color"]="rgb("+h[1]+","+h[2]+","+h[3]+")",u["stop-opacity"]=h[4]),s.push(u)}for(s.sort(function(t,e){return t.offset>e.offset?1:-1}),a=0;a<o;a++)n.appendChild(V(t,"stop",s[a]));return t.rm.appendChild(n),"url(#"+i+")"}function q(t,e,n,i){n={x:n[0],y:n[1],width:n[2],height:n[3]},I(t,e,n,i),t.addElement("rect",n)}function z(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var s=Jh.Vl(n[o]),a=[s.shift()];if("A"===a[0])a.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)a.push(s.shift()+","+s.shift());r.push(a.join(" "))}n={d:r.join(" ")},I(t,e,n,i),"clipPath"===e?(e="CLIP"+Jh.wm++,i=V(t,"clipPath",{id:e}),i.appendChild(V(t,"path",n)),t.rm.appendChild(i),0<t.qf.length&&t.qf[t.qf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",n)}function G(t,e,n,i,r,o,s){var a=new D;a.Vb=[e,n,i,r,o,s],e={},I(t,"g",e,a),a=t.addElement("g",e),t.qf.push(a)}function H(t,e){this.ownerDocument=void 0===e?document:e;var n=this.ownerDocument.createElement("canvas");n.tabIndex=0,this.Od=n,this.Gk=new U(n),n.aa=t,Object.seal(this)}function U(t){t.getContext&&t.getContext("2d")||Jh.k("Browser does not support HTML Canvas Element"),this.ua=t.getContext("2d"),this.Wy=this.Yy=this.Xy="",this.fr=!1,this.Eg=this.st=this.rt=0,Object.seal(this)}function K(t){if(0>=t)return 0;var e=ic;if(null===e){for(var e=[],n=0;2e3>=n;n++)e[n]=Math.sqrt(n);ic=e}return 1>t?(n=1/t,2e3>=n?1/e[0|n]:Math.sqrt(t)):2e3>=t?e[0|t]:Math.sqrt(t)}function W(t,e){var n=t-e;return.5>n&&-.5<n}function J(t,e){var n=t-e;return 5e-8>n&&-5e-8<n}function Y(t,e,n,i,r,o,s){0>=r&&(r=1e-6);var a=0,u=0,h=0,l=0;if(t<n?(u=t,a=n):(u=n,a=t),e<i?(l=e,h=i):(l=i,h=e),t===n)return l<=s&&s<=h&&t-r<=o&&o<=t+r;if(e===i)return u<=o&&o<=a&&e-r<=s&&s<=e+r;if(a+=r,(u-=r)<=o&&o<=a&&(h+=r,(l-=r)<=s&&s<=h))if(a-u>h-l){if(!(t-n>r||n-t>r))return!0;if((o=(i-e)/(n-t)*(o-t)+e)-r<=s&&s<=o+r)return!0}else{if(!(e-i>r||i-e>r))return!0;if((s=(n-t)/(i-e)*(s-e)+t)-r<=o&&o<=s+r)return!0}return!1}function Q(t,e,n,i,r,o,s,a,u,h,l,c){if(Y(t,e,s,a,c,n,i)&&Y(t,e,s,a,c,r,o))return Y(t,e,s,a,c,h,l);var f=(t+n)/2,p=(e+i)/2,d=(n+r)/2,y=(i+o)/2;r=(r+s)/2,o=(o+a)/2,i=(f+d)/2,n=(p+y)/2;var d=(d+r)/2,y=(y+o)/2,v=(i+d)/2,g=(n+y)/2;return Q(t,e,f,p,i,n,v,g,u,h,l,c)||Q(v,g,d,y,r,o,s,a,u,h,l,c)}function Z(t,e,n,i,r,o,s,a,u,h){if(Y(t,e,s,a,u,n,i)&&Y(t,e,s,a,u,r,o))A(h,t,e,0,0),A(h,s,a,0,0);else{var l=(t+n)/2,c=(e+i)/2,f=(n+r)/2,p=(i+o)/2;r=(r+s)/2,o=(o+a)/2,i=(l+f)/2,n=(c+p)/2;var f=(f+r)/2,p=(p+o)/2,d=(i+f)/2,y=(n+p)/2;Z(t,e,l,c,i,n,d,y,u,h),Z(d,y,f,p,r,o,s,a,u,h)}}function X(t,e,n,i,r,o,s,a,u,h){if(Y(t,e,s,a,u,n,i)&&Y(t,e,s,a,u,r,o))0===h.length&&(h.push(t),h.push(e)),h.push(s),h.push(a);else{var l=(t+n)/2,c=(e+i)/2,f=(n+r)/2,p=(i+o)/2;r=(r+s)/2,o=(o+a)/2,i=(l+f)/2,n=(c+p)/2;var f=(f+r)/2,p=(p+o)/2,d=(i+f)/2,y=(n+p)/2;X(t,e,l,c,i,n,d,y,u,h),X(d,y,f,p,r,o,s,a,u,h)}}function $(t,e,n,i,r,o,s,a,u,h,l,c,f,p){var d=1-u;t=t*d+n*u,e=e*d+i*u,n=n*d+r*u,i=i*d+o*u,r=r*d+s*u,o=o*d+a*u,a=t*d+n*u,s=e*d+i*u,n=n*d+r*u,i=i*d+o*u,h.x=t,h.y=e,l.x=a,l.y=s,c.x=a*d+n*u,c.y=s*d+i*u,f.x=n,f.y=i,p.x=r,p.y=o}function tt(t,e,n,i,r,o,s,a,u,h){if(Y(t,e,r,o,h,n,i))return Y(t,e,r,o,h,a,u);var l=(t+n)/2,c=(e+i)/2;n=(n+r)/2,i=(i+o)/2;var f=(l+n)/2,p=(c+i)/2;return tt(t,e,l,c,f,p,s,a,u,h)||tt(f,p,n,i,r,o,s,a,u,h)}function et(t,e,n,i,r,o,s,a){if(Y(t,e,r,o,s,n,i))A(a,t,e,0,0),A(a,r,o,0,0);else{var u=(t+n)/2,h=(e+i)/2;n=(n+r)/2,i=(i+o)/2;var l=(u+n)/2,c=(h+i)/2;et(t,e,u,h,l,c,s,a),et(l,c,n,i,r,o,s,a)}}function nt(t,e,n,i,r,o,s,a){if(Y(t,e,r,o,s,n,i))0===a.length&&(a.push(t),a.push(e)),a.push(r),a.push(o);else{var u=(t+n)/2,h=(e+i)/2;n=(n+r)/2,i=(i+o)/2;var l=(u+n)/2,c=(h+i)/2;nt(t,e,u,h,l,c,s,a),nt(l,c,n,i,r,o,s,a)}}function it(t,e,n,i,r,o,s,a,u,h,l,c,f,p){if(0>=f&&(f=1e-6),Y(t,e,s,a,f,n,i)&&Y(t,e,s,a,f,r,o)){var d=(t-s)*(h-c)-(e-a)*(u-l);if(0===d)return!1;if(f=((t*a-e*s)*(u-l)-(t-s)*(u*c-h*l))/d,d=((t*a-e*s)*(h-c)-(e-a)*(u*c-h*l))/d,(u>l?u-l:l-u)<(h>c?h-c:c-h)){if(s=u=0,e<a?(u=e,s=a):(u=a,s=e),d<u||d>s)return!1}else if(t<s?u=t:(u=s,s=t),f<u||f>s)return!1;return p.x=f,p.y=d,!0}var d=(t+n)/2,y=(e+i)/2;n=(n+r)/2,i=(i+o)/2,r=(r+s)/2,o=(o+a)/2;var v=(d+n)/2,g=(y+i)/2;n=(n+r)/2,i=(i+o)/2;var m=(v+n)/2,b=(g+i)/2,w=(l-u)*(l-u)+(c-h)*(c-h),x=!1;return it(t,e,d,y,v,g,m,b,u,h,l,c,f,p)&&(e=(p.x-u)*(p.x-u)+(p.y-h)*(p.y-h))<w&&(w=e,x=!0),t=p.x,d=p.y,it(m,b,n,i,r,o,s,a,u,h,l,c,f,p)&&(e=(p.x-u)*(p.x-u)+(p.y-h)*(p.y-h),e<w?x=!0:(p.x=t,p.y=d)),x}function rt(t,e,n,i,r,o,s,a,u,h,l,c,f){var p=0;if(0>=f&&(f=1e-6),Y(t,e,s,a,f,n,i)&&Y(t,e,s,a,f,r,o)){if(0===(f=(t-s)*(h-c)-(e-a)*(u-l)))return p;var d=((t*a-e*s)*(u-l)-(t-s)*(u*c-h*l))/f,y=((t*a-e*s)*(h-c)-(e-a)*(u*c-h*l))/f;if(d>=l)return p;if((u>l?u-l:l-u)<(h>c?h-c:c-h)){if(t=u=0,e<a?(u=e,t=a):(u=a,t=e),y<u||y>t)return p}else if(t<s?(u=t,t=s):u=s,d<u||d>t)return p;0<f?p++:0>f&&p--}else{var d=(t+n)/2,y=(e+i)/2,v=(n+r)/2,g=(i+o)/2;r=(r+s)/2,o=(o+a)/2,i=(d+v)/2,n=(y+g)/2;var v=(v+r)/2,g=(g+o)/2,m=(i+v)/2,b=(n+g)/2,p=p+rt(t,e,d,y,i,n,m,b,u,h,l,c,f),p=p+rt(m,b,v,g,r,o,s,a,u,h,l,c,f)}return p}function ot(t,e,n,i,r,o,s){if(J(t,n)){var a=0;return n=0,(e<i?(a=e,n=i):(a=i,n=e),(i=o)<a)?(s.x=t,s.y=a,!1):i>n?(s.x=t,s.y=n,!1):(s.x=t,s.y=i,!0)}return J(e,i)?(t<n?a=t:(a=n,n=t),(i=r)<a?(s.x=a,s.y=e,!1):i>n?(s.x=n,s.y=e,!1):(s.x=i,s.y=e,!0)):-5e-6>(a=((t-r)*(t-n)+(e-o)*(e-i))/((n-t)*(n-t)+(i-e)*(i-e)))?(s.x=t,s.y=e,!1):1.000005<a?(s.x=n,s.y=i,!1):(s.x=t+a*(n-t),s.y=e+a*(i-e),!0)}function st(t,e,n,i,r,o,s,a,u){return W(t,n)&&W(e,i)?(u.x=t,u.y=e,!1):J(r,s)?J(t,n)?(ot(t,e,n,i,r,o,u),!1):(o=(i-e)/(n-t)*(r-t)+e,ot(t,e,n,i,r,o,u)):(a=(a-o)/(s-r),J(t,n)?(o=a*(t-r)+o,n=s=0,e<i?(s=e,n=i):(s=i,n=e),o<s?(u.x=t,u.y=s,!1):o>n?(u.x=t,u.y=n,!1):(u.x=t,u.y=o,!0)):(s=(i-e)/(n-t),J(a,s)?(ot(t,e,n,i,r,o,u),!1):(r=(s*t-a*r+o-e)/(s-a),J(s,0)?(t<n?s=t:(s=n,n=t),r<s?(u.x=s,u.y=e,!1):r>n?(u.x=n,u.y=e,!1):(u.x=r,u.y=e,!0)):(o=s*(r-t)+e,ot(t,e,n,i,r,o,u)))))}function at(t,e,n,i,r,o,s,a,u){var h=1e21,l=t,c=e;if(st(t,e,t,i,r,o,s,a,u)){var f=(u.x-r)*(u.x-r)+(u.y-o)*(u.y-o);f<h&&(h=f,l=u.x,c=u.y)}return st(n,e,n,i,r,o,s,a,u)&&(f=(u.x-r)*(u.x-r)+(u.y-o)*(u.y-o))<h&&(h=f,l=u.x,c=u.y),st(t,e,n,e,r,o,s,a,u)&&(f=(u.x-r)*(u.x-r)+(u.y-o)*(u.y-o))<h&&(h=f,l=u.x,c=u.y),st(t,i,n,i,r,o,s,a,u)&&(f=(u.x-r)*(u.x-r)+(u.y-o)*(u.y-o))<h&&(h=f,l=u.x,c=u.y),u.x=l,u.y=c,1e21>h}function ut(t,e,n,i,r,o,s,a,u){n=t-n;var h=r-s,l=s=0;return 0===n||0===h?0===n?(a=(o-a)/h,s=t,l=a*s+(o-a*r)):(i=(e-i)/n,s=r,l=i*s+(e-i*t)):(i=(e-i)/n,a=(o-a)/h,t=e-i*t,s=(o-a*r-t)/(i-a),l=i*s+t),u.m(s,l),u}function ht(t,e,n){var i=e.x,r=e.y,o=n.x,s=n.y,a=t.left,u=t.right,h=t.top,l=t.bottom;return i===o?(o=t=0,r<s?(t=r,o=s):(t=s,o=r),a<=i&&i<=u&&t<=l&&o>=h):r===s?(i<o?t=i:(t=o,o=i),h<=r&&r<=l&&t<=u&&o>=a):!!(t.Ia(e)||t.Ia(n)||lt(a,h,u,h,i,r,o,s)||lt(u,h,u,l,i,r,o,s)||lt(u,l,a,l,i,r,o,s)||lt(a,l,a,h,i,r,o,s))}function lt(t,e,n,i,r,o,s,a){return 0>=ct(t,e,n,i,r,o)*ct(t,e,n,i,s,a)&&0>=ct(r,o,s,a,t,e)*ct(r,o,s,a,n,i)}function ct(t,e,n,i,r,o){return n-=t,i-=e,t=r-t,e=o-e,o=t*i-e*n,0===o&&0<(o=t*n+e*i)&&0>(o=(t-n)*n+(e-i)*i)&&(o=0),0>o?-1:0<o?1:0}function ft(t){return 0>t&&(t+=360),360<=t&&(t-=360),t}function pt(t,e,n,i){var r=Math.PI;i||(e*=r/180,n*=r/180);var o=e>n?-1:1;i=[];var s=r/2,a=e;if(1e-5>(n=Math.min(2*r,Math.abs(n-e))))return e=a+o*Math.min(n,s),o=0+t*Math.cos(a),a=0+t*Math.sin(a),s=0+t*Math.cos(e),t=0+t*Math.sin(e),e=(o+s)/2,n=(a+t)/2,i.push([o,a,e,n,e,n,s,t]),i;for(;1e-5<n;){e=a+o*Math.min(n,s);var r=(e-a)/2,u=t*Math.cos(r),h=t*Math.sin(r),l=-h,c=u*u+l*l,f=c+u*u+l*h,c=4/3*(Math.sqrt(2*c*f)-f)/(u*h-l*u),h=u-c*l,u=l+c*u,l=-u,c=r+a,r=Math.cos(c),c=Math.sin(c);i.push([0+t*Math.cos(a),0+t*Math.sin(a),0+h*r-u*c,0+h*c+u*r,0+h*r-l*c,0+h*c+l*r,0+t*Math.cos(e),0+t*Math.sin(e)]),n-=Math.abs(e-a),a=e}return i}function dt(t,e,n,i,r,o,s){n=Math.floor((t-n)/r)*r+n,i=Math.floor((e-i)/o)*o+i;var a=n;n+r-t<r/2&&(a=n+r),t=i,i+o-e<o/2&&(t=i+o),s.m(a,t)}function yt(t,e){var n=Math.max(t,e),i=Math.min(t,e),r=1,o=1;do{r=n%i,n=o=i,i=r}while(0<r);return o}function vt(t,e,n,i){var r=0>n,o=0>i,s=0,a=s=0;t<e?(s=1,a=0):(s=0,a=1);var u=0,h=0,l=0,c=0,u=0===s?t:e,l=0===s?n:i;if((0===s?r:o)&&(l=-l),s=a,h=0===s?t:e,c=0===s?n:i,(0===s?r:o)&&(c=-c),t=t=0,0<c)if(0<l){for(e=u*u,t=h*h,u*=l,n=h*c,i=-t+n,r=-t+Math.sqrt(u*u+n*n),h=i,o=0;9999999999>o&&((h=.5*(i+r))!==i&&h!==r);++o)if(a=u/(h+e),s=n/(h+t),0<(a=a*a+s*s-1))i=h;else{if(!(0>a))break;r=h}l=e*l/(h+e)-l,c=t*c/(h+t)-c,t=Math.sqrt(l*l+c*c)}else t=Math.abs(c-h);else c=u*u-h*h,t=u*l,t<c?(c=t/c,t=h*Math.sqrt(Math.abs(1-c*c)),l=u*c-l,t=Math.sqrt(l*l+t*t)):t=Math.abs(l-u);return t}function gt(t){1<arguments.length&&Jh.k("Geometry constructor can take at most one optional argument, the Geometry type."),Jh.oc(this),this.P=!1,void 0===t&&(t=ac),this.na=t,this.Hb=this.Ab=this.Oc=this.Ec=0,this.Vj=new c(St),this.Ov=this.Vj.F,this.zv=(new C).freeze(),this.hb=!0,this.Vq=this.qo=null,this.Wq=NaN,this.hi=rl,this.ii=fl,this.So=this.Uo=NaN,this.Ki=Bf}function mt(t,e){if(t.type!==rc||e.type!==ac)return!1;if(1===e.fc.count){var n=e.fc.fa(0);if(1===n.yb.count&&W(t.ha,n.ha)&&W(t.da,n.da)&&(n=n.yb.fa(0),n.type===cc&&W(t.C,n.C)&&W(t.D,n.D)))return!0}return!1}function bt(t,e){for(var n=t.length,i=Jh.K(),r=0;r<n;r++){var o=t[r];i.x=o[0],i.y=o[1],e.nb(i),o[0]=i.x,o[1]=i.y,i.x=o[2],i.y=o[3],e.nb(i),o[2]=i.x,o[3]=i.y,i.x=o[4],i.y=o[5],e.nb(i),o[4]=i.x,o[5]=i.y,i.x=o[6],i.y=o[7],e.nb(i),o[6]=i.x,o[7]=i.y}Jh.v(i)}function wt(t,e,n){switch(t.type){case rc:case oc:case sc:n?e.m(t.Ec,t.Oc,0,0):A(e,t.Ec,t.Oc,0,0),A(e,t.Ab,t.Hb,0,0);break;case ac:var i=t.fc;t=i.n;for(var i=i.length,r=0;r<i;r++){var o=t[r];n&&0===r?e.m(o.ha,o.da,0,0):A(e,o.ha,o.da,0,0);for(var s=o.yb.n,a=s.length,u=o.ha,h=o.da,l=0;l<a;l++){var c=s[l];switch(c.type){case cc:case lc:u=c.C,h=c.D,A(e,u,h,0,0);break;case fc:Z(u,h,c.xc,c.Sc,c.Eh,c.Fh,c.C,c.D,.5,e),u=c.C,h=c.D;break;case pc:et(u,h,c.xc,c.Sc,c.C,c.D,.5,e),u=c.C,h=c.D;break;case dc:case yc:var f=c.type===dc?Mt(c,o):_t(c,o,u,h),p=f.length;if(0===p){u=c.la,h=c.sa,A(e,u,h,0,0);break}for(var c=null,d=0;d<p;d++)c=f[d],Z(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(u=c[6],h=c[7]);break;default:Jh.k("Unknown Segment type: "+c.type)}}}break;default:Jh.k("Unknown Geometry type: "+t.type)}}function xt(t,e,n,i,r,o,s,a){if(Y(r,o,s,a,.05,t,e))return NaN;var u=(t-n)*(o-a);if(0===u)return 0;var h=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/u;if(e=(t*i-e*n)*(o-a)/u,h>=t)return 0;if((r>s?r-s:s-r)<(o>a?o-a:a-o)){if(r=t=0,o<a?(t=o,r=a):(t=a,r=o),e<t||e>r)return 0}else if(r<s?(t=r,r=s):t=s,h<t||h>r)return 0;return 0<u?1:-1}function kt(t,e,n,i){t=t.fc.n;for(var r=t.length,o=0;o<r;o++)if(t[o].Ia(e,n,i))return!0;return!1}function Pt(t){if(null===t.qo){var e=t.qo=[],n=t.Vq=[],i=[],r=[];if(t.type===rc)i.push(t.ha),i.push(t.da),i.push(t.C),i.push(t.D),e.push(i),r.push(Math.sqrt((t.ha-t.C)*(t.ha-t.C)+(t.da-t.D)*(t.da-t.D))),n.push(r);else if(t.type===oc)i.push(t.ha),i.push(t.da),i.push(t.C),i.push(t.da),i.push(t.C),i.push(t.D),i.push(t.ha),i.push(t.D),i.push(t.ha),i.push(t.da),e.push(i),r.push(Math.abs(t.ha-t.C)),r.push(Math.abs(t.da-t.D)),r.push(Math.abs(t.ha-t.C)),r.push(Math.abs(t.da-t.D)),n.push(r);else if(t.type===sc){var o=new St;o.ha=t.C,o.da=(t.da+t.D)/2;var s=new Tt(dc);if(s.Ae=0,s.uf=360,s.la=(t.ha+t.C)/2,s.sa=(t.da+t.D)/2,s.radiusX=Math.abs(t.ha-t.C)/2,s.radiusY=Math.abs(t.da-t.D)/2,o.add(s),t=Mt(s,o),0===(r=t.length))i.push(s.la),i.push(s.sa);else for(var s=o.ha,o=o.da,a=0;a<r;a++){var u=t[a];X(s,o,u[2],u[3],u[4],u[5],u[6],u[7],.5,i),s=u[6],o=u[7]}e.push(i),n.push(Ct(i))}else for(var h=t.fc.i;h.next();){var l=h.value,i=[];i.push(l.ha),i.push(l.da);for(var s=l.ha,o=l.da,c=s,f=o,p=l.yb.n,d=p.length,y=0;y<d;y++){var v=p[y];switch(v.na){case lc:4<=i.length&&(e.push(i),n.push(Ct(i))),i=[],i.push(v.C),i.push(v.D),s=v.C,o=v.D,c=s,f=o;break;case cc:i.push(v.C),i.push(v.D),s=v.C,o=v.D;break;case fc:X(s,o,v.Jd,v.Ye,v.oh,v.Dg,v.Ab,v.Hb,.5,i),s=v.C,o=v.D;break;case pc:nt(s,o,v.Jd,v.Ye,v.Ab,v.Hb,.5,i),s=v.C,o=v.D;break;case dc:if(t=Mt(v,l),0===(r=t.length)){i.push(v.la),i.push(v.sa),s=v.la,o=v.sa;break}for(a=0;a<r;a++)u=t[a],X(s,o,u[2],u[3],u[4],u[5],u[6],u[7],.5,i),s=u[6],o=u[7];break;case yc:if(t=_t(v,l,s,o),0===(r=t.length)){i.push(v.la),i.push(v.sa),s=v.la,o=v.sa;break}for(a=0;a<r;a++)u=t[a],X(s,o,u[2],u[3],u[4],u[5],u[6],u[7],.5,i),s=u[6],o=u[7];break;default:Jh.k("Segment not of valid type: "+v.na)}v.Sh&&(i.push(c),i.push(f))}4<=i.length&&(e.push(i),n.push(Ct(i)))}}}function Ct(t){for(var e=[],n=0,i=0,r=t.length,o=0;o<r;o+=2){var s=t[o],a=t[o+1];0!==o&&(n=Math.sqrt(Xh(n,i,s,a)),e.push(n)),n=s,i=a}return e}function St(t,e,n,i){Jh.oc(this),this.P=!1,void 0===n&&(n=!0),this.Km=n,void 0===i&&(i=!0),this.Vo=i,this.Ec=void 0!==t?t:0,this.Oc=void 0!==e?e:0,this.qp=new c(Tt),this.Mw=this.qp.F,this.hb=!0}function Tt(t,e,n,i,r,o,s,a){Jh.oc(this),this.P=!1,void 0===t&&(t=cc),this.na=t,this.Ab=void 0!==e?e:0,this.Hb=void 0!==n?n:0,void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),t===yc?(t=o%360,0>t&&(t+=360),this.Jd=t,this.Ye=0,this.oh=Math.max(i,0),this.Dg=Math.max(r,0),this.Zo="boolean"==typeof s&&!!s,this.uo=!!a):(this.Jd=i,this.Ye=r,t===dc&&(o=Math.max(o,0)),this.oh=o,"number"==typeof s?(t===dc&&(s=Math.max(s,0)),this.Dg=s):this.Dg=0,this.uo=this.Zo=!1),this.Sh=!1,this.hb=!0,this.Kh=null}function Mt(t,e){if(null!==t.Kh&&!1===e.hb)return t.Kh;var n=t.radiusX,i=t.radiusY;if(void 0===i&&(i=n),0===n||0===i)return t.Kh=[],t.Kh;var r=t.Jd,o=t.Ye,s=pt(n<i?n:i,t.Ae,t.Ae+t.uf,!1);if(n!==i){var a=Jh.Wg();a.reset(),n<i?a.scale(1,i/n):a.scale(n/i,1),bt(s,a),Jh.bf(a)}for(n=s.length,i=0;i<n;i++)a=s[i],a[0]+=r,a[1]+=o,a[2]+=r,a[3]+=o,a[4]+=r,a[5]+=o,a[6]+=r,a[7]+=o;return t.Kh=s,t.Kh}function _t(t,e,n,i){function r(t,e,n,i){return(t*i<e*n?-1:1)*Math.acos((t*n+e*i)/(Math.sqrt(t*t+e*e)*Math.sqrt(n*n+i*i)))}if(null!==t.Kh&&!1===e.hb)return t.Kh;e=t.oh;var o=t.Dg;0===e&&(e=1e-4),0===o&&(o=1e-4);var s=Math.PI/180*t.Jd,a=t.Zo,u=t.uo,h=t.Ab,l=t.Hb,c=Math.cos(s),f=Math.sin(s),p=c*(n-h)/2+f*(i-l)/2,s=-f*(n-h)/2+c*(i-l)/2,d=p*p/(e*e)+s*s/(o*o);return 1<d&&(e*=Math.sqrt(d),o*=Math.sqrt(d)),d=(a===u?-1:1)*Math.sqrt((e*e*o*o-e*e*s*s-o*o*p*p)/(e*e*s*s+o*o*p*p)),isNaN(d)&&(d=0),a=d*e*s/o,d=d*-o*p/e,isNaN(a)&&(a=0),isNaN(d)&&(d=0),n=(n+h)/2+c*a-f*d,i=(i+l)/2+f*a+c*d,l=r(1,0,(p-a)/e,(s-d)/o),c=(p-a)/e,h=(s-d)/o,p=(-p-a)/e,a=(-s-d)/o,s=r(c,h,p,a),p=(c*p+h*a)/(Math.sqrt(c*c+h*h)*Math.sqrt(p*p+a*a)),-1>=p?s=Math.PI:1<=p&&(s=0),!u&&0<s&&(s-=2*Math.PI),u&&0>s&&(s+=2*Math.PI),u=e>o?1:e/o,p=e>o?o/e:1,e=pt(e>o?e:o,l,l+s,!0),o=Jh.Wg(),o.reset(),o.translate(n,i),o.rotate(t.Jd,0,0),o.scale(u,p),bt(e,o),Jh.bf(o),t.Kh=e,t.Kh}function Nt(){this.aa=null,this.dA=new w(0,0).freeze(),this.jz=new w(0,0).freeze(),this.wv=this.sw=0,this.xv=1,this.gw="",this.Ww=this.Kv=!1,this.Iv=this.yv=0,this.Qj=this.Tv=this.cw=!1,this.Ir=null,this.Uw=0,this.Gg=this.Tw=null}function At(){this.aa=null,this.Sb="",this.Aw=this.Rw=null,this.cr=!1}function Ot(){this.dr=gc,this.$m=this.rw="",this.Hs=this.Is=this.Ns=this.Os=this.Ls=this.aa=this.qe=null}function jt(t){1<arguments.length&&Jh.k("Model constructor can only take one optional argument, the Array of node data."),Jh.oc(this),this.sr=this.Sb="",this.Si=!1,this.Hz={},this.He=[],this.Lc=new b(null,Object),this.ok="key",this.yo=this.cp=null,this.jr=this.kr=!1,this.Uq=null,this.Vm="category",this.Li=new b(null,p),this.kk=null,this.ij=!1,this.cA=null,this.ja=new oe,void 0!==t&&(this.Pg=t)}function Et(t){return',\n  "modelData": '+Bt(t,t.Tk)}function Lt(t,e){var n=e.modelData;Jh.Pa(n)&&(t.Uu(n),t.Tk=n)}function Dt(t,e,n,i){if(e===n)return!0;if(typeof e!=typeof n||"function"==typeof e||"function"==typeof n)return!1;if(Array.isArray(e)&&Array.isArray(n)){if(i.ka(e)===n)return!0;if(i.add(e,n),e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!Dt(t,e[r],n[r],i))return!1;return!0}if(Jh.Pa(e)&&Jh.Pa(n)){if(i.ka(e)===n)return!0;i.add(e,n);for(r in e){var o=e[r];if(!Vt(r,o)){var s=n[r];if(void 0===s||!Dt(t,o,s,i))return!1}}for(var a in n)if(s=n[a],!(Vt(a,s)||void 0!==(o=e[a])&&Dt(t,o,s,i)))return!1;return!0}return!1}function Ft(t,e,n){t[n]!==e[n]&&Jh.k("Model.computeJsonDifference: Model."+n+' is not the same in both models: "'+t[n]+'" and "'+e[n]+'"')}function Rt(t,e,n){void 0===n&&(n=!1);var r=Jh.cb(e);if(0>=r)return"[]";var o=new i;o.add("[ "),n&&1<r&&o.add("\n");for(var s=0;s<r;s++){var a=Jh.Ba(e,s);void 0!==a&&(0<s&&(o.add(","),n&&o.add("\n")),o.add(t.hv(a)))}return n&&1<r&&o.add("\n"),o.add(" ]"),o.toString()}function Vt(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function It(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function Bt(t,e){var i=e;if(i instanceof w)e={class:"go.Point",x:It(i.x),y:It(i.y)};else if(i instanceof P)e={class:"go.Size",width:It(i.width),height:It(i.height)};else if(i instanceof C)e={class:"go.Rect",x:It(i.x),y:It(i.y),width:It(i.width),height:It(i.height)};else if(i instanceof O)e={class:"go.Margin",top:It(i.top),right:It(i.right),bottom:It(i.bottom),left:It(i.left)};else if(i instanceof E)e=i.Zc()?{class:"go.Spot",x:It(i.x),y:It(i.y),offsetX:It(i.offsetX),offsetY:It(i.offsetY)}:{class:"go.Spot",enum:i.toString()};else if(i instanceof br){if(e={class:"go.Brush",type:i.type.name},i.type===bf?e.color=i.color:i.type!==wf&&i.type!==xf||(e.start=i.start,e.end=i.end,i.type===xf&&(0!==i.dv&&(e.startRadius=It(i.dv)),isNaN(i.$t)||(e.endRadius=It(i.$t)))),null!==i.Dk){for(var r={},i=i.Dk.i;i.next();)r[i.key]=i.value;e.colorStops=r}}else if(i instanceof gt)e={class:"go.Geometry",type:i.type.name},0!==i.ha&&(e.startX=It(i.ha)),0!==i.da&&(e.startY=It(i.da)),0!==i.C&&(e.endX=It(i.C)),0!==i.D&&(e.endY=It(i.D)),i.A.L(rl)||(e.spot1=i.A),i.B.L(fl)||(e.spot2=i.B),i.type===ac&&(e.path=uc(i));else if(i instanceof n)e={class:"go.EnumValue",classType:Jh.pf(i.Je),name:i.name};else if(i instanceof Tr||i instanceof Bn||i instanceof Fn||i instanceof jt||i instanceof fe||i instanceof ae||i instanceof Fa||i instanceof Ia||i instanceof oe||i instanceof re)return Jh.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+i.toString()),"{}";var o,r="{",i=!0;for(o in e){var s=Jh.vb(e,o);if(!Vt(o,s))if(i?i=!1:r+=", ",r+='"'+o+'":',"points"===o&&s instanceof c&&s.na===w){for(var a="[",s=s.i;s.next();){var u=s.value;1<a.length&&(a+=","),a+=t.hv(u.x),a+=",",a+=t.hv(u.y)}a+="]",r+=a}else r+=t.hv(s)}return r+"}"}function qt(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function zt(t,e,n,i,r,o,s,a,u){void 0===a&&(a=null),void 0===u&&(u=null);var h=new Ot;h.$=t,h.Fc=n,h.tf=e,h.propertyName=i,h.object=r,h.oldValue=o,h.Gj=a,h.newValue=s,h.Fj=u,t.mx(h)}function Gt(t,e,n){"string"!=typeof t&&"function"!=typeof t&&Jh.Fd(t,"string or function",e,n)}function Ht(t){return"number"==typeof t||"string"==typeof t}function Ut(t,e,n){var i=t.qb(e);void 0!==i&&t.Lc.ka(i)===e||(t.eB(e),i=t.qb(e),void 0===i?Jh.k("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Lc.add(i,e),i=null,n&&(i=Jh.cb(t.He),Jh.sh(t.He,i,e)),zt(t,"nodeDataArray",mc,"nodeDataArray",t,null,e,null,i),t.Aq(e),t.zq(e)))}function Kt(t,e,n){var i=t.qb(e);if(void 0!==i&&t.Lc.remove(i),i=null,n){if(0>(i=Jh.Sl(t.He,e)))return;Jh.Jg(t.He,i)}zt(t,"nodeDataArray",bc,"nodeDataArray",t,e,null,i,null),t.gv(e)}function Wt(t,e,n){if(void 0!==e){var i=t.Li.ka(e);null===i&&(i=new p(Object),t.Li.add(e,i)),i.add(n)}}function Jt(t,e,n){if(void 0!==e){var i=t.Li.ka(e);i instanceof p&&(void 0===n||null===n?t.Li.remove(e):(i.remove(n),0===i.count&&t.Li.remove(e)))}}function Yt(t,e){if(void 0===e)return null;var n=t.Li.ka(e);return n instanceof p?n:null}function Qt(t,e,n){if(t.vA&&Array.isArray(e)){var i=[];for(n=0;n<e.length;n++){var r=Qt(t,e[n],t.uA);i.push(r)}return Jh.oc(i),i}if(n&&Jh.Pa(e)){n=(n=e.constructor)?new n:{};for(i in e)if("__gohashid"!==i){var o,r=Jh.vb(e,i);o=r,o instanceof Tr||o instanceof Bn||o instanceof Fn||o instanceof Mo||o instanceof xn||o instanceof fe||o instanceof ae||o instanceof Fa||o instanceof Nt||o instanceof At?("_"!==i[0]&&Jh.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+i+'" of data object: '+e.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+o.toString()),o=!0):o=o instanceof jt||o instanceof oe||o instanceof re||o instanceof Ot,o||(r=Qt(t,r,!1)),Jh.Ma(n,i,r)}return Jh.oc(n),n}return e instanceof w?e.copy():e instanceof P?e.copy():e instanceof C?e.copy():e instanceof E?e.copy():e instanceof O?e.copy():e}function Zt(t,e){jt.call(this),2<arguments.length&&Jh.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),this.kf=[],this.Vi=new p(Object),this.fd=new b(null,Object),this.Al="",this.zm=this.xo=this.dp=null,this.Wh="from",this.Xh="to",this.Rm=this.Qm="",this.Pm="category",this.zg="",this.hp="isGroup",this.mh="group",this.lr=!1,void 0!==t&&(this.Pg=t),void 0!==e&&(this.Ah=e)}function Xt(t,e,n){if(""!==t.Dj){var i=t.cf(e);if(void 0!==i&&t.fd.ka(i)===e)return;if(t.Zx(e),void 0===(i=t.cf(e)))return void Jh.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.fd.add(i,e)}t.Vi.add(e),i=null,n&&(i=Jh.cb(t.kf),Jh.sh(t.kf,i,e)),zt(t,"linkDataArray",mc,"linkDataArray",t,null,e,null,i),te(t,e)}function $t(t,e,n){t.Vi.remove(e);var i=t.cf(e);if(void 0!==i&&t.fd.remove(i),i=null,n){if(0>(i=Jh.Sl(t.kf,e)))return;Jh.Jg(t.kf,i)}if(zt(t,"linkDataArray",bc,"linkDataArray",t,e,null,i,null),n=t.cm(e),Jt(t,n,e),n=t.dm(e),Jt(t,n,e),i=t.Nk(e),Jh.isArray(i))for(var r=Jh.cb(i),o=0;o<r;o++)n=Jh.Ba(i,o),Jt(t,n,e)}function te(t,e){var n=t.cm(e),n=t.Pn(n);null===t.we(n)&&Wt(t,n,e),n=t.dm(e),n=t.Pn(n),null===t.we(n)&&Wt(t,n,e);var i=t.Nk(e);if(Jh.isArray(i))for(var r=Jh.cb(i),o=0;o<r;o++)n=Jh.Ba(i,o),null===t.we(n)&&Wt(t,n,e)}function ee(t){1<arguments.length&&Jh.k("TreeModel constructor can only take one optional argument, the Array of node data."),jt.call(this),this.nh="parent",this.mr=!1,this.Ym="parentLinkCategory",void 0!==t&&(this.Pg=t)}function ne(t,e,n){Jh.oc(this),this.P=!1,void 0===t?t="":Jh.j(t,"string",ne,"constructor:targetprop"),void 0===e?e=t:Jh.j(e,"string",ne,"constructor:sourceprop"),void 0===n?n=null:null!==n&&Jh.j(n,"function",ne,"constructor:conv"),this.bE=-1,this.Gg=null,this.Dp=t,this.Cp=this.Bt=0,this.Ow=null,this.ds=!1,this.sp=e,this.ir=n,this.ys=xc,this.br=null,this.sz=new p}function ie(t,e,n){t=t.Kq;return null===t||""===t?e:"/"===t?n.W:"."===t?n:".."===t?n.R:e.Cd(t)}function re(){this.SG=new c(Ot).freeze(),this.Sb="",this.iD=!1}function oe(){this.Iz=new p(jt),this.jf=!1,this.WG=new c(re).freeze(),this.dh=-1,this.wD=999,this.gh=!1,this.Hv=null,this.Ml=0,this.tC=!1,this.lh=new c("string").freeze(),this.gp=new c("number"),this.uz=!0,this.Dz=!1}function se(t,e,n){if(t.lb)return!1;t.nA&&1>t.wi&&Jh.trace("Ending transaction without having started a transaction: "+n);var i=1===t.wi;i&&e&&t.hd("CommittingTransaction",n,t.sj);var r=0;if(0<t.wi&&(t.Ml--,t.isEnabled)){var o=t.lh.count;0<o&&(""===n&&(n=t.lh.fa(0)),t.lh.Qa(),t.lh.cd(o-1),t.lh.freeze()),o=t.gp.count,0<o&&(r=t.gp.fa(o-1),t.gp.cd(o-1))}if(o=t.sj,i){if(e){if(t.Dz=!1,t.isEnabled&&null!==o){for(e=o,e.uu=!0,e.name=n,i=t.history,i.Qa(),r=i.count-1;r>t.wj;r--)o=i.fa(r),null!==o&&o.clear(),i.cd(r),t.Dz=!0;r=t.QF,0===r&&(r=1),0<r&&i.count>=r&&(o=i.fa(0),null!==o&&o.clear(),i.cd(0),t.dh--),i.add(e),t.dh++,i.freeze(),o=e}t.hd("CommittedTransaction",n,o)}else{t.gh=!0;try{t.isEnabled&&null!==o&&(o.uu=!0,o.undo())}finally{t.hd("RolledBackTransaction",n,o),t.gh=!1}null!==o&&o.clear()}return t.Hv=null,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,n=o.Wf,e=n.count-1;e>=t;e--)i=n.fa(e),null!==i&&i.undo(),n.Qa(),n.cd(e);n.freeze()}return!1}function ae(){0<arguments.length&&Jh.nd(ae),Jh.oc(this),this.aa=null,this.wC=!1,this.RC=this.xC=!0,this.zC=this.AC=this.SC=this.BC=!1,this.Dl=this.mC=null,this.sE=1.05,this.OC=1,this.Ez=NaN,this.tD=null,this.hA=NaN,this.gA=Vl,this.hj=null,this.SD=0}function ue(t,e,n,i,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof Es))if(t.add(e),e instanceof Ls){if(n&&e instanceof Aa)for(var s=e.hc;s.next();)ue(t,s.value,n,i,r,o);if(!1!==r)for(s=e.je;s.next();){var a=s.value;if(!t.contains(a)){var u=a.V,h=a.Z,u=null===u||t.contains(u),h=null===h||t.contains(h);(r?u&&h:u||h)&&ue(t,a,n,i,r,o)}}if(1<i)for(e=e.fF();e.next();)ue(t,e.value,n,i-1,r,o)}else if(e instanceof Ys)for(e=e.Ff;e.next();)ue(t,e.value,n,i,r,o)}function he(t,e,n,i,r){if(null===e||r&&!e.canCopy())return null;if(i.contains(e))return i.ka(e);var o=null,s=e.data;if(null!==s&&null!==n){var a=n.$;e instanceof Ys?a instanceof Zt&&(s=a.ox(s),Jh.Pa(s)&&(a.Ot(s),o=n.Yf(s))):(s=a.copyNodeData(s),Jh.Pa(s)&&(a.Pl(s),o=n.wh(s)))}else xo(e),null!==(o=e.copy())&&(null!==n?n.add(o):null!==s&&null!==t.g&&t.HH&&(a=t.g.$,s=o instanceof Ys&&a instanceof Zt?a.ox(s):a.copyNodeData(s),Jh.Pa(s)&&(o.data=s)));if(!(o instanceof ls))return null;if(o.jb=!1,o.Og=!1,i.add(e,o),e instanceof Ls){for(s=e.je;s.next();){if(a=s.value,a.V===e){var u=i.ka(a);null!==u&&(u.V=o)}a.Z===e&&null!==(u=i.ka(a))&&(u.Z=o)}if(e instanceof Aa&&o instanceof Aa)for(s=o,e=e.hc;e.next();)(a=he(t,e.value,n,i,r))instanceof Ys||null===a||(a.Ca=s)}else if(e instanceof Ys&&o instanceof Ys)for(s=e.V,null!==s&&null!==(s=i.ka(s))&&(o.V=s),s=e.Z,null!==s&&null!==(s=i.ka(s))&&(o.Z=s),e=e.Ff;e.next();)null!==(s=he(t,e.value,n,i,r))&&s instanceof Ls&&(s.Xb=o);return o}function le(t,e,n){if(e.isVisible())return n;if(e instanceof Es)le(t,e.Ze,n);else if(e instanceof Ys){var i=e.V;null!==i&&le(t,i,n),e=e.Z,null!==e&&le(t,e,n)}else e instanceof Ls&&(i=e.Xb,null!==i&&le(t,i,n),null!==(i=e.Kk())&&(i.wc||i.Mq||n.push(i),le(t,i,n))),null!==(e=e.Ca)&&(e.$c||e.Gy||n.push(e),le(t,e,n));return n}function ce(t){var e=Jh.Za();for(t=t.i;t.next();){var n=t.value;n instanceof Ys||e.push(n)}t=new p(ls);for(var n=e.length,i=0;i<n;i++){for(var r=e[i],o=!0,s=0;s<n;s++)if(r.qi(e[s])){o=!1;break}o&&t.add(r)}return Jh.ra(e),t}function fe(){0<arguments.length&&Jh.nd(fe),Jh.oc(this),this.aa=null,this.Sb="",this.jf=!0,this.gD=!1,this.nE=null,this.Zw=-1}function pe(t,e,n){if(e.vc=!1,null===t||t.vu()){var i=0;e.left?i=1===e.te?1:2===e.te?2:1:e.right&&1===e.te&&(i=3);var r="";if(null!==t){switch(i){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==i&&n.Aa(r,t)}else{switch(i){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==i&&n.Aa(r)}if(null!==t)for(;null!==t;){switch(n=null,i){case 1:n=t.click;break;case 2:n=t.Zt?t.Zt:t.click;break;case 3:n=t.sA}if(null!==n&&(n(e,t),e.vc))break;t=t.R}else{switch(t=null,i){case 1:t=n.click;break;case 2:t=n.Zt?n.Zt:n.click;break;case 3:t=n.sA}null!==t&&t(e)}}}function de(){fe.call(this),0<arguments.length&&Jh.nd(de),this.name="Dragging",this.yC=this.kD=!0,this.Yr=this.XC=!1,this.oD=!0,this.vz=new P(NaN,NaN).freeze(),this.wz=rl,this.xz=new w(NaN,NaN).freeze(),this.WC=!1,this.ww=this.vw=this.kz=this.vC=this.VC=this.GC=this.fj=null,this.Dr=this.mD=!1,this.wp=new w(NaN,NaN),this.Pw=new w,this.Sw=!1,this.jD=!0,this.Fo=100,this.Uj=[],this.VG=new p(ls).freeze()}function ye(t,e){if(t.uj){var n=t.g;null!==n&&n.on&&(n.$ instanceof Zt&&1===e.count&&e.first()instanceof Ys?(t.ld=e.first(),t.ld.canRelinkFrom()&&t.ld.canRelinkTo()&&t.ld.Ut(),t.fj=n.Va.bG,null===t.fj&&(t.fj=new We,t.fj.Tc(n))):(t.ld=null,t.fj=null))}}function ve(t,e,n){return void 0===n?new Ie(Rl):(t=t.Sk,null!==e.Ca&&(t=!1),new Ie(t?new w(Math.round(n.x),Math.round(n.y)):n.copy()))}function ge(t,e,n,i){if(!e.contains(n)&&(!i||n.canMove()||n.canCopy()))if(n instanceof Ls){if(e.add(n,ve(t,n,n.location)),n instanceof Aa)for(var r=n.hc;r.next();)ge(t,e,r.value,i);for(r=n.je;r.next();){var o=r.value;if(!e.contains(o)){var s=o.V,a=o.Z;null!==s&&e.contains(s)&&null!==a&&e.contains(a)&&ge(t,e,o,i)}}if(t.VH)for(n=n.fF();n.next();)ge(t,e,n.value,i)}else if(n instanceof Ys)for(o=n,e.add(o,ve(t,o)),n=o.Ff;n.next();)ge(t,e,n.value,i);else n instanceof Es||e.add(n,ve(t,n,n.location))}function me(t){var e=t.g;if(null!==e){var n=e.gb;e.gb=!0,je(t,e.N,null),e.gb=n}t.Uj.length=0}function be(){var t=Mc;Ce(t),_e(t);var e=t.g;null!==e&&t.wp.I()&&(e.position=t.wp),null!==e&&ar(e)}function we(t,e){if(null!==e){t.Sw=!0;for(var n=e.i;n.next();){var i=n.key;i instanceof Ys&&(i.vi=!0)}}}function xe(t,e){if(null!==e){for(var n=e.i;n.next();){var i=n.key;i instanceof Ys&&(i.vi=!1,ea(i)&&i.Tb())}t.Sw=!1}}function ke(t,e){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,s=t.i;s.next();){var a=s.value;if(a.he()&&a.isVisible()){var u=a.location,a=u.x,u=u.y;isNaN(a)||isNaN(u)||(a<n&&(n=a),u<i&&(i=u),a>r&&(r=a),u>o&&(o=u))}}1/0===n?e.m(0,0,0,0):e.m(n,i,r-n,o-i)}function Pe(t,e){if(null===t.ec){var n=t.g;if(!(null===n||e&&(n.ib||n.Ef))&&null!==t.$b){var i=n.ja;for(i.isEnabled&&i.FF?null!==i.sj&&0<i.sj.Wf.count&&(n.ja.mm(),n.Ib("Drag")):_e(t),n.gb=!e,n.Sq=!e,t.Vk=n.uc.ea,i=t.JH?t.$b.Mj():n.selection,i=n.Tp(i,n,!0),n=i.i;n.next();)n.value.location=n.key.location;n=Jh.vf(),ke(i,n),Jh.Bb(n);for(var n=new b(ls),r=t.$b.i;r.next();){var o=r.key;o.he()&&o.canCopy()&&null!==(o=i.ka(o))&&(o.Ne(),n.add(o,ve(t,o,o.location)))}for(i=i.i;i.next();)(r=i.value)instanceof Ys&&r.canCopy()&&n.add(r,ve(t,r));t.ec=n,ye(t,n.Mj()),null!==t.ld&&(n=t.ld,i=n.$n,n.Ej(t.Vk.x-(i.x+i.width/2),t.Vk.y-(i.y+i.height/2)))}}}function Ce(t){var e=t.g;if(null!==e){if(null!==t.ec&&(e.vB(t.ec.Mj(),!1),t.ec=null,null!==t.$b))for(var n=t.$b.i;n.next();)n.key instanceof Ys&&(n.value.point=new w(0,0));e.gb=!1,e.Sq=!1,t.Vk=e.uc.ea}}function Se(t){if(null!==t.ld){if(t.uj&&null!==t.fj){var e=t.fj;null!==e.g&&(e.g.remove(e.Wd),e.g.remove(e.Xd))}t.ld=null,t.fj=null}}function Te(t,e,n){var i=t.g;if(null!==i){var r=t.Vk,o=Jh.K();o.assign(i.N.ea),t.moveParts(e,o.ui(r),n),Jh.v(o)}}function Me(t,e,n){if(null!==(e=e.Ca)){if(null!==(t=Me(t,e,n)))return t;if(null!==(t=n.ka(e)))return t}return null}function _e(t){if(null!==t.$b){for(var e=t.g,n=t.$b.i;n.next();){var i=n.key;i.he()&&(i.location=n.value.point)}for(n=t.$b.i;n.next();)if((i=n.key)instanceof Ys&&i.vi){var r=n.value.point;t.$b.add(i,ve(t,i)),i.Ej(-r.x,-r.y)}e.dg()}}function Ne(t,e,n,i){if(i.assign(n),null!==e&&null!==(e=t.g)){var r=e.Gn,o=t.sF;e=o.width;var o=o.height,s=t.kI,a=s.x,s=s.y;if(t=t.jI,null!==r){var u=r.Jx;isNaN(e)&&(e=u.width),isNaN(o)&&(o=u.height),r=r.rF,isNaN(a)&&(a=r.x),isNaN(s)&&(s=r.y)}r=Jh.wb(0,0),r.bv(0,0,e,o,t),dt(n.x,n.y,a+r.x,s+r.y,e,o,i),Jh.v(r)}}function Ae(t,e){if(null===e)return!0;var n=e.W;return!!(null===n||n instanceof Es||n.layer.Hc||t.$b&&t.$b.contains(n)||t.ec&&t.ec.contains(n))}function Oe(t,e){var n=t.g;if(null!==n){t.uj&&(null!==t.ld&&(t.ld.V=null,t.ld.Z=null),De(t,!1));var i=$n(n,e,null,function(e){return!Ae(t,e)}),r=n.N;r.Be=i;var o=n.gb,s=!1;try{if(n.gb=!0,s=je(t,r,i),!t.ta&&null===Mc)return;if(null===i){var a=n.dJ;null!==a&&(a(r),s=!0)}if(!t.ta&&null===Mc)return;if(t.doDragOver(e,i),!t.ta&&null===Mc)return}finally{n.gb=o,s&&n.dg()}(n.re||n.se)&&n.AA(r.Ce)}}function je(t,e,n){var i=!1,r=t.Uj.length,o=0<r?t.Uj[0]:null;if(n===o)return!1;e.vc=!1;for(var s=0;s<r;s++){var a=t.Uj[s],u=a.cJ;if(null!==u&&(u(e,a,n),i=!0,e.vc))break}if(t.Uj.length=0,!t.ta&&null===Mc||null===n)return i;for(e.vc=!1;null!==n;)t.Uj.push(n),n=Ee(n);for(r=t.Uj.length,s=0;s<r&&(a=t.Uj[s],null===(u=a.bJ)||(u(e,a,o),i=!0,!e.vc));s++);return i}function Ee(t){var e=t.R;return null!==e?e:t instanceof ls&&!(t instanceof Aa)&&null!==(t=t.Ca)&&t.oI?t:null}function Le(t,e,n){var i=t.fj;if(null===i)return null;var r=t.g.An(e,i.$F,function(t){return i.findValidLinkablePort(t,n)});t=Jh.K();for(var o=1/0,s=null,r=r.i;r.next();){var a=r.value;if(null!==a.W){var u=a.Ya(ul,t),u=e.Cf(u);u<o&&(s=a,o=u)}}return Jh.v(t),s}function De(t,e){var n=t.ld;if(null!==n&&!(2>n.qa)){var i=t.g;if(null!==i&&!i.ib){var r=t.fj;if(null!==r){var o=null,s=null;null===n.V&&null!==(o=Le(t,n.l(0),!1))&&(s=o.W);var a=null,u=null;null===n.Z&&null!==(a=Le(t,n.l(n.qa-1),!0))&&(u=a.W),r.isValidLink(s,o,u,a)?e?(n.Up=n.l(0),n.Vp=n.l(n.qa-1),n.vi=!1,n.V=s,null!==o&&(n.Ng=o.le),n.Z=u,null!==a&&(n.Jh=a.le),n.gc!==t.vw&&i.Aa("LinkRelinked",n,t.vw),n.zc!==t.ww&&i.Aa("LinkRelinked",n,t.ww)):Je(r,s,o,u,a):Je(r,null,null,null,null)}}}}function Fe(t,e){var n=t.g;if(null!==n){t.uj&&De(t,!0),me(t);var i=$n(n,e,null,function(e){return!Ae(t,e)}),r=n.N;if(r.Be=i,null!==i){r.vc=!1;for(var o=i;null!==o;){var s=o.hB;if(null!==s&&(s(r,o),r.vc))break;o=Ee(o)}}else null!==(o=n.hB)&&o(r);if(t.ta||null!==Mc){for(r=(t.ec||t.$b).i;r.next();)(o=r.key)instanceof Ls&&o.je.each(function(t){t.vi=!1});if(t.doDropOnto(e,i),t.ta||null!==Mc){for(i=Jh.vf(),r=n.selection.i;r.next();)(o=r.value)instanceof Ls&&Re(n,o.getAvoidableRect(i));Jh.Bb(i)}}}}function Re(t,e){var n=!1;if(t.sb.Fk(e)&&(n=!0),n=t.DA(e,function(t){return t.W},function(t){return t instanceof Ys},!0,function(t){return t instanceof Ys},n),0!==n.count)for(n=n.i;n.next();){var i=n.value;i.fm&&i.Tb()}}function Ve(t,e,n,i){if(null===t.ec){var r=t.g;if(!r.ib&&!r.Ef){r.gb=!n,r.Sq=!n,t.Vk=i.ea,n=r.Tp(e,r,!0);var o=Jh.vf();ke(e,o),i=o.x+o.width/2,r=o.y+o.height/2,Jh.Bb(o);var o=t.Pw,s=new b(ls),a=Jh.K();for(e=e.i;e.next();){var u=e.value,h=n.ka(u);u.he()&&u.canCopy()?(u=u.location,a.m(o.x-(i-u.x),o.y-(r-u.y)),h.location=a,h.Ne(),s.add(h,ve(t,h,a))):u instanceof Ys&&u.canCopy()&&(h.Ej(o.x-i,o.y-r),s.add(h,ve(t,h)))}Jh.v(a),t.ec=s,ye(t,s.Mj()),null!==t.ld&&(n=t.ld,i=n.$n,n.Ej(t.Vk.x-(i.x+i.width/2),t.Vk.y-(i.y+i.height/2)))}}}function Ie(t){this.point=t,this.vG=Rl}function Be(t,e,n){this.Rc=t,this.info=e,this.lI=n}function qe(){0<arguments.length&&Jh.nd(qe),fe.call(this),this.OD=100,this.rD=!1;var t=new Ys,e=new No;e.ff=!0,e.stroke="blue",t.add(e),e=new No,e.Lq="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.bg="Tool",this.hE=t,t=new Ls,e=new No,e.le="",e.Fb="Rectangle",e.fill=null,e.stroke="magenta",e.mb=2,e.Da=Ul,t.add(e),t.nm=!1,t.bg="Tool",this.fE=t,this.gE=e,t=new Ls,e=new No,e.le="",e.Fb="Rectangle",e.fill=null,e.stroke="magenta",e.mb=2,e.Da=Ul,t.add(e),t.nm=!1,t.bg="Tool",this.iE=t,this.jE=e,this.ND=this.MD=this.HD=this.GD=this.JD=null,this.nD=!0,this.iH=new b(Tr,"boolean"),this.PD=this.Bl=this.cE=null}function ze(t,e,n,i){if(e===n)return!0;var r=e.V;return!(null===r||!r.Df||(i.add(r),!ze(t,r.Xb,n,i)))||!(null===(e=e.Z)||!e.Df||(i.add(e),!ze(t,e.Xb,n,i)))}function Ge(t,e,n,i,r){if(e===n)return!0;if(null===e||null===n)return!1;for(var o=e.je;o.next();){var s=o.value;if(s!==i&&(!r||s.bc)&&s.Z===e&&(s=s.V)!==e&&Ge(t,s,n,i,r))return!0}return!1}function He(t,e,n,i,r){if(n===i)return!0;if(null===n||null===i||e.contains(n))return!1;e.add(n);for(var o=n.je;o.next();){var s=o.value;if(s!==r&&s.Z===n&&(s=s.V)!==n&&He(t,e,s,i,r))return!0}return!1}function Ue(t,e,n,i,r){if(n===i)return!0;if(null===n||null===i||e.contains(n))return!1;e.add(n);for(var o=n.je;o.next();){var s=o.value;if(s!==r){var a=s.V,s=s.Z,a=a===n?s:a;if(a!==n&&Ue(t,e,a,i,r))return!0}}return!1}function Ke(){0<arguments.length&&Jh.nd(Ke),qe.call(this),this.name="Linking",this.oC={},this.nC=null,this.ba=Nc,this.YD=null}function We(){0<arguments.length&&Jh.nd(We),qe.call(this),this.name="Relinking";var t=new No;t.Fb="Diamond",t.Da=Wl,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Qe=0,this.aD=t,t=new No,t.Fb="Diamond",t.Da=Wl,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Qe=-1,this.kE=t,this.qc=null,this.KD=new C}function Je(t,e,n,i,r){null!==t.g&&(null!==e?(t.copyPortProperties(e,n,t.Wd,t.ho,!1),t.g.add(t.Wd)):t.g.remove(t.Wd),null!==i?(t.copyPortProperties(i,r,t.Xd,t.io,!0),t.g.add(t.Xd)):t.g.remove(t.Xd))}function Ye(){0<arguments.length&&Jh.nd(Ye),fe.call(this),this.name="LinkReshaping";var t=new No;t.Fb="Rectangle",t.Da=Kl,t.fill="lightblue",t.stroke="dodgerblue",this.rl=t,t=new No,t.Fb="Diamond",t.Da=Kl,t.fill="lightblue",t.stroke="dodgerblue",this.xD=t,this.QD=3,this.Uy=this.qc=null,this.jp=new w,this.yw=null}function Qe(t,e,n,i,r,o){return o?Math.abs(e.y-n.y)<t.Gh&&Math.abs(n.y-i.y)<t.Gh&&Math.abs(i.y-r.y)<t.Gh:Math.abs(e.x-n.x)<t.Gh&&Math.abs(n.x-i.x)<t.Gh&&Math.abs(i.x-r.x)<t.Gh}function Ze(){0<arguments.length&&Jh.nd(Ze),fe.call(this),this.name="Resizing",this.Zh=new P(1,1).freeze(),this.Yh=new P(9999,9999).freeze(),this.Rj=new P(NaN,NaN).freeze(),this.Yr=!1,this.Kc=null;var t=new No;t.qh=ul,t.Fb="Rectangle",t.Da=Kl,t.fill="lightblue",t.stroke="dodgerblue",t.mb=1,t.cursor="pointer",this.rl=t,this.qc=null,this.jp=new w,this.FD=new P,this.LD=new w,this.rz=new P(0,0),this.qz=new P(1/0,1/0),this.pz=new P(1,1),this.DD=!0}function Xe(){0<arguments.length&&Jh.nd(Xe),fe.call(this),this.name="Rotating",this.WD=45,this.VD=2,this.Kc=null;var t=new No;t.Fb="Ellipse",t.Da=Wl,t.fill="lightblue",t.stroke="dodgerblue",t.mb=1,t.cursor="pointer",this.rl=t,this.qc=null,this.xw=0,this.RD=new w}function $e(){fe.call(this),0<arguments.length&&Jh.nd($e),this.name="ClickSelecting"}function tn(){fe.call(this),0<arguments.length&&Jh.nd(tn),this.name="Action",this.oo=null}function en(){fe.call(this),0<arguments.length&&Jh.nd(en),this.name="ClickCreating",this.zm=null,this.lD=!0,this.$C=new w(0,0)}function nn(){this.pE=this.vD=this.zz=this.Uz=null}function rn(t,e,n){this.text=t,this.LE=e,this.visible=n}function on(){fe.call(this),0<arguments.length&&Jh.nd(on),this.name="ContextMenu",this.FC=this.bz=this.CC=null,this.BD=new w,this.dz=this.Em=null;var t=this;this.aA=function(){t.stopTool()},sn(this)}function sn(t){var n=new nn;if(n.show=function(t,e,n){n.showDefaultContextMenu()},n.Hn=function(t,e){e.hideDefaultContextMenu()},t.Em=n,t.aA=function(){t.stopTool()},!1===Jh.RE){var n=Jh.createElement("div"),i=Jh.createElement("div");n.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",i.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var r=Jh.createElement("style");e.document.getElementsByTagName("head")[0].appendChild(r),r.sheet.insertRule(".goCXul { list-style: none; }",0),r.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),r.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),n.addEventListener("contextmenu",an,!1),n.addEventListener("selectstart",an,!1),i.addEventListener("contextmenu",an,!1),e.document.body&&(e.document.body.appendChild(n),e.document.body.appendChild(i)),Jh.Wt=n,Jh.Vt=i,Jh.RE=!0}}function an(t){return t.preventDefault(),!1}function un(t){var e=t.g;if(null!==e)if(t.ta){var n=t.Wl;if(null!==n){if(!(n instanceof nn)){var i=e.Pe(e.N.ea,null,null);null!==i&&i.hm(n)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.Xa=t,t.doMouseUp())}}else t.canStart()&&(hn(t,!0),t.ta||t.stopTool())}function hn(t,e,n){if(void 0===n&&(n=null),e&&t.standardMouseSelect(),!t.standardMouseClick())if(t.ta=!0,e=t.Em,null===n&&(n=t.findObjectWithContextMenu()),null!==n){var i=n.contextMenu;null!==i?(t.qx=n instanceof Tr?n:null,t.showContextMenu(i,t.qx)):null!==e&&t.showContextMenu(e,t.qx)}else null!==e&&t.showContextMenu(e,null)}function ln(t){return null===t.g?null:(t=new c(rn),t.add(new rn("Copy",function(t){t.pb.copySelection()},function(t){return t.pb.canCopySelection()})),t.add(new rn("Cut",function(t){t.pb.cutSelection()},function(t){return t.pb.canCutSelection()})),t.add(new rn("Delete",function(t){t.pb.deleteSelection()},function(t){return t.pb.canDeleteSelection()})),t.add(new rn("Paste",function(t){t.pb.pasteSelection(t.N.ea)},function(t){return t.pb.canPasteSelection()})),t.add(new rn("Select All",function(t){t.pb.selectAll()},function(t){return t.pb.canSelectAll()})),t.add(new rn("Undo",function(t){t.pb.undo()},function(t){return t.pb.canUndo()})),t.add(new rn("Redo",function(t){t.pb.redo()},function(t){return t.pb.canRedo()})),t.add(new rn("Scroll To Part",function(t){t.pb.scrollToPart()},function(t){return t.pb.canScrollToPart()})),t.add(new rn("Zoom To Fit",function(t){t.pb.zoomToFit()},function(t){return t.pb.canZoomToFit()})),t.add(new rn("Reset Zoom",function(t){t.pb.resetZoom()},function(t){return t.pb.canResetZoom()})),t.add(new rn("Group Selection",function(t){t.pb.groupSelection()},function(t){return t.pb.canGroupSelection()})),t.add(new rn("Ungroup Selection",function(t){t.pb.ungroupSelection()},function(t){return t.pb.canUngroupSelection()})),t.add(new rn("Edit Text",function(t){t.pb.editTextBlock()},function(t){return t.pb.canEditTextBlock()})),t)}function cn(){fe.call(this),0<arguments.length&&Jh.nd(cn),this.name="DragSelecting",this.Fo=175,this.qD=!1;var t=new ls;t.bg="Tool",t.nm=!1;var e=new No;e.name="SHAPE",e.Fb="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.Bm=t}function fn(){fe.call(this),0<arguments.length&&Jh.nd(fn),this.name="Panning",this.Lz=new w,this.Qj=!1;var t=this;this.$D=function(){e.document.removeEventListener("scroll",t.$D,!1),t.stopTool()}}function pn(){0<arguments.length&&Jh.nd(pn),fe.call(this),this.name="TextEditing",this.Zz=this.vk=null,this.ZD=Bc,this.Kl=null,this.Ta=zc,this.Ms=null,this.yD=1,this.TD=!0;var t=new nn;this.HC=null,this.PC=t,this.ez=null,dn(this,t)}function dn(t,e){var n=Jh.createElement("textarea");t.ez=n,n.addEventListener("input",function(){if(null!==t.Xg){var e=t.WI(this.value);this.style.width=20+e.za.width*this.RJ+"px",this.rows=e.Vx}},!1),n.addEventListener("keydown",function(e){if(null!==t.Xg){var n=e.which;13===n?(!1===t.Xg.Ox&&e.preventDefault(),t.acceptText(Ic)):9===n?(t.acceptText(Vc),e.preventDefault()):27===n&&(t.doCancel(),null!==t.g&&t.g.doFocus())}},!1),n.addEventListener("focus",function(){vn(t)},!1),n.addEventListener("blur",function(){gn(t)},!1),e.YB=function(){return n.value},e.dB=n,e.show=function(t,e,i){if(i.state===Kc)n.style.border="3px solid red",n.focus();else{var r=t.Ya(ul),o=e.position,s=e.scale,a=t.vj()*s;a<i.TF&&(a=i.TF);var u=t.Ja.width*a+6,h=t.Ja.height*a+2,l=(r.x-o.x)*s,r=(r.y-o.y)*s;n.value=t.text,e.tj.style.font=t.font,n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=100*a+"%",n.style.lineHeight="normal",n.style.width=u+"px",n.style.left=(l-u/2|0)-1+"px",n.style.top=(r-h/2|0)-1+"px",n.style.textAlign=t.textAlign,n.style.margin="0",n.style.padding="1px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow=" hidden",n.rows=t.Vx,n.RJ=a,e.tj.appendChild(n),n.focus(),i.wy&&(n.select(),n.setSelectionRange(0,9999))}},e.Hn=function(t){t.tj.removeChild(n)}}function yn(t){var e=t.Xg,n=t.g,i=t.rj;if(null!==e&&null!==i){var r=e.text,o="";i instanceof nn?null!==i.YB&&(o=i.YB()):(o=i.value,o="function"==typeof o?o():o),t.isValidText(e,r,o)?(t.Ib(t.name),t.Ta=Wc,t.Lf=t.name,e.text=o,null!==e.CG&&e.CG(e,r,o),null!==n&&n.Aa("TextEdited",e,r),t.Wk(),t.stopTool(),null!==n&&n.doFocus()):(t.Ta=Kc,null!==e.CA&&e.CA(t,r,o),i instanceof nn?i.show(e,n,t):(null===t.Ms&&(t.Ms=i.style.border,i.style.border="3px solid red"),"function"==typeof i.focus&&i.focus()))}}function vn(t){if(null!==t.rj&&t.state!==zc){var e=t.ez;t.Ta===Gc&&(t.Ta=Hc),"function"==typeof e.select&&t.wy&&(e.select(),e.setSelectionRange(0,9999))}}function gn(t){if(null!==t.rj&&t.state!==zc){var e=t.ez;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.wy&&(e.select(),e.setSelectionRange(0,9999))}}function mn(){fe.call(this),this.name="ToolManager",this.YG=new c(fe),this.ZG=new c(fe),this.$G=new c(fe),this.dD=this.eD=850,this.UC=new P(2,2).Ha(),this.lE=5e3,this.CD=Jc,this.bD=Qc,this.Gv=this.IC=null,this.ln=-1}function bn(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.ta?t.vF:t.rI,e.N)}function wn(t,e,n,i){Jh.j(e,"string",mn,"replaceStandardTool:name"),Jh.G(i,c,mn,"replaceStandardTool:list"),null!==n&&(Jh.G(n,fe,mn,"replaceStandardTool:newtool"),n.g&&n.g!==t.g&&Jh.k("Cannot share tools between Diagrams: "+n.toString()),n.name=e,n.Tc(t.g)),t.findTool(e)?t.replaceTool(e,n):null!==n&&i.add(n)}function xn(){this.JC=kn,this.xr=this.yr=this.aa=null,this.ym=this.zr=this.Ar=0,this.ro=this.sc=this.Wo=this.dk=!1,this.wl=this.jf=!0,this.Ev=this.Dv=this.EC=null,this.DC=0,this.Fv=null,this.tv=new p("string"),this.mz=600,this.aH=new w(0,0),this.rC=this.qC=this.oE=!1,this.Wm=new b(Tr,Dn)}function kn(t,e,n,i){return t/=i/2,1>t?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function Pn(t){if(t.jf&&(t.tv.clear(),t.sc))if(t.ro){if(0===t.ym){var e=+new Date;t.ym=e,requestAnimationFrame(function(){if(!1!==t.sc&&!t.dk&&t.ym===e){var n=t.aa;n.Ok("temporaryPixelRatio")&&(n.uk=1),Hn(n),t.sc=!1,n.Aa("AnimationStarting"),Tn(t,e)}})}}else t.sc=!1}function Cn(t,e,n,i,o,s){if(!(!t.sc||"position"===n&&i.L(o)||e instanceof ls&&!e.zF)){var a=t.Wm;if(a.contains(e)){var a=a.ka(e),u=a.start,h=a.end;void 0===u[n]&&(u[n]=Sn(i)),a.px&&void 0!==h[n]?a.au[n]=Sn(o):(s||(a.au[n]=Sn(o)),h[n]=Sn(o)),s&&0===n.indexOf("position:")&&e instanceof ls&&(a.au.location=Sn(e.location))}else u=new r,h=new r,u[n]=Sn(i),h[n]=Sn(o),i=h,o=u.position,o instanceof w&&!o.I()&&t.tv.contains("Expand SubGraph")&&o.assign(i.position),u=new Dn(u,h,s),s&&0===n.indexOf("position:")&&e instanceof ls&&(u.au.location=Sn(e.location)),a.add(e,u);t.ro=!0}}function Sn(t){return t instanceof w?t.copy():t instanceof P?t.copy():t}function Tn(t,e){function n(){if(!1!==s.dk&&s.ym===e){var t=+new Date,i=t>y?l:t-d;Mn(s),Nn(s,o,p,a,i,l),s.Dv&&s.Dv(),hi(o),_n(s),t>y?An(s):requestAnimationFrame(n)}}var i;void 0===i&&(i=new r);var o=t.aa;if(null!==o){var s=t,a=i.cL||t.JC,u=i.BL||null,h=i.CL||null,l=i.duration||t.mz,c=t.aH;for(i=t.Wm.i;i.next();){var f=i.value.start.position;f instanceof w&&(f.I()||f.assign(c))}t.EC=a,t.Dv=u,t.Ev=h,t.DC=l,t.Fv=t.Wm;var p=t.Fv;for(i=p.i;i.next();)u=i.value.end,u["position:placeholder"]&&(h=i.key.findVisibleNode())instanceof Aa&&null!==h.placeholder&&(h=h.placeholder,c=h.Ya(rl),c.x+=h.padding.left,c.y+=h.padding.top,u["position:placeholder"]=c);t.dk=!0,Mn(t),Nn(t,o,p,a,0,l),hi(t.aa,!0),_n(t);var d=+new Date,y=d+l;s.ym===e&&requestAnimationFrame(function(){n()})}}function Mn(t){if(!t.Wo){var e=t.aa;t.oE=e.gb,t.qC=e.Re,t.rC=e.fo,e.gb=!0,e.Re=!0,e.fo=!0,t.Wo=!0}}function _n(t){var e=t.aa;e.gb=t.oE,e.Re=t.qC,e.fo=t.rC,t.Wo=!1}function Nn(t,e,n,i,r,o){for(n=n.i;n.next();){var s,a=n.key,u=n.value,h=u.start,u=u.end;for(s in u)"position"===s&&(u["position:placeholder"]||u["position:node"])||void 0===$c[s]||$c[s](a,h[s],u[s],i,r,o)}i=e.UA,e.UA=!0,s=t.JC,0!==t.Ar&&0!==t.zr&&(n=t.Ar,e.rb=s(r,n,t.zr-n,o)),null!==t.yr&&null!==t.xr&&(n=t.yr,t=t.xr,e.ab=new w(s(r,n.x,t.x-n.x,o),s(r,n.y,t.y-n.y,o))),e.UA=i}function An(t){t.dk=!1,t.ro=!1,Mn(t);for(var e=t.aa,n=t.EC,i=t.DC,r=t.Fv.i;r.next();){var o,s=r.key,a=r.value,u=a.start,h=a.end,l=a.au;for(o in h)if(void 0!==$c[o]){var c=o;!a.px||"position:node"!==c&&"position:placeholder"!==c||(c="position"),$c[c](s,u[o],void 0!==l[o]?l[o]:a.px?u[o]:h[o],n,i,i)}a.px&&void 0!==l.location&&s instanceof ls&&(s.location=l.location),a.ny&&s instanceof ls&&s.Dd(!1)}for(n=t.aa.links;n.next();)i=n.value,null!==i.pp&&(i.points=i.pp,i.pp=null);e.Yx.clear(),e.uk=null,e.Gc(),e.oa(),e.dg(),ai(e),_n(t),t.Ev&&t.Ev(),t.ym=0,t.Fv=null,t.Ev=null,t.Dv=null,t.yr=null,t.xr=null,t.Ar=0,t.zr=0,t.Wm=new b(Tr,Dn),e.Aa("AnimationFinished"),e.ye()}function On(t,e,n){var i=e.U,r=n.U,o=null;if(n instanceof Aa&&(o=n.placeholder),null!==o?(i=o.Ya(rl),i.x+=o.padding.left,i.y+=o.padding.top,Cn(t,e,"position",i,e.position,!1)):Cn(t,e,"position",new w(r.x+r.width/2-i.width/2,r.y+r.height/2-i.height/2),e.position,!1),Cn(t,e,"scale",.01,e.scale,!1),e instanceof Aa)for(e=e.hc;e.next();)(o=e.value)instanceof Ls&&On(t,o,n)}function jn(t,e,n){if(e.isVisible()){var i=null;if(n instanceof Aa&&(i=n.placeholder),null!==i?Cn(t,e,"position:placeholder",e.position,i,!0):Cn(t,e,"position:node",e.position,n,!0),Cn(t,e,"scale",e.scale,.01,!0),t.sc&&(i=t.Wm,i.contains(e)&&(i.ka(e).ny=!0)),e instanceof Aa)for(e=e.hc;e.next();)(i=e.value)instanceof Ls&&jn(t,i,n)}}function En(t,e,n){t.sc&&(null===t.yr&&e.I()&&null===t.xr&&(t.yr=e.copy()),t.xr=n.copy(),t.ro=!0)}function Ln(t,e,n){t.sc&&t.aa.Kn&&(0===t.Ar&&0===t.zr&&(t.Ar=e),t.zr=n,t.ro=!0)}function Dn(t,e,n){this.start=t,this.end=e,this.au=new r,this.px=n,this.ny=!1}function Fn(){0<arguments.length&&Jh.nd(Fn),Jh.oc(this),this.aa=null,this.xb=new c(ls),this.Sb="",this.Dc=1,this.Cz=!1,this.Fl=this.fA=this.gl=this.fl=this.el=this.dl=this.bl=this.cl=this.al=this.il=this.$k=this.hl=this.Zk=this.Yk=!0,this.Az=!1,this.Qs=[]}function Rn(t,e,n,i){if(t.visible&&0!==t.Dc){1!==t.Dc&&(e.globalAlpha=t.Dc);var r=t.Qs;r.length=0;var o=n.scale;t=t.xb.n;for(var s=t.length,a=i.length,u=0;u<s;u++){var h=t[u];if(Ms(h)){if(h instanceof Ys){var l=h;if(l.ac&&r.push(l),!1===l.Mf)continue}var c,l=ys(h,h.U);t:{c=l;for(var f=i,p=a,d=2/o,y=4/o,v=0;v<p;v++){var g=f[v];if(0!==g.width&&0!==g.height&&c.xF(g.x-d,g.y-d,g.width+y,g.height+y)){c=!0;break t}}c=!1}c&&(1<l.width*o||1<l.height*o?h.ve(e,n):xs(h,e))}}e.globalAlpha=1}}function Vn(t,e,n){if(e=In(t,e,n),n instanceof Aa&&null!==n&&isNaN(n.mo)){if(0!==n.hc.count){for(var i=-1,r=t.xb.n,o=r.length,s=0;s<o;s++){var a=r[s];if(a===n&&(e=s,0<=i))break;if(0>i&&a.Ca===n&&(i=s,0<=e))break}!(0>i)&&i<e&&(r=t.xb,r.cd(e),r.Rd(i,n))}n=n.Ca,null!==n&&Vn(t,-1,n)}}function In(t,e,n){var i=n.mo;if(isNaN(i))return e;t=t.xb;var r=t.count;if(1>=r)return e;if(0>e&&(e=t.indexOf(n)),0>e)return-1;for(var o=e-1,s=NaN;0<=o&&(s=t.fa(o).mo,isNaN(s));)o--;for(var a=e+1,u=NaN;a<r&&(u=t.fa(a).mo,isNaN(u));)a++;if(!isNaN(s)&&s>i)for(;;){if(-1===o||s<=i){if(++o===e)break;return t.cd(e),t.Rd(o,n),o}for(s=NaN;0<=--o&&(s=t.fa(o).mo,isNaN(s)););}else if(!isNaN(u)&&u<i)for(;;){if(a===r||u>=i){if(--a===e)break;return t.cd(e),t.Rd(a,n),a}for(u=NaN;++a<r&&(u=t.fa(a).mo,isNaN(u)););}return e}function Bn(t){function n(){e.document.removeEventListener("DOMContentLoaded",n,!1),i.setScrollWidth()}1<arguments.length&&Jh.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Jh.oc(this),_p=[],this.Wc=!0,this.lC=new xn,this.lC.Tc(this),this.zd=17,this.as=!1,this.Pz="default";var i=this;null!==e.document.body?this.setScrollWidth():e.document.addEventListener("DOMContentLoaded",n,!1),this.dc=new c(Fn),this.Cb=this.Db=0,this.qk=this.Ob=this.hf=this.zb=null,this.hG(),this.To=null,this.gG(),this.ab=new w(NaN,NaN).freeze(),this.rb=1,this.Yv=new w(NaN,NaN).freeze(),this.Zv=NaN,this.qw=1e-4,this.ow=100,this.jd=new j,this.$w=new w(NaN,NaN).freeze(),this.Qv=new C(NaN,NaN,NaN,NaN).freeze(),this.Hw=new O(0,0,0,0).freeze(),this.Iw=lf,this.Lw=!0,this.Ew=this.Cw=null,this.Am=tf,this.Dm=il,this.ul=tf,this.Qo=il,this.$v=this.Xv=rl,this.Fe=!0,this.Wr=!1,this.vg=new p(ls),this.ol=new b(Ys,C),this.Cr=!0,this.$q=250,this.so=-1,this.vv=new O(16,16,16,16).freeze(),this.Go=this.Tf=!1,this.Lo=!0,this.Pi=new Nt,this.xd=new Nt,this.Rb=new Nt,this.jh=this.Di=null,this.Bp=!1,this.hz=this.iz=null,this.Vy=e.PointerEvent&&(Jh.hq||Jh.iq||Jh.VA)&&e.navigator&&!1!==e.navigator.msPointerEnabled,tr(this),this.ip=new p(Ls),this.Ll=new p(Aa),this.bp=new p(Ys),this.xb=new p(ls),this.ew=!0,this.Vw=ff,this.hD=!1,this.Xw=rf,this.cz=this.fz=this.$z=null,this.Cv="",this.wr="auto",this.Hi=this.jj=this.Yi=this.tw=this.Zi=this.$i=this.aj=this.Gi=this.Mi=this.Ei=null,this.Jz=!1,this.Nz={},this.lp=[null,null],this.$y=null,this.Sq=this.gz=this.Vz=this.UD=this.ij=!1,this.sD=!0,this.Jm=this.$d=!1,this.qe=null;var r=this;this.zD=function(t){if(t.$===r.$&&r.Ua){r.Ua=!1;try{var e=t.Fc;""===t.tf&&e===gc&&Ni(r,t.object,t.propertyName)}finally{r.Ua=!0}}},this.AD=function(t){_i(r,t)},this.qE=!0,this.dh=-2,this.Ii=new b(Object,ls),this.Sj=new b(Object,Ys),this.Mm=new b(Object,Array),this.kp=new b("string",Array),this.Mz=new c(Ko),this.Si=!1,this.Zk=this.Yk=this.lv=this.jf=!0,this.nv=this.mv=!1,this.sv=this.qv=this.gl=this.fl=this.el=this.dl=this.bl=this.cl=this.al=this.pv=this.il=this.$k=this.hl=!0,this.fh=this.pD=!1,this.rv=this.ov=this.Vv=this.Uv=!0,this.Kw=this.Gw=16,this.Rz=this.Fw=!1,this.kt=this.Jw=null,this.Sz=this.Tz=0,this.lf=new O(5).freeze(),this.Nw=new p(ls).freeze(),this.pw=999999999,this.Wv=new p(ls).freeze(),this.vl=this.Im=this.ck=!0,this.sl=this.bk=!1,this.oe=null,this.Pj=!0,this.eh=!1,this.XG=new p(Ys),this.fD=new p(ya),this.rk=this.Kd=null,this.Ps=1,this.XD=0,this.ph={scale:1,position:new w,bounds:new C,isScroll:!1},this.eA=new C(NaN,NaN,NaN,NaN).freeze(),this.Jv=new C(NaN,NaN,NaN,NaN).freeze(),this.fw=!1,this.Lv=null,this.zw=new p(pr),Un(this),this.kw=this.Sv=this.uw=this.MC=this.LC=this.NC=this.jk=this.ql=this.bj=null,zn(this),this.td=null,this.Rv=!1,this.zo=null,this.Va=new mn,this.Va.initializeStandardTools(),this.Xa=this.Xt=this.Va,this.pb=new ae,this.$=new Zt,this.ij=!0,this.Ub=new Fa,this.ij=!1,this.YC=this.lz=null,this.wd=1,this.uk=null;var o=Jh.vfo.split(".");!0!==Jh.vx.licenseKey&&"1"===o[0]&&7>parseInt(o[1],10)&&(Jh.trace("Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version "+Jh.vfo+". This license key will do nothing until you upgrade to GoJS 1.7 or later."),Jh.vx.licenseKey=!0),this.Vh=1,this.ik=0,this.hw=new w,this.bA=500,this.uv=new w,this.tt=null,this.fk=!1,this.preventDefault=this.my=this.uq=this.vq=this.tq=this.sq=this.Tn=this.Vn=this.Un=this.Rn=this.Sn=this.ZB=this.RB=this.SB=this.TB=this.Hl=this.gt=this.Gl=this.ft=null,this.bw=!1,this.tl=new lr,void 0!==t&&cr(this,t),this.Wc=!1}function qn(t,e){var n=null;null!==t.td&&(n=t.td.W),t.Ka.Ih();for(var i=[],r=t.dc.length,o=0;o<r;o++){var s=t.dc.n[o];if(e)for(var a=s.Hj;a.next();){var u=a.value;u!==n&&null===u.data&&i.push(u)}s.clear()}if(t.vg.clear(),t.ol.clear(),t.ip.clear(),t.Ll.clear(),t.bp.clear(),t.xb.clear(),t.Ii.clear(),t.Sj.clear(),t.Mm.clear(),t.Nw.Qa(),t.Nw.clear(),t.Nw.freeze(),t.Wv.Qa(),t.Wv.clear(),t.Wv.freeze(),t.zo=null,Jh.My=[],null!==n&&(t.add(n),t.xb.remove(n)),e)for(n=0;n<i.length;n++)t.add(i[n])}function zn(t){t.bj=new b("string",ls);var e=new Ls,n=new Vo;n.bind(new ne("text","",Pc)),e.add(n),t.NC=e,t.bj.add("",e),e=new Ls,n=new Vo,n.stroke="brown",n.bind(new ne("text","",Pc)),e.add(n),t.bj.add("Comment",e),e=new Ls,e.nm=!1,e.lA=!1,n=new No,n.Fb="Ellipse",n.fill="black",n.stroke=null,n.Da=new P(3,3).Ha(),e.add(n),t.bj.add("LinkLabel",e),t.ql=new b("string",Aa),e=new Aa,e.BB="GROUPPANEL",e.type=Zf,n=new Vo,n.font="bold 12pt sans-serif",n.bind(new ne("text","",Pc)),e.add(n),n=new eo($f),n.name="GROUPPANEL";var i=new No;i.Fb="Rectangle",i.fill="rgba(128,128,128,0.2)",i.stroke="black",n.add(i),i=new Da,i.padding=new O(5,5,5,5).Ha(),n.add(i),e.add(n),t.LC=e,t.ql.add("",e),t.jk=new b("string",Ys),e=new Ys,n=new No,n.ff=!0,e.add(n),n=new No,n.Lq="Standard",n.fill="black",n.stroke=null,n.mb=0,e.add(n),t.MC=e,t.jk.add("",e),e=new Ys,n=new No,n.ff=!0,n.stroke="brown",e.add(n),t.jk.add("Comment",e),e=new Es,e.type=$f,n=new No,n.fill=null,n.stroke="dodgerblue",n.mb=3,e.add(n),n=new Da,n.margin=new O(1.5,1.5,1.5,1.5).Ha(),e.add(n),t.uw=e,t.Sv=e,e=new Es,e.type=ip,n=new No,n.ff=!0,n.fill=null,n.stroke="dodgerblue",n.mb=3,e.add(n),t.kw=e}function Gn(t){var n=t.zb;t.Vy?(n.addEventListener("pointerdown",t.sq,!1),n.addEventListener("pointermove",t.tq,!1),n.addEventListener("pointerup",t.vq,!1),n.addEventListener("pointerout",t.uq,!1)):(n.addEventListener("touchstart",t.TB,!1),n.addEventListener("touchmove",t.SB,!1),n.addEventListener("touchend",t.RB,!1),n.addEventListener("mousemove",t.Sn,!1),n.addEventListener("mousedown",t.Rn,!1),n.addEventListener("mouseup",t.Un,!1),n.addEventListener("mouseout",t.Tn,!1)),n.addEventListener("wheel",t.Vn,!1),n.addEventListener("keydown",t.HI,!1),n.addEventListener("keyup",t.II,!1),n.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),n.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),n.addEventListener("gesturestart",function(e){t.Va.Mk!==Xc&&(t.Va.Mk===Zc?e.preventDefault():(e.preventDefault(),t.Ps=t.scale,t.Xa.doCancel()))},!1),n.addEventListener("gesturechange",function(n){if(t.Va.Mk!==Xc)if(t.Va.Mk===Zc)n.preventDefault();else{n.preventDefault();var i=n.scale;if(null!==t.Ps){var r=t.Db,o=t.Cb,s=t.zb.getBoundingClientRect();n=new w(n.pageX-e.scrollX-r/s.width*s.left,n.pageY-e.scrollY-o/s.height*s.top),i*=t.Ps,r=t.pb,i!==t.scale&&r.canResetZoom(i)&&(o=t.zi,t.zi=n,r.resetZoom(i),t.zi=o)}}},!1),e.addEventListener("resize",t.ZB,!1)}function Hn(t){if(null!==t.zb){var e=t.Ob;if(0!==e.clientWidth&&0!==e.clientHeight){var n=t.sl?t.zd:0,i=t.bk?t.zd:0,r=t.wd;t.wd=t.computePixelRatio(),t.wd!==r&&(t.Wr=!0,t.ye()),e.clientWidth===t.Db+n&&e.clientHeight===t.Cb+i||(t.Im=!0,t.Fe=!0,e=t.Ub,null!==e&&e.Qx&&t.Tl===tf&&(t.Go=!0,e.J()),t.$d||t.ye())}}}function Un(t){var e=new Fn;e.name="Background",t.Nt(e),e=new Fn,e.name="",t.Nt(e),e=new Fn,e.name="Foreground",t.Nt(e),e=new Fn,e.name="Adornment",e.Hc=!0,t.Nt(e),e=new Fn,e.name="Tool",e.Hc=!0,e.AF=!0,t.Nt(e),e=new Fn,e.name="Grid",e.Bf=!1,e.Ug=!1,e.Hc=!0,t.nH(e,t.cu("Background"))}function Kn(t){t.td=new eo(rp),t.td.name="GRID";var e=new No;e.Fb="LineH",e.stroke="lightgray",e.mb=.5,e.interval=1,t.td.add(e),e=new No,e.Fb="LineH",e.stroke="gray",e.mb=.5,e.interval=5,t.td.add(e),e=new No,e.Fb="LineH",e.stroke="gray",e.mb=1,e.interval=10,t.td.add(e),e=new No,e.Fb="LineV",e.stroke="lightgray",e.mb=.5,e.interval=1,t.td.add(e),e=new No,e.Fb="LineV",e.stroke="gray",e.mb=.5,e.interval=5,t.td.add(e),e=new No,e.Fb="LineV",e.stroke="gray",e.mb=1,e.interval=10,t.td.add(e),e=new ls,e.add(t.td),e.bg="Grid",e.mo=0,e.XA=!1,e.zF=!1,e.Ug=!1,e.cB="GRID",t.add(e),t.xb.remove(e),t.td.visible=!1}function Wn(){this.aa.Rz?this.aa.Rz=!1:this.aa.isEnabled?this.aa.SH(this):xi(this.aa)}function Jn(t){this.aa.isEnabled?(this.aa.Tz=t.target.scrollTop,this.aa.Sz=t.target.scrollLeft):xi(this.aa)}function Yn(t){if(t.gF.I()){var e=t.gF.copy();return e.bx(t.padding),e}for(var n=!0,i=t.dc.n,r=i.length,o=0;o<r;o++){var s=i[o];if(s.visible&&(!s.Hc||s.AF))for(var s=s.xb.n,a=s.length,u=0;u<a;u++){var h=s[u];h.XA&&h.isVisible()&&(h=h.U,h.I()&&(n?(n=!1,e=h.copy()):e.Zg(h)))}}return n&&(e=new C(0,0,0,0)),e.bx(t.padding),e}function Qn(t,e){if((e||t.eh)&&!t.Wc&&null!==t.zb&&!t.Ka.df&&t.Nd.I()){t.Wc=!0;var n=t.Am;e&&t.ul!==tf&&(n=t.ul);var i=n!==tf?Zn(t,n):t.scale,n=t.sb.copy(),r=t.Db/i,o=t.Cb/i,s=null,a=t.Ka;a.sc&&(s=t.ab.copy()),t.position.Qa();var u=t.Dm;e&&!u.Zc()&&t.Qo.Zc()&&(u=t.Qo),Xn(t,t.ab,t.Nd,r,o,u,e),t.position.freeze(),null!==s&&En(a,s,t.ab),r=t.scale,t.scale=i,t.Wc=!1,i=t.sb,i.Qc(n)||t.Pu(n,i,r,t.scale,!1)}}function Zn(t,e){var n=t.pb.tx;if(null===t.zb)return n;t.ck&&Yi(t,t.computeBounds());var i=t.Nd;if(!i.I())return n;var r=i.width,i=i.height,o=t.Db,s=t.Cb,a=o/r,u=s/i;return e===ef?(r=Math.min(u,a),r>n&&(r=n),r<t.Ch&&(r=t.Ch),r>t.Bh&&(r=t.Bh),r):e===nf?(r=u>a?(s-t.zd)/i:(o-t.zd)/r,r>n&&(r=n),r<t.Ch&&(r=t.Ch),r>t.Bh&&(r=t.Bh),r):t.scale}function Xn(t,e,n,i,r,o,s){var a=e.x,u=e.y;(s||t.uy===lf)&&(o.Zc()&&(i>n.width&&(a=n.x+(o.x*n.width+o.offsetX)-(o.x*i-o.offsetX)),r>n.height&&(u=n.y+(o.y*n.height+o.offsetY)-(o.y*r-o.offsetY))),o=t.ty,s=i-n.width,i<n.width+o.left+o.right?(a=Math.min(a+i/2,n.right+Math.max(s,o.right)-i/2),a=Math.max(a,n.left-Math.max(s,o.left)+i/2),a-=i/2):a>n.left?a=n.left:a<n.right-i&&(a=n.right-i),i=r-n.height,r<n.height+o.top+o.bottom?(u=Math.min(u+r/2,n.bottom+Math.max(i,o.bottom)-r/2),u=Math.max(u,n.top-Math.max(i,o.top)+r/2),u-=r/2):u>n.top?u=n.top:u<n.bottom-r&&(u=n.bottom-r)),e.x=isFinite(a)?a:-t.padding.left,e.y=isFinite(u)?u:-t.padding.top,null!==t.aG&&(t=t.aG(t,e),e.x=t.x,e.y=t.y)}function $n(t,e,n,i){for(void 0===n&&(n=null),void 0===i&&(i=null),ci(t),t=t.dc.Ln;t.next();){var r=t.value;if(r.visible&&!r.Hc&&null!==(r=r.Pe(e,n,i)))return r}return null}function ti(t,e,n,i,r){i.g=e,i.event=n,r?oi(t,n,i):(i.Ce=e.Rb.Ce,i.ea=e.Rb.ea),t=0,n.ctrlKey&&(t+=1),n.altKey&&(t+=2),n.shiftKey&&(t+=4),n.metaKey&&(t+=8),i.md=t,i.button=n.button,void 0===n.buttons||Jh.xu||(i.buttons=n.buttons),Jh.zh&&0===n.button&&n.ctrlKey&&(i.button=2),i.Hk=!1,i.up=!1,i.te=1,i.oi=0,i.vc=!1,i.bubbles=!1,i.timestamp=Date.now(),i.zu=!1,i.Jf=ei(n),i.Be=null}function ei(t){var e=t.target.aa;if(!e){var n=t.path;n||"function"!=typeof t.CH||(n=t.CH()),n&&n[0]&&(e=n[0].aa)}return e||null}function ni(t,e,n,i){var r=t.xd;return t.xd=t.Rb,t.Rb=r,r.g=t,oi(t,n,r),r.button=0,r.buttons=1,n=0,e.ctrlKey&&(n+=1),e.altKey&&(n+=2),e.shiftKey&&(n+=4),e.metaKey&&(n+=8),r.md=n,r.Hk=!0,r.up=!1,r.te=1,r.oi=0,r.vc=!1,r.bubbles=!0,r.event=e,r.timestamp=Date.now(),r.zu=i,r.Jf=ei(e),r.Be=null,i||(t.Pi=r.copy()),Mc=null,r}function ii(t,n,i,r){var o=t.xd;t.xd=t.Rb,t.Rb=o;var s=null;return o.g=t,null!==i?((s=e.document.elementFromPoint(i.clientX,i.clientY))&&s.aa?s=s.aa:(i=void 0!==n.targetTouches?n.targetTouches[0]:n,s=t),o.Jf=s,oi(t,i,o)):null!==t.xd?(o.ea=t.xd.ea,o.Ce=t.xd.Ce,o.Jf=t.xd.Jf):null!==t.Pi&&(o.ea=t.Pi.ea,o.Ce=t.Pi.Ce,o.Jf=t.Pi.Jf),o.button=0,o.buttons=1,t=0,n.ctrlKey&&(t+=1),n.altKey&&(t+=2),n.shiftKey&&(t+=4),n.metaKey&&(t+=8),o.md=t,o.Hk=!1,o.up=!1,o.te=1,o.oi=0,o.vc=!1,o.bubbles=!1,o.event=n,o.timestamp=Date.now(),o.zu=r,o.Be=null,o}function ri(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,!1)}function oi(t,e,n){var i=t.zb,r=t.Db,o=t.Cb,s=0,a=0;null!==i&&(i=i.getBoundingClientRect(),s=e.clientX-r/i.width*i.left,a=e.clientY-o/i.height*i.top),n.Ce.m(s,a),null!==t.jd?(e=Jh.wb(s,a),t.jd.xh(e),n.ea.assign(e),Jh.v(e)):n.ea.m(s,a)}function si(t,e,n,i){var r=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;r=e.targetTouches[n]}else{if(null===t.lp[0])return;r=t.lp[n]}n=t.zb,e=t.Db,t=t.Cb;var o=0,s=0;null!==n&&null!==r&&(n=n.getBoundingClientRect(),o=r.clientX-e/n.width*n.left,s=r.clientY-t/n.height*n.top),i.m(o,s)}function ai(t){t.$d||ci(t),t.ck&&Yi(t,t.computeBounds())}function ui(t,e){t.Ka.df||t.Wc||!t.Im||xi(t)||(e&&ci(t),Qn(t,!1))}function hi(t,e){if(!t.$d&&(t.Tf=!1,null!==t.Ob)){t.$d=!0;var n=t.Ka,i=t.Mz;if(!n.Wo&&0!==i.length){for(var r=i.n,o=r.length,s=0;s<o;s++){var a=r[s];Jr(a,!1),a.H()}i.clear()}i=t.fD,0<i.count&&(i.each(function(t){t.XB()}),i.clear()),r=i=!1,n.df&&(r=!0,i=t.gb,t.gb=!0),n.sc||Hn(t),ui(t,!1),null!==t.td&&(t.td.visible&&!t.Rv&&(Si(t),t.Rv=!0),!t.td.visible&&t.Rv&&(t.Rv=!1)),ci(t),o=!1,t.eh&&!t.Pj||(t.eh?Xi(t,!t.Go):(t.Ib("Initial Layout"),!1===n.isEnabled&&n.Ih(),Xi(t,!1)),o=!0),t.Go=!1,ci(t),t.Vz||n.df||ai(t),ui(t,!0),o&&(t.eh||li(t),t.Aa("LayoutCompleted")),ci(t),o&&!t.eh&&(t.eh=!0,t.Yc("Initial Layout"),t.gb||t.ja.clear(),Jh.setTimeout(function(){t.ri=!1},1)),vi(t),Pn(n),e||t.ve(t.hf),r&&(t.gb=i),t.$d=!1}}function li(t){var e=t.dc.n;if(t.If(e,e.length,t),t.ul!==tf?t.scale=Zn(t,t.ul):t.Am!==tf?t.scale=Zn(t,t.Am):(e=t.vI,isFinite(e)&&0<e&&(t.scale=e)),e=t.uI,e.I())t.position=e;else{e=Jh.K(),e.ao(t.Nd,t.tI);var n=t.sb,n=Jh.lg(0,0,n.width,n.height),i=Jh.K();i.ao(n,t.wI),i.m(e.x-i.x,e.y-i.y),t.position=i,Jh.Bb(n),Jh.v(i),Jh.v(e),gi(t),ui(t,!0),Qn(t,!0)}t.Aa("InitialLayoutCompleted"),Si(t)}function ci(t){if((t.$d||!t.Ka.df)&&0!==t.vg.count){for(var e=0;23>e;e++){var n=t.vg.i;if(null===n||0===t.vg.count)break;t.vg=new p(ls),t.XB(n,t.vg)}t.ig.each(function(t){t instanceof Aa&&0!=(65536&t.ya)!=!1&&(t.ya^=65536)})}}function fi(t,e){for(var n=Jh.Za(),i=Jh.Za(),r=e.hc;r.next();){var o=r.value;o.isVisible()&&(o instanceof Aa?(Wr(o)||Yr(o)||Cs(o))&&fi(t,o):o instanceof Ys?o.V===e||o.Z===e?i.push(o):n.push(o):(jr(o,1/0,1/0),o.jc()))}for(var r=n.length,s=0;s<r;s++)o=n[s],jr(o,1/0,1/0),o.jc();for(Jh.ra(n),jr(e,1/0,1/0),e.jc(),r=i.length,s=0;s<r;s++)o=i[s],jr(o,1/0,1/0),o.jc();Jh.ra(i)}function pi(t,e,n,i,r){null===t.Ob&&Jh.k("No div specified");var o=t.zb;if(null===o&&Jh.k("No canvas specified"),!t.Ka.sc){var s=t.hf;if(t.Fe){bi(t);var a=t.wd;Jh.In?(o.width=o.width,s.Ke(!0)):(s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.Db*a,t.Cb*a)),s.yy(!1),s.drawImage(t.lz.Od,0<i?0:Math.round(-i),0<r?0:Math.round(-r)),r=t.ab;var o=t.rb,u=Math.round(r.x*o)/o,h=Math.round(r.y*o)/o;for(i=t.jd,i.reset(),1!==o&&i.scale(o),0===r.x&&0===r.y||i.translate(-u,-h),s.save(),s.beginPath(),r=n.length,o=0;o<r;o++)u=n[o],0!==u.width&&0!==u.height&&s.rect(Math.floor(u.x),Math.floor(u.y),Math.ceil(u.width),Math.ceil(u.height));for(s.clip(),s.setTransform(1,0,0,1,0,0),s.scale(a,a),s.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=t.dc.n,r=n.length,t.If(n,r,t),yi(t,s),o=0;o<r;o++)Rn(n[o],s,t,e);s.restore(),s.Ke(!0),t.tl?t.tl.vm(t)&&t.Lv():t.Nr=function(){return new w(0,0)},t.vl=!1,t.Fe=!1,t.my()}}}function di(t,e,n,i,r,o,s,a,u,h){null===t.Ob&&Jh.k("No div specified"),null===t.zb&&Jh.k("No canvas specified"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===u&&(u=!1),void 0===h&&(h=!1),bi(t),t.hf.Ke(!0),mi(t),t.Jm=!0;var l=t.rb;t.rb=r;var c=t.dc.n,f=c.length;try{var d=new C(o.x,o.y,i.width/r,i.height/r),y=d.copy();y.bx(n),Si(t,y),ci(t),t.If(c,f,t,d);var v=t.wd;e.setTransform(1,0,0,1,0,0),e.scale(v,v),e.clearRect(0,0,i.width,i.height),null!==a&&""!==a&&(e.fillStyle=a,e.fillRect(0,0,i.width,i.height));var g=Jh.Wg();g.reset(),g.translate(n.left,n.top),g.scale(r),0===o.x&&0===o.y||g.translate(-o.x,-o.y),e.setTransform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy),Jh.bf(g),yi(t,e);var m;if(null!==s){var b=new p(ls),x=s.i;for(x.reset();x.next();){var k=x.value;!1===h&&"Grid"===k.layer.name||null===k||b.add(k)}m=function(n){var i=u;if(n.visible&&0!==n.Dc&&(void 0===i&&(i=!0),i||!n.Hc)){var i=n.xb.n,r=i.length;if(0!==r){1!==n.Dc&&(e.globalAlpha=n.Dc),n=n.Qs,n.length=0;for(var o=t.scale,s=0;s<r;s++){var a=i[s];if(Ms(a)&&b.contains(a)){if(a instanceof Ys){var h=a;if(h.ac&&n.push(h),!1===h.Mf)continue}h=a.U,1<h.width*o||1<h.height*o?a.ve(e,t):xs(a,e)}}e.globalAlpha=1}}}}else if(!u&&h){var P=t.Gn.W,S=P.layer;m=function(n){n===S?P.ve(e,t):n.ve(e,t,u)}}else m=function(n){n.ve(e,t,u)};for(n=0;n<f;n++)m(c[n]);t.Jm=!1,t.tl?t.tl.vm(t)&&t.Lv():t.Nr=function(){return new w(0,0)}}finally{t.rb=l,t.hf.Ke(!0),mi(t),t.If(c,f,t),Si(t)}}function yi(t,e){var n=t.qk;null!==n&&(void 0!==n.imageSmoothingEnabled&&e.yy(!!n.imageSmoothingEnabled),void 0!==(n=n.defaultFont)&&null!==n&&(e.font=n))}function vi(t){if(0===t.ja.wi&&0!==t.ol.count){for(;0<t.ol.count;){var e=t.ol;for(t.ol=new b(Ys,C),e=e.i;e.next();){var n=e.key;ca(n,e.value),n.fe()}}t.oa()}}function gi(t){!1===t.Im&&(t.Im=!0)}function mi(t){!1===t.vl&&(t.vl=!0)}function bi(t){!1!==t.Wr&&(t.Wr=!1,wi(t,t.Db,t.Cb))}function wi(t,e,n){var i=t.zb,r=t.wd,o=e*r,r=n*r;i.width===o&&i.height===r||(i.width=o,i.height=r,i.style.width=e+"px",i.style.height=n+"px",t.Fe=!0,t.hf.Ke(!0))}function xi(t){var e=t.zb;if(null===e)return!0;var n=t.Ob,i=t.Db,r=t.Cb,o=t.eA.copy();if(!o.I())return!0;var s=!1,a=t.sl?t.zd:0,u=t.bk?t.zd:0,h=n.clientWidth||i+a,n=n.clientHeight||r+u;h===i+a&&n===r+u||(t.sl=!1,t.bk=!1,u=a=0,t.Db=h,t.Cb=n,s=t.Wr=!0),t.Im=!1;var l=t.sb,c=t.Nd,f=0,p=0,d=0,y=0,h=l.width,n=l.height,v=t.ty;t.rA.Zc()?(c.width>h&&(f=v.left,p=v.right),c.height>n&&(d=v.top,y=v.bottom)):(f=v.left,p=v.right,d=v.top,y=v.bottom);var v=c.width+f+p,g=c.height+d+y,f=c.x-f,m=l.x,p=c.right+p,b=l.right+a,d=c.y-d,w=l.y,y=c.bottom+y,l=l.bottom+u,x="1px",k="1px",c=t.scale,P=!(v<h+a),C=!(g<n+u);t.uy===lf&&(P||C)&&(P&&t.NA&&t.re&&(x=1,f+1<m&&(x=Math.max((m-f)*c+t.Db,x)),p>b+1&&(x=Math.max((p-b)*c+t.Db,x)),h+a+1<v&&(x=Math.max((v-h+a)*c+t.Db,x)),x=x.toString()+"px"),C&&t.OA&&t.se&&(k=1,d+1<w&&(k=Math.max((w-d)*c+t.Cb,k)),y>l+1&&(k=Math.max((y-l)*c+t.Cb,k)),n+u+1<g&&(k=Math.max((g-n+u)*c+t.Cb,k)),k=k.toString()+"px"));var P="1px"!==x,S="1px"!==k;if(P&&S||!P&&!S||(C=!(g<n+u),S&&(b-=t.zd),P&&(l-=t.zd),v<h+a||!t.NA||!t.re||(x=1,f+1<m&&(x=Math.max((m-f)*c+t.Db,x)),p>b+1&&(x=Math.max((p-b)*c+t.Db,x)),h+1<v&&(x=Math.max((v-h)*c+t.Db,x)),x=x.toString()+"px"),P="1px"!==x,a=t.Cb,P!==t.bk&&(a=P?t.Cb-t.zd:t.Cb+t.zd),C&&t.OA&&t.se&&(k=1,d+1<w&&(k=Math.max((w-d)*c+a,k)),y>l+1&&(k=Math.max((y-l)*c+a,k)),n+1<g&&(k=Math.max((g-n)*c+a,k)),k=k.toString()+"px"),S="1px"!==k),t.Fw&&P===t.bk&&S===t.sl)return i===t.Db&&r===t.Cb||t.dg(),!1;if(P!==t.bk&&(t.Cb="1px"===x?t.Cb+t.zd:Math.max(t.Cb-t.zd,1),s=!0),t.bk=P,t.kt.style.width=x,S!==t.sl&&(t.Db="1px"===k?t.Db+t.zd:Math.max(t.Db-t.zd,1),s=!0,t.as&&(a=Jh.K(),S?(e.style.left=t.zd+"px",t.position=a.m(t.ab.x+t.zd/t.scale,t.ab.y)):(e.style.left="0px",t.position=a.m(t.ab.x-t.zd/t.scale,t.ab.y)),Jh.v(a))),t.sl=S,t.kt.style.height=k,t.Rz=!0,s&&(t.Wr=!0),e=t.Jw,a=e.scrollLeft,t.NA&&t.re&&(h+1<v?a=(t.position.x-f)*c:f+1<m?a=e.scrollWidth-e.clientWidth:p>b+1&&(a=t.position.x*c)),t.as)switch(t.Pz){case"negative":a=-(e.scrollWidth-a-e.clientWidth);break;case"reverse":a=e.scrollWidth-a-e.clientWidth}return e.scrollLeft=a,t.OA&&t.se&&(n+1<g?e.scrollTop=(t.position.y-d)*c:d+1<w?e.scrollTop=e.scrollHeight-e.clientHeight:y>l+1&&(e.scrollTop=t.position.y*c)),h=t.Db,n=t.Cb,e.style.width=h+(t.sl?t.zd:0)+"px",e.style.height=n+(t.bk?t.zd:0)+"px",i===h&&r===n&&!t.Ka.sc||(l=t.sb,t.Pu(o,l,c,t.scale,s),!1)}function ki(t,e,n){var i=e.layer;null!==i&&i.g===t&&(e.jb=!1,e.Og=!1,e.J(Ep),n&&e.zn(),n=i.rf(-1,e,!1),0<=n&&t.bd(bc,"parts",i,e,null,n,null),null!==(t=e.Tx)&&t(e,i,null))}function Pi(t,e,n){if(Jh.G(e,Fn,Bn,"addLayer:layer"),null!==e.g&&e.g!==t&&Jh.k("Cannot share a Layer with another Diagram: "+e+" of "+e.g),null===n?null!==e.g&&Jh.k("Cannot add an existing Layer to this Diagram again: "+e):(Jh.G(n,Fn,Bn,"addLayer:existingLayer"),n.g!==t&&Jh.k("Existing Layer must be in this Diagram: "+n+" not in "+n.g),e===n&&Jh.k("Cannot move a Layer before or after itself: "+e)),e.g!==t){e=e.name,t=t.dc,n=t.count;for(var i=0;i<n;i++)t.fa(i).name===e&&Jh.k("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Ci(t,e,n){if(t.Wc||t.$d)t.rb=n,n=t.Ka,n.sc&&Ln(n,e,t.rb);else if(t.Wc=!0,null===t.zb)t.rb=n;else{var i=t.sb.copy(),r=t.Db,o=t.Cb;i.width=t.Db/e,i.height=t.Cb/e;var s=t.zi.x,a=t.zi.y,u=t.rA;isNaN(s)&&(u.zj()?u.xj(kl)?s=0:u.xj(Pl)&&(s=r-1):s=u.Zc()?u.x*(r-1):r/2),isNaN(a)&&(u.zj()?u.xj(xl)?a=0:u.xj(Cl)&&(a=o-1):a=u.Zc()?u.y*(o-1):o/2),null!==t.mG&&(n=t.mG(t,n)),n<t.Ch&&(n=t.Ch),n>t.Bh&&(n=t.Bh),r=Jh.wb(t.ab.x+s/e-s/n,t.ab.y+a/e-a/n),t.position=r,Jh.v(r),t.rb=n,t.Pu(i,t.sb,e,n,!1),t.Wc=!1,Qn(t,!1),n=t.Ka,n.sc&&Ln(n,e,t.rb),t.oa(),gi(t)}}function Si(t,e){void 0===e&&(e=null);var n=t.td;if(null!==n&&n.visible){for(var i=Jh.tm(),r=1,o=1,s=n.xa.n,a=s.length,u=0;u<a;u++){var h=s[u],l=h.interval;2>l||(ao(h.Fb)?o=o*l/yt(o,l):r=r*l/yt(r,l))}if(s=n.Jx,i.m(o*s.width,r*s.height),s=o=u=a=0,null!==e)a=e.width,u=e.height,o=e.x,s=e.y;else{for(r=Jh.vf(),o=t.sb,r.m(o.x,o.y,o.width,o.height),s=t.zw.i;s.next();)o=s.value.sb,o.I()&&A(r,o.x,o.y,o.width,o.height);if(!r.I())return void Jh.Bb(r);a=r.width,u=r.height,o=r.x,s=r.y,Jh.Bb(r)}n.width=a+2*i.width,n.height=u+2*i.height,r=Jh.K(),dt(o,s,0,0,i.width,i.height,r),r.offset(-i.width,-i.height),Jh.Lk(i),n.W.location=r,Jh.v(r)}}function Ti(t){if(t=t.selection,0<t.count){for(var e=t.yc(),n=e.length,i=0;i<n;i++)e[i].jb=!1;t.Qa(),t.clear(),t.freeze()}}function Mi(t){var e=t.ri;t.qE!==e&&(t.qE=e,t.Aa("Modified"))}function _i(t,e){if(e.$===t.$){var n=e.Fc,i=e.propertyName;if(n===vc&&"S"===i[0])if("StartingFirstTransaction"===i)n=t.Va,n.gf.each(function(e){e.Tc(t)}),n.eg.each(function(e){e.Tc(t)}),n.fg.each(function(e){e.Tc(t)}),t.$d||t.eh||(t.Go=!0,t.Lo&&(t.Tf=!0));else if("StartingUndo"===i||"StartingRedo"===i){var r=t.Ka;r.df&&!t.gb&&r.Ih(),t.Aa("ChangingSelection")}else"StartedTransaction"===i&&(r=t.Ka,r.df&&!t.gb&&r.Ih());else if(t.Ua){t.Ua=!1;try{var o=e.tf;if(""!==o)if(n===gc){if("linkFromKey"===o){var s=e.object,a=t.Yf(s);if(null!==a){var u=e.newValue,h=t.Oe(u);a.V=h}}else if("linkToKey"===o)s=e.object,null!==(a=t.Yf(s))&&(u=e.newValue,h=t.Oe(u),a.Z=h);else if("linkFromPortId"===o){if(s=e.object,null!==(a=t.Yf(s))){var l=e.newValue;"string"==typeof l&&(a.Ng=l)}}else if("linkToPortId"===o)s=e.object,null!==(a=t.Yf(s))&&"string"==typeof(l=e.newValue)&&(a.Jh=l);else if("nodeGroupKey"===o){var s=e.object,c=t.wh(s);if(null!==c){var f=e.newValue;if(void 0!==f){var p=t.Oe(f);c.Ca=p instanceof Aa?p:null}else c.Ca=null}}else if("linkLabelKeys"===o){if(s=e.object,null!==(a=t.Yf(s))){var d=e.oldValue,y=e.newValue;if(Jh.isArray(d))for(var v=Jh.cb(d),g=0;g<v;g++){var m=Jh.Ba(d,g),h=t.Oe(m);null!==h&&(h.Xb=null)}if(Jh.isArray(y))for(v=Jh.cb(y),g=0;g<v;g++)m=Jh.Ba(y,g),null!==(h=t.Oe(m))&&(h.Xb=a)}}else if("nodeParentKey"===o){var b=e.object,w=t.Oe(e.newValue),x=t.Fx(b);if(null!==t.rk)null!==w&&(t.rk.data=b,t.rk.kd=t.bq(b));else if(null!==x){var k=x.Bn();null!==k?null===w?t.remove(k):t.Vd?k.V=w:k.Z=w:qi(t,w,x)}}else if("parentLinkCategory"===o){var b=e.object,x=t.Fx(b),P=e.newValue;null!==x&&"string"==typeof P&&null!==(k=x.Bn())&&(k.kd=P)}else if("nodeCategory"===o){var s=e.object,C=t.wh(s),P=e.newValue;null!==C&&"string"==typeof P&&(C.kd=P)}else if("linkCategory"===o){var s=e.object,S=t.Yf(s),P=e.newValue;null!==S&&"string"==typeof P&&(S.kd=P)}else if("nodeDataArray"===o){var T=e.oldValue;Ui(t,T);var M=e.newValue;Ri(t,M)}else"linkDataArray"===o&&(T=e.oldValue,Ui(t,T),M=e.newValue,zi(t,M));t.ri=!0}else n===mc?(M=e.newValue,"nodeDataArray"===o&&Jh.Pa(M)?Vi(t,M):"linkDataArray"===o&&Jh.Pa(M)?Gi(t,M):"linkLabelKeys"===o&&Ht(M)&&(a=t.Yf(e.object),h=t.Oe(M),null!==a&&null!==h&&(h.Xb=a)),t.ri=!0):n===bc?(T=e.oldValue,"nodeDataArray"===o&&Jh.Pa(T)?Ki(t,T):"linkDataArray"===o&&Jh.Pa(T)?Ki(t,T):"linkLabelKeys"===o&&Ht(T)&&null!==(h=t.Oe(T))&&(h.Xb=null),t.ri=!0):n===vc&&("SourceChanged"===o?null!==e.object?Ni(t,e.object,e.propertyName):(t.$J(),t.LG()):"ModelDisplaced"===o&&t.lm());else if(n===gc){var _=e.propertyName,s=e.object;s===t.$?"nodeKeyProperty"!==_&&"nodeCategoryProperty"!==_&&"linkFromKeyProperty"!==_&&"linkToKeyProperty"!==_&&"linkFromPortIdProperty"!==_&&"linkToPortIdProperty"!==_&&"linkLabelKeysProperty"!==_&&"nodeIsGroupProperty"!==_&&"nodeGroupKeyProperty"!==_&&"nodeParentKeyProperty"!==_&&"linkCategoryProperty"!==_||t.ja.lb||t.lm():Ni(t,s,_),t.ri=!0}else if(n===mc||n===bc)Ai(t,e),t.ri=!0;else if(n===vc){"FinishedUndo"!==i&&"FinishedRedo"!==i||(t.Aa("ChangedSelection"),ci(t)),r=t.Ka,"RolledBackTransaction"===i&&r.Ih(),t.Go=!0,t.dg(),0===t.ja.wi&&Pn(r),"CommittedTransaction"===i&&t.ja.Dz&&(t.dh=Math.min(t.dh,t.ja.wj-1));var N=e.KF;N&&(Mi(t),t.Yx.clear()),!t.Jz&&N&&(t.Jz=!0,Jh.setTimeout(function(){t.Xa.standardMouseOver(),t.Jz=!1},10))}}finally{t.Ua=!0}}}}function Ni(t,e,n){if("string"==typeof n){var i=t.wh(e);if(null!==i)i.Jb(n),t.$ instanceof ee&&null!==(i=t.Yf(e))&&i.Jb(n);else{for(var i=null,r=t.Mm.i;r.next();){for(var o=r.value,s=0;s<o.length;s++){var a=o[s].YH(e);null!==a&&(null===i&&(i=Jh.Za()),i.push(a))}if(null!==i)break}if(null!==i){for(r=0;r<i.length;r++)i[r].Jb(n);Jh.ra(i)}}e===t.$.Tk&&t.LG(n)}}function Ai(t,e){var n=e.Fc===mc,i=n?e.Fj:e.Gj,r=n?e.newValue:e.oldValue,o=t.Mm.ka(e.object);if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(n)Po(a,r,i);else{var u=i;if(!(0>u)){var h=u;ko(a)&&h++,a.rf(h,!0),Co(a,h,u)}}}}function Oi(t,e){var n=e.hk;if(Jh.isArray(n)){var i=t.Mm.ka(n);if(null===i)i=[],i.push(e),t.Mm.add(n,i);else{for(n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)}}}function ji(t,e){var n=e.hk;if(Jh.isArray(n)){var i=t.Mm.ka(n);if(null!==i)for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),0===i.length&&t.Mm.remove(n);break}}}function Ei(t,e){for(var n=e.xa.n,i=n.length,r=0;r<i;r++){var o=n[r];o instanceof Ko&&Li(t,o)}}function Li(t,e){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){var i=e.Ve;if(null!==i&&(i.No instanceof Event&&null!==e.We&&e.We(e,i.No),!0===i.Zr&&(null!==e.ki&&e.ki(e,i.Qz),null!==e.g&&e.g.Mz.add(e))),n=n.src,null===(i=t.kp.ka(n)))i=[],i.push(e),t.kp.add(n,i);else{for(n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)}}}function Di(t,e){for(var n=e.xa.n,i=n.length,r=0;r<i;r++){var o=n[r];o instanceof Ko&&Fi(t,o)}}function Fi(t,e){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){var n=n.src,i=t.kp.ka(n);if(null!==i)for(var r=0;r<i.length;r++)if(i[r]===e){i.splice(r,1),0===i.length&&(t.kp.remove(n),Sp(n));break}}}function Ri(t,e){if(null!==e){for(var n=t.$,i=n instanceof Zt,r=Jh.cb(e),o=0;o<r;o++){var s=Jh.Ba(e,o);n.Le(s)?Vi(t,s,!1):i&&Gi(t,s)}if(i||n instanceof ee){for(o=0;o<r;o++)s=Jh.Ba(e,o),n.Le(s)&&Bi(t,s);if(i)for(n=t.links;n.next();)Qs(n.value)}Qi(t,!1)}}function Vi(t,e,n){if(void 0!==e&&null!==e&&!t.ja.lb&&!t.Ii.contains(e)){void 0===n&&(n=!0);var i=t.IA(e),r=Ii(t,e,i);if(null!==r&&(xo(r),null!==(r=r.copy()))){var o=t.Re;t.Re=!0,r.Ci=i,r.Zd=e,t.add(r),r.Zd=null,r.data=e,n&&Bi(t,e),t.Re=o}}}function Ii(t,e,n){var i=!1,r=t.$;return r instanceof Zt&&(i=r.WA(e)),i?null===(e=t.MA.ka(n))&&null===(e=t.MA.ka(""))&&(vf||(vf=!0,Jh.trace('No Group template found for category "'+n+'"'),Jh.trace("  Using default group template")),e=t.LC):null===(e=t.nB.ka(n))&&null===(e=t.nB.ka(""))&&(yf||(yf=!0,Jh.trace('No Node template found for category "'+n+'"'),Jh.trace("  Using default node template")),e=t.NC),e}function Bi(t,e){var n=t.$;if(n instanceof Zt||n instanceof ee){var i=n.qb(e);if(void 0!==i){var r=Yt(n,i),o=t.wh(e);if(null!==r&&null!==o){for(r=r.i;r.next();){var s=r.value;if(n instanceof Zt){var a=n;if(a.Le(s)){if(o instanceof Aa&&a.Dn(s)===i){var u=o,s=t.wh(s);null!==s&&(s.Ca=u)}}else{var h=t.Yf(s);if(null!==h&&o instanceof Ls&&(u=o,a.cm(s)===i&&(h.V=u),a.dm(s)===i&&(h.Z=u),s=a.Nk(s),Jh.isArray(s)))for(a=0;a<Jh.cb(s);a++)if(Jh.Ba(s,a)===i){u.Xb=h;break}}}else n instanceof ee&&(h=n,h.Le(s)&&o instanceof Ls&&(u=o,h.Fn(s)===i&&(s=t.Fx(s),qi(t,u,s))))}Jt(n,i)}n instanceof Zt?void 0!==(n=n.Dn(e))&&(n=t.Oe(n))instanceof Aa&&(o.Ca=n):n instanceof ee&&void 0!==(n=n.Fn(e))&&o instanceof Ls&&(u=o,o=t.Oe(n),qi(t,o,u))}}}function qi(t,e,n){if(null!==e&&null!==n){var i=t.Va.PF,r=e,o=n;if(t.Vd){for(e=o.je;e.next();)if(e.value.Z===o)return}else for(r=n,o=e,e=r.je;e.next();)if(e.value.V===r)return;if((null===i||!Ge(i,r,o,null,!0))&&(i=t.bq(n.data),null!==(e=Hi(t,i))&&(xo(e),null!==(e=e.copy())))){var s=t.Re;t.Re=!0,e.Ci=i,e.Zd=n.data,e.V=r,e.Z=o,t.add(e),e.Zd=null,e.data=n.data,t.Re=s}}}function zi(t,e){if(null!==e){for(var n=Jh.cb(e),i=0;i<n;i++){Gi(t,Jh.Ba(e,i))}Qi(t,!1)}}function Gi(t,e){if(void 0!==e&&null!==e&&!t.ja.lb&&!t.Sj.contains(e)){var n=t.bq(e),i=Hi(t,n);if(null!==i&&(xo(i),null!==(i=i.copy()))){var r=t.Re;t.Re=!0,i.Ci=n,i.Zd=e;var n=t.$,o=n.eI(e);if(""!==o&&(i.Ng=o),o=n.cm(e),void 0!==o&&(o=t.Oe(o))instanceof Ls&&(i.V=o),o=n.iI(e),""!==o&&(i.Jh=o),o=n.dm(e),void 0!==o&&(o=t.Oe(o))instanceof Ls&&(i.Z=o),n=n.Nk(e),Jh.isArray(n))for(var o=Jh.cb(n),s=0;s<o;s++){var a=Jh.Ba(n,s),a=t.Oe(a);null!==a&&(a.Xb=i)}t.add(i),i.Zd=null,i.data=e,t.Re=r}}}function Hi(t,e){var n=t.bB.ka(e);return null===n&&null===(n=t.bB.ka(""))&&(gf||(gf=!0,Jh.trace('No Link template found for category "'+e+'"'),Jh.trace("  Using default link template")),n=t.MC),n}function Ui(t,e){for(var n=Jh.cb(e),i=0;i<n;i++){Ki(t,Jh.Ba(e,i))}}function Ki(t,e){if(void 0!==e&&null!==e){var n=t.wh(e);if(null!==n){ki(t,n,!1);var i=t.$;if(i instanceof Zt&&n instanceof Ls){var r=n,n=i.qb(r.data);if(void 0!==n){for(var o=r.je;o.next();)Wt(i,n,o.value.data);if(r.Df&&null!==(o=r.Xb)&&Wt(i,n,o.data),r instanceof Aa)for(r=r.hc;r.next();)o=r.value.data,i.Le(o)&&Wt(i,n,o)}}else if(i instanceof ee&&n instanceof Ls){if(r=n,n=i.qb(r.data),null!==(o=t.Yf(r.data))){o.jb=!1,o.Og=!1;var s=o.layer;if(null!==s){var a=s.rf(-1,o,!1);0<=a&&t.bd(bc,"parts",s,o,null,a,null),a=o.Tx,null!==a&&a(o,s,null)}}for(o=t.Vd,r=r.je;r.next();)s=r.value,s=(o?s.Z:s.V).data,i.Le(s)&&Wt(i,n,s)}}}}function Wi(t,e,n){for(var i in n){var r=e[i],o=n[i];if(Jh.isArray(o)){if(!Jh.isArray(r)||r.length<o.length)return!1;for(var s=0;s<r.length;s++){var a=r[s],u=o[s];if(void 0!==u&&!Ji(t,a,u))return!1}}else if(!Ji(t,r,o))return!1}return!0}function Ji(t,e,n){if("function"==typeof n){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(Jh.Pa(e)&&Jh.Pa(n)){if(!Wi(t,e,n))return!1}else if(e!==n)return!1;return!0}function Yi(t,e){t.ck=!1;var n=t.Jv;n.L(e)||(e=e.S(),t.Jv=e,Qn(t,!1),t.Aa("DocumentBoundsChanged",null,n.copy()),gi(t))}function Qi(t,e){for(var n=t.Ll.i;n.next();)Zi(t,n.value,e);null!==t.Ub&&(e?t.Ub.sf=!1:t.Ub.J())}function Zi(t,e,n){if(null!==e){for(var i=e.fp.i;i.next();)Zi(t,i.value,n);null!==e.Ub&&(n?e.Ub.sf=!1:e.Ub.J())}}function Xi(t,e){if(t.Pj&&!t.gz){var n=t.Ua;t.Ua=!0;var i=t.ja.wi,r=t.Ub;try{0===i&&t.Ib("Layout");var o=t.Ka;1>=i&&!o.df&&!o.sc&&(e||o.Yn("Layout")),t.Pj=!1;for(var s=t.Ll.i;s.next();)$i(t,s.value,e,i);r.sf||(!e||r.JF||0===i?(r.doLayout(t),ci(t),r.sf=!0):t.Pj=!0)}finally{0===i&&t.Yc("Layout"),t.Pj=!r.sf,t.Ua=n}}}function $i(t,e,n,i){if(null!==e){for(var r=e.fp.i;r.next();)$i(t,r.value,n,i);r=e.Ub,null===r||r.sf||(!n||r.JF||0===i?(e.Wn=!e.location.I(),r.doLayout(e),e.J(Lp),fi(t,e),r.sf=!0):t.Pj=!0)}}function tr(t){function e(t){var e=t.toLowerCase(),r=new c("function");n.add(t,r),n.add(e,r),i.add(t,t),i.add(e,t)}var n=new b("string",c),i=new b("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.iz=n,t.hz=i}function er(t,e){var n=t.hz.ka(e);return null!==n?n:t.hz.ka(e.toLowerCase())}function nr(t,e){var n=t.iz.ka(e);return null!==n?n:null!==(n=t.iz.ka(e.toLowerCase()))?n:(Jh.k("Unknown DiagramEvent name: "+e),null)}function ir(t){return!t.Ka.df&&(!((t=t.Xa)instanceof de)||(!t.Sw||t.yI))}function rr(t,e,n,i){if(null===t.Kd&&(t.Kd=new va),t.Kd.su||t.Kd.group!==n||t.Kd.LB!==i){if(null===n){e=t.computeOccupiedArea(),e.Zf(100,100),t.Kd.initialize(e),e=Jh.vf();for(var r=t.ig;r.next();){var o=r.value,s=o.layer;null!==s&&s.visible&&!s.Hc&&or(t,o,i,e)}}else for(0<n.hc.count&&(e=t.computePartsBounds(n.hc,!1),e.Zf(20,20),t.Kd.initialize(e)),e=Jh.vf(),r=n.hc;r.next();)(o=r.value)instanceof Ls&&or(t,o,i,e);Jh.Bb(e),t.Kd.group=n,t.Kd.LB=i,t.Kd.su=!1}else e&&wa(t.Kd);return t.Kd}function or(t,e,n,i){if(e!==n)if(e.isVisible()&&e.lA&&!e.Df){n=e.getAvoidableRect(i),i=t.Kd.Op,e=t.Kd.Mp;for(var r=n.x+n.width,o=n.y+n.height,s=n.x;s<r;s+=i){for(var a=n.y;a<o;a+=e)ba(t.Kd,s,a);ba(t.Kd,s,o)}for(a=n.y;a<o;a+=e)ba(t.Kd,r,a);ba(t.Kd,r,o)}else if(e instanceof Aa)for(e=e.hc;e.next();)(r=e.value)instanceof Ls&&or(t,r,n,i)}function sr(t){-1===t.so&&(t.so=Jh.setTimeout(function(){if(-1!==t.so){ar(t);var e=t.N.event;if(null!==e){var n=ur(t,t.uv);n.Qc(t.position)||(t.position=n,t.N.ea=t.UB(t.uv),n=ei(e),t.simulatedMouseMove(e,null,n)||t.doMouseMove(),t.ck=!0,Yi(t,t.Nd.copy().Zg(t.computeBounds())),t.Fe=!0,t.dg(),sr(t))}}},t.$q))}function ar(t){-1!==t.so&&(Jh.clearTimeout(t.so),t.so=-1)}function ur(t,e){var n=t.position,i=t.HE;if(0>=i.top&&0>=i.left&&0>=i.right&&0>=i.bottom)return n;var r=t.sb,o=t.scale,r=Jh.lg(0,0,r.width*o,r.height*o),s=Jh.wb(0,0);if(e.x>=r.x&&e.x<r.x+i.left){var a=Math.max(t.Yu,1),a=0|a;s.x-=a,e.x<r.x+i.left/2&&(s.x-=a),e.x<r.x+i.left/4&&(s.x-=4*a)}else e.x<=r.x+r.width&&e.x>r.x+r.width-i.right&&(a=Math.max(t.Yu,1),a|=0,s.x+=a,e.x>r.x+r.width-i.right/2&&(s.x+=a),e.x>r.x+r.width-i.right/4&&(s.x+=4*a));return e.y>=r.y&&e.y<r.y+i.top?(a=Math.max(t.Zu,1),a|=0,s.y-=a,e.y<r.y+i.top/2&&(s.y-=a),e.y<r.y+i.top/4&&(s.y-=4*a)):e.y<=r.y+r.height&&e.y>r.y+r.height-i.bottom&&(a=Math.max(t.Zu,1),a|=0,s.y+=a,e.y>r.y+r.height-i.bottom/2&&(s.y+=a),e.y>r.y+r.height-i.bottom/4&&(s.y+=4*a)),s.Qc(Rl)||(n=new w(n.x+s.x/o,n.y+s.y/o)),Jh.Bb(r),Jh.v(s),n}function hr(t,e){if(t.Ka.Ih(),t.dg(),null===t.zb)return null;"object"!=typeof e&&Jh.k("properties argument must be an Object.");var n=!1,i=e.size||null,r=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(r="NaN");var o=e.maxSize;void 0===e.maxSize&&(n=!0,o="svg"===e.context?new P(1/0,1/0):new P(2e3,2e3));var s=e.position||null,a=e.parts||null,u=void 0===e.padding?1:e.padding,h=e.background||null,l=e.omitTemporary;void 0===l&&(l=!0);var c=e.document||document,f=e.elementFinished||null,p=e.showTemporary;void 0===p&&(p=!l),l=e.showGrid,void 0===l&&(l=p),null!==i&&isNaN(i.width)&&isNaN(i.height)&&(i=null),"number"==typeof u?u=new O(u):u instanceof O||Jh.k("MakeImage padding must be a Margin or a number."),u.left=Math.max(u.left,0),u.right=Math.max(u.right,0),u.top=Math.max(u.top,0),u.bottom=Math.max(u.bottom,0),t.hf.Ke(!0);var d=new H(null,c),y=d.Gk;if(!(i||r||a||s))return d.width=t.Db+Math.ceil(u.left+u.right),d.height=t.Cb+Math.ceil(u.top+u.bottom),"svg"===e.context?(y=new R(d.Od,c,f),di(t,y,u,new P(d.width,d.height),t.rb,t.ab,a,h,p,l),y):(t.Cr=!1,di(t,y,u,new P(d.width,d.height),t.rb,t.ab,a,h,p,l),t.Cr=!0,d);var v=t.pb.tx,g=new w(0,0),m=t.Nd.copy();if(m.BG(t.padding),p)for(var b=!0,b=t.dc.n,x=b.length,k=0;k<x;k++){var S=b[k];if(S.visible&&S.Hc)for(var S=S.xb.n,T=S.length,M=0;M<T;M++){var _=S[M];_.XA&&_.isVisible()&&(_=_.U,_.I()&&m.Zg(_))}}if(g.x=m.x,g.y=m.y,null!==a){var N,b=!0,x=a.i;for(x.reset();x.next();)(_=x.value)instanceof ls&&(null!==(S=_.layer)&&!S.visible||null!==S&&!p&&S.Hc||!_.isVisible()||(_=_.U,_.I()&&(b?(b=!1,N=_.copy()):N.Zg(_))));b&&(N=new C(0,0,0,0)),m.width=N.width,m.height=N.height,g.x=N.x,g.y=N.y}return null!==s&&s.I()&&(g=s,r||(r=v)),b=_=0,null!==u&&(_=u.left+u.right,b=u.top+u.bottom),k=x=0,null!==i&&(x=i.width,k=i.height,isFinite(x)&&(x=Math.max(0,x-_)),isFinite(k)&&(k=Math.max(0,k-b))),N=s=0,null!==i&&null!==r?("NaN"===r&&(r=v),i.I()?(s=x,N=k):isNaN(k)?(s=x,N=m.height*r):(s=m.width*r,N=k)):null!==i?i.I()?(r=Math.min(x/m.width,k/m.height),s=x,N=k):isNaN(k)?(r=x/m.width,s=x,N=m.height*r):(r=k/m.height,s=m.width*r,N=k):null!==r?"NaN"===r&&o.I()?(r=Math.min((o.width-_)/m.width,(o.height-b)/m.height),r>v?(r=v,s=m.width,N=m.height):(s=o.width,N=o.height)):(s=m.width*r,N=m.height*r):(r=v,s=m.width,N=m.height),null!==u?(s+=_,N+=b):u=new O(0),null!==o&&(i=o.width,o=o.height,"svg"!==e.context&&n&&!mf&&(s>i||N>o)&&(Jh.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(s)+"x"+Math.ceil(N)+" vs 2000x2000) Consider increasing the max size."),mf=!0),isNaN(i)&&(i=2e3),isNaN(o)&&(o=2e3),isFinite(i)&&(s=Math.min(s,i)),isFinite(o)&&(N=Math.min(N,o))),d.width=Math.ceil(s),d.height=Math.ceil(N),"svg"===e.context?(y=new R(d.Od,c,f),di(t,y,u,new P(Math.ceil(s),Math.ceil(N)),r,g,a,h,p,l),y):(t.Cr=!1,di(t,y,u,new P(Math.ceil(s),Math.ceil(N)),r,g,a,h,p,l),t.Cr=!0,d)}function lr(){this.aE=null,this.hH="63ad05bbe23a1786468a4c741b6d2",this.Ni=this.hH===this._tk||null}function cr(t,n){void 0!==n&&null!==n||Jh.k("Diagram setup requires an argument DIV."),null!==t.Ob&&Jh.k("Diagram has already completed setup."),"string"==typeof n?t.Ob=e.document.getElementById(n):n instanceof HTMLDivElement?t.Ob=n:Jh.k("No DIV or DIV id supplied: "+n),null===t.Ob&&Jh.k("Invalid DIV id; could not get element with id: "+n),void 0!==t.Ob.aa&&Jh.k("Invalid div id; div already has a Diagram associated with it."),"static"===e.getComputedStyle(t.Ob,null).position&&(t.Ob.style.position="relative"),t.Ob.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",t.Ob.style["-ms-touch-action"]="none",t.Ob.innerHTML="",t.Ob.aa=t;var i=new H(t);i.Od.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==i.style&&(i.style.position="absolute",i.style.top="0px",i.style.left="0px","rtl"===e.getComputedStyle(t.Ob,null).getPropertyValue("direction")&&(t.as=!0),i.style.zIndex="2",i.style.aM="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none"),t.Db=t.Ob.clientWidth||1,t.Cb=t.Ob.clientHeight||1,t.zb=i,t.hf=i.Gk;var r=t.hf;t.wd=t.computePixelRatio(),wi(t,t.Db,t.Cb),t.Lv=r[Jh.Kg("7eba17a4ca3b1a8346")][Jh.Kg("78a118b7")](r,Jh.vm,4,4),t.Ob.insertBefore(i.Od,t.Ob.firstChild),i=new H(null),i.width=1,i.height=1,t.lz=i,t.YC=i.Gk;var i=Jh.createElement("div"),o=Jh.createElement("div");i.style.position="absolute",i.style.overflow="auto",i.style.width=t.Db+"px",i.style.height=t.Cb+"px",i.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",t.Ob.appendChild(i),i.appendChild(o),i.onscroll=Wn,i.onmousedown=Jn,i.ontouchstart=Jn,i.aa=t,i.dH=!0,i.eH=!0,t.Jw=i,t.kt=o,t.my=Jh.QE(function(){t.uk=null,t.oa()},300,!1),t.ZB=Jh.QE(function(){Hn(t)},250,!1),t.preventDefault=function(t){return t.preventDefault(),!1},t.Sn=function(e){if(t.isEnabled){t.fh=!0;var n=t.xd;Jh.In&&n.Aj?(e.preventDefault(),e.simulated=!0,t.tt=e):(t.xd=t.Rb,t.Rb=n,ti(t,t,e,n,!0),t.simulatedMouseMove(e,null,e.target.aa)||(t.doMouseMove(),t.Xa.isBeyondDragSize()&&(t.Vh=0),ri(n,e)))}},t.Rn=function(e){if(t.isEnabled){t.fh=!0;var n=t.xd;Jh.In&&null!==t.tt?(t.tt=e,e.preventDefault()):Jh.In&&400>e.timeStamp-t.ik?e.preventDefault():t.fk?e.preventDefault():(t.xd=t.Rb,t.Rb=n,ti(t,t,e,n,!0),n.Hk=!0,n.te=e.detail,(Jh.hq||Jh.iq)&&(e.timeStamp-t.ik<t.bA&&!t.Xa.isBeyondDragSize()?t.Vh++:t.Vh=1,t.ik=e.timeStamp,n.te=t.Vh),t.Pi=n,!0===n.Ir.simulated?(e.preventDefault(),e.simulated=!0):(Mc=null,t.doMouseDown(),t.Pi=t.Pi.copy(),1===e.button?e.preventDefault():ri(n,e)))}},t.Un=function(e){if(t.isEnabled)if(t.fk&&2===e.button)e.preventDefault();else if(t.fk&&0===e.button&&(t.fk=!1),t.Bp)e.preventDefault();else{t.fh=!0;var n=t.xd;if(Jh.In){if(400>e.timeStamp-t.ik)return void e.preventDefault();t.ik=e.timeStamp}Jh.In&&null!==t.tt?(t.tt=null,e.preventDefault()):(t.xd=t.Rb,t.Rb=n,ti(t,t,e,n,!0),n.up=!0,n.te=e.detail,(Jh.hq||Jh.iq)&&(n.te=t.Vh),n.bubbles=e.bubbles,n.Jf=ei(e),t.simulatedMouseUp(e,null,new w,n.Jf)||(t.doMouseUp(),ar(t),ri(n,e)))}},t.Vn=function(e){if(t.isEnabled){var n=t.xd;t.xd=t.Rb,t.Rb=n,ti(t,t,e,n,!0),n.bubbles=!0;var i=0,r=0;void 0!==e.deltaX?(i=0<e.deltaX?1:-1,r=0<e.deltaY?1:-1,n.oi=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-i:-r):void 0!==e.wheelDeltaX?(i=0<e.wheelDeltaX?-1:1,r=0<e.wheelDeltaY?-1:1,n.oi=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-i:-r):n.oi=void 0!==e.wheelDelta?0<e.wheelDelta?1:-1:0,t.doMouseWheel(),ri(n,e)}},t.Tn=function(){if(t.isEnabled){t.fh=!1;var e=t.Xa;e.cancelWaitAfter(),e.standardMouseOver()}},t.TB=function(e){if(t.isEnabled){t.Bp=!1,t.fk=!0;var n=ni(t,e,e.targetTouches[0],1<e.touches.length);t.doMouseDown(),ri(n,e)}},t.SB=function(e){if(t.isEnabled){var n=null;0<e.targetTouches.length?n=e.targetTouches[0]:0<e.changedTouches.length&&(n=e.changedTouches[0]);var i=ii(t,e,n,1<e.touches.length);t.simulatedMouseMove(n||e,null,i.Jf)||t.doMouseMove(),ri(i,e)}},t.RB=function(n){if(t.isEnabled)if(t.Bp)n.preventDefault();else if(!(1<n.touches.length)){var i=null,r=null;0<n.targetTouches.length?r=n.targetTouches[0]:0<n.changedTouches.length&&(r=n.changedTouches[0]);var o=t.xd;if(t.xd=t.Rb,t.Rb=o,o.g=t,o.te=1,null!==r){i=e.document.elementFromPoint(r.clientX,r.clientY),null!==i&&i.aa instanceof Bn&&i.aa!==t&&oi(i.aa,r,o),oi(t,r,o);var s=r.screenX,a=r.screenY,u=t.hw;n.timeStamp-t.ik<t.bA&&!(25<Math.abs(u.x-s)||25<Math.abs(u.y-a))?t.Vh++:t.Vh=1,o.te=t.Vh,t.ik=n.timeStamp,t.hw.m(s,a)}s=0,n.ctrlKey&&(s+=1),n.altKey&&(s+=2),n.shiftKey&&(s+=4),n.metaKey&&(s+=8),o.md=s,o.button=0,o.buttons=1,o.Hk=!1,o.up=!0,o.oi=0,o.vc=!1,o.bubbles=!1,o.event=n,o.timestamp=Date.now(),o.Jf=null===i?ei(n):i.aa?i.aa:null,o.Be=null,t.simulatedMouseUp(r||n,null,new w,o.Jf)||t.doMouseUp(),ri(o,n),t.fk=!1}},t.sq=function(e){if(t.isEnabled){t.fh=!0;var n=t.Nz;void 0===n[e.pointerId]&&(n[e.pointerId]=e);var n=t.lp,i=!1;if(null!==n[0]&&n[0].pointerId===e.pointerId)n[0]=e;else if(null!==n[1]&&n[1].pointerId===e.pointerId)n[1]=e,i=!0;else if(null===n[0])n[0]=e;else{if(null!==n[1])return void e.preventDefault();n[1]=e,i=!0}"touch"!==e.pointerType&&"pen"!==e.pointerType||(t.Bp=!1,t.fk=!0),n=ni(t,e,e,i),"touch"!==e.pointerType&&(n.button=e.button,void 0===e.buttons||Jh.xu||(n.buttons=e.buttons),Jh.zh&&0===e.button&&e.ctrlKey&&(n.button=2)),t.doMouseDown(),1===e.button?e.preventDefault():ri(n,e)}},t.tq=function(e){if(t.isEnabled){t.fh=!0;var n=t.lp;if(null!==n[0]&&n[0].pointerId===e.pointerId)n[0]=e;else{if(null!==n[1]&&n[1].pointerId===e.pointerId)return void(n[1]=e);if(null!==n[0])return;n[0]=e}n[0].pointerId===e.pointerId&&(n=ii(t,e,e,null!==n[1]),"touch"!==e.pointerType&&(n.button=e.button,void 0===e.buttons||Jh.xu||(n.buttons=e.buttons),Jh.zh&&0===e.button&&e.ctrlKey&&(n.button=2)),t.simulatedMouseMove(e,null,n.Jf)||(t.doMouseMove(),ri(n,e)))}},t.vq=function(n){if(t.isEnabled){t.fh=!0;var i="touch"===n.pointerType||"pen"===n.pointerType,r=t.Nz;if(i&&t.Bp)delete r[n.pointerId],n.preventDefault();else if(r=t.lp,null!==r[0]&&r[0].pointerId===n.pointerId){r[0]=null,r=t.xd,t.xd=t.Rb,t.Rb=r;var o=e.document.elementFromPoint(n.clientX,n.clientY);null!==o&&o.aa instanceof Bn&&o.aa!==t&&oi(o.aa,n,r),oi(t,n,r),r.g=t;var s=t.hw,a=i?25:10;n.timeStamp-t.ik<t.bA&&!(Math.abs(s.x-n.screenX)>a||Math.abs(s.y-n.screenY)>a)?t.Vh++:t.Vh=1,r.te=t.Vh,t.ik=n.timeStamp,t.hw.m(n.screenX,n.screenY),s=0,n.ctrlKey&&(s+=1),n.altKey&&(s+=2),n.shiftKey&&(s+=4),n.metaKey&&(s+=8),r.md=s,r.button=n.button,void 0===n.buttons||Jh.xu||(r.buttons=n.buttons),Jh.zh&&0===n.button&&n.ctrlKey&&(r.button=2),r.Hk=!1,r.up=!0,r.oi=0,r.vc=!1,r.bubbles=!0,r.event=n,r.timestamp=Date.now(),r.Jf=null===o?ei(n):o.aa?o.aa:null,r.Be=null,t.simulatedMouseUp(n,null,new w,r.Jf)||(t.doMouseUp(),ar(t),ri(r,n),i&&(t.fk=!1))}else null!==r[1]&&r[1].pointerId===n.pointerId&&(r[1]=null)}},t.uq=function(e){if(t.isEnabled){t.fh=!1;var n=t.Nz;n[e.pointerId]&&delete n[e.pointerId],n=t.lp,null!==n[0]&&n[0].pointerId===e.pointerId&&(n[0]=null),null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null),"touch"!==e.pointerType&&"pen"!==e.pointerType&&(e=t.Xa,e.cancelWaitAfter(),e.standardMouseOver())}},r.Ke(!0),Gn(t)}function fr(t){1<arguments.length&&Jh.k("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Bn.call(this,t),this.Rt=!0,this.Rl=!1,this.ib=!0,this.rA=ol,this.Ub=new Ka}function pr(t){1<arguments.length&&Jh.k("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Bn.call(this,t),this.Ka.isEnabled=!1,this.Wc=!0,this.pk=null,this.Mv=!0,this.JJ("drawShadows",!1);var e=new ls,n=new No;n.stroke="magenta",n.mb=2,n.fill="transparent",n.name="BOXSHAPE",e.nm=!0,e.BB="BOXSHAPE",e.cB="BOXSHAPE",e.kG="BOXSHAPE",e.cursor="move",e.add(n),this.Bm=e,n=new Es,n.type=Xf,n.Gf=ul;var i=new Da;i.ff=!0,n.add(i),i=new No,i.qh=ul,i.Fb="Rectangle",i.Da=new P(64,64),i.cursor="se-resize",i.alignment=fl,n.add(i),e.iG=n,this.nn=this.Ck=!1,this.Bf=this.Tt=!0,this.HE=new O(0,0,0,0),this.Xz=new H(null),this.gH=this.Xz.Gk,this.Va.ce=new vr,this.Va.lG=new gr;var r=this;this.click=function(){var t=r.pk;if(null!==t){var e=t.sb,n=r.N.ea;t.position=new w(n.x-e.width/2,n.y-e.height/2)}},this.XF=function(){yr(r)},this.WF=function(){null!==r.pk&&(r.Gc(),r.oa())},this.Tl=ef,this.Wc=!1}function dr(t){t.Wc||t.$d||!1!==t.Tf||(t.Tf=!0,requestAnimationFrame(function(){if(t.Tf&&!t.$d&&(t.Tf=!1,null!==t.Ob)){if(t.$d=!0,ci(t),t.Nd.I()||Yi(t,t.computeBounds()),null===t.Ob&&Jh.k("No div specified"),null===t.zb&&Jh.k("No canvas specified"),t.Fe){var e=t.pk;if(null!==e&&!e.Ka.df&&!e.Ka.sc){var e=t.hf,n=t.Xz;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.zb.width,t.zb.height),e.drawImage(n.Od,0,0),n=t.jd,n.reset(),1!==t.scale&&n.scale(t.scale),0===t.position.x&&0===t.position.y||n.translate(-t.position.x,-t.position.y),e.scale(t.wd,t.wd),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy);for(var n=t.dc.n,i=n.length,r=0;r<i;r++)n[r].ve(e,t);t.vl=!1,t.Fe=!1}}t.$d=!1}}))}function yr(t){var e=t.th;if(null!==e){var n=t.pk;if(null!==n){t.Fe=!0;var n=n.sb,i=e.Fq,r=Jh.tm();r.m(n.width,n.height),i.Da=r,Jh.Lk(r),t=2/t.scale,i instanceof No&&(i.mb=t),e.location=new w(n.x-t/2,n.y-t/2)}}}function vr(){de.call(this),this.El=null}function gr(){Ze.call(this)}function mr(){this.hg=this.ad=this.Ed=this.Ic=0}function br(t){1<arguments.length&&Jh.k("Brush constructor can take at most one optional argument, the Brush type."),Jh.oc(this),this.P=!1,void 0===t?(this.na=bf,this.vo="black"):"string"==typeof t?(this.na=bf,this.vo=t):(this.na=t,this.vo="black");var e=this.na;e===wf?(this.vp=ol,this.Jo=cl):this.Jo=this.vp=e===xf?ul:nl,this.Qw=0,this.Nv=NaN,this.bh=this.Bw=this.ah=null,this.az=this.wo=0}function wr(t,e){switch(e){case Pf:var n=100*kr(Mf.Ic),i=100*kr(Mf.Ed),r=100*kr(Mf.ad);return Nf.Ic=.4124564*n+.3575761*i+.1804375*r,Nf.Ed=.2126729*n+.7151522*i+.072175*r,Nf.ad=.0193339*n+.119192*i+.9503041*r,Nf.hg=Mf.hg,n=Cr(Nf.Ic/Df[0]),i=Cr(Nf.Ed/Df[1]),r=Cr(Nf.ad/Df[2]),Af.Ic=116*i-16,Af.Ed=500*(n-i),Af.ad=200*(i-r),Af.hg=Nf.hg,Af.Ic=Math.min(100,Math.max(0,Af.Ic+100*t)),n=(Af.Ic+16)/116,i=n-Af.ad/200,Nf.Ic=Df[0]*Sr(Af.Ed/500+n),Nf.Ed=Df[1]*(Af.Ic>Lf*Ef?Math.pow(n,3):Af.Ic/Lf),Nf.ad=Df[2]*Sr(i),Nf.hg=Af.hg,n=-.969266*Nf.Ic+1.8760108*Nf.Ed+.041556*Nf.ad,i=.0556434*Nf.Ic+-.2040259*Nf.Ed+1.0572252*Nf.ad,Mf.Ic=255*Pr((3.2404542*Nf.Ic+-1.5371385*Nf.Ed+-.4985314*Nf.ad)/100),Mf.Ed=255*Pr(n/100),Mf.ad=255*Pr(i/100),Mf.hg=Nf.hg,Mf.Ic=Math.round(Mf.Ic),255<Mf.Ic?Mf.Ic=255:0>Mf.Ic&&(Mf.Ic=0),Mf.Ed=Math.round(Mf.Ed),255<Mf.Ed?Mf.Ed=255:0>Mf.Ed&&(Mf.Ed=0),Mf.ad=Math.round(Mf.ad),255<Mf.ad?Mf.ad=255:0>Mf.ad&&(Mf.ad=0),"rgba("+Mf.Ic+", "+Mf.Ed+", "+Mf.ad+", "+Mf.hg+")";case Cf:var r=Mf.Ic/255,o=Mf.Ed/255,s=Mf.ad/255,a=Math.max(r,o,s),i=Math.min(r,o,s),u=a-i,i=(a+i)/2;if(0===u)n=r=0;else{switch(a){case r:n=(o-s)/u%6;break;case o:n=(s-r)/u+2;break;case s:n=(r-o)/u+4}n*=60,0>n&&(n+=360),r=u/(1-Math.abs(2*i-1))}return _f.Ic=Math.round(n),_f.Ed=Math.round(100*r),_f.ad=Math.round(100*i),_f.hg=Mf.hg,_f.ad=Math.min(100,Math.max(0,_f.ad+100*t)),"hsla("+_f.Ic+", "+_f.Ed+"%, "+_f.ad+"%, "+_f.hg+")";default:return Jh.k("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function xr(t){Tf.clearRect(0,0,1,1),Tf.fillStyle="#000000";var e=Tf.fillStyle;Tf.fillStyle=t,Tf.fillStyle!==e?(Tf.fillRect(0,0,1,1),t=Tf.getImageData(0,0,1,1).data,Mf.Ic=t[0],Mf.Ed=t[1],Mf.ad=t[2],Mf.hg=t[3]/255):(Tf.fillStyle="#FFFFFF",Tf.fillStyle=t,Mf.Ic=0,Mf.Ed=0,Mf.ad=0,Mf.hg=1)}function kr(t){return t/=255,.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Pr(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Cr(t){return t>Ef?Math.pow(t,1/3):(Lf*t+16)/116}function Sr(t){var e=t*t*t;return e>Ef?e:(116*t-16)/Lf}function Tr(){Jh.oc(this),this.M=4225027,this.Dc=1,this.ej=null,this.Sb="",this.cc=this.Gb=null,this.ab=new w(NaN,NaN).freeze(),this.Ue=Zl,this.Zh=Hl,this.Yh=Yl,this.jd=new j,this.Xk=new j,this.Wi=new j,this.rb=this.Ho=1,this.mg=0,this.Fg=Rf,this.Sm=Il,this.ud=new C(NaN,NaN,NaN,NaN).freeze(),this.pc=new C(NaN,NaN,NaN,NaN).freeze(),this.Nc=new C(0,0,NaN,NaN).freeze(),this.Y=this.Vs=this.Ws=null,this.xm=this.me=il,this.ht=0,this.gj=1,this.gr=0,this.Fi=1,this.xt=null,this.lt=-1/0,this.cn=0,this.dn=Rl,this.en=Hp,this.pr="",this.Ac=this.ia=null,this.to=-1,this.jn=this.og=this.ll=this.tp=null,this.Oz=jc,this.Zm=null}function Mr(t){null===t.ia&&(t.ia=new to)}function _r(t,e,n,i,r,o,s){var a=.001,u=o.length;t.moveTo(e,n),i-=e,a=r-n,0===i&&(i=.001),r=a/i;for(var h=Math.sqrt(i*i+a*a),l=0,c=!0,f=0!==s;.1<=h;){if(f){for(a=o[l++%u],a-=s;0>a;)a+=o[l++%u],c=!c;f=!1}else a=o[l++%u];a>h&&(a=h);var p=Math.sqrt(a*a/(1+r*r));0>i&&(p=-p),e+=p,n+=r*p,c?t.lineTo(e,n):t.moveTo(e,n),h-=a,c=!c}}function Nr(t,e,n){var i=t.$l();if(null!==i)for(var r=t.Ac.i;r.next();){var o=r.value,s=null;if(null!==o.Kq){if(null===(s=ie(o,i,t)))continue;o.Ey(t,s,n,null)}else if(o.Px){var a=e.g;null===a||a.Re||o.Ey(t,a.$.Tk,n,i)}else{var u=i.data;if(null===u)continue;a=e.g,null===a||a.Re||o.Ey(t,u,n,i)}s===t&&null!==(a=i.Dx(o.sm))&&o.MG(a,s,n)}}function Ar(t,e,n,i,r){var o=t.ud,s=t.Wi;s.reset(),Rr(t,s,e,n,i,r),t.Wi=s,o.x=e,o.y=n,o.width=i,o.height=r,s.yu()||s.JG(o)}function Or(t,e,n,i){return!1!==t.Ug&&(i.multiply(t.transform),n?t.$f(e,i):t.un(e,i))}function jr(t,e,n,i,r){if(!1!==Wr(t)){var o=t.margin,s=o.right+o.left,o=o.top+o.bottom;e=Math.max(e-s,0),n=Math.max(n-o,0),r=r||0,i=Math.max((i||0)-s,0),r=Math.max(r-o,0);var s=t.angle,o=0,o=t.Da,a=0;t instanceof No&&(a=t.mb),90===s||270===s?(e=isFinite(o.height)?o.height+a:e,n=isFinite(o.width)?o.width+a:n):(e=isFinite(o.width)?o.width+a:e,n=isFinite(o.height)?o.height+a:n);var o=i||0,a=r||0,u=t instanceof eo;switch(Ir(t,!0)){case Ff:a=o=0,u&&(n=e=1/0);break;case Bf:isFinite(e)&&e>i&&(o=e),isFinite(n)&&n>r&&(a=n);break;case If:isFinite(e)&&e>i&&(o=e),a=0,u&&(n=1/0);break;case Vf:isFinite(n)&&n>r&&(a=n),o=0,u&&(e=1/0)}var u=t.Hf,h=t.si;o>u.width&&h.width<u.width&&(o=u.width),a>u.height&&h.height<u.height&&(a=u.height),i=Math.max(o/t.scale,h.width),r=Math.max(a/t.scale,h.height),u.width<i&&(i=Math.min(h.width,i)),u.height<r&&(r=Math.min(h.height,r)),e=Math.min(u.width,e),n=Math.min(u.height,n),e=Math.max(i,e),n=Math.max(r,n),90!==s&&270!==s||(o=e,e=n,n=o,o=i,i=r,r=o),t.ud.Qa(),t.Qn(e,n,i,r),t.ud.freeze(),t.ud.I()||Jh.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.ud.toString()),Jr(t,!1)}}function Er(t,e,n,i,r){var o=t.U;if(o.x=e,o.y=n,o.width=i,o.height=r,!t.Da.I()){o=t.ud,n=t.margin,e=n.right+n.left;var s=n.top+n.bottom;switch(n=o.width+e,o=o.height+s,i+=e,r+=s,e=Ir(t,!0),n===i&&o===r&&(e=Ff),e){case Ff:(n>i||o>r)&&(Jr(t,!0),jr(t,n>i?i:n,o>r?r:o));break;case Bf:Jr(t,!0),jr(t,i,r,0,0);break;case If:Jr(t,!0),jr(t,i,o,0,0);break;case Vf:Jr(t,!0),jr(t,n,r,0,0)}}}function Lr(t,e,n){var i=t.pc;null!==t.cc&&(Dr(t,e,t.cc,!0,!0),t.cc instanceof br&&t.cc.type===xf?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Lg(t.cc)):e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Gb&&(Dr(t,e,t.Gb,!0,!1),t.Gb instanceof br&&t.Gb.type===xf?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Lg(t.Gb)):e.fillRect(i.x,i.y,i.width,i.height)),t.Ik(e,n)}function Dr(t,e,n,i,r){if(null!==n){var o=1,s=1;if("string"==typeof n)i?e.fillStyle=n:e.strokeStyle=n;else if(n.type===bf)i?e.fillStyle=n.color:e.strokeStyle=n.color;else{var a,s=t.Ja,o=s.width,s=s.height;if(r)var u=t.U,o=u.width,s=u.height;var h=e instanceof U;if(h&&n.bh&&(n.type===kf||n.wo===o&&n.az===s))a=n.bh;else{var l=u=0,c=0,f=0,p=0,d=0,d=p=0;if(r&&(u=t.U,o=u.width,s=u.height,p=u.x,d=u.y),u=n.start.x*o+n.start.offsetX,l=n.start.y*s+n.start.offsetY,c=n.end.x*o+n.end.offsetX,f=n.end.y*s+n.end.offsetY,u+=p,c+=p,l+=d,f+=d,n.type===wf)a=e.createLinearGradient(u,l,c,f);else if(n.type===xf)d=isNaN(n.$t)?Math.max(o,s)/2:n.$t,isNaN(n.dv)?(p=0,d=Math.max(o,s)/2):p=n.dv,a=e.createRadialGradient(u,l,p,c,f,d);else if(n.type===kf)try{a=e.createPattern(n.pattern,"repeat")}catch(t){a=null}else Jh.Fd(n.type,"Brush type");if(n.type!==kf&&null!==(r=n.Dk))for(r=r.i;r.next();)a.addColorStop(r.key,r.value);if(h&&(n.bh=a,null!==a&&(n.wo=o,n.az=s),null===a&&n.type===kf&&-1!==n.wo)){n.wo=-1;var y=t.g;null!==y&&-1===n.wo&&Jh.setTimeout(function(){y.yq()},600)}}i?e.fillStyle=a:e.strokeStyle=a}}}function Fr(t){if(0!=(2048&t.M)==!0){var e=t.jd;if(e.reset(),!t.pc.I()||!t.ud.I())return void Ur(t,!1);e.translate(t.pc.x,t.pc.y),e.translate(-t.za.x,-t.za.y);var n=t.Ja;Rr(t,e,n.x,n.y,n.width,n.height),Ur(t,!1),Kr(t,!0)}0!=(4096&t.M)==!0&&(e=t.R,null===e?(t.Xk.set(t.jd),t.Ho=t.scale,Kr(t,!1)):null!==e.rh&&(n=t.Xk,n.reset(),e.Yg()?n.multiply(e.Xk):null!==e.R&&n.multiply(e.R.Xk),n.multiply(t.jd),t.Ho=t.scale*e.Ho,Kr(t,!1)))}function Rr(t,e,n,i,r,o){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var s=ul;t.yj()&&t.Gf.Zc()&&(s=t.Gf);var a=Jh.K();if(t instanceof ls&&t.cg!==t)for(n=t.cg,i=n.Ja,a.bv(i.x,i.y,i.width,i.height,s),n.Wi.nb(a),a.offset(-n.za.x,-n.za.y),s=n.R;null!==s&&s!==t;)s.Wi.nb(a),a.offset(-s.za.x,-s.za.y),s=s.R;else a.bv(n,i,r,o,s);e.rotate(t.angle,a.x,a.y),Jh.v(a)}}function Vr(t){if(!1===Yr(t)){var e=t.R;null!==e?e.H():t.yj()&&null!==(e=t.g)&&(e.vg.add(t),t instanceof Ls&&t.ag(),e.ye()),Qr(t,!0)}}function Ir(t,e){var n=t.stretch,i=t.R;return null!==i&&i.na===tp?Br(t,i.ee(t.Wb),i.de(t.column),e):null!==i&&i.na===$f&&i.Bd()===t?qr(t,Bf,e):n===Rf?null!==i?i.na===Xf&&i.Bd()===t?qr(t,Bf,e):(n=i.ae,n===Rf?qr(t,Ff,e):qr(t,n,e)):qr(t,Ff,e):qr(t,n,e)}function Br(t,e,n,i){var r=t.stretch;if(r!==Rf)return qr(t,r,i);var o=r=null;switch(e.stretch){case Vf:o=!0;break;case Bf:o=!0}switch(n.stretch){case If:r=!0;break;case Bf:r=!0}return e=t.R.ae,null===r&&(r=e===If||e===Bf),null===o&&(o=e===Vf||e===Bf),!0===r&&!0===o?qr(t,Bf,i):!0===r?qr(t,If,i):!0===o?qr(t,Vf,i):qr(t,Ff,i)}function qr(t,e,n){if(n)return e;if(e===Ff)return Ff;if(n=t.Da,n.I())return Ff;if(t=t.angle,!isNaN(n.width))if(90!==t&&270!==t){if(e===If)return Ff;if(e===Bf)return Vf}else{if(e===Vf)return Ff;if(e===Bf)return If}if(!isNaN(n.height))if(90!==t&&270!==t){if(e===Vf)return Ff;if(e===Bf)return If}else{if(e===If)return Ff;if(e===Bf)return Vf}return e}function zr(t,e){t.M=e?512|t.M:-513&t.M}function Gr(t){return 0!=(1024&t.M)}function Hr(t,e){t.M=e?1024|t.M:-1025&t.M}function Ur(t,e){t.M=e?2048|t.M:-2049&t.M}function Kr(t,e){t.M=e?4096|t.M:-4097&t.M}function Wr(t){return 0!=(8192&t.M)}function Jr(t,e){t.M=e?8192|t.M:-8193&t.M}function Yr(t){return 0!=(16384&t.M)}function Qr(t,e){t.M=e?16384|t.M:-16385&t.M}function Zr(t){var e=t.W;if(e instanceof Ls&&(null!==t.le||t===e.port)){var n=e.g;null===n||n.ja.lb||Rs(e,t)}}function Xr(t){var e=t.g;null===e||e.ja.lb||(t instanceof eo?t instanceof Ls?t.ag():ho(t,t,function(t){Zr(t)}):Zr(t))}function $r(t,e){if("string"==typeof e)if(t instanceof Vo)t.text=e;else if(t instanceof No)t.Fb=e;else if(t instanceof Ko)t.source=e;else if(t instanceof eo){var i=Yh(eo,e);null!==i?t.type=i:Jh.k("Unknown Panel type as an argument to GraphObject.make: "+e)}else t instanceof br?(i=Yh(br,e),null!==i?t.type=i:Jh.k("Unknown Brush type as an argument to GraphObject.make: "+e)):t instanceof gt?(i=Yh(gt,e),null!==i?t.type=i:Jh.k("Unknown Geometry type as an argument to GraphObject.make: "+e)):t instanceof Tt?(i=Yh(Tt,e),null!==i?t.type=i:Jh.k("Unknown PathSegment type as an argument to GraphObject.make: "+e)):Jh.k("Unable to use a string as an argument to GraphObject.make: "+e);else if(e instanceof Tr)i=e,t instanceof eo||Jh.k("A GraphObject can only be added to a Panel, not to: "+t),t.add(i);else if(e instanceof Mo){var o,s=e,i=t;s.xe&&i.getRowDefinition?o=i.getRowDefinition(s.index):!s.xe&&i.getColumnDefinition?o=i.getColumnDefinition(s.index):Jh.k("A RowColumnDefinition can only be added to a Panel, not to: "+t),o.Sp(s)}else if(e instanceof n)"function"==typeof t.ic?t.ic(e):Jh.Lj(t,e);else if(e instanceof ne)t instanceof Tr?t.bind(e):t instanceof Mo?t.bind(e):Jh.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof St)t instanceof gt?t.fc.add(e):Jh.k("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof Tt)t instanceof St?t.yb.add(e):Jh.k("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Fa)t instanceof Bn?t.Ub=e:t instanceof Aa?t.Ub=e:Jh.k("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(i=0;i<e.length;i++)$r(t,e[i]);else if("object"==typeof e&&null!==e)if(t instanceof br){o=new r;for(i in e)s=parseFloat(i),isNaN(s)?o[i]=e[i]:t.addColorStop(s,e[i]);Jh.$u(t,o)}else if(t instanceof Mo){void 0!==e.row?(o=e.row,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Jh.k("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+o),t.xe=!0,t.index=o):void 0!==e.column&&(o=e.column,(void 0===o||null===o||1/0===o||isNaN(o)||0>o)&&Jh.k("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+o),t.xe=!1,t.index=o),o=new r;for(i in e)"row"!==i&&"column"!==i&&(o[i]=e[i]);Jh.$u(t,o)}else Jh.$u(t,e);else Jh.k('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function to(){this.Gr=this.Hi=this.jj=this.Oq=this.Rq=this.Qq=this.Pq=this.Yi=this.As=this.zs=this.Zi=this.$i=this.aj=this.Cs=this.Bs=this.Gi=this.Mi=this.Ei=null}function eo(t){Tr.call(this),void 0===t?this.na=Qf:(Jh.ob(t,eo,eo,"type"),this.na=t),this.xa=new c(Tr),this.lf=Il,this.na===rp&&(this.Jn=!0),this.tr=il,this.Ki=Rf,this.na===tp&&no(this),this.Hp=qf,this.Tr=Jl,this.Ur=Rl,this.Qr=0,this.Pr=100,this.Sr=10,this.Rr=0,this.jl=this.Zd=this.ak=this.Fm=this.Hm=null,this.gs=NaN,this.xg=this.hk=null,this.Xo="category",this.wg=null,this.lj=new C(NaN,NaN,NaN,NaN),this.vk=this.it=this.Il=null,this.Oj=""}function no(t){t.Tj=Il,t.Qh=1,t.Ji=null,t.nl=null,t.Ph=1,t.Oh=null,t.ml=null,t.Xc=[],t.Vc=[],t.bn=lp,t.Cm=lp,t.kj=0,t.Ui=0}function io(t,e){e.M=6144|t.M,e.Dc=t.Dc,e.Gb=t.Gb,e.cc=t.cc,e.Ue=t.Ue.S(),e.Zh=t.Zh.S(),e.Yh=t.Yh.S(),e.Wi=t.Wi.copy(),e.rb=t.rb,e.mg=t.mg,e.Fg=t.Fg,e.Sm=t.Sm.S(),e.me=t.me.S(),e.xm=t.xm.S(),e.cn=t.cn,e.dn=t.dn.S(),e.en=t.en,null!==t.og&&(e.og=t.og.copy()),e.jn=t.jn,t instanceof Vo&&(e.Ld=t.Ld,e.tc=t.tc,e.qg=t.qg,e.Jl=t.Jl,e.pg=t.pg,e.Nl=t.Nl,e.Lm=t.Lm,e.gk=t.gk,e.ek=t.ek,e.cj=t.cj,e.nj=t.nj,e.zf.Wj=null,e.fi=t.fi,e.gi=t.gi,e.ih=t.ih,e.$o=t.$o,e.ug=t.ug,e.tg=t.tg,e.sg=t.sg,e.Gm=t.Gm)}function ro(t,e,n,i){for(var r=i.length,o=t.U,s=!0,a=0;a<r;a++){var u=i[a];if(void 0!==u)if(s)s=!1;else if(0!==u.bb){if(n){if(u.position>o.height)continue}else if(u.position>o.width)continue;var h=u.Hq;isNaN(h)&&(h=n?t.Qh:t.Ph);var l=u.Gq;if(null===l&&(l=n?t.Ji:t.Oh),0!==h&&null!==l){Dr(t,e,l,!1,!1);var l=!1,c=!0,f=u.HJ;null===f&&(f=n?t.nl:t.ml),null!==f&&(l=!0,c=e.zx(f,0)),e.beginPath();var p=u.position+h;n?p>o.height&&(h-=p-o.height):p>o.width&&(h-=p-o.width),u=u.position+h/2,e.lineWidth=h,p=t.padding,n?(u+=p.top,h=p.left,p=o.width-p.right,l&&!c?_r(e,h,u,p,u,f,0):(e.moveTo(h,u),e.lineTo(p,u))):(u+=p.left,h=p.top,p=o.height-p.bottom,l&&!c?_r(e,u,h,u,p,f,0):(e.moveTo(u,h),e.lineTo(u,p))),e.stroke(),l&&e.wx()}}}}function oo(t,e,n,i,r){for(var o=i.length,s=t.U,a=0;a<o;a++){var u=i[a];if(void 0!==u&&null!==u.background&&u.xA!==r&&0!==u.bb){var h=n?s.height:s.width;if(!(u.position>h)){var l=u.af(),c=u.Hq;isNaN(c)&&(c=n?t.Qh:t.Ph);var f=u.Gq;null===f&&(f=n?t.Ji:t.Oh),null===f&&(c=0),l-=c,c=u.position+c,l+=u.bb,c+l>h&&(l=h-c),0>=l||(h=t.padding,Dr(t,e,u.background,!0,!1),n?e.fillRect(h.left,c+h.top,s.width-(h.left+h.right),l):e.fillRect(c+h.left,h.top,l,s.height-(h.top+h.bottom)))}}}}function so(t,e,n){if(0!=t%e)return!1;e=n.length;for(var i=0;i<e;i++)if(0==t%n[i])return!1;return!0}function ao(t){return"LineV"===t||"BarV"===t}function uo(t){return null!==t.W?t.W.cg:null}function ho(t,e,n){if(n(t,e),e instanceof eo){e=e.xa.n;for(var i=e.length,r=0;r<i;r++)ho(t,e[r],n)}}function lo(t,e){co(t,t,e)}function co(t,e,n){n(e),e=e.xa.n;for(var i=e.length,r=0;r<i;r++){var o=e[r];o instanceof eo&&co(t,o,n)}}function fo(t,e,n){if(n(e),e instanceof eo){e=e.xa.n;for(var i=e.length,r=0;r<i;r++)fo(t,e[r],n)}}function po(t,e,n){if(n(e))return e;if(e instanceof eo){e=e.xa.n;for(var i=e.length,r=0;r<i;r++){var o=po(t,e[r],n);if(null!==o)return o}}return null}function yo(t){t=t.xa.n;for(var e=t.length,n=0,i=0;i<e;i++){var r=t[i];if(r instanceof eo)n=Math.max(n,yo(r));else if(r instanceof No){t:{if(null!==!r.Sf)switch(r.Ko){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":r=0;break t}r=r.ji/2*r.kn*r.vj()}n=Math.max(n,r)}}return n}function vo(t,e,n,i){for(var r=t.xa.n,o=r.length;o--;){var s=r[o];if(s.visible){var a=s.U,u=t.Ja;a.x>u.width||a.y>u.height||0>a.x+a.width||0>a.y+a.height||(s instanceof eo&&vo(s,e,n,i),null!==e&&(s=e(s)),null===s||null!==n&&!n(s)||i.add(s))}}}function go(t){var e=null;return t instanceof No&&(e=t.A,e===il&&(e=null),null!==(t=t.of)&&null===e&&(e=t.A)),null===e&&(e=rl),e}function mo(t){var e=null;return t instanceof No&&(e=t.B,e===il&&(e=null),null!==(t=t.of)&&null===e&&(e=t.B)),null===e&&(e=fl),e}function bo(t,e){t.M=e?16777216|t.M:-16777217&t.M}function wo(t){return null!==(t=t.jl)&&t.P}function xo(t){var e=t.jl;if(null===e)null!==t.data&&Jh.k("Template cannot have .data be non-null: "+t),t.jl=e=new c(ne);else if(e.P)return;var n=new c(Tr);bo(t,!1),ho(t,t,function(t,i){var r=i.Ac;if(null!==r)for(Hr(i,!1),r=r.i;r.next();){var o=r.value;o.mode===kc&&Hr(i,!0);var s=o.Kq;null!==s&&("/"===s&&bo(t,!0),null!==(s=ie(o,t,i))&&(n.add(s),null===s.tp&&(s.tp=new c(ne)),s.tp.add(o))),e.add(o)}if(i instanceof eo&&i.type===tp){if(0<i.Xc.length)for(r=i.Xc,o=r.length,s=0;s<o;s++){var a=r[s];if(void 0!==a&&null!==a.Ac)for(var u=a.Ac.i;u.next();){var h=u.value;h.Gg=a,h.Bt=2,h.Cp=a.index,e.add(h)}}if(0<i.Vc.length)for(r=i.Vc,o=r.length,s=0;s<o;s++)if(void 0!==(a=r[s])&&null!==a.Ac)for(u=a.Ac.i;u.next();)h=u.value,h.Gg=a,h.Bt=1,h.Cp=a.index,e.add(h)}});for(var i=n.i;i.next();){var r=i.value;if(null!==r.tp){Hr(r,!0);for(var o=r.tp.i;o.next();){var s=o.value;null===r.Ac&&(r.Ac=new c(ne)),r.Ac.add(s)}}r.tp=null}for(i=e.i;i.next();)if(r=i.value,null!==(o=r.Gg)){r.Gg=null;var a=r.Cy,u=a.indexOf(".");0<u&&o instanceof eo&&(s=a.substring(0,u),a=a.substr(u+1),u=o.Cd(s),null!==u?(o=u,r.Cy=a):Jh.trace('Warning: unable to find GraphObject named "'+s+'" for Binding: '+r.toString())),o instanceof Mo?(r.sm=Jh.Pd(o.R),o.R.to=r.sm):(r.sm=Jh.Pd(o),o.to=r.sm)}e.freeze(),t instanceof ls&&t.he()&&t.Ne()}function ko(t){return!!(t.type===Xf||t.type===$f||t.type===ip||t.type===tp&&0<t.xa.length&&(t=t.xa.fa(0),t.ff&&t instanceof eo&&(t.type===ep||t.type===np)))}function Po(t,e,n){if(!(void 0===e||null===e||0>n)){var i;i=So(t,e);var r=t.GI,o=null;null!==r&&(o=r.ka(i)),null===o&&(sp||(sp=!0,Jh.trace('No item template Panel found for category "'+i+'" on '+t),Jh.trace("  Using default item template."),i=new eo,r=new Vo,r.bind(new ne("text","",Pc)),i.add(r),ap=i),o=ap),i=o,null!==i&&(xo(i),i=i.copy(),0!=(16777216&i.M)&&null!==(r=t.$l())&&bo(r,!0),"object"==typeof e&&(null===t.wg&&(t.wg=new b(Object,eo)),t.wg.add(e,i)),r=n,ko(t)&&r++,t.Rd(r,i),i.Zd=e,Co(t,r,n),i.Zd=null,i.data=e)}}function Co(t,e,n){for(t=t.xa;e<t.length;){var i=t.fa(e);if(i instanceof eo){var r=e,o=n;i.type===ep?i.Wb=r:i.type===np&&(i.column=r),i.Bu=o}e++,n++}}function So(t,e){if(null===e)return"";var n=t.Xo,i="";if("function"==typeof n)i=n(e);else{if("string"!=typeof n||"object"!=typeof e)return"";if(""===n)return"";i=Jh.vb(e,n)}return void 0===i?"":"string"==typeof i?i:(Jh.k("Panel.getCategoryForItemData found a non-string category for "+e+": "+i),"")}function To(t,e,n){var i=e.YE;if(null!==i&&i(e,n),e instanceof eo){e=e.xa.n;for(var i=e.length,r=0;r<i;r++){var o=e[r];n&&o instanceof eo&&!o.isEnabled||To(t,o,n)}}}function Mo(){Jh.oc(this),this.ej=null,this.dw=!0,this.Bc=0,this.mf=NaN,this.nk=0,this.mk=1/0,this.me=il,this.ab=this.Ra=0,this.Ac=null,this.ut=up,this.Fg=Rf,this.pt=this.sk=null,this.qt=NaN,this.Gb=this.ai=null,this.or=!1}function _o(t){if(t.cv===up){var e=t.ej;return t.xe?e.BJ:e.AH}return t.cv}function No(){Tr.call(this),this.Sf=this.Sa=null,this.Ko="None",this.Mr=Rf,this.tc=this.Hd="black",this.ji=1,this.xp="butt",this.zp="miter",this.kn=10,this.yp=null,this.Af=0,this.ii=this.hi=il,this.Ss=this.Rs=NaN,this.Xr=!1,this.Us=null,this.Mo=this.Ep="None",this.ug=1,this.tg=0,this.sg=1}function Ao(t,e,n,i){var r=n.length;if(!(4>r)){for(var o=i.za,s=Math.max(1,o.width),o=o.height,a=n[0],u=n[1],h=0,l=0,c=0,f=0,p=0,d=0,y=f=0,v=Jh.Za(),g=2;g<r;g+=2)h=n[g],l=n[g+1],c=h-a,f=l-u,0===c&&(c=.001),p=f/c,d=Math.atan2(f,c),f=Math.sqrt(c*c+f*f),v.push([c,d,p,f]),y+=f,a=h,u=l;a=n[0],u=n[1],c=i.za.width,i instanceof No&&(c-=i.mb),1>c&&(c=1);for(var r=n=c,h=s/2,l=0!==h,g=0,f=v[g],c=f[0],d=f[1],p=f[2],f=f[3],m=0;.1<=y;){if(0===m&&(l?(r=n,r-=h,y-=h,l=!1):r=n,0===r&&(r=1)),r>y)return void Jh.ra(v);r>f?(m=r-f,r=f):m=0;var b=Math.sqrt(r*r/(1+p*p));if(0>c&&(b=-b),a+=b,u+=p*b,t.translate(a,u),t.rotate(d),t.translate(-s/2,-o/2),0===m&&i.Ik(t,e),t.translate(s/2,o/2),t.rotate(-d),t.translate(-a,-u),y-=r,f-=r,0!==m){if(++g===v.length)return void Jh.ra(v);f=v[g],c=f[0],d=f[1],p=f[2],f=f[3],r=m}}Jh.ra(v)}}function Oo(t,e,n,i){var r=e.length;if(!(4>r)){var o=.001,s=n.length,a=e[0],u=e[1];if(4===r)_r(t,a,u,e[2],e[3],n,i);else{t.moveTo(a,u);for(var h=o=0,l=0,c=0,f=0,p=c=0,d=Jh.Za(),y=2;y<r;y+=2)o=e[y],h=e[y+1],l=o-a,c=h-u,0===l&&(l=.001),f=c/l,c=Math.sqrt(l*l+c*c),d.push([l,f,c]),p+=c,a=o,u=h;a=e[0],u=e[1],e=0;for(var r=!0,o=n[e%s],h=0!==i,y=0,c=d[y],l=c[0],f=c[1],c=c[2],v=0;.1<=p;){0===v&&(o=n[e%s],e++,h&&(i%=o,o-=i,h=!1)),o>p&&(o=p),o>c?(v=o-c,o=c):v=0;var g=Math.sqrt(o*o/(1+f*f));if(0>l&&(g=-g),a+=g,u+=f*g,r?t.lineTo(a,u):t.moveTo(a,u),p-=o,c-=o,0!==v){if(++y===d.length)return void Jh.ra(d);c=d[y],l=c[0],f=c[1],c=c[2],o=v}else r=!r}Jh.ra(d)}}}function jo(t,e,n,i){if(!1!==Wr(t)){t.ud.Qa();var r=t.ji;0===r&&i instanceof Es&&i.ub instanceof No&&(r=i.ub.mb),r*=t.rb,i instanceof Ys&&null!==i.Sa?(e=i.Sa.eb,Ar(t,e.x-r/2,e.y-r/2,e.width+r,e.height+r)):i instanceof Es&&null!==i.Ze.Sa?(e=i.Ze.Sa.eb,Ar(t,e.x-r/2,e.y-r/2,e.width+r,e.height+r)):Ar(t,-r/2,-r/2,e+r,n+r),t.ud.freeze(),t.ud.I()||Jh.k("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.ud.toString()),Jr(t,!1)}}function Eo(t){var e=t.HA;return null!==t.Sf?e===Rf?Bf:e:e===Rf?ec[t.Fb].ae:e}function Lo(t,e,n,i,r){return t=n.x-t,e=n.y-e,e=t*t+e*e,e<i?(r.x=n.x,r.y=n.y,e):i}function Do(t,e,n,i,r,o,s,a,u){var h=!1,l=(r-s)*(e-i)-(o-a)*(t-n);return 0!==l&&(u.x=((r*a-o*s)*(t-n)-(r-s)*(t*i-e*n))/l,u.y=((r*a-o*s)*(e-i)-(o-a)*(t*i-e*n))/l,(t>n?t-n:n-t)<(e>i?e-i:i-e)?(r=e<i?e:i,t=e<i?i:e,(u.y>r||J(u.y,r))&&(u.y<t||J(u.y,t))&&(h=!0)):(r=t<n?t:n,t=t<n?n:t,(u.x>r||J(u.x,r))&&(u.x<t||J(u.x,t))&&(h=!0)),h)}function Fo(t,e,n,i){if(!t.lF(e,n,i))return!1;t=e.x,e=e.y;var r=n.x;n=n.y;var o=i.x;if(i=i.y,t===r){var s=0;return t=0,e<n?(s=e,t=n):(s=n,t=e),i>=s&&i<=t}return t<r?(s=t,t=r):s=r,o>=s&&o<=t}function Ro(t){var e=t.g;null!==e&&e.ja.lb||(t.Eq=Zp,"None"!==t.Ep?(t.Qe=-1,t.qh=yl):"None"!==t.Mo&&(t.Qe=0,t.qh=new E(1-yl.x,yl.y)))}function Vo(){Tr.call(this),this.Ld="",this.tc="black",this.qg="13px sans-serif",this.Jl="start",this.pg=Ff,this.Nl=gl,this.Lm=!0,this.ek=this.gk=!1,this.cj=Pp,this.nj=xp,this.nw=this.pe=0,this.Fz=this.Gz=null,this.zf=new Uo,this.Fr=!1,this.We=this.er=this.Ct=this.Kl=this.Dt=null,this.gi=this.fi=0,this.ih=1/0,this.$o=0,this.ug=1,this.tg=0,this.sg=1,this.Gm=null}function Io(t,e,n,i){e=e.replace(/^\s+|\s+$/g,"");var r=0,o=0,s=0,a=t.qg,o=t.fi+t.gi,u=Math.max(0,zo(t)+o),s=t.cj===Cp?Go(a):0;if(t.pe>=t.ih)return new P(0,u);if(t.nj===bp){if(n.mj=1,o=qo(e,a),0===s||o<=i)return n.Ge=Math.max(n.Ge,o),n.xf.push(n.Ge),n.Te.push(e),new P(o,u);var h=Bo(t,e);e=e.substr(h.length);for(var l=Bo(t,e),o=qo(h+l,a);0<l.length&&o<=i;)h+=l,e=e.substr(l.length),l=Bo(t,e),o=qo((h+l).replace(/^\s+|\s+$/g,""),a);for(h+=l.replace(/^\s+|\s+$/g,""),i=Math.max(1,i-s);qo(h,a)>i&&1<h.length;)h=h.substr(0,h.length-1);return h+=vp,s=qo(h,a),n.xf.push(s),n.Ge=s,n.Te.push(h),new P(s,u)}var c=0;for(0===e.length&&(c=1,n.xf.push(0),n.Te.push(e));0<e.length;){for(h=Bo(t,e),e=e.substr(h.length);qo(h,a)>i;){for(l=1,o=qo(h.substr(0,l),a),s=0;o<=i;)l++,s=o,o=qo(h.substr(0,l),a);if(1===l?(n.xf[t.pe+c]=o,r=Math.max(r,o)):(n.xf[t.pe+c]=s,r=Math.max(r,s)),l--,1>l&&(l=1),n.Te[t.pe+c]=h.substr(0,l),c++,h=h.substr(l),t.pe+c>t.ih)break}for(l=Bo(t,e),o=qo(h+l,a);0<l.length&&o<=i;)h+=l,e=e.substr(l.length),l=Bo(t,e),o=qo((h+l).replace(/^\s+|\s+$/g,""),a);if(""!==(h=h.replace(/^\s+|\s+$/g,""))&&(""===h[h.length-1]&&(h=h.substring(0,h.length-1)+""),0===l.length?(n.xf.push(o),r=Math.max(r,o)):(s=qo(h,a),n.xf.push(s),r=Math.max(r,s)),n.Te.push(h),c++,t.pe+c>t.ih))break}return n.mj=Math.min(t.ih,c),n.Ge=Math.max(n.Ge,r),new P(n.Ge,u*n.mj)}function Bo(t,e){if(t.nj===kp)return e.substr(0,1);for(var n=e.length,i=0;i<n&&!cp.test(e.charAt(i));)i++;for(;i<n&&cp.test(e.charAt(i));)i++;return i>=n?e:e.substr(0,i)}function qo(t,e){return gp!==e&&(gp=mp.font=e),mp.measureText(t).width}function zo(t){if(null!==t.zf.Wj)return t.zf.Wj;var e=t.qg;gp!==e&&(gp=mp.font=e);var n=0;return void 0!==fp[e]&&5e3>pp?n=fp[e]:(n=1.3*mp.measureText("M").width,fp[e]=n,pp++),t.zf.Wj=n}function Go(t){gp!==t&&(gp=mp.font=t);var e=0;return void 0!==dp[t]&&5e3>yp?e=dp[t]:(e=mp.measureText(vp).width,dp[t]=e,yp++),e}function Ho(t,e,n){var i=t.Ld.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r=t.fi+t.gi,r=Math.max(0,zo(t)+r);if(0===i.length)return n.Ge=0,t.pe=1,r;if(!t.Ox){var o=i.indexOf("\n",0);0<=o&&(i=i.substr(0,o))}for(var o=0,s=t.pe=0,a=-1,u=!1;!u;)a=i.indexOf("\n",s),-1===a&&(a=i.length,u=!0),s<=a&&(s=i.substr(s,a-s),t.nj!==bp?(n.mj=0,s=Io(t,s,n,e),o+=s.height,t.pe+=n.mj):(Io(t,s,n,e),o+=r,t.pe++),t.pe===t.ih&&(u=!0)),s=a+1;return t.nw=o}function Uo(){this.Ge=this.mj=0,this.xf=[],this.Te=[],this.Wj=null}function Ko(){Tr.call(this),this.Ve=null,this.wt="",this.tk=Xl,this.Po=Bf,this.ki=this.We=null,this.Oo=ul,this.pg=Ff,this.Ap=null,this.Bz=!1,this.Pv=!0,this.lw=!1,this.rp=null}function Wo(){var t=_p;if(0===t.length)for(var n=e.document.getElementsByTagName("canvas"),i=n.length,r=0;r<i;r++){var o=n[r];o.parentElement&&o.parentElement.aa&&t.push(o.parentElement.aa)}return t}function Jo(t,e){t.Zr=!0,t.No=!1;for(var n=null,i=Wo(),r=i.length,o=0;o<r;o++){var s=i[o],a=s.kp.ka(t.src);if(null!==a)for(var u=a.length,h=0;h<u;h++)n=a[h],s.Mz.add(n),s.ye(),null===t.Qz&&(t.Qz=e,null!==n.ki&&n.ki(n,e))}}function Yo(t,e){t.No=e;for(var n=null,i=Wo(),r=i.length,o=0;o<r;o++)if(null!==(n=i[o].kp.ka(t.src))){for(var s=n.length,a=Jh.Za(),u=0;u<s;u++)a.push(n[u]);for(u=0;u<s;u++)n=a[u],null!==n.We&&n.We(n,e);Jh.ra(a)}}function Qo(t){this.Lp=[new Xo(t,1)]}function Zo(t,e,n,i){var r=new H(null),o=r.Gk,s=1/e;r.width=n/e,r.height=i/e,e=new Xo(r.Od,e),n=t.Lp[t.Lp.length-1],o.setTransform(s*n.xq,0,0,s*n.xq,0,0),o.drawImage(n.source,0,0),t.Lp.push(e)}function Xo(t,e){this.source=t,this.xq=e}function $o(){this.o=new gt,this.Yb=null}function ts(t,e,n,i,r,o){null===t.o&&Jh.k("StreamGeometryContext has been closed"),void 0!==r&&!0===r?(null===t.Yb&&Jh.k("Need to call beginFigure first"),i=new Tt(lc),i.C=e,i.D=n,t.Yb.yb.add(i)):(t.Yb=new St,t.Yb.ha=e,t.Yb.da=n,t.Yb.wu=i,t.o.fc.add(t.Yb)),void 0!==o&&(t.Yb.Vo=o)}function es(t){null===t.o&&Jh.k("StreamGeometryContext has been closed"),null===t.Yb&&Jh.k("Need to call beginFigure first");var e=t.Yb.yb.length;0<e&&t.Yb.yb.fa(e-1).close()}function ns(t){null===t.o&&Jh.k("StreamGeometryContext has been closed"),null===t.Yb&&Jh.k("Need to call beginFigure first"),0<t.Yb.yb.length&&(t.Yb.wu=!0)}function is(t,e,n,i,r,o,s,a){void 0===a&&(a=!1),null===t.o&&Jh.k("StreamGeometryContext has been closed"),null===t.Yb&&Jh.k("Need to call beginFigure first");var u=new Tt(fc);u.xc=e,u.Sc=n,u.Eh=i,u.Fh=r,u.C=o,u.D=s,a&&u.close(),t.Yb.yb.add(u)}function rs(t,e,n,i,r){var o;void 0===o&&(o=!1),null===t.o&&Jh.k("StreamGeometryContext has been closed"),null===t.Yb&&Jh.k("Need to call beginFigure first");var s=new Tt(pc);s.xc=e,s.Sc=n,s.C=i,s.D=r,o&&s.close(),t.Yb.yb.add(s)}function os(t,e,n,i,r,o,s,a){var u;void 0===u&&(u=!1),null===t.o&&Jh.k("StreamGeometryContext has been closed"),null===t.Yb&&Jh.k("Need to call beginFigure first"),e=new Tt(yc,s,a,e,n,i,r,o),u&&e.close(),t.Yb.yb.add(e)}function ss(t){t=as(t);var e=Jh.Za();e[0]=t[0];for(var n=1,i=1;i<t.length;)e[n]=t[i],e[n+1]=t[i],e[n+2]=t[i+1],i+=2,n+=3;return Jh.ra(t),e}function as(t){var e=us(t),n=Jh.Za(),i=Math.floor(e.length/2),r=e.length-1;t=0==t%2?2:1;for(var o=0;o<r;o++){var s=e[o],a=e[o+1],u=e[(i+o-1)%r],h=e[(i+o+t)%r];n[2*o]=s,n[2*o+1]=ut(s.x,s.y,u.x,u.y,a.x,a.y,h.x,h.y,new w)}return n[n.length]=n[0],Jh.ra(e),n}function us(t){for(var e=Jh.Za(),n=1.5*Math.PI,i=0,r=0;r<t;r++)i=2*Math.PI/t*r+n,e[r]=new w(.5+.5*Math.cos(i),.5+.5*Math.sin(i));return e.push(e[0]),e}function hs(t){var e=nc[t];if(void 0===e){var n=t.toLowerCase();if("none"===n)return"None";if(void 0===(e=nc[n])){var i,r=null;for(i in Op)if(i.toLowerCase()===n){r=i;break}if(null!==r)return t=hc(Op[r],!1),nc[r]=t,n!==r&&(nc[n]=r),r}}return"string"==typeof e?e:e instanceof gt?t:null}function ls(t){eo.call(this,t),this.Q=2408959,this.zl=this.Ci="",this.dt=this.at=this.mt=this.js=null,this.ot="",this.Ai=this.Vr=this.nt=this.fn=null,this.ct="",this.np=null,this.bt=Zl,this.et="",this.op=null,this.Ld="",this.iw=this.hr=this.kl=null,this.Xi=new w(NaN,NaN).freeze(),this.os="",this.Cl=null,this.ps=rl,this.xs=zl,this.qs=Gl,this.Br=null,this.ks=Dp,this.hn=ql,this.gn="gray",this.Eg=4,this.uD=-1,this.Mt=NaN,this.UG=new C,this.Um=null,this.lk=NaN}function cs(t,e){e.Va.gf.each(function(e){e.isEnabled&&e.updateAdornments(t)}),e.Va.updateAdornments(t)}function fs(t){if(!1===Cs(t)){var e=t.g;null!==e&&(e.vg.add(t),e.ye()),Ss(t,!0),t.Ri()}}function ps(t){if(t.Q|=2097152,!1!==Cs(t)){var e=t.position,n=t.location;n.I()&&e.I()||gs(t,e,n);var n=t.pc,i=n.copy();n.Qa(),n.x=e.x,n.y=e.y,n.freeze(),t.ey(i,n),Ss(t,!1)}}function ds(t,e,n,i){void 0===i&&(i=new w),n=n.Ud()?ul:n;var r=e.Ja;if(i.m(r.width*n.x+n.offsetX,r.height*n.y+n.offsetY),null===e||e===t)return i;for(e.transform.nb(i),e=e.R;null!==e&&e!==t;)e.transform.nb(i),e=e.R;return t.Wi.nb(i),i.offset(-t.ud.x,-t.ud.y),i}function ys(t,e){var n,i=t.UG;isNaN(t.lk)&&(t.lk=yo(t)),n=t.lk;var r=2*n;if(!t.jm)return i.m(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x;var r=e.y,o=e.width,s=e.height,a=t.shadowBlur,u=t.KJ,o=o+a,s=s+a;return n-=a/2,r-=a/2,0<u.x?o+=u.x:(n+=u.x,o-=u.x),0<u.y?s+=u.y:(r+=u.y,s-=u.y),i.m(n-1,r-1,o+2,s+2),i}function vs(t,e,n,i){null===e||t instanceof Es||(e=e.Ka,e.sc&&Cn(e,t,"position",i.copy(),n.copy(),!1))}function gs(t,e,n){var i=Jh.K(),r=t.Gf,o=t.cg;r.Ud()&&Jh.k("determineOffset: Part's locationSpot must be real: "+r.toString());var s=o.Ja,a=o instanceof No?o.mb:0;if(i.bv(0,0,s.width+a,s.height+a,r),o!==t)for(i.offset(-a/2,-a/2),o.transform.nb(i),r=o.R;null!==r&&r!==t;)r.transform.nb(i),r=r.R;t.Wi.nb(i),i.offset(-t.ud.x,-t.ud.y),r=t.g,o=n.I(),s=e.I(),o&&s?0!=(2097152&t.Q)?ms(t,e,n,r,i):bs(t,e,n,r,i):o?ms(t,e,n,r,i):s&&bs(t,e,n,r,i),t.Q|=2097152,Jh.v(i),t.Ri()}function ms(t,e,n,i,r){var o=e.x,s=e.y;e.m(n.x-r.x,n.y-r.y),null!==i&&(n=i.Ka,(r=n.dk)||!n.sc||t instanceof Es||Cn(n,t,"position",new w(o,s),e,!1),r||e.x===o&&e.y===s||(n=i.gb,i.gb=!0,t.h("position",new w(o,s),e),i.gb=n))}function bs(t,e,n,i,r){var o=n.copy();n.m(e.x+r.x,e.y+r.y),n.L(o)||null===i||(e=i.gb,i.gb=!0,t.h("location",o,n),i.gb=e)}function ws(t,e,n){Ts(t,!1),t instanceof Ls&&n.SA(t),t.layer.Hc||e||n.Gc(),e=t.pc;var i=n.sb;i.I()?Ms(t)?(N(e,i)||t.If(!1),t.updateAdornments()):e.$f(i)?(t.If(!0),t.updateAdornments()):t.Sd():n.vl=!0}function xs(t,e){var n=t.pc;if(0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)&&t.isVisible()){var i=t.transform;null!==t.cc&&(Dr(t,e,t.cc,!0,!0),e.fillRect(n.x,n.y,n.width,n.height)),null===t.cc&&null===t.Gb&&(Dr(t,e,"rgba(0,0,0,0.4)",!0,!1),e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Gb&&(i.yu()||e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=t.Ja,Dr(t,e,t.Gb,!0,!1),e.fillRect(0,0,n.width,n.height),i.yu()||(n=1/(i.m11*i.m22-i.m12*i.m21),e.transform(i.m22*n,-i.m12*n,-i.m21*n,i.m11*n,n*(i.m21*i.dy-i.m22*i.dx),n*(i.m12*i.dx-i.m11*i.dy))))}}function ks(t,e,n,i){e.constructor===t.constructor||Fp||(Fp=!0,Jh.trace('Should not change the class of the Part when changing category from "'+n+'" to "'+i+'"'),Jh.trace("  Old class: "+Jh.pf(t)+", new class: "+Jh.pf(e)+", part: "+t.toString())),t.Ut();var r=t.data;n=t.bg;var o=t.jb,s=t.Og,a=!0,u=!0,h=!1;if(t instanceof Ls)var l=t,a=l.Bj,u=l.wc,h=l.Mq;e.pi(t),e.cloneProtected(t),t.Ci=i,t.H(),t.oa(),e=t.g,i=!0,null!==e&&(i=e.gb,e.gb=!0),t.Zd=r,null!==r&&t.Jb(),null!==e&&(e.gb=i),r=t.bg,r!==n&&(t.zl=n,t.bg=r),t instanceof Ls&&(l=t,l.Bj=a,l.wc=u,l.Mq=h,l.he()&&l.J(64)),t.jb=o,t.Og=s}function Ps(t,e){t.Q=e?16384|t.Q:-16385&t.Q}function Cs(t){return 0!=(32768&t.Q)}function Ss(t,e){t.Q=e?32768|t.Q:-32769&t.Q}function Ts(t,e){t.Q=e?65536|t.Q:-65537&t.Q}function Ms(t){return 0!=(131072&t.Q)}function _s(t,e){t.Q=e?1048576|t.Q:-1048577&t.Q}function Ns(t,e){var n=e.Ca;return null!==n?1+Ns(t,n):e instanceof Ls&&null!==(n=e.Xb)?Ns(t,n):0}function As(t,e){var n=e.Ca;return null!==n?As(t,n):e instanceof Ls&&null!==(n=e.Xb)?As(t,n):e}function Os(t,e,n){if(e===n||null===n)return!1;var i=e.Ca;return!(null===i||i!==n&&!Os(t,i,n))||e instanceof Ls&&null!==(e=e.Xb)&&Os(t,e,n)}function js(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.Hc)}function Es(t){0===arguments.length?ls.call(this,Qf):ls.call(this,t),this.Q&=-257,this.zl="Adornment",this.Kc=null,this.ED=0,this.rE=!1,this.Lb=this.$g=null}function Ls(t){ls.call(this,t),this.ya=13,this.rc=new c(Ys),this.Ht=this.Yo=this.Bl=this.ms=this.ls=null,this.ar=Bl,this.Ie=this.Lh=null,this.Xs=Bp,this.Ak=!1}function Ds(t,e){null!==e&&(null===t.Lh&&(t.Lh=new p(ya)),t.Lh.add(e))}function Fs(t,e,n,i){if(null===e||null===t.Lh)return null;for(var r=t.Lh.i;r.next();){var o=r.value;if(o.qq===t&&o.Mu===e&&o.iy===n&&o.jy===i||o.qq===e&&o.Mu===t&&o.iy===i&&o.jy===n)return o}return null}function Rs(t,e){for(var n=t.je;n.next();){var i=n.value;i.gc!==e&&i.zc!==e||(Vs(t,i.gc),Vs(t,i.zc),i.Tb())}}function Vs(t,e){if(null!==e){var n=e.Ws;null!==n&&n.fq(),n=t.Ca,null===n||n.$c||Vs(n,n.port)}}function Is(t,e,n){Vs(t,n);var i=t.rc.contains(e);if(i||t.rc.add(e),!i||e.V===e.Z){var r=t.LI;if(null!==r){var o=!0,s=t.g;null!==s&&(o=s.Ua,s.Ua=!0),r(t,e,n),null!==s&&(s.Ua=o)}}!i&&e.bc&&(n=e.V,e=e.Z,null!==n&&null!==e&&n!==e&&(i=!0,s=t.g,null!==s&&(i=s.Vd),t=i?e:n,r=i?n:e,t.Ak||(t.Ak=r),!r.Bj||null!==s&&s.ja.lb||(i?n===r&&(r.Bj=!1):e===r&&(r.Bj=!1))))}function Bs(t,e,n){Vs(t,n);var i=t.rc.remove(e);if(i||e.Z===e.V){var r=t.MI,o=t.g;if(null!==r){var s=!0;null!==o&&(s=o.Ua,o.Ua=!0),r(t,e,n),null!==o&&(o.Ua=s)}}i&&e.bc&&(n=!0,null!==o&&(n=o.Vd),t=n?e.Z:e.V,e=n?e.V:e.Z,null!==t&&(t.Ak=!1),null===e||e.Bj||(0===e.rc.count?(e.Ak=null,null!==o&&o.ja.lb||(e.Bj=!0)):qs(e)))}function qs(t){if(t.Ak=!1,0!==t.rc.count){var e=!0,n=t.g;if(null===n||!n.ja.lb){for(null!==n&&(e=n.Vd),n=t.rc.i;n.next();){var i=n.value;if(i.bc)if(e){if(i.V===t)return void(t.Bj=!1)}else if(i.Z===t)return void(t.Bj=!1)}t.Bj=!0}}}function zs(t){null===t.Ie?t.Ie=new b("string",Tr):t.Ie.clear(),ho(t,t,function(t,e){Gs(t,e)}),0===t.Ie.count&&t.Ie.add("",t)}function Gs(t,e){var n=e.le;null!==n&&null!==t.Ie&&t.Ie.add(n,e)}function Hs(t,e,n){var i=e.le;if(null!==i&&(null!==t.Ie&&t.Ie.remove(i),null!==(e=t.g)&&n)){for(n=null,i=t.aF(i);i.next();)t=i.value,null===n&&(n=Jh.Za()),n.push(t);if(null!==n){for(i=0;i<n.length;i++)t=n[i],e.remove(t);Jh.ra(n)}}}function Us(t,e){var n=e.Kk();return null===n?0:1+Us(t,n)}function Ks(t,e,n,i,r,o,s){if(1<i)for(var a=n?t.Ex():t.Mg();a.next();){var u=a.value;u.bc&&(null===(u=u.JA(t))||u===t||e.contains(u)||(e.add(u),Ks(u,e,n,i-1,r,o,s)))}else Ws(t,e,n,r,o,s)}function Ws(t,e,n,i,r,o){for(var s=r===t||t.wc,a=n?t.Ex():t.Mg();a.next();){var u=a.value;if(u.bc&&null!==(u=u.JA(t))&&u!==t){var h=e.contains(u);h||e.add(u),s&&(o&&jn(i,u,r),u.Rk(),u.Dd(!1)),u.wc&&(u.Mq=u.wc,h||Ws(u,e,n,i,r,o))}}t.wc=!1}function Js(t,e,n,i,r,o,s){for(var a=o!==t&&t.wc,u=n?t.Ex():t.Mg();u.next();){var h=u.value;h.bc&&(a||h.Mf||h.Tb(),null!==(h=h.JA(t))&&h!==t&&!e.contains(h)&&(e.add(h),a||(h.Dd(!0),h.Rk(),s&&On(r,h,o)),2<i||h.Mq))&&(h.Mq=!1,Js(h,e,n,i-1,r,o,s))}t.wc=!0}function Ys(){ls.call(this,ip),this.Zb=8,this.rg=null,this.Rh="",this.Hg=this.Lr=null,this.li="",this.Gt=null,this.Tq=Hp,this.nr=0,this.qr=Hp,this.rr=NaN,this.an=zp,this.vt=.5,this.yf=null,this.gd=new c(w).freeze(),this.$g=this.QC=this.KC=this.Bi=this.Oi=this.Sa=this.Dw=this.pp=this.Xe=null,this.Yz=new w,this.Y=this.eE=this.dE=null}function Qs(t){var e=t.V,n=t.Z,i=null,e=i=null!==e?null!==n?e.XH(n):e.Ca:null!==n?n.Ca:null,n=t.kl;if(n!==e){null!==n&&ja(n,t),t.kl=e,null!==e&&Oa(e,t);var r=t.NE;if(null!==r){var o=!0,s=t.g;null!==s&&(o=s.Ua,s.Ua=!0),r(t,n,e),null!==s&&(s.Ua=o)}!t.Mf||t.dE!==n&&t.eE!==n||t.Tb()}if(t.AI)for(t=t.Ff;t.next();)t.value.Ca=i}function Zs(t,e){null===t.yf&&(t.yf=new p(Ls)),t.yf.add(e),t.H()}function Xs(t){0===t.gd.count?t.Mf=!1:(t.Mf=!0,t.Up=t.l(0),t.Vp=t.l(t.qa-1),la(t,!1))}function $s(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function ta(t,e){var n=e.Ws;return null===n&&(n=new Sa,n.port=e,n.Rc=e.W,e.Ws=n),Ma(n,t)}function ea(t){if(null===t.g||!t.fm||!ir(t.g))return!1;var e=t.points.n,n=e.length;if(4>n)return!1;t=rr(t.g,!0,t.Ca,null);for(var i=1;i<n-2;i++){var r=e[i],o=e[i+1];if(!t.lq(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function na(t,e,n,i,r,o){var s=e.Op,a=e.Mp,u=ma(e,n,i),h=n,l=i;for(0===r?h+=s:90===r?l+=a:180===r?h-=s:l-=a;1<u&&ma(e,h,l)===u-1;)n=h,i=l,0===r?h+=s:90===r?l+=a:180===r?h-=s:l-=a,u-=1;o?1<u&&(180===r||0===r?n=Math.floor(n/s)*s+s/2:90!==r&&270!==r||(i=Math.floor(i/a)*a+a/2)):(n=Math.floor(n/s)*s+s/2,i=Math.floor(i/a)*a+a/2),1<u&&(o=r,h=n,l=i,0===r?(o=90,l+=a):90===r?(o=180,h-=s):180===r?(o=270,l-=a):270===r&&(o=0,h+=s),ma(e,h,l)===u-1?na(t,e,h,l,o,!1):(h=n,l=i,0===r?(o=270,l-=a):90===r?(o=0,h+=s):180===r?(o=90,l+=a):270===r&&(o=180,h-=s),ma(e,h,l)===u-1&&na(t,e,h,l,o,!1))),t.oj(n,i)}function ia(t,e,n,i){return t=n-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=i-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),J(t,0)?e:J(e,0)?t:Math.sqrt(t*t+e*e)))}function ra(t,e,n,i){var r=t.qa;if(2>r)return e;if(n){var o=t.l(1);if(n=o.x-i.x,i=o.y-i.y,0===(o=ia(e.x,e.y,n,i)))return e;r=2===r?.5*o:o,t=t.computeShortLength(!0),t>r&&(t=r),n=t*(n-e.x)/o,t=t*(i-e.y)/o,e.x+=n,e.y+=t}else{if(o=t.l(r-2),n=o.x-i.x,i=o.y-i.y,0===(o=ia(e.x,e.y,n,i)))return e;r=2===r?.5*o:o,t=t.computeShortLength(!1),t>r&&(t=r),n=t*(e.x-n)/o,t=t*(e.y-i)/o,e.x-=n,e.y-=t}return e}function oa(t,e,n,i){for(var r=t.qa,o=e;J(e.x,o.x)&&J(e.y,o.y);){if(n>=r)return r-1;o=t.l(n++)}if(!J(e.x,o.x)&&!J(e.y,o.y))return n-1;for(var s=o;J(e.x,o.x)&&J(o.x,s.x)&&(!i||(e.y>=o.y?o.y>=s.y:o.y<=s.y))||J(e.y,o.y)&&J(o.y,s.y)&&(!i||(e.x>=o.x?o.x>=s.x:o.x<=s.x));){if(n>=r)return r-1;s=t.l(n++)}return n-2}function sa(t,e,n,i,r,o,s){if(!s&&ha(t)){s=[];var a=0;t.isVisible()&&(a=aa(t,r,o,s));var u=r.x,u=r.y;if(0<a)if(W(r.y,o.y))if(r.x<o.x)for(var h=0;h<a;){var l=Math.max(r.x,Math.min(s[h++]-5,o.x-10));e.lineTo(l+n,o.y+i);for(var u=l+n,c=Math.min(l+10,o.x);h<a;){var f=s[h];if(!(f<c+10))break;h++,c=Math.min(f+5,o.x)}f=(l+c)/2+n,f=o.y-10+i,l=c+n,c=o.y+i,t.nf===Kp?ts(e,l,c,!1,!1):is(e,u,f,l,f,l,c)}else for(h=a-1;0<=h;){for(l=Math.min(r.x,Math.max(s[h--]+5,o.x+10)),e.lineTo(l+n,o.y+i),u=l+n,c=Math.max(l-10,o.x);0<=h&&(f=s[h])>c-10;)h--,c=Math.max(f-5,o.x);f=o.y-10+i,l=c+n,c=o.y+i,t.nf===Kp?ts(e,l,c,!1,!1):is(e,u,f,l,f,l,c)}else if(W(r.x,o.x))if(r.y<o.y)for(h=0;h<a;){for(l=Math.max(r.y,Math.min(s[h++]-5,o.y-10)),e.lineTo(o.x+n,l+i),u=l+i,c=Math.min(l+10,o.y);h<a&&(f=s[h])<c+10;)h++,c=Math.min(f+5,o.y);f=o.x-10+n,l=o.x+n,c+=i,t.nf===Kp?ts(e,l,c,!1,!1):is(e,f,u,f,c,l,c)}else for(h=a-1;0<=h;){for(l=Math.min(r.y,Math.max(s[h--]+5,o.y+10)),e.lineTo(o.x+n,l+i),u=l+i,c=Math.max(l-10,o.y);0<=h&&(f=s[h])>c-10;)h--,c=Math.max(f-5,o.y);f=o.x-10+n,l=o.x+n,c+=i,t.nf===Kp?ts(e,l,c,!1,!1):is(e,f,u,f,c,l,c)}}e.lineTo(o.x+n,o.y+i)}function aa(t,e,n,i){var r=t.g;if(null===r||e.L(n))return 0;for(r=r.Ux;r.next();){var o=r.value;if(null!==o&&o.visible)for(var o=o.xb.n,s=o.length,a=0;a<s;a++){var u=o[a];if(u instanceof Ys){if(u===t)return 0<i.length&&i.sort(function(t,e){return t-e}),i.length;if(u.isVisible()&&ha(u)){var h=u.$n;h.I()&&t.$n.$f(h)&&!t.usesSamePort(u)&&null!==(h=u.path)&&h.Cj()&&ua(e,n,i,u)}}}}return 0<i.length&&i.sort(function(t,e){return t-e}),i.length}function ua(t,e,n,i){for(var r=W(t.y,e.y),o=i.qa,s=i.l(0),a=Jh.K(),u=1;u<o;u++){var h=i.l(u);if(u<o-1){var l=i.l(u+1);s.y===h.y&&h.y===l.y?(h.x>s.x&&l.x>h.x||h.x<s.x&&l.x<h.x)&&(h=l,u++):s.x===h.x&&h.x===l.x&&(h.y>s.y&&l.y>h.y||h.y<s.y&&l.y<h.y)&&(h=l,u++)}t:{var l=a,c=t.x,f=t.y,p=e.x,d=e.y,y=s.x,s=s.y,v=h.x,g=h.y;if(W(c,p)){if(!W(f,d)&&W(s,g)&&Math.min(f,d)<s&&Math.max(f,d)>s&&Math.min(y,v)<c&&Math.max(y,v)>c&&!W(y,v)){l.x=c,l.y=s,l=!0;break t}}else if(W(f,d)&&W(y,v)&&Math.min(c,p)<y&&Math.max(c,p)>y&&Math.min(s,g)<f&&Math.max(s,g)>f&&!W(s,g)){l.x=y,l.y=f,l=!0;break t}l.x=0,l.y=0,l=!1}l&&(r?n.push(a.x):n.push(a.y)),s=h}Jh.v(a)}function ha(t){return(t=t.nf)===Wp||t===Kp}function la(t,e){if(e||ha(t)){var n=t.g;null===n||n.ol.contains(t)||null===t.Dw||n.ol.add(t,t.Dw)}}function ca(t,e){var n=t.layer;if(null!==n&&n.visible&&!n.Hc){var i=n.g;if(null!==i)for(var r=!1,i=i.Ux;i.next();){var o=i.value;if(o.visible)if(o===n)for(var r=!0,s=!1,o=o.xb.n,a=o.length,u=0;u<a;u++){var h=o[u];h instanceof Ys&&(h===t?s=!0:s&&fa(t,h,e))}else if(r)for(o=o.xb.n,a=o.length,u=0;u<a;u++)(h=o[u])instanceof Ys&&fa(t,h,e)}}}function fa(t,e,n){if(null!==e&&null!==e.Sa&&ha(e)){var i=e.$n;i.I()&&(t.$n.$f(i)||n.$f(i))&&(t.usesSamePort(e)||e.fe())}}function pa(t){var e=t.rg;if(null!==e){var n=t.Hg;if(null!==n){var i=t.Rh;t=t.li;for(var r=null,o=null,s=e.rc.n,a=s.length,u=0;u<a;u++){var h=s[u];(h.rg===e&&h.Rh===i&&h.Hg===n&&h.li===t||h.rg===n&&h.Rh===t&&h.Hg===e&&h.li===i)&&(null===o?o=h:(null===r&&(r=[],r.push(o)),r.push(h)))}if(null!==r){for(o=Fs(e,n,i,t),null===o&&(o=new ya,o.qq=e,o.iy=i,o.Mu=n,o.jy=t,Ds(e,o),Ds(n,o)),o.links=r,u=0;u<r.length;u++)h=r[u],h.Bi=o;o.fq()}}}}function da(t){var e=t.Bi;null!==e&&(t.Bi=null,0<=(t=e.links.indexOf(t))&&(Jh.Jg(e.links,t),e.fq()))}function ya(){Jh.oc(this),this.gh=this.aw=!1,this.jy=this.Mu=this.iy=this.qq=null,this.links=[]}function va(){Jh.oc(this),this.LB=this.group=null,this.su=!0,this.abort=!1,this.Bg=this.Ag=1,this.ss=this.rs=-1,this.Ee=this.De=8,this.qd=null,this.NG=!1,this.wG=22,this.NF=111}function ga(t,e,n){return t.Ag<=e&&e<=t.rs&&t.Bg<=n&&n<=t.ss}function ma(t,e,n){return ga(t,e,n)?(e-=t.Ag,e/=t.De,n-=t.Bg,n/=t.Ee,t.qd[0|e][0|n]):1e6}function ba(t,e,n){ga(t,e,n)&&(e-=t.Ag,e/=t.De,n-=t.Bg,n/=t.Ee,t.qd[0|e][0|n]=0)}function wa(t){if(null!==t.qd)for(var e=0;e<=t.Fp;e++)for(var n=0;n<=t.Gp;n++)1<=t.qd[e][n]&&(t.qd[e][n]=1e6)}function xa(t,e,n,i,r,o,s,a,u){if(!(e<o||e>s||n<a||n>u)){var h,l;h=0|e,l=0|n;var c=t.qd[h][l];if(1<=c&&999999>c)for(r?l+=i:h+=i,c+=1;o<=h&&h<=s&&a<=l&&l<=u&&!(c>=t.qd[h][l]);)t.qd[h][l]=c,c+=1,r?l+=i:h+=i;if(h=r?l:h,r)if(0<i)for(n+=i;n<h;n+=i)xa(t,e,n,1,!r,o,s,a,u),xa(t,e,n,-1,!r,o,s,a,u);else for(n+=i;n>h;n+=i)xa(t,e,n,1,!r,o,s,a,u),xa(t,e,n,-1,!r,o,s,a,u);else if(0<i)for(e+=i;e<h;e+=i)xa(t,e,n,1,!r,o,s,a,u),xa(t,e,n,-1,!r,o,s,a,u);else for(e+=i;e>h;e+=i)xa(t,e,n,1,!r,o,s,a,u),xa(t,e,n,-1,!r,o,s,a,u)}}function ka(t,e,n,i,r,o,s,a,u){e|=0,n|=0;var h=0,l=1;for(t.qd[e][n]=l;0===h&&e>o&&e<s&&n>a&&n<u;)l+=1,t.qd[e][n]=l,r?n+=i:e+=i,h=t.qd[e][n]}function Pa(t,e,n,i,r,o,s,a,u){e|=0,n|=0;var h=0;for(t.qd[e][n]=999999;0===h&&e>o&&e<s&&n>a&&n<u;)t.qd[e][n]=999999,r?n+=i:e+=i,h=t.qd[e][n]}function Ca(t,e,n,i,r,o){if(null!==t.qd){t.abort=!1;var s=e.x,a=e.y;if(ga(t,s,a)&&(s-=t.Ag,s/=t.De,a-=t.Bg,a/=t.Ee,e=i.x,i=i.y,ga(t,e,i)))if(e-=t.Ag,e/=t.De,i-=t.Bg,i/=t.Ee,1>=Math.abs(s-e)&&1>=Math.abs(a-i))t.abort=!0;else{var u=o.x,h=o.y,l=o.x+o.width,c=o.y+o.height,u=u-t.Ag,u=u/t.De,h=h-t.Bg,h=h/t.Ee,l=l-t.Ag,l=l/t.De,c=c-t.Bg,c=c/t.Ee;o=Math.max(0,Math.min(t.Fp,0|u)),l=Math.min(t.Fp,Math.max(0,0|l)),h=Math.max(0,Math.min(t.Gp,0|h)),c=Math.min(t.Gp,Math.max(0,0|c)),s|=0,a|=0,e|=0,i|=0,u=0===n||90===n?1:-1,n=90===n||270===n,0===t.qd[s][a]?(ka(t,s,a,u,n,o,l,h,c),ka(t,s,a,1,!n,o,l,h,c),ka(t,s,a,-1,!n,o,l,h,c)):ka(t,s,a,u,n,s,a,s,a),0===t.qd[e][i]?(Pa(t,e,i,0===r||90===r?1:-1,90===r||270===r,o,l,h,c),Pa(t,e,i,1,!(90===r||270===r),o,l,h,c),Pa(t,e,i,-1,!(90===r||270===r),o,l,h,c)):Pa(t,e,i,u,n,e,i,e,i),t.abort||(xa(t,s,a,1,!1,o,l,h,c),xa(t,s,a,-1,!1,o,l,h,c),xa(t,s,a,1,!0,o,l,h,c),xa(t,s,a,-1,!0,o,l,h,c))}}}function Sa(){Jh.oc(this),this.port=this.Rc=null,this.gg=[],this.pq=!1}function Ta(t,e,n,i){switch(e=e.offsetY){case Jh.dd:return 90;case Jh.Uc:return 180;case Jh.od:return 270;case Jh.ed:return 0}switch(e){case Jh.dd|Jh.od:return 180<n?270:90;case Jh.Uc|Jh.ed:return 90<n&&270>=n?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case Jh.Uc|Jh.od:return n>t&&n<=180+t?180:270;case Jh.od|Jh.ed:return n>180-t&&n<=360-t?270:0;case Jh.ed|Jh.dd:return n>t&&n<=180+t?90:0;case Jh.dd|Jh.Uc:return n>180-t&&n<=360-t?180:90;case Jh.Uc|Jh.od|Jh.ed:return 90<n&&n<=180+t?180:n>180+t&&n<=360-t?270:0;case Jh.od|Jh.ed|Jh.dd:return 180<n&&n<=360-t?270:n>t&&180>=n?90:0;case Jh.ed|Jh.dd|Jh.Uc:return n>t&&n<=180-t?90:n>180-t&&270>=n?180:0;case Jh.dd|Jh.Uc|Jh.od:return n>180-t&&n<=180+t?180:n>180+t?270:90}return i&&e!==(Jh.Uc|Jh.od|Jh.ed|Jh.dd)&&0>(n-=15)&&(n+=360),n>t&&n<180-t?90:n>=180-t&&n<=180+t?180:n>180+t&&n<360-t?270:0}function Ma(t,e){var n=t.gg;if(0===n.length){t:if(!t.pq){n=t.pq,t.pq=!0;var i,r=null,o=t.Rc,o=o instanceof Aa?o:null;if(null===o||o.$c)i=t.Rc.aF(t.port.le);else{if(!o.U.I()){t.pq=n;break t}r=o,i=r.$E()}var s=t.gg.length=0,a=t.port.Ya(rl,Jh.K()),u=t.port.Ya(fl,Jh.K()),o=Jh.lg(a.x,a.y,0,0);for(o.yi(u),Jh.v(a),Jh.v(u),a=Jh.wb(o.x+o.width/2,o.y+o.height/2),u=t.port.bm(),i=i.i;i.next();){var h=i.value;if(h.isVisible()&&h.gc!==h.zc){var l=h.gc===t.port||null!==h.V&&h.V.qi(r),c=h.computeSpot(l,t.port);if(c.zj()&&null!==(l=l?h.zc:h.gc)){var f=l.W;if(null!==f){var p=f.findVisibleNode();null!==p&&p!==f&&(f=p,l=f.port),l=h.computeOtherPoint(f,l),f=a.Qb(l),f-=u,0>f&&(f+=360),c=Ta(o,c,f,h.ac),p=0,0===c?(p=Jh.ed,180<f&&(f-=360)):p=90===c?Jh.dd:180===c?Jh.Uc:Jh.od,c=t.gg[s],void 0===c?(c=new _a(h,f,p),t.gg[s]=c):(c.link=h,c.angle=f,c.ze=p),c.gy.set(l),s++}}}}for(Jh.v(a),t.gg.sort(Sa.prototype.gJ),r=t.gg.length,a=-1,s=u=0;s<r;s++)void 0!==(c=t.gg[s])&&(c.ze!==a&&(a=c.ze,u=0),c.dq=u,u++);for(a=-1,u=0,s=r-1;0<=s;s--)void 0!==(c=t.gg[s])&&(c.ze!==a&&(a=c.ze,u=c.dq+1),c.xn=u);if(s=t.gg,c=t.port,r=t.Rc.lJ,a=Jh.K(),u=Jh.K(),i=Jh.K(),h=Jh.K(),c.Ya(rl,a),c.Ya(sl,u),c.Ya(fl,i),c.Ya(ll,h),p=f=l=c=0,r===qp)for(var d=0;d<s.length;d++){var y=s[d];if(null!==y){var v=y.link.computeThickness();switch(y.ze){case Jh.dd:f+=v;break;case Jh.Uc:p+=v;break;case Jh.od:c+=v;break;default:case Jh.ed:l+=v}}}for(var g=0,m=0,b=1,d=0;d<s.length;d++)if(null!==(y=s[d])){var w,x;if(g!==y.ze){switch(g=y.ze){case Jh.dd:w=i,x=h;break;case Jh.Uc:w=h,x=a;break;case Jh.od:w=a,x=u;break;default:case Jh.ed:w=u,x=i}var k=x.x-w.x;switch(x=x.y-w.y,g){case Jh.dd:f>Math.abs(k)?(b=Math.abs(k)/f,f=Math.abs(k)):b=1;break;case Jh.Uc:p>Math.abs(x)?(b=Math.abs(x)/p,p=Math.abs(x)):b=1;break;case Jh.od:c>Math.abs(k)?(b=Math.abs(k)/c,c=Math.abs(k)):b=1;break;default:case Jh.ed:l>Math.abs(x)?(b=Math.abs(x)/l,l=Math.abs(x)):b=1}m=0}var P=y.nq;if(r===qp){switch(v=y.link.computeThickness(),v*=b,P.set(w),g){case Jh.dd:P.x=w.x+k/2+f/2-m-v/2;break;case Jh.Uc:P.y=w.y+x/2+p/2-m-v/2;break;case Jh.od:P.x=w.x+k/2-c/2+m+v/2;break;default:case Jh.ed:P.y=w.y+x/2-l/2+m+v/2}m+=v}else v=.5,r===Bp&&(v=(y.dq+1)/(y.xn+1)),P.x=w.x+k*v,P.y=w.y+x*v}for(Jh.v(a),Jh.v(u),Jh.v(i),Jh.v(h),w=t.gg,k=0;k<w.length;k++)null!==(x=w[k])&&(x.Ax=t.computeEndSegmentLength(x));t.pq=n,Jh.Bb(o)}n=t.gg}for(o=0;o<n.length;o++)if(null!==(w=n[o])&&w.link===e)return w;return null}function _a(t,e,n){this.link=t,this.angle=e,this.ze=n,this.gy=new w,this.xn=this.dq=0,this.nq=new w,this.Ax=0}function Na(){this.zk=this.$j=il,this.xk=this.Yj=NaN,this.wk=this.Xj=Rp,this.yk=this.Zj=NaN,this.Et=this.Jr=null,this.Ft=this.Kr=1/0}function Aa(t){Ls.call(this,t),this.ya|=4608,this.us=new p(ls),this.fp=new p(Aa),this.Lb=this.zt=this.Dl=this.vs=this.ts=null,this.oe=new Fa,this.oe.group=this}function Oa(t,e){if(t.us.add(e)){e instanceof Aa&&t.fp.add(e);var n=t.XI;if(null!==n){var i=!0,r=t.g;null!==r&&(i=r.Ua,r.Ua=!0),n(t,e),null!==r&&(r.Ua=i)}t.isVisible()&&t.$c||e.Dd(!1)}e instanceof Ys&&!t.nx||(n=t.Lb,null===n&&(n=t),n.H())}function ja(t,e){if(t.us.remove(e)){e instanceof Aa&&t.fp.remove(e);var n=t.YI;if(null!==n){var i=!0,r=t.g;null!==r&&(i=r.Ua,r.Ua=!0),n(t,e),null!==r&&(r.Ua=i)}t.isVisible()&&t.$c||e.Dd(!0)}e instanceof Ys&&!t.nx||(n=t.Lb,null===n&&(n=t),n.H())}function Ea(t,e,n,i){for(var r=t.hc;r.next();){var o=r.value;if(o.Dd(!1),o instanceof Aa){var s=o;s.$c&&(s.Gy=s.$c,Ea(s,e,n,i))}if(o instanceof Ls)o.ag(e),jn(n,o,i);else if(o instanceof Ys)for(o=o.Ff;o.next();)o.value.ag(e)}t.$c=!1}function La(t,e,n,i){for(var r=t.hc;r.next();){var o=r.value;if(o.Dd(!0),o instanceof Aa){var s=o;s.Gy&&(s.Gy=!1,La(s,e,n,i))}if(o instanceof Ls)o.ag(e),On(n,o,i);else if(o instanceof Ys)for(o=o.Ff;o.next();)o.value.ag(e)}t.$c=!0}function Da(){Tr.call(this),this.lf=Il,this.jt=new C(NaN,NaN,NaN,NaN)}function Fa(){0<arguments.length&&Jh.nd(Fa),Jh.oc(this),this.yz=this.aa=null,this.wl=this.$r=!0,this.fs=!1,this.Xq=new w(0,0).freeze(),this.bs=this.cs=!0,this.TC="",this.es=!1,this.Kz=null}function Ra(t,e,n,i,r,o,s,a){for(n=n.i;n.next();){var u=n.value;i&&!u.jq||null!==r&&!r(u)||!u.canLayout()||(o&&u instanceof Ls?u.Df||(u instanceof Aa&&null===u.Ub?Ra(t,e,u.hc,!1,r,o,s,a):(Va(u),e.add(u))):s&&u instanceof Ys?e.add(u):!a||!u.he()||u instanceof Ls||(Va(u),e.add(u)))}}function Va(t){var e=t.U;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Ne()}function Ia(){if(Jh.oc(this),this.oe=null,this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new p(Ha),this.edges=new p(Ua),this.ay=new b(Ls,Ha),this.Wx=new b(Ys,Ua)}function Ba(t,e){if(null===e)return!1;var n=t.vertexes.remove(e);return n&&(t.ay.remove(e.Rc),e.network=null),n}function qa(t,e){null!==e&&t.edges.remove(e)&&(t.Wx.remove(e.link),e.network=null)}function za(t){for(var e=Jh.Za(),n=t.edges.i;n.next();){var i=n.value;null!==i.fromVertex&&null!==i.toVertex||e.push(i)}for(n=e.length,i=0;i<n;i++)t.Wp(e[i]);Jh.ra(e)}function Ga(t,e,n){if(null!==n&&n.network!==e){Ba(t,n),e.Ql(n);for(var i=n.nc;i.next();){var r=i.value;r.network!==e&&(qa(t,r),e.Ip(r),Ga(t,e,r.fromVertex))}for(i=n.lc;i.next();)n=i.value,n.network!==e&&(qa(t,n),e.Ip(n),Ga(t,e,n.toVertex))}}function Ha(){Jh.oc(this),this.network=null,this.O=new C(0,0,10,10).freeze(),this.T=new w(5,5).freeze(),this.vd=this.Zd=null,this.Se=new c(Ua),this.Me=new c(Ua)}function Ua(){Jh.oc(this),this.toVertex=this.fromVertex=this.link=this.data=this.network=null}function Ka(){0<arguments.length&&Jh.nd(Ka),Fa.call(this),this.Qx=!0,this.Kt=this.Lt=NaN,this.Rj=new P(NaN,NaN).freeze(),this.ei=new P(10,10).freeze(),this.me=ud,this.pd=hd,this.di=pd,this.Nh=sd}function Wa(){0<arguments.length&&Jh.nd(Wa),Fa.call(this),this.oz=this.Io=this.Gd=0,this.Er=360,this.nz=yd,this.pl=0,this.jC=new w,this.ZC=yd,this.Av=this.Uf=this.mE=0,this.Yw=new ou,this.Bv=this.Xm=0,this.cH=600,this.Ys=NaN,this.Zq=1,this.yt=0,this.At=360,this.pd=yd,this.ba=bd,this.di=Md,this.Nh=od,this.ei=6,this.Js=_d}function Ja(t,e,n,i,r){var o=t.Er,s=t.Gd;t=t.Uf,i=i*Math.PI/180,n=n*Math.PI/180;for(var a=e.length,u=0;u<a;u++){var h=i+(r===bd?u*n/(360<=o?a:a-1):-u*n/a),l=e.fa(u),c=s*Math.tan(h)/t,c=Math.sqrt((s*s+t*t*c*c)/(1+c*c));l.la=c*Math.cos(h),l.sa=c*Math.sin(h),l.actualAngle=180*h/Math.PI}}function Ya(t,e,n,i){var r=t.Gd,o=t.Uf,s=t.pl;n=n*Math.PI/180;for(var a=e.length,u=0;u<a;u++){var h=e.fa(u),l=e.fa(u===a-1?0:u+1),c=o*Math.sin(n);h.la=r*Math.cos(n),h.sa=c,h.actualAngle=180*n/Math.PI,isNaN(h.diameter)&&uu(h,0),isNaN(l.diameter)&&uu(l,0),h=ru(t,r,o,i===bd?n:-n,(h.diameter+l.diameter)/2+s),n+=i===bd?h:-h}}function Qa(t,e,n,i){var r=t.Gd,o=t.Uf,s=t.Av;n=n*Math.PI/180;for(var a=e.length,u=0;u<a;u++){var h=e.fa(u);h.la=r*Math.cos(n),h.sa=o*Math.sin(n),h.actualAngle=180*n/Math.PI,h=ru(t,r,o,i===bd?n:-n,s),n+=i===bd?h:-h}}function Za(t,e,n,i,r){var o=t.Bv,o=t.Er;if(t.Xm=0,t.Yw=new ou,360>n){for(o=i+(r===bd?o:-o);0>o;)o+=360;o%=360,180<o&&(o-=360),o*=Math.PI/180,t.Bv=o,$a(t,e,n,i,r)}else Xa(t,e,n,i,r);t.Yw.commit(e)}function Xa(t,e,n,i,r){var o=t.Gd,s=t.pl,a=t.Io,u=o*Math.cos(i*Math.PI/180),h=t.Uf*Math.sin(i*Math.PI/180),l=e.yc();if(3===l.length)l[0].la=o,l[0].sa=0,l[1].la=l[0].la-l[0].width/2-l[1].width/2-s,l[1].y=l[0].y,l[2].la=(l[0].la+l[1].la)/2,l[2].y=l[0].y-l[2].height-s;else if(4===l.length)l[0].la=o,l[0].sa=0,l[2].la=-l[0].la,l[2].sa=l[0].sa,l[1].la=0,l[1].y=Math.min(l[0].y,l[2].y)-l[1].height-s,l[3].la=0,l[3].y=Math.max(l[0].y+l[0].height+s,l[2].y+l[2].height+s);else{for(var o=Jh.K(),c=0;c<l.length&&(l[c].la=u,l[c].sa=h,!(c>=l.length-1));c++)tu(t,u,h,l,c,r,o)||eu(t,u,h,l,c,r,o),u=o.x,h=o.y;if(Jh.v(o),!(23<++t.Xm)){var u=l[0].la,h=l[0].sa,o=l[l.length-1].la,c=l[l.length-1].sa,f=Math.abs(u-o)-((l[0].width+l[l.length-1].width)/2+s),p=Math.abs(h-c)-((l[0].height+l[l.length-1].height)/2+s),s=0;1>Math.abs(p)?Math.abs(u-o)<(l[0].width+l[l.length-1].width)/2&&(s=0):s=0<p?p:1>Math.abs(f)?0:f,f=!1,f=Math.abs(o)>Math.abs(c)?0<o!=h>c:0<c!=u<o,(f=r===bd?f:!f)&&(s=-Math.abs(s),s=Math.min(s,-l[l.length-1].width),s=Math.min(s,-l[l.length-1].height)),t.Yw.compare(s,l),1<Math.abs(s)&&(t.Gd=8>t.Xm?t.Gd-s/(2*Math.PI):5>l.length&&10<s?t.Gd/2:t.Gd-(0<s?1.7:-2.3),t.Uf=t.Gd*a,Xa(t,e,n,i,r))}}}function $a(t,e,n,i,r){for(var o=t.Gd,s=t.Uf,a=t.Io,u=o*Math.cos(i*Math.PI/180),h=s*Math.sin(i*Math.PI/180),l=Jh.K(),c=e.yc(),f=0;f<c.length&&(c[f].la=u,c[f].sa=h,!(f>=c.length-1));f++)tu(t,u,h,c,f,r,l)||eu(t,u,h,c,f,r,l),u=l.x,h=l.y;if(Jh.v(l),!(23<++t.Xm)){if(u=Math.atan2(h,u),u=r===bd?t.Bv-u:u-t.Bv,u=Math.abs(u)<Math.abs(u-2*Math.PI)?u:u-2*Math.PI,o=u*(o+s)/2,s=t.Yw,Math.abs(o)<Math.abs(s.aq))for(s.aq=o,s.lo=[],s.Nq=[],u=0;u<c.length;u++)s.lo[u]=c[u].eb.x,s.Nq[u]=c[u].eb.y;1<Math.abs(o)&&(t.Gd=8>t.Xm?t.Gd-o/(2*Math.PI):t.Gd-(0<o?1.7:-2.3),t.Uf=t.Gd*a,$a(t,e,n,i,r))}}function tu(t,e,n,i,r,o,s){var a=t.Gd,u=t.Uf,h=0,l=0;t=(i[r].width+i[r+1].width)/2+t.pl;var c=!1;if(0<=n!=(o===bd)){if((h=e+t)>a){if((h=e-t)<-a)return s.x=h,s.y=l,!1;c=!0}}else if((h=e-t)<-a){if((h=e+t)>a)return s.x=h,s.y=l,!1;c=!0}return l=Math.sqrt(1-Math.min(1,h*h/(a*a)))*u,0>n!==c&&(l=-l),Math.abs(n-l)>(i[r].height+i[r+1].height)/2?(s.x=h,s.y=l,!1):(s.x=h,s.y=l,!0)}function eu(t,e,n,i,r,o,s){var a=t.Gd,u=t.Uf,h=0,l=0;if(t=(i[r].height+i[r+1].height)/2+t.pl,i=!1,0<=e!=(o===bd)){if((l=n-t)<-u){if((l=n+t)>u)return s.x=h,void(s.y=l);i=!0}}else if((l=n+t)>u){if((l=n-t)<-u)return s.x=h,void(s.y=l);i=!0}h=Math.sqrt(1-Math.min(1,l*l/(u*u)))*a,0>e!==i&&(h=-h),s.x=h,s.y=l}function nu(t,e,n,i,r){var o=t.cH;if(.001>Math.abs(t.Io-1))return void 0!==i&&void 0!==r?r*e:2*Math.PI*e;t=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;for(var s=0,a=0,a=void 0!==i&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),u=0,h=0;h<=o;h++)u=void 0!==i&&void 0!==r?i+h*r/o:h*Math.PI/(2*o),u=Math.sin(u),s+=Math.sqrt(1-t*t*u*u)*a;return void 0!==i&&void 0!==r?(e>n?e:n)*s:4*(e>n?e:n)*s}function iu(t,e,n,i,r){return e/(void 0!==i&&void 0!==r?nu(t,1,n,i,r):nu(t,1,n))}function ru(t,e,n,i,r){if(.001>Math.abs(t.Io-1))return r/e;var o=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>n&&(i+=Math.PI/2);for(var a=0;;a++){var u=Math.sin(i+a*t),s=s+(e>n?e:n)*Math.sqrt(1-o*o*u*u)*t;if(s>=r)return a*t}}function ou(){this.aq=-1/0,this.Nq=this.lo=null}function su(){Ia.call(this)}function au(){Ha.call(this),this.actualAngle=this.diameter=NaN}function uu(t,e){var n=t.network;if(null===n)return NaN;if(null===(n=n.Ub))return NaN;if(n.Vf===md)if(n.$x===Nd)t.diameter=Math.max(t.width,t.height);else{var n=Math.abs(Math.sin(e)),i=Math.abs(Math.cos(e));if(0===n)return t.width;if(0===i)return t.height;t.diameter=Math.min(t.height/n,t.width/i)}else t.diameter=n.$x===Nd?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function hu(){Ua.call(this)}function lu(){0<arguments.length&&Jh.nd(lu),Fa.call(this),this.Ig=null,this.hs=0,this.ng=new P(100,100).freeze(),this.Yq=!1,this.ci=!0,this.Mh=!1,this.ep=100,this.Hr=1,this.Qi=1e3,this.Ds=10,this.Zs=Math,this.Eo=.05,this.Do=50,this.Bo=150,this.Co=0,this.vr=10,this.ur=5}function cu(t,e,n){if(fu(t,e)){var i=t.Qi;t.Qi*=1+1/(e+1);var r=pu(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,n*(e+1)/11),10));for(t.fB+=o,cu(t,e+1,n),mu(t,o),du(t,r),e=t.Ig,null===e?e=new c(ku):e.clear(),e.Pc(r.vertexes),e.sort(function(t,e){return null===t||null===e||t===e?0:e.jg-t.jg}),r=e.i;r.next();)yu(t,r.value);t.Qi=i}}function fu(t,e){if(10<e||3>t.network.vertexes.count)return!1;null===t.Ig?t.Ig=new c(ku):t.Ig.clear(),t.Ig.Pc(t.network.vertexes);var n=t.Ig;n.sort(function(t,e){return null===t||null===e||t===e?0:e.jg-t.jg});for(var i=n.count-1;0<=i&&1>=n.fa(i).jg;)i--;return 1<n.count-i}function pu(t,e){for(var n=t.network,i=new xu,r=t.Ig.i;r.next();){var o=r.value;if(!(1<o.jg))break;i.Ql(o);var s=new wu;s.Ky=o.jg,s.Ly=o.width,s.Jy=o.height,s.cC=o.T.x,s.dC=o.T.y,null===o.Hh&&(o.Hh=new c(wu)),o.Hh.add(s),o.yB=o.Hh.count-1}for(var a=n.edges.i;a.next();)if(s=a.value,r=s.fromVertex,o=s.toVertex,r.network===i&&o.network===i)i.Ip(s);else if(r.network===i){var u=r.tn;null===u&&(u=new c(ku),r.tn=u),u.add(o),r.jg--,r.Uk+=o.Uk}else o.network===i&&(u=o.tn,null===u&&(u=new c(ku),o.tn=u),u.add(r),o.jg--,o.Uk+=r.Uk);for(r=i.edges.i;r.next();)o=r.value,o.length*=Math.max(1,K((o.fromVertex.Uk+o.toVertex.Uk)/(4*e+1)));for(r=i.vertexes.i;r.next();)if(o=r.value,null!==(u=o.tn)&&0<u.count&&(s=o.Hh.fa(o.Hh.count-1),!(0>=(s=s.Ky-o.jg)))){for(var h=0,l=0,f=u.count-s;f<u.count;f++){for(var p=u.fa(f),d=null,a=p.edges.i;a.next();){var y=a.value;if(y.fI(p)===o){d=y;break}}null!==d&&(l+=d.length,h+=p.width*p.height)}a=o.la,u=o.sa,f=o.width,p=o.height,d=o.T,y=f*p,1>y&&(y=1),h=K((h+y+l*l*4/(s*s))/y),s=(h-1)*f/2,h=(h-1)*p/2,o.eb=new C(a-d.x-s,u-d.y-h,f+2*s,p+2*h),o.focus=new w(d.x+s,d.y+h)}return t.network=i,n}function du(t,e){for(var n=t.network.vertexes.i;n.next();){var i=n.value;if(i.network=e,null!==i.Hh){var r=i.Hh.fa(i.yB);i.jg=r.Ky;var o=r.cC,s=r.dC;i.eb=new C(i.la-o,i.sa-s,r.Ly,r.Jy),i.focus=new w(o,s),i.yB--}}for(n=t.network.edges.i;n.next();)n.value.network=e;t.network=e}function yu(t,e){var n=e.tn;if(null!==n&&0!==n.count){var i=e.la,r=e.sa,o=e.width,s=e.height;null!==e.Hh&&0<e.Hh.count&&(s=e.Hh.fa(0),o=s.Ly,s=s.Jy);for(var o=K(o*o+s*s)/2,a=!1,u=s=0,h=0,l=e.vertexes.i;l.next();){var c=l.value;1>=c.jg?u++:(a=!0,h++,s+=Math.atan2(e.sa-c.sa,e.la-c.la))}if(0!==u)for(0<h&&(s/=h),l=h=0,h=a?2*Math.PI/(u+1):2*Math.PI/u,0==u%2&&(l=h/2),1<n.count&&n.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),a=0==u%2?0:1,n=n.i;n.next();)if(u=n.value,!(1<u.jg||t.isFixed(u))){for(var c=null,f=u.edges.i;f.next();){c=f.value;break}var f=u.width,p=u.height,f=K(f*f+p*p)/2,c=o+c.length+f,f=s+(h*(a/2>>1)+l)*(0==a%2?1:-1);u.la=i+c*Math.cos(f),u.sa=r+c*Math.sin(f),a++}}}function vu(t,e,n,i,r,o,s){var a=9e19,u=-1,h=0;t:for(;h<e;h++){var l=t[h],c=l.x-n,f=l.y-i,c=c*c+f*f;if(c<a){for(f=h-1;0<=f;f--)if(t[f].y>l.y&&t[f].x-l.x<r+s.width)continue t;for(f=h+1;f<e;f++)if(t[f].x>l.x&&t[f].y-l.y<o+s.height)continue t;u=h,a=c}}return u}function gu(t,e){var n=t.O,i=n.x,r=n.y,o=n.width,n=n.height,s=e.O,a=s.x,u=s.y,h=s.width,s=s.height;return i+o<a?r>u+s?(i=i+o-a,r=r-u-s,K(i*i+r*r)):r+n<u?(i=i+o-a,r=r+n-u,K(i*i+r*r)):a-(i+o):i>a+h?r>u+s?(i=i-a-h,r=r-u-s,K(i*i+r*r)):r+n<u?(i=i-a-h,r=r+n-u,K(i*i+r*r)):i-(a+h):r>u+s?r-(u+s):r+n<u?u-(r+n):.1}function mu(t,e){t.Ig=null;for(var n=t.hs+e;t.hs<n&&(t.hs++,bu(t)););t.Ig=null}function bu(t){null===t.Ig&&(t.Ig=new c(ku),t.Ig.Pc(t.network.vertexes));var e=t.Ig.n;if(0>=e.length)return!1;var n=e[0];n.forceX=0,n.forceY=0;for(var i=n.la,r=i,s=n.sa,a=s,n=1;n<e.length;n++){var u=e[n];u.forceX=0,u.forceY=0;var h=u.la,u=u.sa,i=Math.min(i,h),r=Math.max(r,h),s=Math.min(s,u),a=Math.max(a,u)}(s=r-i>a-s)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.la-e.la}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.sa-e.sa});for(var a=t.Qi,l=0,f=0,p=0,n=0;n<e.length;n++){var u=e[n],h=u.O,d=u.T,i=h.x+d.x,h=h.y+d.y,f=u.charge*t.electricalFieldX(i,h),p=u.charge*t.electricalFieldY(i,h),f=f+u.mass*t.gravitationalFieldX(i,h),p=p+u.mass*t.gravitationalFieldY(i,h);for(u.forceX+=f,u.forceY+=p,d=n+1;d<e.length;d++)if((r=e[d])!==u){var y=r.O,f=r.T,p=y.x+f.x,y=y.y+f.y;if(i-p>a||p-i>a){if(s)break}else if(h-y>a||y-h>a){if(!s)break}else{var v=gu(u,r);1>v?(f=t.ly,null===f&&(t.ly=f=new o(0)),l=f.random(),v=f.random(),i>p?(f=Math.abs(r.O.right-u.O.x),f=(1+f)*l):i<p?(f=Math.abs(r.O.x-u.O.right),f=-(1+f)*l):(f=Math.max(r.width,u.width),f=(1+f)*l-f/2),h>y?(p=Math.abs(r.O.bottom-u.O.y),p=(1+p)*v):i<p?(p=Math.abs(r.O.y-u.O.bottom),p=-(1+p)*v):(p=Math.max(r.height,u.height),p=(1+p)*v-p/2)):(l=-u.charge*r.charge/(v*v),f=(p-i)/v*l,p=(y-h)/v*l),u.forceX+=f,u.forceY+=p,r.forceX-=f,r.forceY-=p}}}for(n=t.network.edges.i;n.next();)s=n.value,u=s.fromVertex,r=s.toVertex,h=u.O,d=u.T,i=h.x+d.x,h=h.y+d.y,y=r.O,f=r.T,p=y.x+f.x,y=y.y+f.y,v=gu(u,r),1>v?(f=t.ly,null===f&&(t.ly=f=new o(0)),l=f.random(),v=f.random(),f=(i>p?1:-1)*(1+(r.width>u.width?r.width:u.width))*l,p=(h>y?1:-1)*(1+(r.height>u.height?r.height:u.height))*v):(l=s.stiffness*(v-s.length),f=(p-i)/v*l,p=(y-h)/v*l),u.forceX+=f,u.forceY+=p,r.forceX-=f,r.forceY-=p;for(n=0,i=t.fJ,r=0;r<e.length;r++)u=e[r],t.isFixed(u)?t.moveFixedVertex(u):(s=u.forceX,a=u.forceY,s<-i?s=-i:s>i&&(s=i),a<-i?a=-i:a>i&&(a=i),u.la+=s,u.sa+=a,n=Math.max(n,s*s+a*a));return n>t.ZE*t.ZE}function wu(){this.dC=this.cC=this.Jy=this.Ly=this.Ky=0}function xu(){Ia.call(this)}function ku(){Ha.call(this),this.isFixed=!1,this.mass=this.charge=NaN,this.Uk=this.jg=this.forceY=this.forceX=0,this.Hh=this.tn=null,this.yB=0}function Pu(){Ua.call(this),this.length=this.stiffness=NaN}function Cu(){0<arguments.length&&Jh.nd(Cu),Fa.call(this),this.Yd=this.Om=25,this.ba=0,this.Ao=Ad,this.ap=Ed,this.Ro=Fd,this.Nm=4,this.po=Bd,this.dj=Ud,this.ci=!0,this.ns=4,this.Kb=this.mw=this.tb=-1,this.Rf=this.ws=0,this.Pb=this.Pf=this.Qf=this.yg=this.ne=null,this.Fs=0,this.Es=this.Tm=null,this.Cg=0,this.Gs=null,this.pC=new w,this.kh=[],this.kh.length=100}function Su(t){var e=t.fromVertex.vd;return t=t.toVertex.vd,null===e&&null===t?8:null===e||null===t?4:1}function Tu(t){null===t.Tm&&(t.Tm=[]);for(var e=0,n=t.network.vertexes.i;n.next();){var i=n.value;t.Tm[e]=i.layer,e++,t.Tm[e]=i.column,e++,t.Tm[e]=i.index,e++}return t.Tm}function Mu(t,e){for(var n=0,i=t.network.vertexes.i;i.next();){var r=i.value;r.layer=e[n],n++,r.column=e[n],n++,r.index=e[n],n++}}function _u(t,e,n){var i=ih(t,e),r=t.ne[e];(null===t.Es||t.Es.length<r*r)&&(t.Es=[]);for(var o=t.Es,s=0;s<r;s++){var a=0,u=i[s],h=u.near,l=0;if(null!==h&&h.layer===u.layer)if((l=h.index)>s)for(var c=s+1;c<l;c++)u=i[c],u.near===h&&u.qn===h.qn||a++;else for(c=s-1;c>l;c--)u=i[c],u.near===h&&u.qn===h.qn||a++;var f,p,h=0,d=f=c=u=0,y=0,v=0;p=0;var g;if(0<=n)for(l=i[s].Se,h=0;h<l.count;h++)if(f=l.n[h],f.valid&&f.fromVertex.layer!==e)for(u=f.fromVertex.index,c=f.portToPos,f=f.portFromPos,d=h+1;d<l.count;d++)p=l.n[d],p.valid&&p.fromVertex.layer!==e&&(y=p.fromVertex.index,v=p.portToPos,p=p.portFromPos,c<v&&(u>y||u===y&&f>p)&&a++,v<c&&(y>u||y===u&&p>f)&&a++);if(0>=n)for(l=i[s].Me,h=0;h<l.count;h++)if(f=l.n[h],f.valid&&f.toVertex.layer!==e)for(u=f.toVertex.index,c=f.portToPos,f=f.portFromPos,d=h+1;d<l.count;d++)p=l.n[d],p.valid&&p.toVertex.layer!==e&&(y=p.toVertex.index,v=p.portToPos,p=p.portFromPos,f<p&&(u>y||u===y&&c>v)&&a++,p<f&&(y>u||y===u&&v>c)&&a++);for(o[s*r+s]=a,l=s+1;l<r;l++){var m=0,b=0;if(0<=n)for(a=i[s].Se,g=i[l].Se,h=0;h<a.count;h++)if(f=a.n[h],f.valid&&f.fromVertex.layer!==e)for(u=f.fromVertex.index,f=f.portFromPos,d=0;d<g.count;d++)p=g.n[d],p.valid&&p.fromVertex.layer!==e&&(y=p.fromVertex.index,p=p.portFromPos,(u<y||u===y&&f<p)&&b++,(y<u||y===u&&p<f)&&m++);if(0>=n)for(a=i[s].Me,g=i[l].Me,h=0;h<a.count;h++)if(f=a.n[h],f.valid&&f.toVertex.layer!==e)for(u=f.toVertex.index,c=f.portToPos,d=0;d<g.count;d++)p=g.n[d],p.valid&&p.toVertex.layer!==e&&(y=p.toVertex.index,v=p.portToPos,(u<y||u===y&&c<v)&&b++,(y<u||y===u&&v<c)&&m++);o[s*r+l]=m,o[l*r+s]=b}}return rh(t,e,i),o}function Nu(t){for(var e=0,n=0;n<=t.tb;n++){for(var i=t,r=n,o=ih(i,r),s=i.ne[r],a=0,u=0;u<s;u++){var h,l=null,l=o[u].Me,c=0,f=0;if(null!==l)for(var p=0;p<l.count;p++)h=l.n[p],h.valid&&h.toVertex.layer!==r&&(c=h.fromVertex.column+h.portFromColOffset,f=h.toVertex.column+h.portToColOffset,a+=(Math.abs(c-f)+1)*Su(h))}rh(i,r,o),e+=a}return e}function Au(t,e,n){for(var i=ih(t,e),r=t.ne[e],o=[],s=0;s<r;s++){var a=i[s],u=null;0>=n&&(u=a.Se);var h=null;0<=n&&(h=a.Me);var l=0,c=0,f=a.near;if(null!==f&&f.layer===a.layer&&(l+=f.column-1,c++),null!==u)for(f=0;f<u.count;f++){var a=u.n[f],p=a.fromVertex;a.valid&&!a.rev&&p.layer!==e&&(l+=p.column,c++)}if(null!==h)for(u=0;u<h.count;u++)a=h.n[u],f=a.toVertex,a.valid&&!a.rev&&f.layer!==e&&(l+=f.column,c++);o[s]=0===c?-1:l/c}return rh(t,e,i),o}function Ou(t,e,n){for(var i=ih(t,e),r=t.ne[e],o=[],s=0;s<r;s++){var a=i[s],u=null;0>=n&&(u=a.Se);var h=null;0<=n&&(h=a.Me);var l=0,c=[],f=a.near;if(null!==f&&f.layer===a.layer&&(c[l]=f.column-1,l++),null!==u)for(f=0;f<u.count;f++){var a=u.n[f],p=a.fromVertex;a.valid&&!a.rev&&p.layer!==e&&(c[l]=p.column+a.portFromColOffset,l++)}if(null!==h)for(u=0;u<h.count;u++)a=h.n[u],f=a.toVertex,a.valid&&!a.rev&&f.layer!==e&&(c[l]=f.column+a.portToColOffset,l++);0===l?o[s]=-1:(c.sort(function(t,e){return t-e}),h=l>>1,o[s]=0!=(1&l)?c[h]:c[h-1]+c[h]>>1)}return rh(t,e,i),o}function ju(t,e,n,i,r,o){if(e.component===i){e.component=n;var s=0,a=0;if(r)for(var u=e.lc;u.next();){var a=u.value,h=a.toVertex,s=e.layer-h.layer,a=t.linkMinLength(a);s===a&&ju(t,h,n,i,r,o)}if(o)for(u=e.nc;u.next();)a=u.value,h=a.fromVertex,s=h.layer-e.layer,a=t.linkMinLength(a),s===a&&ju(t,h,n,i,r,o)}}function Eu(t,e,n,i,r,o){if(e.component===i){if(e.component=n,r)for(var s=e.lc;s.next();)Eu(t,s.value.toVertex,n,i,r,o);if(o)for(e=e.nc;e.next();)Eu(t,e.value.fromVertex,n,i,r,o)}}function Lu(t){for(var e=t.network.edges.i;e.next();)e.value.rev=!1;switch(t.Ao){default:case Od:var e=t.network,n=0,i=e.vertexes.count-1,r=[];r.length=i+1;for(var o=e.vertexes.i;o.next();)o.value.valid=!0;for(;null!==Du(e);){for(o=Fu(e);null!==o;)r[i]=o,i--,o.valid=!1,o=Fu(e);for(o=Ru(e);null!==o;)r[n]=o,n++,o.valid=!1,o=Ru(e);for(var o=null,s=0,a=t.network.vertexes.i;a.next();){var u=a.value;if(u.valid){for(var h=0,l=u.lc;l.next();)l.value.toVertex.valid&&h++;for(var l=0,c=u.nc;c.next();)c.value.fromVertex.valid&&l++;(null===o||s<h-l)&&(o=u,s=h-l)}}null!==o&&(r[n]=o,n++,o.valid=!1)}for(t=0;t<e.vertexes.count;t++)r[t].index=t;for(t=e.edges.i;t.next();)r=t.value,r.fromVertex.index>r.toVertex.index&&(e.Wu(r),r.rev=!0);break;case Ad:for(r=t.network.vertexes.i;r.next();)e=r.value,e.Xp=-1,e.finish=-1;for(e=t.network.edges.i;e.next();)e.value.forest=!1;for(t.Fs=0,r.reset();r.next();)n=r.value,0===n.nc.count&&Vu(t,n);for(r.reset();r.next();)n=r.value,-1===n.Xp&&Vu(t,n);for(e.reset();e.next();)r=e.value,r.forest||(n=r.fromVertex,i=n.finish,o=r.toVertex,s=o.finish,o.Xp<n.Xp&&i<s&&(t.network.Wu(r),r.rev=!0));break;case jd:for(t=t.network,n=t.vertexes.i,r=1/0;n.next();)e=n.value,r=Math.min(r,e.layer);if(1/0>r){if(0>r)for(n.reset();n.next();)e=n.value,e.layer-=r;for(r=[],n.reset();n.next();)e=n.value,i=r[e.layer],void 0===i?r[e.layer]=[e]:i.push(e);for(i=n=0;i<r.length;i++)if((o=r[i])&&0!==o.length){if(0<i)for(s=0;s<o.length;s++)e=o[s],e.layer-=n}else n++;for(e=t.edges.i;e.next();)r=e.value,r.fromVertex.layer<r.toVertex.layer&&(t.Wu(r),r.rev=!0)}}}function Du(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid)return e}return null}function Fu(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.lc;i.next();)if(i.value.toVertex.valid){n=!1;break}if(n)return e}}return null}function Ru(t){for(t=t.vertexes.i;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.nc;i.next();)if(i.value.fromVertex.valid){n=!1;break}if(n)return e}}return null}function Vu(t,e){e.Xp=t.Fs,t.Fs++;for(var n=e.lc;n.next();){var i=n.value,r=i.toVertex;-1===r.Xp&&(i.forest=!0,Vu(t,r))}e.finish=t.Fs,t.Fs++}function Iu(t){for(var e=t.network.vertexes.i;e.next();){var n=Bu(t,e.value);t.tb=Math.max(n,t.tb)}}function Bu(t,e){var n=0;if(-1===e.layer){for(var i=e.lc;i.next();)var r=i.value,o=r.toVertex,r=t.linkMinLength(r),n=Math.max(n,Bu(t,o)+r);e.layer=n}else n=e.layer;return n}function qu(t,e){var n=0;if(-1===e.layer){for(var i=e.nc;i.next();)var r=i.value,o=r.fromVertex,r=t.linkMinLength(r),n=Math.max(n,qu(t,o)+r);e.layer=n}else n=e.layer;return n}function zu(t,e){if(!e.valid){e.valid=!0;for(var n=e.lc;n.next();)zu(t,n.value.toVertex);for(n=t.network.vertexes.i;n.next();)n.value.component=-1;for(var i=e.Se.n,r=i.length,o=0;o<r;o++){var s=i[o],a=s.fromVertex,u=s.toVertex,s=t.linkMinLength(s);a.layer-u.layer>s&&ju(t,a,0,-1,!0,!1)}for(ju(t,e,1,-1,!0,!0);0!==e.component;){for(var a=0,i=1/0,u=0,h=null,l=t.network.vertexes.i;l.next();){var c=l.value;if(1===c.component){for(var f=0,p=!1,d=c.Se.n,r=d.length,o=0;o<r;o++){var s=d[o],y=s.fromVertex,f=f+1;1!==y.component&&(a+=1,y=y.layer-c.layer,s=t.linkMinLength(s),i=Math.min(i,y-s))}for(s=c.Me.n,r=s.length,o=0;o<r;o++)d=s[o].toVertex,f-=1,1!==d.component?a-=1:p=!0;(null===h||f<u)&&!p&&(h=c,u=f)}}if(0<a){for(n.reset();n.next();)r=n.value,1===r.component&&(r.layer+=i);e.component=0}else h.component=0}for(n=t.network.vertexes.i;n.next();)n.value.component=-1;for(ju(t,e,1,-1,!0,!1);0!==e.component;){for(o=0,r=1/0,i=0,s=null,a=t.network.vertexes.i;a.next();)if(u=a.value,1===u.component){for(h=0,l=!1,p=u.Se.n,c=p.length,f=0;f<c;f++)d=p[f].fromVertex,h+=1,1!==d.component?o+=1:l=!0;for(p=u.Me.n,c=p.length,f=0;f<c;f++)d=p[f],y=d.toVertex,h-=1,1!==y.component&&(o-=1,y=u.layer-y.layer,d=t.linkMinLength(d),r=Math.min(r,y-d));(null===s||h>i)&&!l&&(s=u,i=h)}if(0>o){for(n.reset();n.next();)o=n.value,1===o.component&&(o.layer-=r);e.component=0}else s.component=0}}}function Gu(t,e,n){return 90===t.ba?n&&!e.rev||!n&&e.rev?270:90:180===t.ba?n&&!e.rev||!n&&e.rev?0:180:270===t.ba?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}function Hu(t,e){var n=e.layer;e.index=t.ne[n],t.ne[n]++;for(var n=e.Me.yc(),i=!0;i;)for(var i=!1,r=0;r<n.length-1;r++){var o=n[r],s=n[r+1];o.portFromColOffset>s.portFromColOffset&&(i=!0,n[r]=s,n[r+1]=o)}for(r=0;r<n.length;r++)i=n[r],i.valid&&(i=i.toVertex,-1===i.index&&Hu(t,i))}function Uu(t,e){var n=e.layer;e.index=t.ne[n],t.ne[n]++;for(var n=e.Se.yc(),i=!0,r=0;i;)for(i=!1,r=0;r<n.length-1;r++){var o=n[r],s=n[r+1];o.portToColOffset>s.portToColOffset&&(i=!0,n[r]=s,n[r+1]=o)}for(r=0;r<n.length;r++)i=n[r],i.valid&&(i=i.fromVertex,-1===i.index&&Uu(t,i))}function Ku(t,e,n){var i=0,r=ih(t,e),o=t.ne[e],s=Ou(t,e,n);for(n=Au(t,e,n),i=0;i<o;i++)-1===n[i]&&(n[i]=r[i].column),-1===s[i]&&(s[i]=r[i].column);for(var a,u=!0;u;)for(u=!1,i=0;i<o-1;i++)(s[i+1]<s[i]||s[i+1]===s[i]&&n[i+1]<n[i])&&(u=!0,a=s[i],s[i]=s[i+1],s[i+1]=a,a=n[i],n[i]=n[i+1],n[i+1]=a,a=r[i],r[i]=r[i+1],r[i+1]=a);for(i=s=0;i<o;i++)a=r[i],a.index=i,s+=t.nodeMinColumnSpace(a,!0),a.column=s,s+=1,s+=t.nodeMinColumnSpace(a,!1);rh(t,e,r)}function Wu(t,e,n){var i=ih(t,e),r=t.ne[e];n=_u(t,e,n);var o,s=0;for(o=[],s=0;s<r;s++)o[s]=-1;var a;for(a=[],s=0;s<r;s++)a[s]=-1;for(var u=!1,h=!0;h;)for(h=!1,s=0;s<r-1;s++){var l=n[i[s].index*r+i[s+1].index],c=n[i[s+1].index*r+i[s].index],f=0,p=0,d=i[s].column,y=i[s+1].column,v=t.nodeMinColumnSpace(i[s],!0),g=t.nodeMinColumnSpace(i[s],!1),m=t.nodeMinColumnSpace(i[s+1],!0),b=t.nodeMinColumnSpace(i[s+1],!1),v=d-v+m,g=y-g+b,m=m=0,w=i[s].nc.i;for(w.reset();w.next();)if(m=w.value,b=m.fromVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m<s&&(f+=2*(s-m),p+=2*(s+1-m)),m===s+1&&(f+=1),m>s+1&&(f+=4*(m-s),p+=4*(m-(s+1)))}for(w=i[s].lc.i,w.reset();w.next();)if(m=w.value,b=m.toVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m===s+1&&(p+=1)}for(w=i[s+1].nc.i,w.reset();w.next();)if(m=w.value,b=m.fromVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m<s&&(f+=2*(s+1-m),p+=2*(s-m)),m===s&&(p+=1),m>s+1&&(f+=4*(m-(s+1)),p+=4*(m-s))}for(w=i[s+1].lc.i,w.reset();w.next();)if(m=w.value,b=m.toVertex,m.valid&&b.layer===e){for(m=0;i[m]!==b;)m++;m===s&&(f+=1)}var m=b=0,w=o[i[s].index],x=a[i[s].index],k=o[i[s+1].index],P=a[i[s+1].index];-1!==w&&(b+=Math.abs(w-d),m+=Math.abs(w-g)),-1!==x&&(b+=Math.abs(x-d),m+=Math.abs(x-g)),-1!==k&&(b+=Math.abs(k-y),m+=Math.abs(k-v)),-1!==P&&(b+=Math.abs(P-y),m+=Math.abs(P-v)),(p<f-.5||p===f&&c<l-.5||p===f&&c===l&&m<b-.5)&&(h=u=!0,i[s].column=g,i[s+1].column=v,l=i[s],i[s]=i[s+1],i[s+1]=l)}for(s=0;s<r;s++)i[s].index=s;return rh(t,e,i),u}function Ju(t,e,n){for(var i=!1;Yu(t,e,n);)i=!0;return i}function Yu(t,e,n){var i=0,r=ih(t,e),o=t.ne[e],s=Au(t,e,-1);if(0<n)for(i=0;i<o;i++)s[i]=-1;var a=Au(t,e,1);if(0>n)for(i=0;i<o;i++)a[i]=-1;for(var u=!1,h=!0;h;)for(h=!1,i=0;i<o;i++){var l=r[i].column,c=t.nodeMinColumnSpace(r[i],!0),f=t.nodeMinColumnSpace(r[i],!1),p=0,p=0>i-1||l-r[i-1].column-1>c+t.nodeMinColumnSpace(r[i-1],!1)?l-1:l,c=0,c=i+1>=o||r[i+1].column-l-1>f+t.nodeMinColumnSpace(r[i+1],!0)?l+1:l,d=f=0,y=0,v=0,g=0,m=0;if(0>=n)for(var b=r[i].nc.i;b.next();){var m=b.value,w=m.fromVertex;m.valid&&w.layer!==e&&(v=Su(m),g=m.portFromColOffset,m=m.portToColOffset,w=w.column,f+=(Math.abs(l+m-(w+g))+1)*v,d+=(Math.abs(p+m-(w+g))+1)*v,y+=(Math.abs(c+m-(w+g))+1)*v)}if(0<=n)for(b=r[i].lc.i;b.next();)m=b.value,w=m.toVertex,m.valid&&w.layer!==e&&(v=Su(m),g=m.portFromColOffset,m=m.portToColOffset,w=w.column,f+=(Math.abs(l+g-(w+m))+1)*v,d+=(Math.abs(p+g-(w+m))+1)*v,y+=(Math.abs(c+g-(w+m))+1)*v);m=g=v=0,b=s[r[i].index],w=a[r[i].index],-1!==b&&(v+=Math.abs(b-l),g+=Math.abs(b-p),m+=Math.abs(b-c)),-1!==w&&(v+=Math.abs(w-l),g+=Math.abs(w-p),m+=Math.abs(w-c)),d<f||d===f&&g<v?(h=u=!0,r[i].column=p):(y<f||y===f&&m<v)&&(h=u=!0,r[i].column=c)}return rh(t,e,r),t.normalize(),u}function Qu(t,e,n){var i=0,r=ih(t,e),o=t.ne[e],s=Ou(t,e,n);for(n=[],i=0;i<o;i++)n[i]=s[i];for(s=!0;s;)for(s=!1,i=0;i<o;i++){var a=r[i].column,u=t.nodeMinColumnSpace(r[i],!0),h=t.nodeMinColumnSpace(r[i],!1),l=0,c=0,f=0,f=c=0;-1===n[i]?0===i&&i===o-1?l=a:0===i?(c=r[i+1].column,l=c-a===h+t.nodeMinColumnSpace(r[i+1],!0)?a-1:a):i===o-1?(f=r[i-1].column,l=a-f===u+t.nodeMinColumnSpace(r[i-1],!1)?a+1:a):(f=r[i-1].column,f=f+t.nodeMinColumnSpace(r[i-1],!1)+u+1,c=r[i+1].column,c=c-t.nodeMinColumnSpace(r[i+1],!0)-h-1,l=(f+c)/2|0):0===i&&i===o-1?l=n[i]:0===i?(c=r[i+1].column,c=c-t.nodeMinColumnSpace(r[i+1],!0)-h-1,l=Math.min(n[i],c)):i===o-1?(f=r[i-1].column,f=f+t.nodeMinColumnSpace(r[i-1],!1)+u+1,l=Math.max(n[i],f)):(f=r[i-1].column,f=f+t.nodeMinColumnSpace(r[i-1],!1)+u+1,c=r[i+1].column,c=c-t.nodeMinColumnSpace(r[i+1],!0)-h-1,f<n[i]&&n[i]<c?l=n[i]:f>=n[i]?l=f:c<=n[i]&&(l=c)),l!==a&&(s=!0,r[i].column=l)}rh(t,e,r),t.normalize()}function Zu(t,e){for(var n=!0,i=t.network.vertexes.i;i.next();){var r=i.value,o=t.nodeMinColumnSpace(r,!0),s=t.nodeMinColumnSpace(r,!1);if(r.column-o<=e&&r.column+s>=e){n=!1;break}}if(r=!1,n)for(i.reset();i.next();)n=i.value,n.column>e&&(n.column-=1,r=!0);return r}function Xu(t,e){for(var n=e,n=e+1,i=0,r=[],o=[],i=0;i<=t.tb;i++)r[i]=!1,o[i]=!1;for(var s=t.network.vertexes.i;s.next();){var i=s.value,a=i.column-t.nodeMinColumnSpace(i,!0),u=i.column+t.nodeMinColumnSpace(i,!1);a<=e&&u>=e&&(r[i.layer]=!0),a<=n&&u>=n&&(o[i.layer]=!0)}for(a=!0,n=!1,i=0;i<=t.tb;i++)a=a&&!(r[i]&&o[i]);if(a)for(s.reset();s.next();)r=s.value,r.column>e&&(r.column-=1,n=!0);return n}function $u(t,e){for(var n=0;n<=t.Kb;n++)for(;Zu(t,n););for(t.normalize(),n=0;n<t.Kb;n++)for(;Xu(t,n););t.normalize();var i,n=0,r=0,o=0,s=0;if(0<e)for(n=0;n<=t.Kb;n++)for(i=Tu(t),r=Nu(t),o=r+1;r<o;)o=r,th(t,n,1),s=Nu(t),s>r?Mu(t,i):s<r&&(r=s,i=Tu(t));if(0>e)for(n=t.Kb;0<=n;n--)for(i=Tu(t),r=Nu(t),o=r+1;r<o;)o=r,th(t,n,-1),s=Nu(t),s>r?Mu(t,i):s<r&&(r=s,i=Tu(t));t.normalize()}function th(t,e,n){t.Cg=0;for(var i=t.network.vertexes.i;i.next();)i.value.component=-1;if(0<n)for(i.reset();i.next();){var r=i.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.Cg)}if(0>n)for(i.reset();i.next();)r=i.value,r.column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.Cg);for(t.Cg++,i.reset();i.next();)e=i.value,-1===e.component&&(Eu(t,e,t.Cg,-1,!0,!0),t.Cg++);var o=0;for(e=[],o=0;o<t.Cg*t.Cg;o++)e[o]=!1;for(r=[],o=0;o<(t.tb+1)*(t.Kb+1);o++)r[o]=-1;for(i.reset();i.next();)for(var o=i.value,s=o.layer,a=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),u=Math.min(t.Kb,o.column+t.nodeMinColumnSpace(o,!1));a<=u;a++)r[s*(t.Kb+1)+a]=o.component;for(o=0;o<=t.tb;o++){if(0<n)for(a=0;a<t.Kb;a++)-1!==r[o*(t.Kb+1)+a]&&-1!==r[o*(t.Kb+1)+a+1]&&r[o*(t.Kb+1)+a]!==r[o*(t.Kb+1)+a+1]&&(e[r[o*(t.Kb+1)+a]*t.Cg+r[o*(t.Kb+1)+a+1]]=!0);if(0>n)for(a=t.Kb;0<a;a--)-1!==r[o*(t.Kb+1)+a]&&-1!==r[o*(t.Kb+1)+a-1]&&r[o*(t.Kb+1)+a]!==r[o*(t.Kb+1)+a-1]&&(e[r[o*(t.Kb+1)+a]*t.Cg+r[o*(t.Kb+1)+a-1]]=!0)}for(r=[],o=0;o<t.Cg;o++)r[o]=!0;for(s=new c("number"),s.add(0),u=0;0!==s.count;)if(u=s.n[s.count-1],s.cd(s.count-1),r[u])for(r[u]=!1,o=0;o<t.Cg;o++)e[u*t.Cg+o]&&s.Rd(0,o);if(0<n)for(i.reset();i.next();)t=i.value,r[t.component]&&(t.column-=1);if(0>n)for(i.reset();i.next();)n=i.value,r[n.component]&&(n.column+=1)}function eh(t,e){return 270===t.ba?e?pl:vl:90===t.ba?e?vl:pl:180===t.ba?e?dl:yl:e?yl:dl}function nh(t,e){var n=t-e;return-1<n&&1>n}function ih(t,e){var n,i=t.ne[e];if(i>=t.kh.length){n=[];for(var r=0;r<t.kh.length;r++)n[r]=t.kh[r];t.kh=n}for(void 0===t.kh[i]||null===t.kh[i]?n=[]:(n=t.kh[i],t.kh[i]=null),i=t.Gs[e],r=0;r<i.length;r++){var o=i[r];n[o.index]=o}return n}function rh(t,e,n){t.kh[t.ne[e]]=n}function oh(){this.index=this.ue=this.$e=this.ie=this.first=this.layer=0,this.link=null,this.xi=0}function sh(){Ia.call(this)}function ah(){Ha.call(this),this.index=this.column=this.layer=-1,this.component=NaN,this.near=null,this.valid=!1,this.finish=this.Xp=NaN,this.qn=0,this.lB=this.mB=null}function uh(){Ua.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=NaN,this.portToColOffset=this.portFromColOffset=0}function hh(){0<arguments.length&&Jh.nd(hh),Fa.call(this),this.yd=new p(Object),this.Ts=Kd,this.Of=Wd,this.It=hy,this.jw=vy,this.kC=null,this.Mh=!0,this.pd=py,this.ng=new P(10,10).freeze(),this.va=new Gh,this.wa=new Gh,this.Wz=[]}function lh(t){var e=new p(Gh);for(t=t.i;t.next();){var n=t.value;n.initialized||e.add(n)}return e}function ch(t,e){for(var n=999999,i=null,r=e.i;r.next();){var o=r.value;switch(t.Of){case Wd:o.nc.count<n&&(n=o.nc.count,i=o);break;case Jd:o.lc.count<n&&(n=o.lc.count,i=o);break;default:Jh.k("Unhandled path value "+t.Of.toString())}}return i}function fh(t,e){if(null!==e){switch(t.Of){case Wd:if(0<e.lc.count){for(var n=new c(Gh),i=e.RH;i.next();){var r=i.value;ph(t,e,r)&&n.add(r)}0<n.count&&(e.children=n.yc())}break;case Jd:if(0<e.nc.count){for(n=new c(Gh),i=e.NJ;i.next();)r=i.value,ph(t,e,r)&&n.add(r);0<n.count&&(e.children=n.yc())}break;default:Jh.k("Unhandled path value"+t.Of.toString())}for(n=e.children,i=n.length,r=0;r<i;r++){var o=n[r];o.initialized=!0,o.level=e.level+1,o.parent=e,t.yd.remove(o)}for(r=0;r<i;r++)o=n[r],fh(t,o)}}function ph(t,e,n){if(n.initialized){var i;if(null===e)i=!1;else{for(i=e.parent;null!==i&&i!==n;)i=i.parent;i=i===n}if(i||n.level>e.level)return!1;t.removeChild(n.parent,n)}return!0}function dh(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===ry&&t.sortTreeVertexChildren(e);for(var n=0,i=e.sn,r=0,o=e.children,s=o.length,a=0;a<s;a++){var u=o[a];dh(t,u),n+=u.descendantCount+1,i=Math.max(i,u.maxChildrenCount),r=Math.max(r,u.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=i,e.maxGenerationCount=0<i?r+1:0}}function yh(t,e){switch(t.It){default:case hy:return null!==e.parent?e.parent:t.va;case fy:return null===e.parent?t.va:null===e.parent.parent?t.wa:e.parent;case cy:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.wa:t.va;case ly:var n=!0;if(0===e.sn)n=!1;else for(var i=e.children,r=i.length,o=0;o<r;o++)if(0<i[o].sn){n=!1;break}return n&&null!==e.parent?t.wa:null!==e.parent?e.parent:t.va}}function vh(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var n=e.children,i=n.length,r=0;r<i;r++)vh(t,n[r])}}function gh(t,e){if(null!==e){e.alignment!==ry&&t.sortTreeVertexChildren(e);for(var n=e.children,i=n.length,r=0;r<i;r++)gh(t,n[r])}}function mh(t){return t===iy||t===ry||t===oy||t===sy}function bh(t){return t===iy||t===ry}function wh(t){var e=t.parent;if(null!==e){var n=e.alignment;if(mh(n)){if(bh(n)){for(e=e.children,n=0;n<e.length&&t!==e[n];)n++;return 0==n%2}if(n===oy)return!0}}return!1}function xh(t,e){if(0===e.sn){var n=!1,i=0,r=ty;null!==e.parent&&(i=e.parent.angle,r=e.parent.alignment,n=mh(r)),r=wh(e),e.pa.m(0,0),e.kb.m(e.width,e.height),null===e.parent||null===e.comments||(180!==i&&270!==i||n)&&!r?e.Oa.m(0,0):180===i&&!n||(90===i||270===i)&&r?e.Oa.m(e.width-2*e.T.x,0):e.Oa.m(0,e.height-2*e.T.y)}else{for(var n=Ih(e),i=90===n||270===n,o=0,r=e.children,s=r.length,a=0;a<s;a++)var u=r[a],o=Math.max(o,i?u.kb.width:u.kb.height);var h=e.alignment,l=h===ey,c=h===ny,f=mh(h),p=Math.max(0,e.breadthLimit),d=Bh(e),y=e.nodeSpacing,v=qh(e),g=l||c?0:v/2,m=e.rowSpacing,b=0;(l||c||e.Bq||e.Cq&&1===e.maxGenerationCount)&&(b=Math.max(0,e.rowIndent));var l=e.width,w=e.height,x=0,k=0,P=0,C=0,S=0,T=0,M=0,_=0,N=0,A=0;if(f&&!bh(h)&&135<n&&r.reverse(),bh(h))if(1<s)for(a=0;a<s;a++){var u=r[a],O=u.kb;0==a%2&&a!==s-1?N=Math.max(N,(i?O.width:O.height)+Ch(u)-y):0!=a%2&&(A=Math.max(A,(i?O.width:O.height)+Ch(u)-y))}else 1===s&&(N=i?r[0].kb.width:r[0].kb.height);if(f)switch(h){case iy:case ry:k=135>n?kh(e,r,N,x,k):Ph(e,r,N,x,k),N=k.x,x=k.width,k=k.height;break;case oy:for(a=0;a<s;a++)u=r[a],O=u.kb,p=0===M?0:m,i?(u.pa.m(o-O.width,S+p),x=Math.max(x,O.width),k=Math.max(k,S+p+O.height),S+=p+O.height):(u.pa.m(C+p,o-O.height),x=Math.max(x,C+p+O.width),k=Math.max(k,O.height),C+=p+O.width),M++;break;case sy:for(o=0;o<s;o++)u=r[o],O=u.kb,p=0===M?0:m,i?(u.pa.m(y/2+e.T.x,S+p),x=Math.max(x,O.width),k=Math.max(k,S+p+O.height),S+=p+O.height):(u.pa.m(C+p,y/2+e.T.y),x=Math.max(x,C+p+O.width),k=Math.max(k,O.height),C+=p+O.width),M++}else for(a=0;a<s;a++)u=r[a],O=u.kb,i?(0<p&&0<M&&C+y+O.width>p&&(C<o&&Ah(e,h,o-C,0,_,a-1),T++,M=0,_=a,P=k,C=0,S=135<n?-k-m:k+m),A=0===M?g:y,jh(t,u,0,S),u.pa.m(C+A,S),x=Math.max(x,C+A+O.width),k=Math.max(k,P+(0===T?0:m)+O.height),C+=A+O.width):(0<p&&0<M&&S+y+O.height>p&&(S<o&&Ah(e,h,0,o-S,_,a-1),T++,M=0,_=a,P=x,S=0,C=135<n?-x-m:x+m),A=0===M?g:y,jh(t,u,C,0),u.pa.m(C,S+A),k=Math.max(k,S+A+O.height),x=Math.max(x,P+(0===T?0:m)+O.width),S+=A+O.height),M++;switch(0<T&&(i?(k+=Math.max(0,d),C<x&&Ah(e,h,x-C,0,_,s-1),0<b&&(c||Oh(e,b,0,0,s-1),x+=b)):(x+=Math.max(0,d),S<k&&Ah(e,h,0,k-S,_,s-1),0<b&&(c||Oh(e,0,b,0,s-1),k+=b))),b=c=0,h){case $d:i?c+=x/2-e.T.x-v/2:b+=k/2-e.T.y-v/2;break;case ty:0<T?i?c+=x/2-e.T.x-v/2:b+=k/2-e.T.y-v/2:i?(h=r[0].pa.x+r[0].Oa.x,y=r[s-1].pa.x+r[s-1].Oa.x+2*r[s-1].T.x,c+=h+(y-h)/2-e.T.x-v/2):(h=r[0].pa.y+r[0].Oa.y,y=r[s-1].pa.y+r[s-1].Oa.y+2*r[s-1].T.y,b+=h+(y-h)/2-e.T.y-v/2);break;case ey:i?(c-=v,x+=v):(b-=v,k+=v);break;case ny:i?(c+=x-e.width+v,x+=v):(b+=k-e.height+v,k+=v);break;case iy:case ry:i?c=1<s?c+(N+y/2-e.T.x):c+(r[0].T.x-e.T.x+r[0].Oa.x):b=1<s?b+(N+y/2-e.T.y):b+(r[0].T.y-e.T.y+r[0].Oa.y);break;case oy:i?c+=x+y/2-e.T.x:b+=k+y/2-e.T.y;break;case sy:break;default:Jh.k("Unhandled alignment value "+h.toString())}for(a=0;a<s;a++)u=r[a],i?u.pa.m(u.pa.x+u.Oa.x-c,u.pa.y+(135<n?(f?-k:-u.kb.height)+u.Oa.y-d:w+d+u.Oa.y)):u.pa.m(u.pa.x+(135<n?(f?-x:-u.kb.width)+u.Oa.x-d:l+d+u.Oa.x),u.pa.y+u.Oa.y-b);i?(x=Mh(e,x,c),0>c&&(c=0),135<n&&(b+=k+d),k+=w+d):(135<n&&(c+=x+d),x+=l+d,k=_h(e,k,b),0>b&&(b=0)),e.Oa.m(c,b),e.kb.m(x,k)}}function kh(t,e,n,i,r){var o=e.length;if(0===o)return new C(n,0,i,r);if(1===o){var s=e[0];return i=s.kb.width,r=s.kb.height,new C(n,0,i,r)}for(var a=t.nodeSpacing,u=t.rowSpacing,h=90===Ih(t),l=0,c=0,f=0,p=0;p<o;p++)if(!(0!=p%2||1<o&&p===o-1)){var s=e[p],d=s.kb,y=0===l?0:u;if(h){var v=Ch(s)-a;s.pa.m(n-(d.width+v),f+y),i=Math.max(i,d.width+v),r=Math.max(r,f+y+d.height),f+=y+d.height}else v=Ch(s)-a,s.pa.m(c+y,n-(d.height+v)),r=Math.max(r,d.height+v),i=Math.max(i,c+y+d.width),c+=y+d.width;l++}var l=0,g=c,m=f;for(h?(c=n+a,f=0):(c=0,f=n+a),p=0;p<o;p++)0!=p%2&&(s=e[p],d=s.kb,y=0===l?0:u,h?(v=Ch(s)-a,s.pa.m(c+v,f+y),i=Math.max(i,c+d.width+v),r=Math.max(r,f+y+d.height),f+=y+d.height):(v=Ch(s)-a,s.pa.m(c+y,f+v),i=Math.max(i,c+y+d.width),r=Math.max(r,f+d.height+v),c+=y+d.width),l++);return 1<o&&1==o%2&&(s=e[o-1],d=s.kb,e=Sh(s,h?Math.max(Math.abs(m),Math.abs(f)):Math.max(Math.abs(g),Math.abs(c))),h?(s.pa.m(n+a/2-s.T.x-s.Oa.x,r+e),h=n+a/2-s.T.x-s.Oa.x,i=Math.max(i,h+d.width),0>h&&(i-=h),r=Math.max(r,Math.max(m,f)+e+d.height),0>s.pa.x&&(n=Th(t,s.pa.x,!1,n,a))):(s.pa.m(i+e,n+a/2-s.T.y-s.Oa.y),i=Math.max(i,Math.max(g,c)+e+d.width),h=n+a/2-s.T.y-s.Oa.y,r=Math.max(r,h+d.height),0>h&&(r-=h),0>s.pa.y&&(n=Th(t,s.pa.y,!0,n,a)))),new C(n,0,i,r)}function Ph(t,e,n,i,r){var o=e.length;if(0===o)return new C(n,0,i,r);if(1===o){var s=e[0];return i=s.kb.width,r=s.kb.height,new C(n,0,i,r)}for(var a=t.nodeSpacing,u=t.rowSpacing,h=270===Ih(t),l=0,c=0,f=0,p=0;p<o;p++)if(!(0!=p%2||1<o&&p===o-1)){var s=e[p],d=s.kb,y=0===l?0:u;if(h){var v=Ch(s)-a,f=f-(y+d.height);s.pa.m(n-(d.width+v),f),i=Math.max(i,d.width+v),r=Math.max(r,Math.abs(f))}else v=Ch(s)-a,c-=y+d.width,s.pa.m(c,n-(d.height+v)),r=Math.max(r,d.height+v),i=Math.max(i,Math.abs(c));l++}var l=0,g=c,m=f;for(h?(c=n+a,f=0):(c=0,f=n+a),p=0;p<o;p++)0!=p%2&&(s=e[p],d=s.kb,y=0===l?0:u,h?(v=Ch(s)-a,f-=y+d.height,s.pa.m(c+v,f),i=Math.max(i,c+d.width+v),r=Math.max(r,Math.abs(f))):(v=Ch(s)-a,c-=y+d.width,s.pa.m(c,f+v),r=Math.max(r,f+d.height+v),i=Math.max(i,Math.abs(c))),l++);for(1<o&&1==o%2&&(s=e[o-1],d=s.kb,u=Sh(s,h?Math.max(Math.abs(m),Math.abs(f)):Math.max(Math.abs(g),Math.abs(c))),h?(s.pa.m(n+a/2-s.T.x-s.Oa.x,-r-d.height-u),c=n+a/2-s.T.x-s.Oa.x,i=Math.max(i,c+d.width),0>c&&(i-=c),r=Math.max(r,Math.abs(Math.min(m,f))+u+d.height),0>s.pa.x&&(n=Th(t,s.pa.x,!1,n,a))):(s.pa.m(-i-d.width-u,n+a/2-s.T.y-s.Oa.y),i=Math.max(i,Math.abs(Math.min(g,c))+u+d.width),c=n+a/2-s.T.y-s.Oa.y,r=Math.max(r,c+d.height),0>c&&(r-=c),0>s.pa.y&&(n=Th(t,s.pa.y,!0,n,a)))),p=0;p<o;p++)s=e[p],h?s.pa.m(s.pa.x,s.pa.y+r):s.pa.m(s.pa.x+i,s.pa.y);return new C(n,0,i,r)}function Ch(t){return null===t.parent?0:t.parent.nodeSpacing}function Sh(t){return null===t.parent?0:t.parent.rowSpacing}function Th(t,e,n,i,r){t=t.children;for(var o=t.length,s=0;s<o;s++)n?t[s].pa.m(t[s].pa.x,t[s].pa.y-e):t[s].pa.m(t[s].pa.x-e,t[s].pa.y);return e=t[o-1],Math.max(i,n?e.Oa.y+e.T.y-r/2:e.Oa.x+e.T.x-r/2)}function Mh(t,e,n){switch(t.alignment){case ty:case $d:var i=e;return n+t.width>i&&(i=n+t.width),0>n&&(i-=n),i;case ey:return t.width>e?t.width:e;case ny:return 2*t.T.x>e?t.width:e+t.width-2*t.T.x;case iy:case ry:return i=Math.min(0,n),n=Math.max(e,n+t.width),Math.max(t.width,n-i);case oy:return t.width-t.T.x+t.nodeSpacing/2+e;case sy:return Math.max(t.width,t.T.x+t.nodeSpacing/2+e);default:return e}}function _h(t,e,n){switch(t.alignment){case ty:case $d:var i=e;return n+t.height>i&&(i=n+t.height),0>n&&(i-=n),i;case ey:return t.height>e?t.height:e;case ny:return 2*t.T.y>e?t.height:e+t.height-2*t.T.y;case iy:case ry:return i=Math.min(0,n),n=Math.max(e,n+t.height),Math.max(t.height,n-i);case oy:return t.height-t.T.y+t.nodeSpacing/2+e;case sy:return Math.max(t.height,t.T.y+t.nodeSpacing/2+e);default:return e}}function Nh(t,e,n){switch(t){case $d:case ty:e/=2,n/=2;break;case ey:n=e=0;break;case ny:break;default:Jh.k("Unhandled alignment value "+t.toString())}return new w(e,n)}function Ah(t,e,n,i,r,o){e=Nh(e,n,i),Oh(t,e.x,e.y,r,o)}function Oh(t,e,n,i,r){if(0!==e||0!==n)for(t=t.children;i<=r;i++){var o=t[i].pa;o.x+=e,o.y+=n}}function jh(t,e,n,i){var r=e.parent;switch(t.Of){case Wd:for(t=e.nc;t.next();)e=t.value,e.fromVertex===r&&e.$s.m(n,i);break;case Jd:for(t=e.lc;t.next();)e=t.value,e.toVertex===r&&e.$s.m(n,i);break;default:Jh.k("Unhandled path value "+t.Of.toString())}}function Eh(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];r.x+=e,r.y+=n}}function Lh(t,e,n,i,r,o,s,a){var u=Ih(e),h=90===u||270===u,l=e.nodeSpacing;e=i;var c=r;i=o,r=s;var f=n.Cu,p=n.Xu;s=n.kb;var d=h?Math.max(r,s.height):Math.max(i,s.width);if(null!==f&&u===Ih(n)||(f=Dh(t,2),p=Dh(t,2),h?(f[0].m(0,0),f[1].m(0,s.height),p[0].m(s.width,0),p[1].m(p[0].x,f[1].y)):(f[0].m(0,0),f[1].m(s.width,0),p[0].m(0,s.height),p[1].m(f[1].x,p[0].y))),h){if(n=i,i=9999999,!(null===c||2>c.length||null===f||2>f.length))for(h=u=0;u<c.length&&h<f.length;){r=c[u];var y=f[h];o=y.x;var v=y.y;o+=n;var g=r;u+1<c.length&&(g=c[u+1]);var m=y,y=m.x,m=m.y;h+1<f.length&&(m=f[h+1],y=m.x,m=m.y,y+=n);var b=i;r.y===v?b=o-r.x:r.y>v&&r.y<m?b=o+(r.y-v)/(m-v)*(y-o)-r.x:v>r.y&&v<g.y&&(b=o-(r.x+(v-r.y)/(g.y-r.y)*(g.x-r.x))),b<i&&(i=b),g.y<=r.y?u++:m<=v?h++:(g.y<=m&&u++,m<=g.y&&h++)}if(n-=i,n+=l,u=f,h=n,null===e||2>e.length||null===u||2>u.length)i=null;else{for(l=Dh(t,e.length+u.length),i=o=r=0;o<u.length&&u[o].y<e[0].y;)v=u[o++],l[i++].m(v.x+h,v.y);for(;r<e.length;)v=e[r++],l[i++].m(v.x,v.y);for(r=e[e.length-1].y;o<u.length&&u[o].y<=r;)o++;for(;o<u.length&&u[o].y>r;)v=u[o++],l[i++].m(v.x+h,v.y);for(u=Dh(t,i),r=0;r<i;r++)u[r].assign(l[r]);Fh(t,l),i=u}if(o=p,v=n,null===c||2>c.length||null===o||2>o.length)r=null;else{for(l=Dh(t,c.length+o.length),h=g=u=0;u<c.length&&c[u].y<o[0].y;)r=c[u++],l[h++].m(r.x,r.y);for(;g<o.length;)r=o[g++],l[h++].m(r.x+v,r.y);for(o=o[o.length-1].y;u<c.length&&c[u].y<=o;)u++;for(;u<c.length&&c[u].y>o;)r=c[u++],l[h++].m(r.x,r.y);for(r=Dh(t,h),u=0;u<h;u++)r[u].assign(l[u]);Fh(t,l)}o=Math.max(0,n)+s.width,s=d}else{if(n=r,i=9999999,!(null===c||2>c.length||null===f||2>f.length))for(h=u=0;u<c.length&&h<f.length;)r=c[u],y=f[h],o=y.x,v=y.y,v+=n,g=r,u+1<c.length&&(g=c[u+1]),m=y,y=m.x,m=m.y,h+1<f.length&&(m=f[h+1],y=m.x,m=m.y,m+=n),b=i,r.x===o?b=v-r.y:r.x>o&&r.x<y?b=v+(r.x-o)/(y-o)*(m-v)-r.y:o>r.x&&o<g.x&&(b=v-(r.y+(o-r.x)/(g.x-r.x)*(g.y-r.y))),b<i&&(i=b),g.x<=r.x?u++:y<=o?h++:(g.x<=y&&u++,y<=g.x&&h++);if(n-=i,n+=l,u=f,h=n,null===e||2>e.length||null===u||2>u.length)i=null;else{for(l=Dh(t,e.length+u.length),i=o=r=0;o<u.length&&u[o].x<e[0].x;)v=u[o++],l[i++].m(v.x,v.y+h);for(;r<e.length;)v=e[r++],l[i++].m(v.x,v.y);for(r=e[e.length-1].x;o<u.length&&u[o].x<=r;)o++;for(;o<u.length&&u[o].x>r;)v=u[o++],l[i++].m(v.x,v.y+h);for(u=Dh(t,i),r=0;r<i;r++)u[r].assign(l[r]);Fh(t,l),i=u}if(o=p,v=n,null===c||2>c.length||null===o||2>o.length)r=null;else{for(l=Dh(t,c.length+o.length),h=g=u=0;u<c.length&&c[u].x<o[0].x;)r=c[u++],l[h++].m(r.x,r.y);for(;g<o.length;)r=o[g++],l[h++].m(r.x,r.y+v);for(o=o[o.length-1].x;u<c.length&&c[u].x<=o;)u++;for(;u<c.length&&c[u].x>o;)r=c[u++],l[h++].m(r.x,r.y);for(r=Dh(t,h),u=0;u<h;u++)r[u].assign(l[u]);Fh(t,l)}o=d,s=Math.max(0,n)+s.height}return Fh(t,e),Fh(t,f),Fh(t,c),Fh(t,p),a[0]=i,a[1]=r,new C(n,0,o,s)}function Dh(t,e){var n=t.Wz[e];if(void 0!==n&&void 0!==(n=n.pop()))return n;for(var n=[],i=0;i<e;i++)n[i]=new w;return n}function Fh(t,e){var n=e.length,i=t.Wz[n];void 0===i&&(i=[],t.Wz[n]=i),i.push(e)}function Rh(t,e,n,i){if(null!==e){e.x=n,e.y=i,e=e.children;for(var r=e.length,o=0;o<r;o++){var s=e[o];Rh(t,s,n+s.pa.x,i+s.pa.y)}}}function Vh(t,e){if(null!==e){t.setPortSpots(e);for(var n=e.children,i=n.length,r=0;r<i;r++)Vh(t,n[r])}}function Ih(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}function Bh(t){var e=Ih(t),e=90===e||270===e,n=t.layerSpacing;if(0<t.layerSpacingParentOverlap)var i=Math.min(1,t.layerSpacingParentOverlap),n=n-(e?t.height*i:t.width*i);return n<(e?-t.height:-t.width)&&(n=e?-t.height:-t.width),n}function qh(t){var e=Ih(t),e=90===e||270===e,n=t.nodeIndent;if(0<t.nodeIndentPastParent)var i=Math.min(1,t.nodeIndentPastParent),n=n+(e?t.width*i:t.height*i);return n=Math.max(0,n)}function zh(){Ia.call(this)}function Gh(){Ha.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.pa=new w(0,0),this.kb=new P(0,0),this.Oa=new w(0,0),this.Cq=this.Bq=this.AJ=!1,this.Xu=this.Cu=null,this.sorting=Yd,this.comparer=od,this.angle=0,this.alignment=ty,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=uy,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=il,this.setsChildPortSpot=!0,this.childPortSpot=il}function Hh(){Ua.call(this),this.$s=new w(0,0)}function Uh(){Tr.call(this),this.Ve=null}var Kh,Wh={};if(!e.document||void 0===e.document.createElement("canvas").getContext)throw e.console&&e.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");Function.prototype.bind||(Function.prototype.bind=function(t){function e(){return o.apply(t,r.concat(i.call(arguments)))}function n(){}var i=Array.prototype.slice,r=i.call(arguments,1),o=this;return n.prototype=this.prototype,e.prototype=new n,e}),function(){for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[n[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[i]+"CancelAnimationFrame"]||e[n[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var i=(new Date).getTime(),r=Math.max(8,16-(i-t)),o=e.setTimeout(function(){n(i+r)},r);return t=i+r,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}(),Wh.Debug=null;var Jh={od:1,Uc:2,ed:4,dd:8,In:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("534.30")&&0<e.navigator.userAgent.indexOf("Android"),xu:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 9.0"),hq:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("MSIE 10.0"),iq:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Trident/7"),VA:void 0!==e.navigator&&0<e.navigator.userAgent.indexOf("Edge/"),zh:void 0!==e.navigator&&void 0!==e.navigator.platform&&0<=e.navigator.platform.toUpperCase().indexOf("MAC"),EF:void 0!==e.navigator&&void 0!==e.navigator.platform&&null!==e.navigator.platform.match(/(iPhone|iPod|iPad)/i),QE:function(t,e,n){var i=-1;return function(){var r=this,o=arguments;-1!==i&&Jh.clearTimeout(i),i=Jh.setTimeout(function(){i=-1,n||t.apply(r,o)},e),n&&!i&&t.apply(r,o)}},setTimeout:function(t,n){return e.setTimeout(t,n)},clearTimeout:function(t){e.clearTimeout(t)},createElement:function(t){return e.document.createElement(t)},k:function(t){throw Error(t)},ma:function(t,e){var n="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(n+="  to value: "+e),Jh.k(n)},G:function(t,e,n,i){t instanceof e||(n=Jh.getTypeName(n),void 0!==i&&(n+="."+i),Jh.Fd(t,e,n))},j:function(t,e,n,i){typeof t!==e&&(n=Jh.getTypeName(n),void 0!==i&&(n+="."+i),Jh.Fd(t,e,n))},Ad:function(t,e,n){"number"==typeof t&&isFinite(t)||(e=Jh.getTypeName(e),void 0!==n&&(e+="."+n),Jh.k(e+" must be a real number type, and not NaN or Infinity: "+t))},ob:function(t,e,i,r){t instanceof n&&t.Je===e||(i=Jh.getTypeName(i),void 0!==r&&(i+="."+r),Jh.Fd(t,"a constant of class "+Jh.pf(e),i))},GK:function(t,e){"string"==typeof t?Sf(t)||Jh.k('Color "'+t+'" is not a valid color string for '+e):t instanceof br||Jh.k("Value for "+e+" must be a color string or a Brush, not "+t)},Fd:function(t,e,n,i){e=Jh.getTypeName(e),n=Jh.getTypeName(n),void 0!==i&&(n+="."+i),"string"==typeof t?Jh.k(n+" value is not an instance of "+e+': "'+t+'"'):Jh.k(n+" value is not an instance of "+e+": "+t)},Fa:function(t,e,n,i){n=Jh.getTypeName(n),void 0!==i&&(n+="."+i),Jh.k(n+" is not in the range "+e+": "+t)},nd:function(t){Jh.k(Jh.pf(t)+" constructor cannot take any arguments.")},Na:function(t){Jh.k("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},Lj:function(t,e){Jh.k("No property to set for this enum value: "+e+" on "+t.toString())},trace:function(t){e.console&&e.console.log(t)},vx:{},Yt:function(t,n){!0!==Jh.vx[t]&&(Jh.vx[t]=!0,e.console&&e.console.log(t+" is deprecated in "+n+", see the GoJS change log for more information."))},Pa:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},BI:function(t){return Array.isArray(t)},mA:function(t,e,n){Jh.isArray(t)||Jh.Fd(t,"Array or NodeList or HTMLCollection",e,n)},cb:function(t){return t.length},Vl:function(t){return Array.prototype.slice.call(t)},Ba:function(t,e){return Array.isArray(t),t[e]},GE:function(t,e,n){Array.isArray(t)?t[e]=n:Jh.k("Cannot replace an object in an HTMLCollection or NodeList at "+e)},Sl:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var n=t.length,i=0;i<n;i++)if(t[i]===e)return i;return-1},sh:function(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):Jh.k("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)},Jg:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Jh.k("Cannot remove an object from an HTMLCollection or NodeList at "+e)},Ny:[],K:function(){var t=Jh.Ny.pop();return void 0===t?new w:t},wb:function(t,e){var n=Jh.Ny.pop();return void 0===n?new w(t,e):(n.x=t,n.y=e,n)},v:function(t){Jh.Ny.push(t)},fC:[],tm:function(){var t=Jh.fC.pop();return void 0===t?new P:t},Lk:function(t){Jh.fC.push(t)},Oy:[],vf:function(){var t=Jh.Oy.pop();return void 0===t?new C:t},lg:function(t,e,n,i){var r=Jh.Oy.pop();return void 0===r?new C(t,e,n,i):(r.x=t,r.y=e,r.width=n,r.height=i,r)},Bb:function(t){Jh.Oy.push(t)},gC:[],Wg:function(){var t=Jh.gC.pop();return void 0===t?new j:t},bf:function(t){Jh.gC.push(t)},Py:null,s:function(){var t=Jh.Py;return null!==t?(Jh.Py=null,t):new $o},q:function(t){t.reset(),Jh.Py=t},My:[],Za:function(){var t=Jh.My.pop();return void 0===t?[]:t},ra:function(t){t.length=0,Jh.My.push(t)},no:Object.freeze([]),wm:1,oc:function(t){t.__gohashid=Jh.wm++},cq:function(t){var e=t.__gohashid;return void 0===e&&(e=Jh.wm++,t.__gohashid=e),e},Pd:function(t){return t.__gohashid},ga:function(t,e){e.Zy=t,Wh[t]=e},La:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},ni:function(t){t.fH=!0},defineProperty:function(t,e,n,i,r){Jh.j(t,"function","Util.defineProperty:classfunc"),Jh.j(e,"object","Util.defineProperty:propobj"),Jh.j(n,"function","Util.defineProperty:getter"),Jh.j(i,"function","Util.defineProperty:setter");for(var o in e){if(e=e[o],n={get:n,set:i,enumerable:!0},void 0!==r)for(var s in r)n[s]=r[s];Object.defineProperty(t.prototype,o,n),r=Object.getOwnPropertyDescriptor(t.prototype,o),e&&r&&Object.defineProperty(t.prototype,e,r);break}},dK:!1,u:function(t,e,n,i){Jh.j(t,"function","Util.defineReadOnlyProperty:classfunc"),Jh.j(e,"object","Util.defineReadOnlyProperty:propobj"),Jh.j(n,"function","Util.defineReadOnlyProperty:getter");for(var r in e){var o=e[r];if(e={get:n,set:function(t){Jh.k('The property "'+o+'" is read-only and cannot be set to '+t)},enumerable:!0},void 0!==i)for(var s in i)e[s]=i[s];Object.defineProperty(t.prototype,r,e),i=Object.getOwnPropertyDescriptor(t.prototype,r),o&&i&&Object.defineProperty(t.prototype,o,i);break}},be:function(t,e){for(var n in e)e[n]=!0;t.prototype.bH=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?Jh.pf(t):null===t?"*":""},pf:function(t){if("function"==typeof t){if(t.Zy)return t.Zy;if(t.name)return t.name;var e=t.toString(),n=e.indexOf("("),e=e.substring(9,n).trim();if(""!==e)return t.Zy=e}else if(Jh.Pa(t)&&t.constructor)return Jh.pf(t.constructor);return typeof t},p:function(t,e,i){Jh.j(t,"function","Util.defineEnumValue:classfunc"),Jh.j(e,"string","Util.defineEnumValue:name"),Jh.j(i,"number","Util.defineEnumValue:num"),i=new n(t,e,i),Object.freeze(i),t[e]=i;var r=t.jv;return r instanceof b||(r=new b("string",n),t.jv=r),r.add(e,i),i},vb:function(t,e){if(!t||!e)return null;var n=void 0;try{"function"==typeof e?n=e(t):"function"==typeof t.getAttribute?null===(n=t.getAttribute(e))&&(n=void 0):n=t[e]}catch(t){}return n},Ma:function(t,e,n){if(t&&e)try{"function"==typeof e?e(t,n):"function"==typeof t.setAttribute?t.setAttribute(e,n):t[e]=n}catch(t){}},$u:function(t,e){Jh.j(t,"object","Setting properties requires Objects as arguments"),Jh.j(e,"object","Setting properties requires Objects as arguments");var n,i=t instanceof eo,r=t instanceof Bn;for(n in e){""===n&&Jh.k("Setting properties requires non-empty property names");var o=t,s=n;if(i||r){var a=n.indexOf(".");if(0<a){var u=n.substring(0,a);i?o=t.Cd(u):void 0!==(o=t[u])&&null!==o||(o=t.Va[u]),Jh.Pa(o)?s=n.substr(a+1):Jh.k("Unable to find object named: "+u+" in "+t.toString()+" when trying to set property: "+n)}}if("_"!==s[0]&&!Jh.uF(o,s)){if(r&&"ModelChanged"===s){t.pH(e[s]);continue}if(r&&"Changed"===s){t.mn(e[s]);continue}if(r&&Jh.uF(t.Va,s))o=t.Va;else{if(r&&er(t,s)){t.ax(s,e[s]);continue}if(t instanceof jt&&"Changed"===s){t.mn(e[s]);continue}Jh.k('Trying to set undefined property "'+s+'" on object: '+o.toString())}}o[s]=e[n],"_"===s[0]&&o instanceof Tr&&o.mH(s)}},uF:function(t,e){if(t.hasOwnProperty(e))return!0;for(var n=Object.getPrototypeOf(t);n&&n!==Function;){if(n.hasOwnProperty(e))return!0;var i=n.bH;if(i&&i[e])return!0;n=Object.getPrototypeOf(n)}return!1},nJ:function(t){for(var e=[],n=0;256>n;n++)e[n]=n;for(var i=0,r=0,n=0;256>n;n++)i=(i+e[n]+119)%256,r=e[n],e[n]=e[i],e[i]=r;for(var i=n=0,o="",s=0;s<t.length;s++)n=(n+1)%256,i=(i+e[n])%256,r=e[n],e[n]=e[i],e[i]=r,o+=String.fromCharCode(t.charCodeAt(s)^e[(e[n]+e[i])%256]);return o},pI:function(t){for(var e={},n=0;256>n;n++)e["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);t.length%2&&(t="0"+t);for(var i=[],r=0,n=0;n<t.length;n+=2)i[r++]=e[t.substr(n,2)];return t=i.join(""),""===t?"0":t},Kg:function(t){return Jh.nJ(Jh.pI(t))},vm:null,adym:"7da71ca0ad381e90",vfo:"2be64efdb060",IK:"@COLOR1",JK:"@COLOR2",RE:!1,Vt:null,Wt:null};Jh.vm=function(){var t=e.document.createElement("canvas"),i=t.getContext("2d");i[Jh.Kg("7ca11abfd022028846")]=Jh.Kg("398c3597c01238");for(var r=["5da73c80a36755dc038e4972187c3cae51fd22","32ab5ff3b26f42dc0ed90f224c2913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],o=1;5>o;o++)i[Jh.Kg("7ca11abfd7330390")](Jh.Kg(r[o-1]),10,15*o+0);for(i[Jh.Kg("7ca11abfd022028846")]=Jh.Kg("39f046ebb36e4b"),o=1;5>o;o++)i[Jh.Kg("7ca11abfd7330390")](Jh.Kg(r[o-1]),10,15*o+0);return 4===r.length&&"5"===r[0][0]&&"7"===r[3][0]||(Jh.p=function(t,e){var i=new n(t,e,2);Object.freeze(i),t[e]=i;var r=t.jv;return r instanceof b||(r=new b("string",n),t.jv=r),r.add(e,i),i}),t}(),Jh.ga("EnumValue",n),n.prototype.toString=function(){return Jh.pf(this.uC)+"."+this.Sb},Jh.u(n,{Je:"classType"},function(){return this.uC}),Jh.u(n,{name:"name"},function(){return this.Sb}),Jh.u(n,{value:"value"},function(){return this.jH});var Yh;n.findName=Yh=function(t,e){if(void 0===e||null===e||""===e)return null;Jh.j(t,"function","findName:classfunc"),Jh.j(e,"string","EnumValue.findName:name");var n=t.jv;return n instanceof b?n.ka(e):null},i.prototype.toString=function(){return this.sC.join("")},i.prototype.add=function(t){""!==t&&this.sC.push(t)},o.prototype.random=function(){var t=this.seed%this.eC*this.Iy-this.seed/this.eC*this.RG;return this.seed=0<t?t:t+this.iv,this.seed*this.QG},Jh.u(s,{i:"iterator"},function(){return this}),s.prototype.reset=s.prototype.reset=function(){},s.prototype.next=s.prototype.next=function(){return!1},s.prototype.hasNext=function(){return!1},s.prototype.first=s.prototype.first=function(){return null},s.prototype.any=function(){return!1},s.prototype.all=function(){return!0},s.prototype.each=function(){return this},s.prototype.map=function(){return this},s.prototype.filter=function(){return this},s.prototype.concat=function(t){return t.i},Jh.u(s,{count:"count"},function(){return 0}),s.prototype.Nf=function(){},s.prototype.toString=function(){return"EmptyIterator"};var Qh=new s;Jh.be(a,{key:!0,value:!0}),Jh.u(a,{i:"iterator"},function(){return this}),a.prototype.reset=a.prototype.reset=function(){this.key=-1},a.prototype.next=a.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},a.prototype.hasNext=function(){return this.next()},a.prototype.first=a.prototype.first=function(){return this.key=0,this.value},a.prototype.any=function(t){return this.key=-1,t(this.value)},a.prototype.all=function(t){return this.key=-1,t(this.value)},a.prototype.each=function(t){return this.key=-1,t(this.value),this},a.prototype.map=function(t){return new a(t(this.value))},a.prototype.filter=function(t){return t(this.value)?new a(this.value):Qh},a.prototype.concat=function(t){return new u(this,t.i)},Jh.u(a,{count:"count"},function(){return 1}),a.prototype.Nf=function(){this.value=null},a.prototype.toString=function(){return"SingletonIterator("+this.value+")"},Jh.be(u,{key:!0,value:!0}),Jh.u(u,{i:"iterator"},function(){return this}),u.prototype.reset=u.prototype.reset=function(){this.xl.reset(),this.yl.reset(),this.kv=!1},u.prototype.next=u.prototype.next=function(){if(!this.kv){var t=this.xl;if(t.next())return this.key=t.key,this.value=t.value,!0;this.kv=!0}return!(!this.kv||(t=this.yl,!t.next()))&&(this.key=t.key,this.value=t.value,!0)},u.prototype.hasNext=function(){return this.next()},u.prototype.first=u.prototype.first=function(){return this.reset(),this.next()?this.value:null},u.prototype.any=function(t){return!(!this.xl.any(t)&&!this.yl.any(t))},u.prototype.all=function(t){return!(!this.xl.all(t)||!this.yl.all(t))},u.prototype.each=function(t){return this.xl.each(t),this.yl.each(t),this},u.prototype.map=function(t){return new u(this.xl.map(t),this.yl.map(t))},u.prototype.filter=function(t){return new u(this.xl.filter(t),this.yl.filter(t))},u.prototype.concat=function(t){return new u(this,t.i)},Jh.u(u,{count:"count"},function(){return this.xl.count+this.yl.count}),u.prototype.Nf=function(){this.value=this.key=null},u.prototype.toString=function(){return"ConcatIterator()"},Jh.be(h,{key:!0,value:!0}),Jh.u(h,{i:"iterator"},function(){return this}),Jh.defineProperty(h,{wq:"predicate"},function(){return this.$h},function(t){this.$h=t}),h.prototype.reset=h.prototype.reset=function(){var t=this.Cc;t.Eb=null,this.Ta=t.F,this.Bc=-1},h.prototype.next=h.prototype.next=function(){var t=this.Cc;if(t.F!==this.Ta){if(0>this.key)return!1;Jh.Na(t)}var t=t.n,e=t.length,n=++this.Bc,i=this.$h;if(null!==i)for(;n<e;){var r=t[n];if(i(r))return this.key=this.Bc=n,this.value=r,!0;n++}else{if(n<e)return this.key=n,this.value=t[n],!0;this.Nf()}return!1},h.prototype.hasNext=function(){return this.next()},h.prototype.first=h.prototype.first=function(){var t=this.Cc;this.Ta=t.F,this.Bc=0;var t=t.n,e=t.length,n=this.$h;if(null!==n){for(var i=0;i<e;){var r=t[i];if(n(r))return this.key=this.Bc=i,this.value=r;i++}return null}return 0<e?(r=t[0],this.key=0,this.value=r):null},h.prototype.any=function(t){var e=this.Cc;e.Eb=null;var n=e.F;this.Bc=-1;for(var i=e.n,r=i.length,o=this.$h,s=0;s<r;s++){var a=i[s];if(null===o||o(a)){if(t(a))return!0;e.F!==n&&Jh.Na(e)}}return!1},h.prototype.all=function(t){var e=this.Cc;e.Eb=null;var n=e.F;this.Bc=-1;for(var i=e.n,r=i.length,o=this.$h,s=0;s<r;s++){var a=i[s];if(null===o||o(a)){if(!t(a))return!1;e.F!==n&&Jh.Na(e)}}return!0},h.prototype.each=function(t){var e=this.Cc;e.Eb=null;var n=e.F;this.Bc=-1;for(var i=e.n,r=i.length,o=this.$h,s=0;s<r;s++){var a=i[s];(null===o||o(a))&&(t(a),e.F!==n&&Jh.Na(e))}return this},h.prototype.map=function(t){var e=this.Cc;e.Eb=null;var n=e.F;this.Bc=-1;for(var i=[],r=e.n,o=r.length,s=this.$h,a=0;a<o;a++){var u=r[a];(null===s||s(u))&&(i.push(t(u)),e.F!==n&&Jh.Na(e))}return t=new c,t.n=i,t.Mc(),t.i},h.prototype.filter=function(t){var e=this.Cc;e.Eb=null;var n=e.F;this.Bc=-1;for(var i=[],r=e.n,o=r.length,s=this.$h,a=0;a<o;a++){var u=r[a];(null===s||s(u))&&(t(u)&&i.push(u),e.F!==n&&Jh.Na(e))}return t=new c(e.na),t.n=i,t.Mc(),t.i},h.prototype.concat=function(t){return this.Cc.Eb=null,new u(this,t.i)},Jh.u(h,{count:"count"},function(){var t=this.$h;if(null!==t){for(var e=0,n=this.Cc.n,i=n.length,r=0;r<i;r++)t(n[r])&&e++;return e}return this.Cc.n.length}),h.prototype.Nf=function(){this.key=-1,this.value=null,this.Ta=-1,this.$h=null,this.Cc.Eb=this},h.prototype.toString=function(){return"ListIterator@"+this.Bc+"/"+this.Cc.count},Jh.be(l,{key:!0,value:!0}),Jh.u(l,{i:"iterator"},function(){return this}),l.prototype.reset=l.prototype.reset=function(){var t=this.Cc;t.Ti=null,this.Ta=t.F,this.Bc=t.n.length},l.prototype.next=l.prototype.next=function(){var t=this.Cc;if(t.F!==this.Ta){if(0>this.key)return!1;Jh.Na(t)}var e=--this.Bc;return 0<=e?(this.key=e,this.value=t.n[e],!0):(this.Nf(),!1)},l.prototype.hasNext=function(){return this.next()},l.prototype.first=l.prototype.first=function(){var t=this.Cc;this.Ta=t.F;var e=t.n;return this.Bc=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},l.prototype.any=function(t){var e=this.Cc;e.Ti=null;var n=e.F,i=e.n,r=i.length;for(this.Bc=r,r-=1;0<=r;r--){if(t(i[r]))return!0;e.F!==n&&Jh.Na(e)}return!1},l.prototype.all=function(t){var e=this.Cc;e.Ti=null;var n=e.F,i=e.n,r=i.length;for(this.Bc=r,r-=1;0<=r;r--){if(!t(i[r]))return!1;e.F!==n&&Jh.Na(e)}return!0},l.prototype.each=function(t){var e=this.Cc;e.Ti=null;var n=e.F,i=e.n,r=i.length;for(this.Bc=r,r-=1;0<=r;r--)t(i[r]),e.F!==n&&Jh.Na(e);return this},l.prototype.map=function(t){var e=this.Cc;e.Ti=null;var n=e.F,i=[],r=e.n,o=r.length;for(this.Bc=o,o-=1;0<=o;o--)i.push(t(r[o])),e.F!==n&&Jh.Na(e);return t=new c,t.n=i,t.Mc(),t.i},l.prototype.filter=function(t){var e=this.Cc;e.Ti=null;var n=e.F,i=[],r=e.n,o=r.length;for(this.Bc=o,o-=1;0<=o;o--){var s=r[o];t(s)&&i.push(s),e.F!==n&&Jh.Na(e)}return t=new c(e.na),t.n=i,t.Mc(),t.i},l.prototype.concat=function(t){return this.Cc.Ti=null,new u(this,t.i)},Jh.u(l,{count:"count"},function(){return this.Cc.n.length}),l.prototype.Nf=function(){this.key=-1,this.value=null,this.Ta=-1,this.Cc.Ti=this},l.prototype.toString=function(){return"ListIteratorBackwards("+this.Bc+"/"+this.Cc.count+")"},Jh.ga("List",c),c.prototype.Mc=function(){var t=this.F;t++,999999999<t&&(t=0),this.F=t},c.prototype.freeze=c.prototype.freeze=function(){return this.P=!0,this},c.prototype.thaw=c.prototype.Qa=function(){return this.P=!1,this},c.prototype.toString=function(){return"List("+Jh.getTypeName(this.na)+")#"+Jh.Pd(this)},c.prototype.add=c.prototype.add=function(t){null!==t&&(this.P&&Jh.ma(this,t),this.n.push(t),this.Mc())},c.prototype.push=c.prototype.push=function(t){this.add(t)},c.prototype.addAll=c.prototype.Pc=function(t){if(null===t)return this;this.P&&Jh.ma(this);var e=this.n;if(Jh.isArray(t))for(var n=Jh.cb(t),i=0;i<n;i++){var r=Jh.Ba(t,i);e.push(r)}else for(t=t.i;t.next();)r=t.value,e.push(r);return this.Mc(),this},c.prototype.clear=c.prototype.clear=function(){this.P&&Jh.ma(this),this.n.length=0,this.Mc()},c.prototype.contains=c.prototype.contains=function(t){return null!==t&&-1!==this.n.indexOf(t)},c.prototype.has=c.prototype.has=function(t){return this.contains(t)},c.prototype.indexOf=c.prototype.indexOf=function(t){return null===t?-1:this.n.indexOf(t)},c.prototype.elt=c.prototype.fa=function(t){var e=this.n;return(0>t||t>=e.length)&&Jh.Fa(t,"0 <= i < length",c,"elt:i"),e[t]},c.prototype.get=c.prototype.get=function(t){return this.fa(t)},c.prototype.setElt=c.prototype.kg=function(t,e){var n=this.n;(0>t||t>=n.length)&&Jh.Fa(t,"0 <= i < length",c,"setElt:i"),this.P&&Jh.ma(this,t),n[t]=e},c.prototype.set=c.prototype.set=function(t,e){this.kg(t,e)},c.prototype.first=c.prototype.first=function(){var t=this.n;return 0===t.length?null:t[0]},c.prototype.last=c.prototype.ie=function(){var t=this.n,e=t.length;return 0<e?t[e-1]:null},c.prototype.pop=c.prototype.pop=function(){this.P&&Jh.ma(this);var t=this.n;return 0<t.length?t.pop():null},c.prototype.any=function(t){for(var e=this.n,n=this.F,i=e.length,r=0;r<i;r++){if(t(e[r]))return!0;this.F!==n&&Jh.Na(this)}return!1},c.prototype.all=function(t){for(var e=this.n,n=this.F,i=e.length,r=0;r<i;r++){if(!t(e[r]))return!1;this.F!==n&&Jh.Na(this)}return!0},c.prototype.each=function(t){for(var e=this.n,n=this.F,i=e.length,r=0;r<i;r++)t(e[r]),this.F!==n&&Jh.Na(this);return this},c.prototype.map=function(t){for(var e=new c,n=[],i=this.n,r=this.F,o=i.length,s=0;s<o;s++)n.push(t(i[s])),this.F!==r&&Jh.Na(this);return e.n=n,e.Mc(),e},c.prototype.filter=function(t){for(var e=new c(this.na),n=[],i=this.n,r=this.F,o=i.length,s=0;s<o;s++){var a=i[s];t(a)&&n.push(a),this.F!==r&&Jh.Na(this)}return e.n=n,e.Mc(),e},c.prototype.concat=function(t){return this.copy().Pc(t)},c.prototype.insertAt=c.prototype.Rd=function(t,e){0>t&&Jh.Fa(t,">= 0",c,"insertAt:i"),this.P&&Jh.ma(this,t);var n=this.n;return t>=n.length?n.push(e):n.splice(t,0,e),this.Mc(),!0},c.prototype.remove=c.prototype.delete=c.prototype.remove=function(t){if(null===t)return!1;this.P&&Jh.ma(this,t);var e=this.n;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.Mc(),!0)},c.prototype.removeAt=c.prototype.cd=function(t){var e=this.n;(0>t||t>=e.length)&&Jh.Fa(t,"0 <= i < length",c,"removeAt:i"),this.P&&Jh.ma(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Mc()},c.prototype.removeRange=c.prototype.removeRange=function(t,e){var n=this.n,i=n.length;if(0>t)t=0;else if(t>=i)return this;if(0>e)return this;if(e>=i&&(e=i-1),t>e)return this;this.P&&Jh.ma(this);for(var r=t,o=e+1;o<i;)n[r++]=n[o++];return n.length=i-(e-t+1),this.Mc(),this},c.prototype.copy=function(){var t=new c(this.na),e=this.n;return 0<e.length&&(t.n=Array.prototype.slice.call(e)),t},c.prototype.toArray=c.prototype.yc=function(){for(var t=this.n,e=this.count,n=Array(e),i=0;i<e;i++)n[i]=t[i];return n},c.prototype.toSet=c.prototype.GG=function(){for(var t=new p(this.na),e=this.n,n=this.count,i=0;i<n;i++)t.add(e[i]);return t},c.prototype.sort=c.prototype.sort=function(t){return this.P&&Jh.ma(this),this.n.sort(t),this.Mc(),this},c.prototype.sortRange=c.prototype.Jq=function(t,e,n){var i=this.n,r=i.length;void 0===e&&(e=0),void 0===n&&(n=r),this.P&&Jh.ma(this);var o=n-e;if(1>=o)return this;if((0>e||e>=r-1)&&Jh.Fa(e,"0 <= from < length",c,"sortRange:from"),2===o)return n=i[e],r=i[e+1],0<t(n,r)&&(i[e]=r,i[e+1]=n,this.Mc()),this;if(0===e)if(n>=r)i.sort(t);else for(o=i.slice(0,n),o.sort(t),t=0;t<n;t++)i[t]=o[t];else if(n>=r)for(o=i.slice(e),o.sort(t),t=e;t<r;t++)i[t]=o[t-e];else for(o=i.slice(e,n),o.sort(t),t=e;t<n;t++)i[t]=o[t-e];return this.Mc(),this},c.prototype.reverse=c.prototype.reverse=function(){return this.P&&Jh.ma(this),this.n.reverse(),this.Mc(),this},Jh.u(c,{count:"count"},function(){return this.n.length}),Jh.u(c,{size:"size"},function(){return this.n.length}),Jh.u(c,{length:"length"},function(){return this.n.length}),Jh.u(c,{i:"iterator"},function(){if(0>=this.n.length)return Qh;var t=this.Eb;return null!==t?(t.reset(),t):new h(this)}),Jh.u(c,{Ln:"iteratorBackwards"},function(){if(0>=this.n.length)return Qh;var t=this.Ti;return null!==t?(t.reset(),t):new l(this)}),Jh.be(f,{key:!0,value:!0}),Jh.u(f,{i:"iterator"},function(){return this}),f.prototype.reset=f.prototype.reset=function(){var t=this.bi;t.Eb=null,this.Ta=t.F,this.Wa=null},f.prototype.next=f.prototype.next=function(){var t=this.bi;if(t.F!==this.Ta){if(null===this.key)return!1;Jh.Na(t)}var e=this.Wa,e=null===e?t.Ea:e.$a;return null!==e?(this.Wa=e,this.value=e.value,this.key=e.key,!0):(this.Nf(),!1)},f.prototype.hasNext=function(){return this.next()},f.prototype.first=f.prototype.first=function(){var t=this.bi;if(this.Ta=t.F,null!==(t=t.Ea)){this.Wa=t;var e=t.value;return this.key=t.key,this.value=e}return null},f.prototype.any=function(t){var e=this.bi;e.Eb=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(t(i.value))return!0;e.F!==n&&Jh.Na(e),i=i.$a}return!1},f.prototype.all=function(t){var e=this.bi;e.Eb=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(!t(i.value))return!1;e.F!==n&&Jh.Na(e),i=i.$a}return!0},f.prototype.each=function(t){var e=this.bi;e.Eb=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;)t(i.value),e.F!==n&&Jh.Na(e),i=i.$a;return this},f.prototype.map=function(t){var e=this.bi;e.Eb=null;for(var n=new c,i=e.F,r=e.Ea;null!==r;)n.add(t(r.value)),e.F!==i&&Jh.Na(e),r=r.$a;return n.i},f.prototype.filter=function(t){var e=this.bi;e.Eb=null;for(var n=new c(e.na),i=e.F,r=e.Ea;null!==r;){var o=r.value;t(o)&&n.add(o),e.F!==i&&Jh.Na(e),r=r.$a}return n.i},f.prototype.concat=function(t){return this.bi.Eb=null,new u(this,t.i)},Jh.u(f,{count:"count"},function(){return this.bi.rd}),f.prototype.Nf=function(){this.value=this.key=null,this.Ta=-1,this.bi.Eb=this},f.prototype.toString=function(){return null!==this.Wa?"SetIterator@"+this.Wa.value:"SetIterator"},Jh.ga("Set",p),p.prototype.Mc=function(){var t=this.F;t++,999999999<t&&(t=0),this.F=t},p.prototype.freeze=p.prototype.freeze=function(){return this.P=!0,this},p.prototype.thaw=p.prototype.Qa=function(){return this.P=!1,this},p.prototype.toString=function(){return"Set("+Jh.getTypeName(this.na)+")#"+Jh.Pd(this)},p.prototype.add=p.prototype.add=function(t){if(null===t)return!1;this.P&&Jh.ma(this,t);var e=t;return Jh.Pa(t)&&(e=Jh.cq(t)),void 0===this.sd[e]&&(this.rd++,t=new g(t,t),this.sd[e]=t,e=this.Uh,null===e?this.Ea=t:(t.mp=e,e.$a=t),this.Uh=t,this.Mc(),!0)},p.prototype.addAll=p.prototype.Pc=function(t){if(null===t)return this;if(this.P&&Jh.ma(this),Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++)this.add(Jh.Ba(t,n));else for(t=t.i;t.next();)this.add(t.value);return this},p.prototype.contains=p.prototype.contains=function(t){if(null===t)return!1;var e=t;return(!Jh.Pa(t)||void 0!==(e=Jh.Pd(t)))&&void 0!==this.sd[e]},p.prototype.has=p.prototype.has=function(t){return this.contains(t)},p.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(!this.contains(t.value))return!1;return!0},p.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.i;t.next();)if(this.contains(t.value))return!0;return!1},p.prototype.first=p.prototype.first=function(){var t=this.Ea;return null===t?null:t.value},p.prototype.any=function(t){for(var e=this.F,n=this.Ea;null!==n;){if(t(n.value))return!0;this.F!==e&&Jh.Na(this),n=n.$a}return!1},p.prototype.all=function(t){for(var e=this.F,n=this.Ea;null!==n;){if(!t(n.value))return!1;this.F!==e&&Jh.Na(this),n=n.$a}return!0},p.prototype.each=function(t){for(var e=this.F,n=this.Ea;null!==n;)t(n.value),this.F!==e&&Jh.Na(this),n=n.$a;return this},p.prototype.map=function(t){for(var e=new p,n=this.F,i=this.Ea;null!==i;)e.add(t(i.value)),this.F!==n&&Jh.Na(this),i=i.$a;return e},p.prototype.filter=function(t){for(var e=new p(this.na),n=this.F,i=this.Ea;null!==i;){var r=i.value;t(r)&&e.add(r),this.F!==n&&Jh.Na(this),i=i.$a}return e},p.prototype.concat=function(t){return this.copy().Pc(t)},p.prototype.remove=p.prototype.delete=p.prototype.remove=function(t){if(null===t)return!1;this.P&&Jh.ma(this,t);var e=t;if(Jh.Pa(t)&&void 0===(e=Jh.Pd(t)))return!1;if(void 0===(t=this.sd[e]))return!1;var n=t.$a,i=t.mp;return null!==n&&(n.mp=i),null!==i&&(i.$a=n),this.Ea===t&&(this.Ea=n),this.Uh===t&&(this.Uh=i),delete this.sd[e],this.rd--,this.Mc(),!0},p.prototype.removeAll=p.prototype.oy=function(t){if(null===t)return this;if(this.P&&Jh.ma(this),Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++)this.remove(Jh.Ba(t,n));else for(t=t.i;t.next();)this.remove(t.value);return this},p.prototype.retainAll=function(t){if(null===t||0===this.count)return this;this.P&&Jh.ma(this);var e=new p(this.na);e.Pc(t),t=[];for(var n=this.i;n.next();){var i=n.value;e.contains(i)||t.push(i)}return this.oy(t),this},p.prototype.clear=p.prototype.clear=function(){this.P&&Jh.ma(this),this.sd={},this.rd=0,null!==this.Eb&&this.Eb.reset(),this.Uh=this.Ea=null,this.Mc()},p.prototype.copy=function(){var t,e=new p(this.na),n=this.sd;for(t in n)e.add(n[t].value);return e},p.prototype.toArray=p.prototype.yc=function(){var t,e=Array(this.rd),n=this.sd,i=0;for(t in n)e[i]=n[t].value,i++;return e},p.prototype.toList=function(){var t,e=new c(this.na),n=this.sd;for(t in n)e.add(n[t].value);return e},Jh.u(p,{count:"count"},function(){return this.rd}),Jh.u(p,{size:"size"},function(){return this.rd}),Jh.u(p,{i:"iterator"},function(){if(0>=this.rd)return Qh;var t=this.Eb;return null!==t?(t.reset(),t):new f(this)}),Jh.be(d,{key:!0,value:!0}),Jh.u(d,{i:"iterator"},function(){return this}),d.prototype.reset=d.prototype.reset=function(){this.Ta=this.Ga.F,this.Wa=null},d.prototype.next=d.prototype.next=function(){var t=this.Ga;if(t.F!==this.Ta){if(null===this.key)return!1;Jh.Na(t)}var e=this.Wa,e=null===e?t.Ea:e.$a;return null!==e?(this.Wa=e,this.value=this.key=t=e.key,!0):(this.Nf(),!1)},d.prototype.hasNext=function(){return this.next()},d.prototype.first=d.prototype.first=function(){var t=this.Ga;return this.Ta=t.F,t=t.Ea,null!==t?(this.Wa=t,this.value=this.key=t=t.key):null},d.prototype.any=function(t){var e=this.Ga,n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(t(i.key))return!0;e.F!==n&&Jh.Na(e),i=i.$a}return!1},d.prototype.all=function(t){var e=this.Ga,n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(!t(i.key))return!1;e.F!==n&&Jh.Na(e),i=i.$a}return!0},d.prototype.each=function(t){var e=this.Ga,n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;)t(i.key),e.F!==n&&Jh.Na(e),i=i.$a;return this},d.prototype.map=function(t){var e=this.Ga,n=e.F;this.Wa=null;for(var i=new c,r=e.Ea;null!==r;)i.add(t(r.key)),e.F!==n&&Jh.Na(e),r=r.$a;return i.i},d.prototype.filter=function(t){var e=this.Ga,n=e.F;this.Wa=null;for(var i=new c(e.Th),r=e.Ea;null!==r;){var o=r.key;t(o)&&i.add(o),e.F!==n&&Jh.Na(e),r=r.$a}return i.i},d.prototype.concat=function(t){return new u(this,t.i)},Jh.u(d,{count:"count"},function(){return this.Ga.rd}),d.prototype.Nf=function(){this.value=this.key=null,this.Ta=-1},d.prototype.toString=function(){return null!==this.Wa?"MapKeySetIterator@"+this.Wa.value:"MapKeySetIterator"},Jh.La(y,p),y.prototype.freeze=function(){return this},y.prototype.Qa=function(){return this},y.prototype.toString=function(){return"MapKeySet("+this.Ga.toString()+")"},y.prototype.add=y.prototype.add=function(){return Jh.k("This Set is read-only: "+this.toString()),!1},y.prototype.set=y.prototype.set=function(){return Jh.k("This Set is read-only: "+this.toString()),!1},y.prototype.contains=y.prototype.contains=function(t){return this.Ga.contains(t)},y.prototype.has=y.prototype.has=function(t){return this.contains(t)},y.prototype.remove=y.prototype.delete=y.prototype.remove=function(){return Jh.k("This Set is read-only: "+this.toString()),!1},y.prototype.clear=y.prototype.clear=function(){Jh.k("This Set is read-only: "+this.toString())},y.prototype.first=y.prototype.first=function(){var t=this.Ga.Ea;return null!==t?t.key:null},y.prototype.any=function(t){for(var e=this.Ga.Ea;null!==e;){if(t(e.key))return!0;e=e.$a}return!1},y.prototype.all=function(t){for(var e=this.Ga.Ea;null!==e;){if(!t(e.key))return!1;e=e.$a}return!0},y.prototype.each=function(t){for(var e=this.Ga.Ea;null!==e;)t(e.key),e=e.$a;return this},y.prototype.map=function(t){for(var e=new p,n=this.Ga.Ea;null!==n;)e.add(t(n.key)),n=n.$a;return e},y.prototype.filter=function(t){for(var e=new p(this.Ga.Th),n=this.Ga.Ea;null!==n;){var i=n.key;t(i)&&e.add(i),n=n.$a}return e},y.prototype.concat=function(t){return this.GG().Pc(t)},y.prototype.copy=function(){return new y(this.Ga)},y.prototype.toSet=y.prototype.GG=function(){var t,e=new p(this.Ga.Th),n=this.Ga.sd;for(t in n)e.add(n[t].key);return e},y.prototype.toArray=y.prototype.yc=function(){var t,e=this.Ga.sd,n=Array(this.Ga.rd),i=0;for(t in e)n[i]=e[t].key,i++;return n},y.prototype.toList=function(){var t,e=new c(this.Ga.Th),n=this.Ga.sd;for(t in n)e.add(n[t].key);return e},Jh.u(y,{count:"count"},function(){return this.Ga.rd}),Jh.u(y,{size:"size"},function(){return this.Ga.rd}),Jh.u(y,{i:"iterator"},function(){return 0>=this.Ga.rd?Qh:new d(this.Ga)}),Jh.be(v,{key:!0,value:!0}),Jh.u(v,{i:"iterator"},function(){return this}),v.prototype.reset=v.prototype.reset=function(){var t=this.Ga;t.hh=null,this.Ta=t.F,this.Wa=null},v.prototype.next=v.prototype.next=function(){var t=this.Ga;if(t.F!==this.Ta){if(null===this.key)return!1;Jh.Na(t)}var e=this.Wa,e=null===e?t.Ea:e.$a;return null!==e?(this.Wa=e,this.value=e.value,this.key=e.key,!0):(this.Nf(),!1)},v.prototype.hasNext=function(){return this.next()},v.prototype.first=v.prototype.first=function(){var t=this.Ga;if(this.Ta=t.F,null!==(t=t.Ea)){this.Wa=t;var e=t.value;return this.key=t.key,this.value=e}return null},v.prototype.any=function(t){var e=this.Ga;e.hh=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(t(i.value))return!0;e.F!==n&&Jh.Na(e),i=i.$a}return!1},v.prototype.all=function(t){var e=this.Ga;e.hh=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(!t(i.value))return!1;e.F!==n&&Jh.Na(e),i=i.$a}return!0},v.prototype.each=function(t){var e=this.Ga;e.hh=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;)t(i.value),e.F!==n&&Jh.Na(e),i=i.$a;return this},v.prototype.map=function(t){var e=this.Ga;e.hh=null;var n=e.F;this.Wa=null;for(var i=new c,r=e.Ea;null!==r;)i.add(t(r.value)),e.F!==n&&Jh.Na(e),r=r.$a;return i.i},v.prototype.filter=function(t){var e=this.Ga;e.hh=null;var n=e.F;this.Wa=null;for(var i=new c(e.Th),r=e.Ea;null!==r;){var o=r.value;t(o)&&i.add(o),e.F!==n&&Jh.Na(e),r=r.$a}return i.i},v.prototype.concat=function(t){return this.Ga.hh=null,new u(this,t.i)},Jh.u(v,{count:"count"},function(){return this.Ga.rd}),v.prototype.Nf=function(){this.value=this.key=null,this.Ta=-1,this.Ga.hh=this},v.prototype.toString=function(){return null!==this.Wa?"MapValueSetIterator@"+this.Wa.value:"MapValueSetIterator"},Jh.be(g,{key:!0,value:!0}),g.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};Jh.be(m,{key:!0,value:!0}),Jh.u(m,{i:"iterator"},function(){return this}),m.prototype.reset=m.prototype.reset=function(){var t=this.Ga;t.Eb=null,this.Ta=t.F,this.Wa=null},m.prototype.next=m.prototype.next=function(){var t=this.Ga;if(t.F!==this.Ta){if(null===this.key)return!1;Jh.Na(t)}var e=this.Wa,e=null===e?t.Ea:e.$a;return null!==e?(this.Wa=e,this.key=e.key,this.value=e.value,!0):(this.Nf(),!1)},m.prototype.hasNext=function(){return this.next()},m.prototype.first=m.prototype.first=function(){var t=this.Ga;return this.Ta=t.F,t=t.Ea,null!==t?(this.Wa=t,this.key=t.key,this.value=t.value,t):null},m.prototype.any=function(t){var e=this.Ga;e.Eb=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(t(i))return!0;e.F!==n&&Jh.Na(e),i=i.$a}return!1},m.prototype.all=function(t){var e=this.Ga;e.Eb=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;){if(!t(i))return!1;e.F!==n&&Jh.Na(e),i=i.$a}return!0},m.prototype.each=function(t){var e=this.Ga;e.Eb=null;var n=e.F;this.Wa=null;for(var i=e.Ea;null!==i;)t(i),e.F!==n&&Jh.Na(e),i=i.$a;return this},m.prototype.map=function(t){var e=this.Ga;e.Eb=null;var n=e.F;this.Wa=null;for(var i=new c,r=e.Ea;null!==r;)i.add(t(r)),e.F!==n&&Jh.Na(e),r=r.$a;return i.i},m.prototype.filter=function(t){var e=this.Ga;e.Eb=null;var n=e.F;this.Wa=null;for(var i=new c,r=e.Ea;null!==r;)t(r)&&i.add(r),e.F!==n&&Jh.Na(e),r=r.$a;return i.i},m.prototype.concat=function(t){return this.Ga.Eb=null,new u(this,t.i)},Jh.u(m,{count:"count"},function(){return this.Ga.rd}),m.prototype.Nf=function(){this.value=this.key=null,this.Ta=-1,this.Ga.Eb=this},m.prototype.toString=function(){return null!==this.Wa?"MapIterator@"+this.Wa:"MapIterator"},Jh.ga("Map",b),b.prototype.Mc=function(){var t=this.F;t++,999999999<t&&(t=0),this.F=t},b.prototype.freeze=b.prototype.freeze=function(){return this.P=!0,this},b.prototype.thaw=b.prototype.Qa=function(){return this.P=!1,this},b.prototype.toString=function(){return"Map("+Jh.getTypeName(this.Th)+","+Jh.getTypeName(this.Jt)+")#"+Jh.Pd(this)},b.prototype.add=b.prototype.add=function(t,e){this.P&&Jh.ma(this,t);var n=t;Jh.Pa(t)&&(n=Jh.cq(t));var i=this.sd[n];return void 0===i?(this.rd++,i=new g(t,e),this.sd[n]=i,n=this.Uh,null===n?this.Ea=i:(i.mp=n,n.$a=i),this.Uh=i,this.Mc(),!0):(i.value=e,!1)},b.prototype.set=b.prototype.set=function(t,e){return this.add(t,e)},b.prototype.addAll=b.prototype.Pc=function(t){if(null===t)return this;if(Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++){var i=Jh.Ba(t,n);this.add(i.key,i.value)}else for(t=t.i;t.next();)this.add(t.key,t.value);return this},b.prototype.first=b.prototype.first=function(){return this.Ea},b.prototype.any=function(t){for(var e=this.F,n=this.Ea;null!==n;){if(t(n))return!0;this.F!==e&&Jh.Na(this),n=n.$a}return!1},b.prototype.all=function(t){for(var e=this.F,n=this.Ea;null!==n;){if(!t(n))return!1;this.F!==e&&Jh.Na(this),n=n.$a}return!0},b.prototype.each=function(t){for(var e=this.F,n=this.Ea;null!==n;)t(n),this.F!==e&&Jh.Na(this),n=n.$a;return this},b.prototype.map=function(t){for(var e=new b(this.Th),n=this.F,i=this.Ea;null!==i;)e.add(i.key,t(i)),this.F!==n&&Jh.Na(this),i=i.$a;return e},b.prototype.filter=function(t){for(var e=new b(this.Th,this.Jt),n=this.F,i=this.Ea;null!==i;)t(i)&&e.add(i.key,i.value),this.F!==n&&Jh.Na(this),i=i.$a;return e},b.prototype.concat=function(t){return this.copy().Pc(t)},b.prototype.contains=b.prototype.contains=function(t){var e=t;return(!Jh.Pa(t)||void 0!==(e=Jh.Pd(t)))&&void 0!==this.sd[e]},b.prototype.has=b.prototype.has=function(t){return this.contains(t)},b.prototype.getValue=b.prototype.ka=function(t){var e=t;return Jh.Pa(t)&&void 0===(e=Jh.Pd(t))?null:(t=this.sd[e],void 0===t?null:t.value)},b.prototype.get=b.prototype.get=function(t){return this.ka(t)},b.prototype.remove=b.prototype.delete=b.prototype.remove=function(t){if(null===t)return!1;this.P&&Jh.ma(this,t);var e=t;if(Jh.Pa(t)&&void 0===(e=Jh.Pd(t)))return!1;if(void 0===(t=this.sd[e]))return!1;var n=t.$a,i=t.mp;return null!==n&&(n.mp=i),null!==i&&(i.$a=n),this.Ea===t&&(this.Ea=n),this.Uh===t&&(this.Uh=i),delete this.sd[e],this.rd--,this.Mc(),!0},b.prototype.clear=b.prototype.clear=function(){this.P&&Jh.ma(this),this.sd={},this.rd=0,null!==this.Eb&&this.Eb.reset(),null!==this.hh&&this.hh.reset(),this.Uh=this.Ea=null,this.Mc()},b.prototype.copy=function(){var t,e=new b(this.Th,this.Jt),n=this.sd;for(t in n){var i=n[t];e.add(i.key,i.value)}return e},b.prototype.toArray=b.prototype.yc=function(){var t,e=this.sd,n=Array(this.rd),i=0;for(t in e){var r=e[t];n[i]=new g(r.key,r.value),i++}return n},b.prototype.toKeySet=b.prototype.Mj=function(){return new y(this)},Jh.u(b,{count:"count"},function(){return this.rd}),Jh.u(b,{size:"size"},function(){return this.rd}),Jh.u(b,{i:"iterator"},function(){if(0>=this.count)return Qh;var t=this.Eb;return null!==t?(t.reset(),t):new m(this)}),Jh.u(b,{LF:"iteratorKeys"},function(){return 0>=this.count?Qh:new d(this)}),Jh.u(b,{MF:"iteratorValues"},function(){if(0>=this.count)return Qh;var t=this.hh;return null!==t?(t.reset(),t):new v(this)}),Jh.ga("Point",w),Jh.ni(w),Jh.be(w,{x:!0,y:!0}),w.prototype.assign=function(t){this.x=t.x,this.y=t.y},w.prototype.setTo=w.prototype.m=function(t,e){return this.x=t,this.y=e,this},w.prototype.set=w.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},w.prototype.copy=function(){var t=new w;return t.x=this.x,t.y=this.y,t},w.prototype.Ha=function(){return Object.freeze(this),this},w.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},w.prototype.freeze=function(){return this},w.prototype.Qa=function(){return Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this},w.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new w(n,r)}return new w},w.stringify=function(t){return t.x.toString()+" "+t.y.toString()},w.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},w.prototype.equals=w.prototype.L=function(t){return t instanceof w&&(this.x===t.x&&this.y===t.y)},w.prototype.equalTo=w.prototype.Bx=function(t,e){return this.x===t&&this.y===e},w.prototype.equalsApprox=w.prototype.Qc=function(t){return W(this.x,t.x)&&W(this.y,t.y)},w.prototype.add=w.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},w.prototype.subtract=w.prototype.ui=function(t){return this.x-=t.x,this.y-=t.y,this},w.prototype.offset=w.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},w.prototype.rotate=w.prototype.rotate=function(t){if(0===t)return this;var e=this.x,n=this.y;if(0===e&&0===n)return this;var i=0,r=0;return 360<=t?t-=360:0>t&&(t+=360),90===t?(i=0,r=1):180===t?(i=-1,r=0):270===t?(i=0,r=-1):(t=t*Math.PI/180,i=Math.cos(t),r=Math.sin(t)),this.x=i*e-r*n,this.y=r*e+i*n,this},w.prototype.scale=w.prototype.scale=function(t,e){return this.x*=t,this.y*=e,this},w.prototype.distanceSquaredPoint=w.prototype.Cf=function(t){var e=t.x-this.x;return t=t.y-this.y,e*e+t*t},w.prototype.distanceSquared=w.prototype.Xf=function(t,e){var n=t-this.x,i=e-this.y;return n*n+i*i},w.prototype.normalize=w.prototype.normalize=function(){var t=this.x,e=this.y,n=Math.sqrt(t*t+e*e);return 0<n&&(this.x=t/n,this.y=e/n),this},w.prototype.directionPoint=w.prototype.Qb=function(t){return x(t.x-this.x,t.y-this.y)},w.prototype.direction=w.prototype.direction=function(t,e){return x(t-this.x,e-this.y)},w.prototype.projectOntoLineSegment=function(t,e,n,i){return ot(t,e,n,i,this.x,this.y,this),this},w.prototype.projectOntoLineSegmentPoint=function(t,e){return ot(t.x,t.y,e.x,e.y,this.x,this.y,this),this},w.prototype.snapToGrid=function(t,e,n,i){return dt(this.x,this.y,t,e,n,i,this),this},w.prototype.snapToGridPoint=function(t,e){return dt(this.x,this.y,t.x,t.y,e.width,e.height,this),this},w.prototype.setRectSpot=w.prototype.ao=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},w.prototype.setSpot=w.prototype.bv=function(t,e,n,i,r){return this.x=t+r.x*n+r.offsetX,this.y=e+r.y*i+r.offsetY,this},w.prototype.transform=function(t){return t.nb(this),this};var Zh;w.distanceLineSegmentSquared=Zh=function(t,e,n,i,r,o){var s=r-n,a=o-i,u=s*s+a*a;n-=t,i-=e;var h=-n*s-i*a;return 0>=h||h>=u?(s=r-t,a=o-e,Math.min(n*n+i*i,s*s+a*a)):(t=s*i-a*n)*t/u};var Xh;w.distanceSquared=Xh=function(t,e,n,i){return t=n-t,e=i-e,t*t+e*e};var $h;w.direction=$h=function(t,e,n,i){return t=n-t,e=i-e,0===t?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(i=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i)},w.prototype.isReal=w.prototype.I=function(){return isFinite(this.x)&&isFinite(this.y)},Jh.ga("Size",P),Jh.ni(P),Jh.be(P,{width:!0,height:!0}),P.prototype.assign=function(t){this.width=t.width,this.height=t.height},P.prototype.setTo=P.prototype.m=function(t,e){return this.width=t,this.height=e,this},P.prototype.set=P.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},P.prototype.copy=function(){var t=new P;return t.width=this.width,t.height=this.height,t},P.prototype.Ha=function(){return Object.freeze(this),this},P.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},P.prototype.freeze=function(){return this},P.prototype.Qa=function(){return Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this},P.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new P(n,r)}return new P},P.stringify=function(t){return t.width.toString()+" "+t.height.toString()},P.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},P.prototype.equals=P.prototype.L=function(t){return t instanceof P&&(this.width===t.width&&this.height===t.height)},P.prototype.equalTo=P.prototype.Bx=function(t,e){return this.width===t&&this.height===e},P.prototype.equalsApprox=P.prototype.Qc=function(t){return W(this.width,t.width)&&W(this.height,t.height)},P.prototype.isReal=P.prototype.I=function(){return isFinite(this.width)&&isFinite(this.height)},Jh.ga("Rect",C),Jh.ni(C),Jh.be(C,{x:!0,y:!0,width:!0,height:!0}),C.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},C.prototype.setTo=C.prototype.m=function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},C.prototype.set=C.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},C.prototype.setPoint=C.prototype.Vg=function(t){return this.x=t.x,this.y=t.y,this},C.prototype.setSize=function(t){return this.width=t.width,this.height=t.height,this},C.prototype.copy=function(){var t=new C;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},C.prototype.Ha=function(){return Object.freeze(this),this},C.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},C.prototype.freeze=function(){return this},C.prototype.Qa=function(){return Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this},C.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;(i=t[e++])&&(r=parseFloat(i));for(var o=0;""===t[e];)e++;(i=t[e++])&&(o=parseFloat(i));for(var s=0;""===t[e];)e++;return(i=t[e++])&&(s=parseFloat(i)),new C(n,r,o,s)}return new C},C.stringify=function(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()},C.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},C.prototype.equals=C.prototype.L=function(t){return t instanceof C&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},C.prototype.equalTo=C.prototype.Bx=function(t,e,n,i){return this.x===t&&this.y===e&&this.width===n&&this.height===i},C.prototype.equalsApprox=C.prototype.Qc=function(t){return W(this.x,t.x)&&W(this.y,t.y)&&W(this.width,t.width)&&W(this.height,t.height)},C.prototype.containsPoint=C.prototype.Ia=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},C.prototype.containsRect=C.prototype.Fk=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},C.prototype.contains=C.prototype.contains=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.x<=t&&t+n<=this.x+this.width&&this.y<=e&&e+i<=this.y+this.height},C.prototype.reset=function(){this.height=this.width=this.y=this.x=0},C.prototype.offset=C.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},C.prototype.inflate=C.prototype.Zf=function(t,e){return M(this,e,t,e,t)},C.prototype.addMargin=C.prototype.bx=function(t){return M(this,t.top,t.right,t.bottom,t.left)},C.prototype.subtractMargin=C.prototype.BG=function(t){return M(this,-t.top,-t.right,-t.bottom,-t.left)},C.prototype.grow=function(t,e,n,i){return M(this,t,e,n,i)},C.prototype.intersectRect=function(t){return _(this,t.x,t.y,t.width,t.height)},C.prototype.intersect=C.prototype.wF=function(t,e,n,i){return _(this,t,e,n,i)},C.prototype.intersectsRect=C.prototype.$f=function(t){return this.xF(t.x,t.y,t.width,t.height)},C.prototype.intersects=C.prototype.xF=function(t,e,n,i){var r=this.width,o=this.x;return!(1/0!==r&&1/0!==n&&(r+=o,n+=t,isNaN(n)||isNaN(r)||o>n||t>r))&&(t=this.height,n=this.y,!(1/0!==t&&1/0!==i&&(t+=n,i+=e,isNaN(i)||isNaN(t)||n>i||e>t)))},C.prototype.unionPoint=C.prototype.yi=function(t){return A(this,t.x,t.y,0,0)},C.prototype.unionRect=C.prototype.Zg=function(t){return A(this,t.x,t.y,t.width,t.height)},C.prototype.union=C.prototype.KG=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),A(this,t,e,n,i)},C.prototype.setSpot=C.prototype.bv=function(t,e,n){return this.x=t-n.offsetX-n.x*this.width,this.y=e-n.offsetY-n.y*this.height,this};var tl;C.contains=tl=function(t,e,n,i,r,o,s,a){return void 0===s&&(s=0),void 0===a&&(a=0),t<=r&&r+s<=t+n&&e<=o&&o+a<=e+i},C.intersects=function(t,e,n,i,r,o,s,a){return n+=t,s+=r,!(t>s||r>n)&&(t=i+e,a+=o,!(e>a||o>t))},Jh.defineProperty(C,{left:"left"},function(){return this.x},function(t){this.x=t}),Jh.defineProperty(C,{top:"top"},function(){return this.y},function(t){this.y=t}),Jh.defineProperty(C,{right:"right"},function(){return this.x+this.width},function(t){this.x+=t-(this.x+this.width)}),Jh.defineProperty(C,{bottom:"bottom"},function(){return this.y+this.height},function(t){this.y+=t-(this.y+this.height)}),Jh.defineProperty(C,{position:"position"},function(){return new w(this.x,this.y)},function(t){this.x=t.x,this.y=t.y}),Jh.defineProperty(C,{size:"size"},function(){return new P(this.width,this.height)},function(t){this.width=t.width,this.height=t.height}),Jh.defineProperty(C,{Ul:"center"},function(){return new w(this.x+this.width/2,this.y+this.height/2)},function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}),Jh.defineProperty(C,{la:"centerX"},function(){return this.x+this.width/2},function(t){this.x=t-this.width/2}),Jh.defineProperty(C,{sa:"centerY"},function(){return this.y+this.height/2},function(t){this.y=t-this.height/2}),C.prototype.isReal=C.prototype.I=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},C.prototype.isEmpty=function(){return 0===this.width&&0===this.height},Jh.ga("Margin",O),Jh.ni(O),Jh.be(O,{top:!0,right:!0,bottom:!0,left:!0}),O.prototype.assign=function(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left},O.prototype.setTo=O.prototype.m=function(t,e,n,i){return this.top=t,this.right=e,this.bottom=n,this.left=i,this},O.prototype.set=O.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},O.prototype.copy=function(){var t=new O;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},O.prototype.Ha=function(){return Object.freeze(this),this},O.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},O.prototype.freeze=function(){return this},O.prototype.Qa=function(){return Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this},O.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=NaN;""===t[e];)e++;var i=t[e++];if(i&&(n=parseFloat(i)),isNaN(n))return new O;for(var r=NaN;""===t[e];)e++;if((i=t[e++])&&(r=parseFloat(i)),isNaN(r))return new O(n);for(var o=NaN;""===t[e];)e++;if((i=t[e++])&&(o=parseFloat(i)),isNaN(o))return new O(n,r);for(var s=NaN;""===t[e];)e++;return(i=t[e++])&&(s=parseFloat(i)),isNaN(s)?new O(n,r):new O(n,r,o,s)}return new O},O.stringify=function(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()},O.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},O.prototype.equals=O.prototype.L=function(t){return t instanceof O&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},O.prototype.equalTo=O.prototype.Bx=function(t,e,n,i){return this.top===t&&this.right===e&&this.bottom===n&&this.left===i},O.prototype.equalsApprox=O.prototype.Qc=function(t){return W(this.top,t.top)&&W(this.right,t.right)&&W(this.bottom,t.bottom)&&W(this.left,t.left)},O.prototype.isReal=O.prototype.I=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Jh.ni(j),Jh.be(j,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),j.prototype.set=j.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},j.prototype.copy=function(){var t=new j;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},j.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},j.prototype.equals=j.prototype.L=function(t){return t instanceof j&&(this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy)},j.prototype.isIdentity=j.prototype.yu=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},j.prototype.reset=j.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},j.prototype.multiply=j.prototype.multiply=function(t){var e=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,i=this.m12*t.m21+this.m22*t.m22,r=this.m11*t.dx+this.m21*t.dy+this.dx,o=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=n,this.m22=i,this.dx=r,this.dy=o,this},j.prototype.multiplyInverted=j.prototype.UF=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,i=-t.m12*e,r=-t.m21*e,o=t.m11*e,s=e*(t.m21*t.dy-t.m22*t.dx),a=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*n+this.m22*i,e=this.m11*r+this.m21*o,r=this.m12*r+this.m22*o,o=this.m11*s+this.m21*a+this.dx,s=this.m12*s+this.m22*a+this.dy,this.m11=this.m11*n+this.m21*i,this.m12=t,this.m21=e,this.m22=r,this.dx=o,this.dy=s,this},j.prototype.invert=j.prototype.TA=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,n=-this.m21*t,i=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=n,this.m22=i,this.dx=r,this.dy=o,this},j.prototype.rotate=j.prototype.rotate=function(t,e,n){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;this.translate(e,n);var i=0,r=0;90===t?(i=0,r=1):180===t?(i=-1,r=0):270===t?(i=0,r=-1):(r=t*Math.PI/180,i=Math.cos(r),r=Math.sin(r)),t=this.m12*i+this.m22*r;var o=this.m11*-r+this.m21*i,s=this.m12*-r+this.m22*i;return this.m11=this.m11*i+this.m21*r,this.m12=t,this.m21=o,this.m22=s,this.translate(-e,-n),this},j.prototype.translate=j.prototype.translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},j.prototype.scale=j.prototype.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},j.prototype.transformPoint=j.prototype.nb=function(t){var e=t.x,n=t.y;return t.x=e*this.m11+n*this.m21+this.dx,t.y=e*this.m12+n*this.m22+this.dy,t},j.prototype.invertedTransformPoint=j.prototype.xh=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=-this.m12*e,i=this.m11*e,r=e*(this.m12*this.dx-this.m11*this.dy),o=t.x,s=t.y;return t.x=o*this.m22*e+s*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.y=o*n+s*i+r,t},j.prototype.transformRect=j.prototype.JG=function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,o=this.m11,s=this.m12,a=this.m21,u=this.m22,h=this.dx,l=this.dy,c=e*o+n*a+h,f=e*s+n*u+l,p=i*o+n*a+h,n=i*s+n*u+l,d=e*o+r*a+h,e=e*s+r*u+l,o=i*o+r*a+h,i=i*s+r*u+l,r=c,s=f,c=Math.min(c,p),r=Math.max(r,p),s=Math.min(s,n),f=Math.max(f,n),c=Math.min(c,d),r=Math.max(r,d),s=Math.min(s,e),f=Math.max(f,e),c=Math.min(c,o),r=Math.max(r,o),s=Math.min(s,i),f=Math.max(f,i);return t.x=c,t.y=s,t.width=r-c,t.height=f-s,t},Jh.ga("Spot",E),Jh.ni(E),Jh.be(E,{x:!0,y:!0,offsetX:!0,offsetY:!0}),E.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY},E.prototype.setTo=E.prototype.m=function(t,e,n,i){return this.x=t,this.y=e,this.offsetX=n,this.offsetY=i,this},E.prototype.set=E.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},E.prototype.copy=function(){var t=new E;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},E.prototype.Ha=function(){return Object.freeze(this),this},E.prototype.S=function(){return Object.isFrozen(this)?this:this.copy().freeze()},E.prototype.freeze=function(){return this},E.prototype.Qa=function(){return Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this};var el;E.parse=el=function(t){if("string"==typeof t){if("None"===(t=t.trim()))return nl;if("TopLeft"===t)return rl;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return ol;if("TopRight"===t)return sl;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return al;if("Center"===t)return ul;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return hl;if("BottomLeft"===t)return ll;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return cl;if("BottomRight"===t)return fl;if("TopSide"===t)return xl;if("LeftSide"===t)return kl;if("RightSide"===t)return Pl;if("BottomSide"===t)return Cl;if("TopBottomSides"===t)return Sl;if("LeftRightSides"===t)return Tl;if("TopLeftSides"===t)return Ml;if("TopRightSides"===t)return _l;if("BottomLeftSides"===t)return Nl;if("BottomRightSides"===t)return Al;if("NotTopSide"===t)return Ol;if("NotLeftSide"===t)return jl;if("NotRightSide"===t)return El;if("NotBottomSide"===t)return Ll;if("AllSides"===t)return Dl;if("Default"===t)return il;t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];void 0!==i&&0<i.length&&(n=parseFloat(i));for(var r=0;""===t[e];)e++;i=t[e++],void 0!==i&&0<i.length&&(r=parseFloat(i));for(var o=0;""===t[e];)e++;i=t[e++],void 0!==i&&0<i.length&&(o=parseFloat(i));for(var s=0;""===t[e];)e++;return i=t[e++],void 0!==i&&0<i.length&&(s=parseFloat(i)),new E(n,r,o,s)}return new E},E.stringify=function(t){return t.Zc()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},E.prototype.toString=function(){return this.Zc()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(nl)?"None":this.L(rl)?"TopLeft":this.L(ol)?"Top":this.L(sl)?"TopRight":this.L(al)?"Left":this.L(ul)?"Center":this.L(hl)?"Right":this.L(ll)?"BottomLeft":this.L(cl)?"Bottom":this.L(fl)?"BottomRight":this.L(xl)?"TopSide":this.L(kl)?"LeftSide":this.L(Pl)?"RightSide":this.L(Cl)?"BottomSide":this.L(Sl)?"TopBottomSides":this.L(Tl)?"LeftRightSides":this.L(Ml)?"TopLeftSides":this.L(_l)?"TopRightSides":this.L(Nl)?"BottomLeftSides":this.L(Al)?"BottomRightSides":this.L(Ol)?"NotTopSide":this.L(jl)?"NotLeftSide":this.L(El)?"NotRightSide":this.L(Ll)?"NotBottomSide":this.L(Dl)?"AllSides":this.L(il)?"Default":"None"},E.prototype.equals=E.prototype.L=function(t){return t instanceof E&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},E.prototype.opposite=E.prototype.YF=function(){return new E(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},E.prototype.includesSide=E.prototype.xj=function(t){if(!this.zj())return!1;if(!t.zj())if(t.L(ml))t=kl;else if(t.L(bl))t=Pl;else if(t.L(gl))t=xl;else{if(!t.L(wl))return!1;t=Cl}return t=t.offsetY,(this.offsetY&t)===t},E.prototype.isSpot=E.prototype.Zc=function(){return!isNaN(this.x)&&!isNaN(this.y)},E.prototype.isNoSpot=E.prototype.Ud=function(){return isNaN(this.x)||isNaN(this.y)},E.prototype.isSide=E.prototype.zj=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},E.prototype.isNone=E.prototype.ZA=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},E.prototype.isDefault=E.prototype.ge=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var nl;E.None=nl=L(new E(0,0,0,0),0).Ha();var il;E.Default=il=L(new E(0,0,-1,0),-1).Ha();var rl;E.TopLeft=rl=new E(0,0,0,0).Ha();var ol;E.TopCenter=ol=new E(.5,0,0,0).Ha();var sl;E.TopRight=sl=new E(1,0,0,0).Ha();var al;E.LeftCenter=al=new E(0,.5,0,0).Ha();var ul;E.Center=ul=new E(.5,.5,0,0).Ha();var hl;E.RightCenter=hl=new E(1,.5,0,0).Ha();var ll;E.BottomLeft=ll=new E(0,1,0,0).Ha();var cl;E.BottomCenter=cl=new E(.5,1,0,0).Ha();var fl;E.BottomRight=fl=new E(1,1,0,0).Ha();var pl;E.MiddleTop=pl=ol;var dl;E.MiddleLeft=dl=al;var yl;E.MiddleRight=yl=hl;var vl;E.MiddleBottom=vl=cl;var gl;E.Top=gl=ol;var ml;E.Left=ml=al;var bl;E.Right=bl=hl;var wl;E.Bottom=wl=cl;var xl;E.TopSide=xl=L(new E(0,0,1,Jh.od),1).Ha();var kl;E.LeftSide=kl=L(new E(0,0,1,Jh.Uc),1).Ha();var Pl;E.RightSide=Pl=L(new E(0,0,1,Jh.ed),1).Ha();var Cl;E.BottomSide=Cl=L(new E(0,0,1,Jh.dd),1).Ha();var Sl;E.TopBottomSides=Sl=L(new E(0,0,1,Jh.od|Jh.dd),1).Ha();var Tl;E.LeftRightSides=Tl=L(new E(0,0,1,Jh.Uc|Jh.ed),1).Ha();var Ml;E.TopLeftSides=Ml=L(new E(0,0,1,Jh.od|Jh.Uc),1).Ha();var _l;E.TopRightSides=_l=L(new E(0,0,1,Jh.od|Jh.ed),1).Ha();var Nl;E.BottomLeftSides=Nl=L(new E(0,0,1,Jh.dd|Jh.Uc),1).Ha();var Al;E.BottomRightSides=Al=L(new E(0,0,1,Jh.dd|Jh.ed),1).Ha();var Ol;E.NotTopSide=Ol=L(new E(0,0,1,Jh.Uc|Jh.ed|Jh.dd),1).Ha();var jl;E.NotLeftSide=jl=L(new E(0,0,1,Jh.od|Jh.ed|Jh.dd),1).Ha();var El;E.NotRightSide=El=L(new E(0,0,1,Jh.od|Jh.Uc|Jh.dd),1).Ha();var Ll;E.NotBottomSide=Ll=L(new E(0,0,1,Jh.od|Jh.Uc|Jh.ed),1).Ha();var Dl;E.AllSides=Dl=L(new E(0,0,1,Jh.od|Jh.Uc|Jh.ed|Jh.dd),1).Ha(),D.prototype.copy=function(){var t=new D;return t.Vb[0]=this.Vb[0],t.Vb[1]=this.Vb[1],t.Vb[2]=this.Vb[2],t.Vb[3]=this.Vb[3],t.Vb[4]=this.Vb[4],t.Vb[5]=this.Vb[5],t},D.prototype.translate=function(t,e){this.Vb[4]+=this.Vb[0]*t+this.Vb[2]*e,this.Vb[5]+=this.Vb[1]*t+this.Vb[3]*e},D.prototype.scale=function(t,e){this.Vb[0]*=t,this.Vb[1]*=t,this.Vb[2]*=e,this.Vb[3]*=e},F.prototype.addColorStop=function(t,e){this.KE.push({offset:t,color:e})},Kh=R.prototype,Kh.arc=function(t,e,n,i,r,o,s,a){var u=2*Math.PI,h=u-1e-6,l=n*Math.cos(i),c=n*Math.sin(i),f=t+l,p=e+c,d=o?0:1;i=o?i-r:r-i,(1e-6<Math.abs(s-f)||1e-6<Math.abs(a-p))&&this.path.push(["L",f,+p]),0>i&&(i=i%u+u),i>h?(this.path.push(["A",n,n,0,1,d,t-l,e-c]),this.path.push(["A",n,n,0,1,d,f,p])):1e-6<i&&this.path.push(["A",n,n,0,+(i>=Math.PI),d,t+n*Math.cos(r),e+n*Math.sin(r)])},Kh.beginPath=function(){this.path=[]},Kh.bezierCurveTo=function(t,e,n,i,r,o){this.path.push(["C",t,e,n,i,r,o])},Kh.clearRect=function(){},Kh.clip=function(){z(this,"clipPath",this.path,new D)},Kh.closePath=function(){this.path.push(["z"])},Kh.createLinearGradient=function(t,e,n,i){var r=new F("linear");return r.x1=t,r.y1=e,r.x2=n,r.y2=i,r},Kh.createPattern=function(){return null},Kh.createRadialGradient=function(t,e,n,i,r,o){var s=new F("radial");return s.x1=t,s.y1=e,s.r1=n,s.x2=i,s.y2=r,s.r2=o,s},Kh.drawImage=function(t,e,n,i,r,o,s,a,u){var h="";t instanceof HTMLCanvasElement&&(h=t.toDataURL()),t instanceof HTMLImageElement&&(h=t.src),void 0===i&&(o=e,s=n,a=i=t.naturalWidth,u=r=t.naturalHeight),i=i||0,r=r||0,o=o||0,s=s||0,a=a||0,u=u||0,h={x:0,y:0,width:t.naturalWidth,height:t.naturalHeight,href:h,preserveAspectRatio:"xMidYMid slice"},J(i,a)&&J(r,u)||(h.preserveAspectRatio="none");var l="";a/=i,u/=r,0===o&&0===s||(l+=" translate("+o+", "+s+")"),1===a&&1===u||(l+=" scale("+a+", "+u+")"),0===e&&0===n||(l+=" translate("+-e+", "+-n+")"),0===e&&0===n&&i===t.naturalWidth&&r===t.naturalHeight||(t="CLIP"+Jh.wm++,o=V(this,"clipPath",{id:t}),o.appendChild(V(this,"rect",{x:e,y:n,width:i,height:r})),this.rm.appendChild(o),h["clip-path"]="url(#"+t+")"),I(this,"image",h,this.vh,l),this.addElement("image",h)},Kh.fill=function(){z(this,"fill",this.path,this.vh)},Kh.Lg=function(){this.Qp?this.clip():this.fill()},Kh.fillRect=function(t,e,n,i){q(this,"fill",[t,e,n,i],this.vh)},Kh.fillText=function(t,e,n){t=[t,e,n],e=this.textAlign,"left"===e?e="start":"right"===e?e="end":"center"===e&&(e="middle"),e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},I(this,"fill",e,this.vh),this.addElement("text",e,t[0])},Kh.lineTo=function(t,e){this.path.push(["L",t,e])},Kh.moveTo=function(t,e){this.path.push(["M",t,e])},Kh.quadraticCurveTo=function(t,e,n,i){this.path.push(["Q",t,e,n,i])},Kh.rect=function(t,e,n,i){this.path.push(["M",t,e],["L",t+n,e],["L",t+n,e+i],["L",t,e+i],["z"])},Kh.restore=function(){this.vh=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.Mn=t.Mn,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},Kh.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,Mn:this.Mn,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.vh.copy())},Kh.setTransform=function(t,e,n,i,r,o){1===t&&0===e&&0===n&&1===i&&0===r&&0===o||G(this,t,e,n,i,r,o)},Kh.scale=function(t,e){this.vh.scale(t,e)},Kh.translate=function(t,e){this.vh.translate(t,e)},Kh.transform=function(){},Kh.stroke=function(){z(this,"stroke",this.path,this.vh)},Kh.Kj=function(){this.Qp||this.stroke()},Kh.strokeRect=function(t,e,n,i){q(this,"stroke",[t,e,n,i],this.vh)},Kh.addElement=function(t,e,n){return t=V(this,t,e,n),0<this.qf.length?this.qf[this.qf.length-1].appendChild(t):this.rm.appendChild(t),this.Rx=t},Kh.fb=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t,e,n,i,r,o="SHADOW"+Jh.wm++,s=this.addElement("filter",{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);t=V(this,"feGaussianBlur",{in:"SourceAlpha",result:"blur",SL:this.shadowBlur/2}),e=V(this,"feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),n=V(this,"feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),i=V(this,"feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),r=V(this,"feMerge",{}),r.appendChild(V(this,"feMergeNode",{in:"offsetBlur"})),r.appendChild(V(this,"feMergeNode",{in:"SourceGraphic"})),s.appendChild(t),s.appendChild(e),s.appendChild(n),s.appendChild(i),s.appendChild(r),0<this.qf.length&&this.qf[this.qf.length-1].setAttributeNS(null,"filter","url(#"+o+")")}},Kh.KB=function(t,e,n){this.rt=t,this.st=e,this.Eg=n},Kh.pm=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},Kh.eo=function(){this.shadowOffsetX=this.rt,this.shadowOffsetY=this.st,this.shadowBlur=this.Eg},Kh.zx=function(){return!1},Kh.wx=function(){},Kh.Ke=function(){},Kh.yy=function(){},R.prototype.rotate=function(){},Kh=H.prototype,Kh.toDataURL=function(t,e){return this.Od.toDataURL(t,e)},Kh.getBoundingClientRect=function(){return this.Od.getBoundingClientRect()},Kh.focus=function(){return this.Od.focus()},Kh.addEventListener=function(t,e,n){this.Od.addEventListener(t,e,n)},Kh.removeEventListener=function(t,e,n){this.Od.removeEventListener(t,e,n)},Jh.defineProperty(H,{width:"width"},function(){return this.Od.width},function(t){this.Od.width=t}),Jh.defineProperty(H,{height:"height"},function(){return this.Od.height},function(t){this.Od.height=t}),Jh.u(H,{style:"style"},function(){return this.Od.style}),U.prototype.yy=function(t){this.ua.PA=t},Jh.defineProperty(U,{fillStyle:"fillStyle"},function(){return this.ua.fillStyle},function(t){this.Wy!==t&&(this.Wy=this.ua.fillStyle=t)}),Jh.defineProperty(U,{font:"font"},function(){return this.ua.font},function(t){this.Xy!==t&&(this.Xy=this.ua.font=t)}),Jh.defineProperty(U,{globalAlpha:"globalAlpha"},function(){return this.ua.globalAlpha},function(t){this.ua.globalAlpha=t}),Jh.defineProperty(U,{lineCap:"lineCap"},function(){return this.ua.lineCap},function(t){this.ua.lineCap=t}),Jh.defineProperty(U,{Mn:"lineDashOffset"},function(){return this.ua.Mn},function(t){this.ua.Mn=t}),Jh.defineProperty(U,{lineJoin:"lineJoin"},function(){return this.ua.lineJoin},function(t){this.ua.lineJoin=t}),Jh.defineProperty(U,{lineWidth:"lineWidth"},function(){return this.ua.lineWidth},function(t){this.ua.lineWidth=t}),Jh.defineProperty(U,{miterLimit:"miterLimit"},function(){return this.ua.miterLimit},function(t){this.ua.miterLimit=t}),Jh.defineProperty(U,{shadowBlur:"shadowBlur"},function(){return this.ua.shadowBlur},function(t){this.ua.shadowBlur=t}),Jh.defineProperty(U,{shadowColor:"shadowColor"},function(){return this.ua.shadowColor},function(t){this.ua.shadowColor=t}),Jh.defineProperty(U,{shadowOffsetX:"shadowOffsetX"},function(){return this.ua.shadowOffsetX},function(t){this.ua.shadowOffsetX=t}),Jh.defineProperty(U,{shadowOffsetY:"shadowOffsetY"},function(){return this.ua.shadowOffsetY},function(t){this.ua.shadowOffsetY=t}),Jh.defineProperty(U,{strokeStyle:"strokeStyle"},function(){return this.ua.strokeStyle},function(t){this.Yy!==t&&(this.Yy=this.ua.strokeStyle=t)}),Jh.defineProperty(U,{textAlign:"textAlign"},function(){return this.ua.textAlign},function(t){this.ua.textAlign=t}),Jh.defineProperty(U,{PA:"imageSmoothingEnabled"},function(){return this.ua.PA},function(t){this.ua.PA=t}),Kh=U.prototype,Kh.arc=function(t,e,n,i,r,o){this.ua.arc(t,e,n,i,r,o)},Kh.beginPath=function(){this.ua.beginPath()},Kh.bezierCurveTo=function(t,e,n,i,r,o){this.ua.bezierCurveTo(t,e,n,i,r,o)},Kh.clearRect=function(t,e,n,i){this.ua.clearRect(t,e,n,i)},Kh.clip=function(){this.ua.clip()},Kh.closePath=function(){this.ua.closePath()},Kh.createLinearGradient=function(t,e,n,i){return this.ua.createLinearGradient(t,e,n,i)},Kh.createPattern=function(t,e){return this.ua.createPattern(t,e)},Kh.createRadialGradient=function(t,e,n,i,r,o){return this.ua.createRadialGradient(t,e,n,i,r,o)},Kh.drawImage=function(t,e,n,i,r,o,s,a,u){void 0===i?this.ua.drawImage(t,e,n):this.ua.drawImage(t,e,n,i,r,o,s,a,u)},Kh.fill=function(){this.ua.fill()},Kh.fillRect=function(t,e,n,i){this.ua.fillRect(t,e,n,i)},Kh.fillText=function(t,e,n){this.ua.fillText(t,e,n)},Kh.getImageData=function(t,e,n,i){return this.ua.getImageData(t,e,n,i)},Kh.lineTo=function(t,e){this.ua.lineTo(t,e)},Kh.measureText=function(t){return this.ua.measureText(t)},Kh.moveTo=function(t,e){this.ua.moveTo(t,e)},Kh.quadraticCurveTo=function(t,e,n,i){this.ua.quadraticCurveTo(t,e,n,i)},Kh.rect=function(t,e,n,i){this.ua.rect(t,e,n,i)},Kh.restore=function(){this.ua.restore()},U.prototype.rotate=function(t){this.ua.rotate(t)},Kh=U.prototype,Kh.save=function(){this.ua.save()},Kh.setTransform=function(t,e,n,i,r,o){this.ua.setTransform(t,e,n,i,r,o)},Kh.scale=function(t,e){this.ua.scale(t,e)},Kh.stroke=function(){this.ua.stroke()},Kh.transform=function(t,e,n,i,r,o){1===t&&0===e&&0===n&&1===i&&0===r&&0===o||this.ua.transform(t,e,n,i,r,o)},Kh.translate=function(t,e){this.ua.translate(t,e)},Kh.Lg=function(t){if(t instanceof br&&t.type===xf){var e=t.wo;t=t.az,t>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.fr?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.fr?this.clip():this.fill()},Kh.Kj=function(){this.fr||this.stroke()},Jh.defineProperty(U,{Qp:"clipInsteadOfFill"},function(){return this.fr},function(t){this.fr=t}),Kh=U.prototype,Kh.KB=function(t,e,n){this.rt=t,this.st=e,this.Eg=n},Kh.pm=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0},Kh.eo=function(){this.shadowOffsetX=this.rt,this.shadowOffsetY=this.st,this.shadowBlur=this.Eg},Kh.zx=function(t,e){var n=this.ua;if(void 0!==n.setLineDash)n.setLineDash(t),n.lineDashOffset=e;else{if(void 0===n.webkitLineDash)return!1;n.webkitLineDash=t,n.webkitLineDashOffset=e}return!0},Kh.wx=function(){var t=this.ua;void 0!==t.setLineDash?(t.setLineDash(Jh.no),t.lineDashOffset=0):void 0!==t.webkitLineDash&&(t.webkitLineDash=Jh.no,t.webkitLineDashOffset=0)},Kh.Ke=function(t){t&&(this.Xy=""),this.Wy=this.Yy=""};var Fl=(Math.sqrt(2)-1)/3*4,Rl=new w(0,0).Ha(),Vl=new C(0,0,0,0).Ha(),Il=new O(0,0,0,0).Ha(),Bl=new O(2,2,2,2).Ha(),ql=new w(6,6).Ha(),zl=new w(-1/0,-1/0).Ha(),Gl=new w(1/0,1/0).Ha(),Hl=new P(0,0).Ha(),Ul=new P(1,1).Ha(),Kl=new P(6,6).Ha(),Wl=new P(8,8).Ha(),Jl=new P(10,10).Ha(),Yl=new P(1/0,1/0).Ha(),Ql=new w(NaN,NaN).Ha(),Zl=new P(NaN,NaN).Ha(),Xl=new C(NaN,NaN,NaN,NaN).Ha(),$l=new E(.156,.156).Ha(),tc=new E(.844,.844).Ha(),ec=new r,nc=new r,ic=null;Jh.ga("Geometry",gt),Jh.ni(gt),gt.prototype.copy=function(){var t=new gt;t.na=this.na,t.Ec=this.Ec,t.Oc=this.Oc,t.Ab=this.Ab,t.Hb=this.Hb;for(var e=this.Vj.n,n=e.length,i=t.Vj,r=0;r<n;r++){var o=e[r].copy();i.add(o)}return t.Ov=this.Ov,t.zv.assign(this.zv),t.hb=this.hb,t.qo=this.qo,t.Vq=this.Vq,t.Wq=this.Wq,t.hi=this.hi.S(),t.ii=this.ii.S(),t.Uo=this.Uo,t.So=this.So,t.Ki=this.Ki,t};var rc;gt.Line=rc=Jh.p(gt,"Line",0);var oc;gt.Rectangle=oc=Jh.p(gt,"Rectangle",1);var sc;gt.Ellipse=sc=Jh.p(gt,"Ellipse",2);var ac;gt.Path=ac=Jh.p(gt,"Path",3),gt.prototype.Ha=function(){return this.freeze(),Object.freeze(this),this},gt.prototype.freeze=function(){this.P=!0;var t=this.fc;t.freeze();for(var t=t.n,e=t.length,n=0;n<e;n++)t[n].freeze();return this},gt.prototype.Qa=function(){Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this.P=!1;var t=this.fc;t.Qa();for(var t=t.n,e=t.length,n=0;n<e;n++)t[n].Qa();return this},gt.prototype.equalsApprox=gt.prototype.Qc=function(t){if(!(t instanceof gt))return!1;if(this.type!==t.type)return this.type===rc&&t.type===ac?mt(this,t):t.type===rc&&this.type===ac&&mt(t,this);if(this.type===ac){var e=this.fc.n;t=t.fc.n;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].Qc(t[i]))return!1;return!0}return W(this.ha,t.ha)&&W(this.da,t.da)&&W(this.C,t.C)&&W(this.D,t.D)};var uc;gt.stringify=uc=function(t){return t.toString()},gt.prototype.ic=function(t){t.Je===gt?this.type=t:Jh.Lj(this,t)},gt.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case rc:return 0>t?"M"+this.ha.toString()+" "+this.da.toString()+"L"+this.C.toString()+" "+this.D.toString():"M"+this.ha.toFixed(t)+" "+this.da.toFixed(t)+"L"+this.C.toFixed(t)+" "+this.D.toFixed(t);case oc:var e=new C(this.ha,this.da,0,0);return e.KG(this.C,this.D,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case sc:if(e=new C(this.ha,this.da,0,0),e.KG(this.C,this.D,0,0),0>t){var n=e.left.toString()+" "+(e.y+e.height/2).toString(),i=e.right.toString()+" "+(e.y+e.height/2).toString();return"M"+n+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+i+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+n}return n=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),i=e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),"M"+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n;case ac:for(var e="",n=this.fc.n,i=n.length,r=0;r<i;r++){var o=n[r];0<r&&(e+=" x "),o.wu&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},gt.fillPath=function(t){"string"!=typeof t&&Jh.Fd(t,"string",gt,"fillPath:str"),t=t.split(/[Xx]/);for(var e=t.length,n="",i=0;i<e;i++)var r=t[i],n=null!==r.match(/[Ff]/)?0===i?n+r:n+"X"+(" "===r[0]?"":" ")+r:n+(0===i?"":"X ")+"F"+(" "===r[0]?"":" ")+r;return n};var hc;gt.parse=hc=function(t,e){function n(){return v>=k-1||null!==u[v+1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)}function i(){return v++,u[v]}function r(){var t=new w(parseFloat(i()),parseFloat(i()));return g===g.toLowerCase()&&(t.x=x.x+t.x,t.y=x.y+t.y),t}function o(){return x=r()}function s(){return b=r()}function a(){var t=m.toLowerCase();return"c"!==t&&"s"!==t&&"q"!==t&&"t"!==t?x:new w(2*x.x-b.x,2*x.y-b.y)}void 0===e&&(e=!1),"string"!=typeof t&&Jh.Fd(t,"string",gt,"parse:str"),t=t.replace(/,/gm," "),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");for(var u=t.split(" "),h=0;h<u.length;h++){var l=u[h];if(null!==l.match(/(\.[0-9]*)(\.)/gm)){for(var c=[],f="",p=!1,d=0;d<l.length;d++){var y=l[d];"."!==y||p?"."===y?(c.push(f),f="."):f+=y:(p=!0,f+=y)}for(c.push(f),u.splice(h,1),l=0;l<c.length;l++)u.splice(h+l,0,c[l]);h+=c.length-1}}for(var v=-1,g="",m="",l=new w(0,0),b=new w(0,0),x=new w(0,0),k=u.length,c=Jh.s(),p=f=!1,d=!0,h=null;!(v>=k-1);)if(m=g,""!==(g=i()))switch(g.toUpperCase()){case"X":d=!0,p=f=!1;break;case"M":for(h=o(),null===c.Yb||!0===d?(ts(c,h.x,h.y,f,!1,!p),d=!1):c.moveTo(h.x,h.y),l=x;!n();)h=o(),c.lineTo(h.x,h.y);break;case"L":for(;!n();)h=o(),c.lineTo(h.x,h.y);break;case"H":for(;!n();)x=h=new w((g===g.toLowerCase()?x.x:0)+parseFloat(i()),x.y),c.lineTo(x.x,x.y);break;case"V":for(;!n();)x=h=new w(x.x,(g===g.toLowerCase()?x.y:0)+parseFloat(i())),c.lineTo(x.x,x.y);break;case"C":for(;!n();){var y=r(),P=s(),h=o();is(c,y.x,y.y,P.x,P.y,h.x,h.y)}break;case"S":for(;!n();)y=a(),P=s(),h=o(),is(c,y.x,y.y,P.x,P.y,h.x,h.y);break;case"Q":for(;!n();)P=s(),h=o(),rs(c,P.x,P.y,h.x,h.y);break;case"T":for(;!n();)b=P=a(),h=o(),rs(c,P.x,P.y,h.x,h.y);break;case"B":for(;!n();){var h=parseFloat(i()),y=parseFloat(i()),P=parseFloat(i()),C=parseFloat(i()),S=parseFloat(i()),T=S,M=!1;n()||(T=parseFloat(i()),n()||(M=0!==parseFloat(i()))),g===g.toLowerCase()&&(P+=x.x,C+=x.y),c.arcTo(h,y,P,C,S,T,M)}break;case"A":for(;!n();)y=Math.abs(parseFloat(i())),P=Math.abs(parseFloat(i())),C=parseFloat(i()),S=!!parseFloat(i()),T=!!parseFloat(i()),h=o(),os(c,y,P,C,S,T,h.x,h.y);break;case"Z":h=c.o.fc.n[c.o.fc.length-1],es(c),x=l;break;case"F":for(y="",h=1;u[v+h];)if(null!==u[v+h].match(/[Uu]/))h++;else{if(null!==u[v+h].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){y=u[v+h];break}h++}y.match(/[Mm]/)?f=!0:ns(c);break;case"U":for(y="",h=1;u[v+h];)if(null!==u[v+h].match(/[Ff]/))h++;else{if(null!==u[v+h].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){y=u[v+h];break}h++}y.match(/[Mm]/)?p=!0:c.fb(!1)}if(l=c.o,Jh.q(c),e)for(c=l.fc.i;c.next();)h=c.value,h.wu=!0;return l},gt.prototype.YA=function(){if(this.hb||this.Ov!==this.fc.F)return!0;for(var t=this.fc.n,e=t.length,n=0;n<e;n++)if(t[n].YA())return!0;return!1},gt.prototype.computeBounds=function(){this.hb=!1,this.Vq=this.qo=null,this.Wq=NaN,this.Ov=this.fc.F;for(var t=this.fc.n,e=t.length,n=0;n<e;n++){var i=t[n];i.hb=!1;var r=i.yb;i.Mw=r.F;for(var i=r.n,r=i.length,o=0;o<r;o++){var s=i[o];s.hb=!1,s.Kh=null}}t=this.zv,t.Qa(),isNaN(this.Uo)||isNaN(this.So)?t.m(0,0,0,0):t.m(0,0,this.Uo,this.So),wt(this,t,!1),A(t,0,0,0,0),t.freeze()},gt.prototype.computeBoundsWithoutOrigin=gt.prototype.DH=function(){var t=new C;return wt(this,t,!0),t},gt.prototype.normalize=gt.prototype.normalize=function(){this.P&&Jh.ma(this);var t=this.DH();return this.offset(-t.x,-t.y),new w(-t.x,-t.y)},gt.prototype.offset=gt.prototype.offset=function(t,e){return this.P&&Jh.ma(this),this.transform(1,0,0,1,t,e),this},gt.prototype.scale=gt.prototype.scale=function(t,e){return this.P&&Jh.ma(this),this.transform(t,0,0,e,0,0),this},gt.prototype.rotate=gt.prototype.rotate=function(t,e,n){this.P&&Jh.ma(this),void 0===e&&(e=0),void 0===n&&(n=0);var i=Jh.Wg();return i.reset(),i.rotate(t,e,n),this.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Jh.bf(i),this},gt.prototype.transform=gt.prototype.transform=function(t,e,n,i,r,o){var s=0,a=0;switch(this.type){case rc:case oc:case sc:s=this.Ec,a=this.Oc,this.Ec=s*t+a*n+r,this.Oc=s*e+a*i+o,s=this.Ab,a=this.Hb,this.Ab=s*t+a*n+r,this.Hb=s*e+a*i+o;break;case ac:for(var u=this.fc.n,h=u.length,l=0;l<h;l++){var c=u[l],s=c.ha,a=c.da;c.ha=s*t+a*n+r,c.da=s*e+a*i+o;for(var c=c.yb.n,f=c.length,p=0;p<f;p++){var d=c[p];switch(d.type){case cc:case lc:s=d.C,a=d.D,d.C=s*t+a*n+r,d.D=s*e+a*i+o;break;case fc:s=d.xc,a=d.Sc,d.xc=s*t+a*n+r,d.Sc=s*e+a*i+o,s=d.Eh,a=d.Fh,d.Eh=s*t+a*n+r,d.Fh=s*e+a*i+o,s=d.C,a=d.D,d.C=s*t+a*n+r,d.D=s*e+a*i+o;break;case pc:s=d.xc,a=d.Sc,d.xc=s*t+a*n+r,d.Sc=s*e+a*i+o,s=d.C,a=d.D,d.C=s*t+a*n+r,d.D=s*e+a*i+o;break;case dc:s=d.la,a=d.sa,d.la=s*t+a*n+r,d.sa=s*e+a*i+o,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),d.Ae+=s),0>t&&(d.Ae=180-d.Ae,d.uf=-d.uf),0>i&&(d.Ae=-d.Ae,d.uf=-d.uf),d.radiusX*=Math.sqrt(t*t+n*n),void 0!==d.radiusY&&(d.radiusY*=Math.sqrt(e*e+i*i));break;case yc:s=d.C,a=d.D,d.C=s*t+a*n+r,d.D=s*e+a*i+o,0!==e&&(s=180*Math.atan2(e,t)/Math.PI,0>s&&(s+=360),d.Nj+=s),0>t&&(d.Nj=180-d.Nj,d.gm=!d.gm),0>i&&(d.Nj=-d.Nj,d.gm=!d.gm),d.radiusX*=Math.sqrt(t*t+n*n),d.radiusY*=Math.sqrt(e*e+i*i);break;default:Jh.k("Unknown Segment type: "+d.type)}}}}return this.hb=!0,this},gt.prototype.Ia=function(t,e,n,i){var r=t.x,o=t.y,s=this.eb.x-20;t=t.y;for(var a=0,u=0,h=0,l=0,c=0,f=0,p=this.fc.n,d=p.length,y=0;y<d;y++){var v=p[y];if(v.wu){if(n&&v.Ia(r,o,e))return!0;for(var g=v.yb,u=v.ha,h=v.da,m=u,b=h,w=g.n,x=0;x<=g.length;x++){var k,P;switch(x!==g.length?(k=w[x],P=k.type,c=k.C,f=k.D):(P=cc,c=m,f=b),P){case lc:if(l=xt(r,o,s,t,u,h,m,b),isNaN(l))return!0;a+=l,m=c,b=f;break;case cc:if(l=xt(r,o,s,t,u,h,c,f),isNaN(l))return!0;a+=l;break;case fc:l=rt(u,h,k.xc,k.Sc,k.Eh,k.Fh,c,f,s,t,r,o,.5),a+=l;break;case pc:l=rt(u,h,(u+2*k.xc)/3,(h+2*k.Sc)/3,(2*k.xc+c)/3,(2*k.Sc+f)/3,c,f,s,t,r,o,.5),a+=l;break;case dc:case yc:P=k.type===dc?Mt(k,v):_t(k,v,u,h);var C=P.length;if(0===C){if(l=xt(r,o,s,t,u,h,k.la,k.sa),isNaN(l))return!0;a+=l;break}for(var S=null,T=0;T<C;T++){if(S=P[T],0===T){if(l=xt(r,o,s,t,u,h,S[0],S[1]),isNaN(l))return!0;a+=l}l=rt(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],s,t,r,o,.5),a+=l}null!==S&&(c=S[6],f=S[7]);break;default:Jh.k("Unknown Segment type: "+k.type)}u=c,h=f}if(0!==a)return!0;a=0}else if(v.Ia(r,o,i?e:e+2))return!0}return 0!==a},gt.prototype.getPointAlongPath=gt.prototype.hI=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new w),this.type===rc)return e.m(this.ha+t*(this.C-this.ha),this.da+t*(this.D-this.da)),e;for(var n=this.Hx,i=this.gu,r=n.length,o=this.hu*t,s=0,a=0;a<r;a++)for(var u=i[a],h=u.length,l=0;l<h;l++){var c=u[l];if(s+c>=o)return i=(o-s)/c,n=n[a],a=n[2*l],r=n[2*l+1],e.m(a+(n[2*l+2]-a)*i,r+(n[2*l+3]-r)*i),e;s+=c}return e.m(NaN,NaN),e},gt.prototype.getAngleAlongPath=gt.prototype.jF=function(t){0>t?t=0:1<t&&(t=1);var e=0;if(this.type===rc)return e=180*Math.atan2(this.D-this.da,this.C-this.ha)/Math.PI;for(var e=this.Hx,n=this.gu,i=e.length,r=this.hu*t,o=0,s=0;s<i;s++){var a=n[s],u=a.length;for(t=0;t<u;t++){var h=a[t];if(o+h>=r)return e=e[s],e=180*Math.atan2(e[2*t+3]-e[2*t+1],e[2*t+2]-e[2*t])/Math.PI;o+=h}}return NaN},gt.prototype.getFractionForPoint=gt.prototype.dI=function(t){if(this.type===rc){var e=this.ha,n=this.da,i=this.C,r=this.D;if(e!==i||n!==r){var o=t.x;t=t.y;var s=0,a=0;return e===i?(n<r?(s=n,a=r):(s=r,a=n),t<=s?s===n?0:1:t>=a?a===n?0:1:Math.abs(t-n)/(a-s)):n===r?(e<i?(s=e,a=i):(s=i,a=e),o<=s?s===e?0:1:o>=a?a===e?0:1:Math.abs(o-e)/(a-s)):((o-e)*(o-e)+(t-n)*(t-n))/((i-e)*(i-e)+(r-n)*(r-n))}}else{if(this.type!==oc){for(var r=this.Hx,s=this.gu,a=this.hu,u=Jh.K(),n=1/0,e=i=0,o=r.length,h=m=0,l=0;l<o;l++)for(var c=r[l],f=s[l],p=c.length,d=0;d<p;d+=2){var y=c[d],v=c[d+1];if(0!==d){ot(m,h,y,v,t.x,t.y,u);var g=(u.x-t.x)*(u.x-t.x)+(u.y-t.y)*(u.y-t.y);g<n&&(n=g,i=e,i+=Math.sqrt((u.x-m)*(u.x-m)+(u.y-h)*(u.y-h))),e+=f[(d-2)/2]}m=y,h=v}return Jh.v(u),t=i/a,0>t?0:1<t?1:t}if(e=this.ha,n=this.da,i=this.C,r=this.D,e!==i||n!==r){var s=i-e,a=r-n,u=2*s+2*a,o=t.x;t=t.y,o=Math.min(Math.max(o,e),i),t=Math.min(Math.max(t,n),r);var e=Math.abs(o-e),i=Math.abs(o-i),n=Math.abs(t-n),r=Math.abs(t-r),m=Math.min(e,i,n,r);if(m===n)return o/u;if(m===i)return(s+t)/u;if(m===r)return(2*s+a-o)/u;if(m===e)return(2*s+2*a-t)/u}}return 0},Jh.u(gt,{Hx:"flattenedSegments"},function(){return Pt(this),this.qo}),Jh.u(gt,{gu:"flattenedLengths"},function(){return Pt(this),this.Vq}),Jh.u(gt,{hu:"flattenedTotalLength"},function(){var t=this.Wq;if(isNaN(t)){if(this.type===rc)var t=Math.abs(this.C-this.ha),e=Math.abs(this.D-this.da),t=Math.sqrt(t*t+e*e);else if(this.type===oc)t=Math.abs(this.C-this.ha),e=Math.abs(this.D-this.da),t=2*t+2*e;else for(var e=this.gu,n=e.length,i=t=0;i<n;i++)for(var r=e[i],o=r.length,s=0;s<o;s++)t+=r[s];this.Wq=t}return t}),Jh.defineProperty(gt,{type:"type"},function(){return this.na},function(t){this.na!==t&&(this.P&&Jh.ma(this,t),this.na=t,this.hb=!0)}),Jh.defineProperty(gt,{ha:"startX"},function(){return this.Ec},function(t){this.Ec!==t&&(this.P&&Jh.ma(this,t),this.Ec=t,this.hb=!0)}),Jh.defineProperty(gt,{da:"startY"},function(){return this.Oc},function(t){this.Oc!==t&&(this.P&&Jh.ma(this,t),this.Oc=t,this.hb=!0)}),Jh.defineProperty(gt,{C:"endX"},function(){return this.Ab},function(t){this.Ab!==t&&(this.P&&Jh.ma(this,t),this.Ab=t,this.hb=!0)}),Jh.defineProperty(gt,{D:"endY"},function(){return this.Hb},function(t){this.Hb!==t&&(this.P&&Jh.ma(this,t),this.Hb=t,this.hb=!0)}),Jh.defineProperty(gt,{fc:"figures"},function(){return this.Vj},function(t){this.Vj!==t&&(this.P&&Jh.ma(this,t),this.Vj=t,this.hb=!0)}),gt.prototype.add=gt.prototype.add=function(t){return this.Vj.add(t),this},gt.prototype.setSpots=function(t,e,n,i,r,o,s,a){return this.P&&Jh.ma(this),this.hi=new E(t,e,r,o).freeze(),this.ii=new E(n,i,s,a).freeze(),this},Jh.defineProperty(gt,{A:"spot1"},function(){return this.hi},function(t){this.P&&Jh.ma(this,t),this.hi=t.S()}),Jh.defineProperty(gt,{B:"spot2"},function(){return this.ii},function(t){this.P&&Jh.ma(this,t),this.ii=t.S()}),Jh.defineProperty(gt,{ae:"defaultStretch"},function(){return this.Ki},function(t){this.P&&Jh.ma(this,t),this.Ki=t}),Jh.u(gt,{eb:"bounds"},function(){return this.YA()&&this.computeBounds(),this.zv}),Jh.ga("PathFigure",St),Jh.ni(St),St.prototype.copy=function(){var t=new St;t.Km=this.Km,t.Vo=this.Vo,t.Ec=this.Ec,t.Oc=this.Oc;for(var e=this.qp.n,n=e.length,i=t.qp,r=0;r<n;r++){var o=e[r].copy();i.add(o)}return t.Mw=this.Mw,t.hb=this.hb,t},St.prototype.equalsApprox=St.prototype.Qc=function(t){if(!(t instanceof St&&W(this.ha,t.ha)&&W(this.da,t.da)))return!1;var e=this.yb.n;t=t.yb.n;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].Qc(t[i]))return!1;return!0},St.prototype.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.ha.toString()+" "+this.da.toString():"M"+this.ha.toFixed(t)+" "+this.da.toFixed(t),n=this.yb.n,i=n.length,r=0;r<i;r++)e+=" "+n[r].toString(t);return e},St.prototype.freeze=function(){this.P=!0;var t=this.yb;t.freeze();for(var e=t.n,t=t.length,n=0;n<t;n++)e[n].freeze();return this},St.prototype.Qa=function(){this.P=!1;var t=this.yb;t.Qa();for(var t=t.n,e=t.length,n=0;n<e;n++)t[n].Qa();return this},St.prototype.YA=function(){if(this.hb)return!0;var t=this.yb;if(this.Mw!==t.F)return!0;for(var t=t.n,e=t.length,n=0;n<e;n++)if(t[n].hb)return!0;return!1},Jh.defineProperty(St,{wu:"isFilled"},function(){return this.Km},function(t){this.P&&Jh.ma(this,t),this.Km=t}),Jh.defineProperty(St,{jm:"isShadowed"},function(){return this.Vo},function(t){this.P&&Jh.ma(this,t),this.Vo=t}),Jh.defineProperty(St,{ha:"startX"},function(){return this.Ec},function(t){this.P&&Jh.ma(this,t),this.Ec=t,this.hb=!0}),Jh.defineProperty(St,{da:"startY"},function(){return this.Oc},function(t){this.P&&Jh.ma(this,t),this.Oc=t,this.hb=!0}),Jh.defineProperty(St,{yb:"segments"},function(){return this.qp},function(t){this.P&&Jh.ma(this,t),this.qp=t,this.hb=!0}),St.prototype.add=St.prototype.add=function(t){return this.qp.add(t),this},St.prototype.Ia=function(t,e,n){for(var i=this.ha,r=this.da,o=i,s=r,a=this.yb.n,u=a.length,h=0;h<u;h++){var l=a[h];switch(l.type){case lc:o=l.C,s=l.D,i=l.C,r=l.D;break;case cc:if(Y(i,r,l.C,l.D,n,t,e))return!0;i=l.C,r=l.D;break;case fc:if(Q(i,r,l.xc,l.Sc,l.Eh,l.Fh,l.C,l.D,.5,t,e,n))return!0;i=l.C,r=l.D;break;case pc:if(tt(i,r,l.xc,l.Sc,l.C,l.D,.5,t,e,n))return!0;i=l.C,r=l.D;break;case dc:case yc:var c=l.type===dc?Mt(l,this):_t(l,this,i,r),f=c.length;if(0===f){if(Y(i,r,l.la,l.sa,n,t,e))return!0;i=l.la,r=l.sa;break}for(var p=null,d=0;d<f;d++)if(p=c[d],0===d&&Y(i,r,p[0],p[1],n,t,e)||Q(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.5,t,e,n))return!0;null!==p&&(i=p[6],r=p[7]);break;default:Jh.k("Unknown Segment type: "+l.type)}if(l.Lx&&(i!==o||r!==s)&&Y(i,r,o,s,n,t,e))return!0}return!1},Jh.ga("PathSegment",Tt),Jh.ni(Tt),Tt.prototype.copy=function(){var t=new Tt;return t.na=this.na,t.Ab=this.Ab,t.Hb=this.Hb,t.Jd=this.Jd,t.Ye=this.Ye,t.oh=this.oh,t.Dg=this.Dg,t.Zo=this.Zo,t.uo=this.uo,t.Sh=this.Sh,t.hb=this.hb,t},Tt.prototype.equalsApprox=Tt.prototype.Qc=function(t){if(!(t instanceof Tt)||this.type!==t.type||this.Lx!==t.Lx)return!1;switch(this.type){case lc:case cc:return W(this.C,t.C)&&W(this.D,t.D);case fc:return W(this.C,t.C)&&W(this.D,t.D)&&W(this.xc,t.xc)&&W(this.Sc,t.Sc)&&W(this.Eh,t.Eh)&&W(this.Fh,t.Fh);case pc:return W(this.C,t.C)&&W(this.D,t.D)&&W(this.xc,t.xc)&&W(this.Sc,t.Sc);case dc:return W(this.Ae,t.Ae)&&W(this.uf,t.uf)&&W(this.la,t.la)&&W(this.sa,t.sa)&&W(this.radiusX,t.radiusX)&&W(this.radiusY,t.radiusY);case yc:return this.gm===t.gm&&this.Nx===t.Nx&&W(this.Nj,t.Nj)&&W(this.C,t.C)&&W(this.D,t.D)&&W(this.radiusX,t.radiusX)&&W(this.radiusY,t.radiusY);default:return!1}},Tt.prototype.ic=function(t){t.Je===Tt?this.type=t:Jh.Lj(this,t)},Tt.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case lc:e=0>t?"M"+this.C.toString()+" "+this.D.toString():"M"+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case cc:e=0>t?"L"+this.C.toString()+" "+this.D.toString():"L"+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case fc:e=0>t?"C"+this.xc.toString()+" "+this.Sc.toString()+" "+this.Eh.toString()+" "+this.Fh.toString()+" "+this.C.toString()+" "+this.D.toString():"C"+this.xc.toFixed(t)+" "+this.Sc.toFixed(t)+" "+this.Eh.toFixed(t)+" "+this.Fh.toFixed(t)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case pc:e=0>t?"Q"+this.xc.toString()+" "+this.Sc.toString()+" "+this.C.toString()+" "+this.D.toString():"Q"+this.xc.toFixed(t)+" "+this.Sc.toFixed(t)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;case dc:e=0>t?"B"+this.Ae.toString()+" "+this.uf.toString()+" "+this.la.toString()+" "+this.sa.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.Ae.toFixed(t)+" "+this.uf.toFixed(t)+" "+this.la.toFixed(t)+" "+this.sa.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case yc:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Nj.toString()+" "+(this.Nx?1:0)+" "+(this.gm?1:0)+" "+this.C.toString()+" "+this.D.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.Nj.toFixed(t)+" "+(this.Nx?1:0)+" "+(this.gm?1:0)+" "+this.C.toFixed(t)+" "+this.D.toFixed(t);break;default:e=this.type.toString()}return e+(this.Sh?"z":"")};var lc;Tt.Move=lc=Jh.p(Tt,"Move",0);var cc;Tt.Line=cc=Jh.p(Tt,"Line",1);var fc;Tt.Bezier=fc=Jh.p(Tt,"Bezier",2);var pc;Tt.QuadraticBezier=pc=Jh.p(Tt,"QuadraticBezier",3);var dc;Tt.Arc=dc=Jh.p(Tt,"Arc",4);var yc;Tt.SvgArc=yc=Jh.p(Tt,"SvgArc",4),Tt.prototype.freeze=function(){return this.P=!0,this},Tt.prototype.Qa=function(){return this.P=!1,this},Tt.prototype.close=Tt.prototype.close=function(){return this.Sh=!0,this},Jh.defineProperty(Tt,{Lx:"isClosed"},function(){return this.Sh},function(t){this.Sh!==t&&(this.Sh=t,this.hb=!0)}),Jh.defineProperty(Tt,{type:"type"},function(){return this.na},function(t){this.P&&Jh.ma(this,t),this.na=t,this.hb=!0}),Jh.defineProperty(Tt,{C:"endX"},function(){return this.Ab},function(t){this.P&&Jh.ma(this,t),this.Ab=t,this.hb=!0}),Jh.defineProperty(Tt,{D:"endY"},function(){return this.Hb},function(t){this.P&&Jh.ma(this,t),this.Hb=t,this.hb=!0}),Jh.defineProperty(Tt,{xc:"point1X"},function(){return this.Jd},function(t){this.P&&Jh.ma(this,t),this.Jd=t,this.hb=!0}),Jh.defineProperty(Tt,{Sc:"point1Y"},function(){return this.Ye},function(t){this.P&&Jh.ma(this,t),this.Ye=t,this.hb=!0}),Jh.defineProperty(Tt,{Eh:"point2X"},function(){return this.oh},function(t){this.P&&Jh.ma(this,t),this.oh=t,this.hb=!0}),Jh.defineProperty(Tt,{Fh:"point2Y"},function(){return this.Dg},function(t){this.P&&Jh.ma(this,t),this.Dg=t,this.hb=!0}),Jh.defineProperty(Tt,{la:"centerX"},function(){return this.Jd},function(t){this.P&&Jh.ma(this,t),this.Jd=t,this.hb=!0}),Jh.defineProperty(Tt,{sa:"centerY"},function(){return this.Ye},function(t){this.P&&Jh.ma(this,t),this.Ye=t,this.hb=!0}),Jh.defineProperty(Tt,{radiusX:"radiusX"},function(){return this.oh},function(t){0>t&&Jh.Fa(t,">= zero",Tt,"radiusX"),this.P&&Jh.ma(this,t),this.oh=t,this.hb=!0}),Jh.defineProperty(Tt,{radiusY:"radiusY"},function(){return this.Dg},function(t){0>t&&Jh.Fa(t,">= zero",Tt,"radiusY"),this.P&&Jh.ma(this,t),this.Dg=t,this.hb=!0}),Jh.defineProperty(Tt,{Ae:"startAngle"},function(){return this.Ab},function(t){this.Ab!==t&&(this.P&&Jh.ma(this,t),t%=360,0>t&&(t+=360),this.Ab=t,this.hb=!0)}),Jh.defineProperty(Tt,{uf:"sweepAngle"},function(){return this.Hb},function(t){this.P&&Jh.ma(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Hb=t,this.hb=!0}),Jh.defineProperty(Tt,{gm:"isClockwiseArc"},function(){return this.uo},function(t){this.P&&Jh.ma(this,t),this.uo=t,this.hb=!0}),Jh.defineProperty(Tt,{Nx:"isLargeArc"},function(){return this.Zo},function(t){this.P&&Jh.ma(this,t),this.Zo=t,this.hb=!0}),Jh.defineProperty(Tt,{Nj:"xAxisRotation"},function(){return this.Jd},function(t){t%=360,0>t&&(t+=360),this.P&&Jh.ma(this,t),this.Jd=t,this.hb=!0}),Jh.ga("InputEvent",Nt),Nt.prototype.copy=function(){var t=new Nt;return t.aa=this.aa,t.dA.assign(this.Ce),t.jz.assign(this.ea),t.sw=this.sw,t.wv=this.wv,t.xv=this.xv,t.gw=this.gw,t.Kv=this.Kv,t.Ww=this.Ww,t.yv=this.yv,t.Iv=this.Iv,t.cw=this.cw,t.Tv=this.Tv,t.Qj=this.Qj,t.Ir=this.Ir,t.Uw=this.Uw,t.Tw=this.Tw,t.Gg=this.Gg,t},Nt.prototype.toString=function(){var t="^";return 0!==this.md&&(t+="M:"+this.md),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.te&&(t+="C:"+this.te),0!==this.oi&&(t+="D:"+this.oi),this.vc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.ea&&(t+="@"+this.ea.toString()),t},Jh.defineProperty(Nt,{g:"diagram"},function(){return this.aa},function(t){this.aa=t}),Jh.defineProperty(Nt,{Ce:"viewPoint"},function(){return this.dA},function(t){Jh.G(t,w,Nt,"viewPoint"),this.dA.assign(t)}),Jh.defineProperty(Nt,{ea:"documentPoint"},function(){return this.jz},function(t){Jh.G(t,w,Nt,"documentPoint"),this.jz.assign(t)}),Nt.prototype.getMultiTouchViewPoint=Nt.prototype.Ix=function(t,e){var n=this.g;return null===n?e:(si(n,this.event,t,e),e)},Nt.prototype.getMultiTouchDocumentPoint=function(t,e){var n=this.g;return null===n?e:(si(n,this.event,t,e),e.assign(n.UB(e)),e)},Jh.defineProperty(Nt,{md:"modifiers"},function(){return this.sw},function(t){this.sw=t}),Jh.defineProperty(Nt,{button:"button"},function(){return this.wv},function(t){if(this.wv=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}),Jh.defineProperty(Nt,{buttons:"buttons"},function(){return this.xv},function(t){this.xv=t}),Jh.defineProperty(Nt,{key:"key"},function(){return this.gw},function(t){this.gw=t}),Jh.defineProperty(Nt,{Hk:"down"},function(){return this.Kv},function(t){this.Kv=t}),Jh.defineProperty(Nt,{up:"up"},function(){return this.Ww},function(t){this.Ww=t}),Jh.defineProperty(Nt,{te:"clickCount"},function(){return this.yv},function(t){this.yv=t}),Jh.defineProperty(Nt,{oi:"delta"},function(){return this.Iv},function(t){this.Iv=t}),Jh.defineProperty(Nt,{zu:"isMultiTouch"},function(){return this.cw},function(t){this.cw=t}),Jh.defineProperty(Nt,{vc:"handled"},function(){return this.Tv},function(t){this.Tv=t}),Jh.defineProperty(Nt,{bubbles:"bubbles"},function(){return this.Qj},function(t){this.Qj=t}),Jh.defineProperty(Nt,{event:"event"},function(){return this.Ir},function(t){this.Ir=t}),Jh.u(Nt,{Aj:"isTouchEvent"},function(){var t=e.TouchEvent,n=this.event;return!!(t&&n instanceof t)||(t=e.PointerEvent)&&n instanceof t&&("touch"===n.pointerType||"pen"===n.pointerType)}),Jh.u(Nt,{zh:"isMac"},function(){return Jh.zh}),Jh.defineProperty(Nt,{timestamp:"timestamp"},function(){return this.Uw},function(t){this.Uw=t}),Jh.defineProperty(Nt,{Jf:"targetDiagram"},function(){return this.Tw},function(t){this.Tw=t}),Jh.defineProperty(Nt,{Be:"targetObject"},function(){return this.Gg},function(t){this.Gg=t}),Jh.defineProperty(Nt,{control:"control"},function(){return 0!=(1&this.md)},function(t){this.md=t?1|this.md:-2&this.md}),Jh.defineProperty(Nt,{shift:"shift"},function(){return 0!=(4&this.md)},function(t){this.md=t?4|this.md:-5&this.md}),Jh.defineProperty(Nt,{alt:"alt"},function(){return 0!=(2&this.md)},function(t){this.md=t?2|this.md:-3&this.md}),Jh.defineProperty(Nt,{Iu:"meta"},function(){return 0!=(8&this.md)},function(t){this.md=t?8|this.md:-9&this.md}),Jh.defineProperty(Nt,{left:"left"},function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},function(t){this.buttons=t?1|this.buttons:-2&this.buttons}),Jh.defineProperty(Nt,{right:"right"},function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},function(t){this.buttons=t?2|this.buttons:-3&this.buttons}),Jh.defineProperty(Nt,{xL:"middle"},function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},function(t){this.buttons=t?4|this.buttons:-5&this.buttons}),Jh.ga("DiagramEvent",At),At.prototype.copy=function(){var t=new At;return t.aa=this.aa,t.Sb=this.Sb,t.Rw=this.Rw,t.Aw=this.Aw,t.cr=this.cr,t},At.prototype.toString=function(){var t="*"+this.name;return null!==this.MB&&(t+=":"+this.MB.toString()),null!==this.pB&&(t+="("+this.pB.toString()+")"),t},Jh.defineProperty(At,{g:"diagram"},function(){return this.aa},function(t){this.aa=t}),Jh.defineProperty(At,{name:"name"},function(){return this.Sb},function(t){this.Sb=t}),Jh.defineProperty(At,{MB:"subject"},function(){return this.Rw},function(t){this.Rw=t}),Jh.defineProperty(At,{pB:"parameter"},function(){return this.Aw},function(t){this.Aw=t}),Jh.defineProperty(At,{cancel:"cancel"},function(){return this.cr},function(t){this.cr!==t&&Jh.Yt("DiagramEvent.cancel","2.0"),this.cr=t}),Jh.ga("ChangedEvent",Ot);var vc;Ot.Transaction=vc=Jh.p(Ot,"Transaction",-1);var gc;Ot.Property=gc=Jh.p(Ot,"Property",0);var mc;Ot.Insert=mc=Jh.p(Ot,"Insert",1);var bc;Ot.Remove=bc=Jh.p(Ot,"Remove",2),Ot.prototype.clear=Ot.prototype.clear=function(){this.Hs=this.Is=this.Ns=this.Os=this.Ls=this.aa=this.qe=null},Ot.prototype.copy=function(){var t=new Ot;t.dr=this.dr,t.rw=this.rw,t.$m=this.$m,t.qe=this.qe,t.aa=this.aa,t.Ls=this.Ls;var e=this.Os;return t.Os=Jh.Pa(e)&&"function"==typeof e.S?e.S():e,e=this.Ns,t.Ns=Jh.Pa(e)&&"function"==typeof e.S?e.S():e,e=this.Is,t.Is=Jh.Pa(e)&&"function"==typeof e.S?e.S():e,e=this.Hs,t.Hs=Jh.Pa(e)&&"function"==typeof e.S?e.S():e,t},Ot.prototype.ic=function(t){t.Je===Ot?this.Fc=t:Jh.Lj(this,t)},Ot.prototype.toString=function(){var t="",t=this.Fc===vc?t+"* ":this.Fc===gc?t+(null!==this.$?"!m":"!d"):t+(null!==this.$?"!m":"!d")+this.Fc;return this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.tf&&this.tf!==this.propertyName&&(t+=" "+this.tf),t+=": ",this.Fc===vc?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=Pc(this.object)),null!==this.oldValue&&(t+="  old: "+Pc(this.oldValue)),null!==this.Gj&&(t+=" "+this.Gj),null!==this.newValue&&(t+="  new: "+Pc(this.newValue)),null!==this.Fj&&(t+=" "+this.Fj)),t},Ot.prototype.getValue=Ot.prototype.ka=function(t){return t?this.oldValue:this.newValue},Ot.prototype.getParam=function(t){return t?this.Gj:this.Fj},Ot.prototype.canUndo=Ot.prototype.canUndo=function(){return null!==this.$||null!==this.g},Ot.prototype.undo=Ot.prototype.undo=function(){this.canUndo()&&(null!==this.$?this.$.rn(this,!0):null!==this.g&&this.g.rn(this,!0))},Ot.prototype.canRedo=Ot.prototype.canRedo=function(){return null!==this.$||null!==this.g},Ot.prototype.redo=Ot.prototype.redo=function(){this.canRedo()&&(null!==this.$?this.$.rn(this,!1):null!==this.g&&this.g.rn(this,!1))},Jh.defineProperty(Ot,{$:"model"},function(){return this.qe},function(t){this.qe=t}),Jh.defineProperty(Ot,{g:"diagram"},function(){return this.aa},function(t){this.aa=t}),Jh.defineProperty(Ot,{Fc:"change"},function(){return this.dr},function(t){this.dr=t}),Jh.defineProperty(Ot,{tf:"modelChange"},function(){return this.rw},function(t){this.rw=t}),Jh.defineProperty(Ot,{propertyName:"propertyName"},function(){return this.$m},function(t){this.$m=t}),Jh.u(Ot,{KF:"isTransactionFinished"},function(){return this.dr===vc&&("CommittedTransaction"===this.$m||"FinishedUndo"===this.$m||"FinishedRedo"===this.$m)}),Jh.defineProperty(Ot,{object:"object"},function(){return this.Ls},function(t){this.Ls=t}),Jh.defineProperty(Ot,{oldValue:"oldValue"},function(){return this.Os},function(t){this.Os=t}),Jh.defineProperty(Ot,{Gj:"oldParam"},function(){return this.Ns},function(t){this.Ns=t}),Jh.defineProperty(Ot,{newValue:"newValue"},function(){return this.Is},function(t){this.Is=t}),Jh.defineProperty(Ot,{Fj:"newParam"},function(){return this.Hs},function(t){this.Hs=t}),Jh.ga("Model",jt),jt.prototype.cloneProtected=function(t){t.Sb=this.Sb,t.sr=this.sr,t.Si=this.Si,t.ok=this.ok,t.cp=this.cp,t.yo=this.yo,t.kr=this.kr,t.jr=this.jr,t.Uq=this.Uq,t.Vm=this.Vm},jt.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},jt.prototype.clear=jt.prototype.clear=function(){this.He=[],this.Lc.clear(),this.Li.clear(),this.ja.clear()},Kh=jt.prototype,Kh.toString=function(t){if(void 0===t&&(t=0),1<t)return this.PB();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:",t=this.Pg;for(var n=Jh.cb(t),i=0;i<n;i++)var r=Jh.Ba(t,i),e=e+" "+this.qb(r)+":"+Pc(r)}return e},Kh.ko=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.Yl&&(t+=',\n  "dataFormat": '+this.quote(this.Yl)),this.ib&&(t+=',\n  "isReadOnly": '+this.ib),"key"!==this.km&&"string"==typeof this.km&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.km)),this.vA&&(t+=',\n  "copiesArrays": true'),this.uA&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.Xn&&"string"==typeof this.Xn&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.Xn)),t},Kh.Ru=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.Yl=t.dataFormat),t.isReadOnly&&(this.ib=t.isReadOnly),t.nodeKeyProperty&&(this.km=t.nodeKeyProperty),t.copiesArrays&&(this.vA=t.copiesArrays),t.copiesArrayObjects&&(this.uA=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.Xn=t.nodeCategoryProperty)},Kh.aC=function(){var t,e=this.Tk,n=!1;for(t in e)if(!Vt(t,e[t])){n=!0;break}return e="",n&&(e=Et(this)),e+',\n  "nodeDataArray": '+Rt(this,this.Pg,!0)},Kh.sB=function(t){Lt(this,t),t=t.nodeDataArray,Jh.isArray(t)&&(this.Uu(t),this.Pg=t)},Kh.bC=function(t){Ft(this,t,"nodeKeyProperty"),this instanceof ee&&Ft(this,t,"nodeParentKeyProperty");for(var e=new p,n=new p,i=(new p).Pc(this.Lc.LF),r=new b,o=t.Pg,s=0;s<o.length;s++){var a=o[s],u=t.qb(a);if(void 0!==u){i.remove(u);var h=this.we(u);null===h?(e.add(u),n.add(a)):Dt(this,h,a,r)||n.add(a)}else this.eB(a),u=this.qb(a),e.add(u),n.add(a)}return o="",Dt(this,this.Tk,t.Tk,r)||(o+=Et(this)),0<e.count&&(o+=this.Ry+Rt(this,e.yc(),!0)),0<n.count&&(o+=this.iC+Rt(this,n.yc(),!0)),0<i.count&&(o+=this.Ty+Rt(this,i.yc(),!0)),o},jt.prototype.computeJsonDifference=jt.prototype.computeJSONDifference=function(t,e){return Jh.G(t,jt,jt,"computeJsonDifference:newmodel"),void 0===e&&(e=this.constructor===jt?"go.Model":this.constructor===Zt?"go.GraphLinksModel":this.constructor===ee?"go.TreeModel":Jh.pf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.ko()+this.bC(t)+"}"},Kh=jt.prototype,Kh.Ry=',\n  "insertedNodeKeys": ',Kh.iC=',\n  "modifiedNodeData": ',Kh.Ty=',\n  "removedNodeKeys": ',Kh.$B=function(t,e){var n=this,i=!1,r=new p,o=new p,s=new p;t.Wf.each(function(t){t.$===n&&("nodeDataArray"===t.tf?t.Fc===mc?r.add(t.newValue):t.Fc===bc&&s.add(t.oldValue):n.Le(t.object)?o.add(t.object):n.Tk===t.object&&t.Fc===gc&&(i=!0))});var a=new p;r.each(function(t){a.add(n.qb(t)),e||o.add(t)});var u=new p;s.each(function(t){u.add(n.qb(t)),e&&o.add(t)});var h="";return i&&(h+=Et(this)),0<a.count&&(h+=(e?this.Ty:this.Ry)+Rt(this,a.yc(),!0)),0<o.count&&(h+=this.iC+Rt(this,o.yc(),!0)),0<u.count&&(h+=(e?this.Ry:this.Ty)+Rt(this,u.yc(),!0)),h},Kh.rB=function(t){Lt(this,t);var e=t.insertedNodeKeys,n=t.modifiedNodeData,i=new b;if(Jh.isArray(n))for(var r=0;r<n.length;r++){var o=Jh.Ba(n,r),s=this.qb(o);void 0!==s&&null!==s&&i.set(s,o)}if(Jh.isArray(e))for(var r=Jh.cb(e),a=0;a<r;a++)o=Jh.Ba(e,a),null===(s=this.we(o))&&(s=(s=i.get(o))?s:this.copyNodeData({}),this.zy(s,o),this.Pl(s));if(Jh.isArray(n))for(r=Jh.cb(n),a=0;a<r;a++)if(o=Jh.Ba(n,a),s=this.qb(o),null!==(s=this.we(s)))for(var u in o)"__gohashid"!==u&&u!==this.km&&u!==this.rq&&this.setDataProperty(s,u,o[u]);if(t=t.removedNodeKeys,Jh.isArray(t))for(r=Jh.cb(t),a=0;a<r;a++)o=Jh.Ba(t,a),null!==(s=this.we(o))&&this.qy(s)},jt.prototype.toIncrementalJson=jt.prototype.toIncrementalJSON=function(t,e){Jh.G(t,Ot,jt,"toIncrementalJson:e"),t.Fc!==vc&&Jh.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var n=t.object;return t.KF&&n instanceof re?(void 0===e&&(e=this.constructor===jt?"go.Model":this.constructor===Zt?"go.GraphLinksModel":this.constructor===ee?"go.TreeModel":Jh.pf(this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.ko()+this.$B(n,"FinishedUndo"===t.propertyName)+"}"):'{ "incremental": 0 }'},jt.prototype.toJson=jt.prototype.toJSON=jt.prototype.PB=function(t){return void 0===t&&(t=this.constructor===jt?"go.Model":this.constructor===Zt?"go.GraphLinksModel":this.constructor===ee?"go.TreeModel":Jh.pf(this)),'{ "class": '+this.quote(t)+this.ko()+this.aC()+"}"},jt.prototype.applyIncrementalJson=jt.prototype.applyIncrementalJSON=function(t){var n=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{n=e.JSON.parse(t)}catch(t){}else Jh.trace("WARNING: no JSON.parse available");else"object"==typeof t?n=t:Jh.k("Unable to modify a Model from: "+t);var i=n.incremental;"number"!=typeof i&&Jh.k("Unable to apply non-incremental changes to Model: "+t),0!==i&&(this.Ib("applyIncrementalJson"),this.rB(n),this.Yc("applyIncrementalJson"))},jt.fromJson=jt.fromJSON=function(t,n){void 0===n&&(n=null),null!==n&&Jh.G(n,jt,jt,"fromJson:model");var i=null;if("string"==typeof t)if(e.JSON&&e.JSON.parse)try{i=e.JSON.parse(t)}catch(t){}else Jh.trace("WARNING: no JSON.parse available");else"object"==typeof t?i=t:Jh.k("Unable to construct a Model from: "+t);if(null===n){var r;r=null;var o=i.class;if("string"==typeof o)try{var s=null;0===o.indexOf("go.")?(o=o.substr(3),s=Wh[o]):void 0===(s=Wh[o])&&(s=e[o]),"function"==typeof s&&(r=new s)}catch(t){}null===r||r instanceof jt?n=r:Jh.k("Unable to construct a Model of declared class: "+i.class)}return null===n&&(n=new Zt),n.Ru(i),n.sB(i),n},jt.prototype.replaceJsonObjects=jt.prototype.Uu=function(t){if(Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++){var i=Jh.Ba(t,n);Jh.Pa(i)&&Jh.GE(t,n,this.Uu(i))}else if(Jh.Pa(t)){for(n in t)if(i=t[n],Jh.Pa(i)&&(i=this.Uu(i),t[n]=i,"points"===n&&Array.isArray(i))){for(var r=0==i.length%2,o=0;o<i.length;o++)if("number"!=typeof i[o]){r=!1;break}if(r){for(r=new c(w),o=0;o<i.length/2;o++)r.add(new w(i[2*o],i[2*o+1]));r.freeze(),t[n]=r}}if("object"==typeof t){if(n=t,"NaN"===(i=t.class))n=NaN;else if("Date"===i)n=new Date(t.value);else if("go.Point"===i)n=new w(qt(t.x),qt(t.y));else if("go.Size"===i)n=new P(qt(t.width),qt(t.height));else if("go.Rect"===i)n=new C(qt(t.x),qt(t.y),qt(t.width),qt(t.height));else if("go.Margin"===i)n=new O(qt(t.top),qt(t.right),qt(t.bottom),qt(t.left));else if("go.Spot"===i)n="string"==typeof t.enum?el(t.enum):new E(qt(t.x),qt(t.y),qt(t.offsetX),qt(t.offsetY));else if("go.Brush"===i){if(n=new br,n.type=Yh(br,t.type),"string"==typeof t.color&&(n.color=t.color),t.start instanceof E&&(n.start=t.start),t.end instanceof E&&(n.end=t.end),"number"==typeof t.startRadius&&(n.dv=qt(t.startRadius)),"number"==typeof t.endRadius&&(n.$t=qt(t.endRadius)),t=t.colorStops,Jh.Pa(t))for(e in t)n.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===i?(e=null,e="string"==typeof t.path?hc(t.path):new gt,e.type=Yh(gt,t.type),"number"==typeof t.startX&&(e.ha=qt(t.startX)),"number"==typeof t.startY&&(e.da=qt(t.startY)),"number"==typeof t.endX&&(e.C=qt(t.endX)),"number"==typeof t.endY&&(e.D=qt(t.endY)),t.spot1 instanceof E&&(e.A=t.spot1),t.spot2 instanceof E&&(e.B=t.spot2),n=e):"go.EnumValue"===i&&(e=t.classType,0===e.indexOf("go.")&&(e=e.substr(3)),n=Yh(Wh[e],t.name));t=n}}return t},jt.prototype.quote=function(t){for(var e="",n=t.length,i=0;i<n;i++){var r=t[i];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("\t"===r)e+="\\t";else var o=t.charCodeAt(i),e=16>o?e+"\\u000"+t.charCodeAt(i).toString(16):32>o?e+"\\u00"+t.charCodeAt(i).toString(16):8232===o?e+"\\u2028":8233===o?e+"\\u2029":e+r}return'"'+e+'"'},jt.prototype.writeJsonValue=jt.prototype.hv=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.hv(t.valueOf()):Jh.isArray(t)?Rt(this,t):Jh.Pa(t)?Bt(this,t):"function"==typeof t?"null":t.toString()},Jh.defineProperty(jt,{name:"name"},function(){return this.Sb},function(t){var e=this.Sb;e!==t&&(Jh.j(t,"string",jt,"name"),this.Sb=t,this.h("name",e,t))}),Jh.defineProperty(jt,{Yl:"dataFormat"},function(){return this.sr},function(t){var e=this.sr;e!==t&&(Jh.j(t,"string",jt,"dataFormat"),this.sr=t,this.h("dataFormat",e,t))}),Jh.defineProperty(jt,{ib:"isReadOnly"},function(){return this.Si},function(t){var e=this.Si;e!==t&&(Jh.j(t,"boolean",jt,"isReadOnly"),this.Si=t,this.h("isReadOnly",e,t))}),Jh.defineProperty(jt,{Tk:"modelData"},function(){return this.Hz},function(t){var e=this.Hz;e!==t&&(Jh.j(t,"object",jt,"modelData"),this.Hz=t,this.h("modelData",e,t),this.Jb(t))}),jt.prototype.addChangedListener=jt.prototype.mn=function(t){Jh.j(t,"function",jt,"addChangedListener:listener"),null===this.kk&&(this.kk=new c("function")),this.kk.add(t)},jt.prototype.removeChangedListener=jt.prototype.Su=function(t){Jh.j(t,"function",jt,"removeChangedListener:listener"),null!==this.kk&&(this.kk.remove(t),0===this.kk.count&&(this.kk=null))},jt.prototype.mx=function(t){if(this.gb||this.ja.tF(t),null!==this.kk)for(var e=this.kk,n=e.length,i=0;i<n;i++)e.fa(i)(t)},jt.prototype.raiseChangedEvent=jt.prototype.bd=function(t,e,n,i,r,o,s){zt(this,"",t,e,n,i,r,o,s)},jt.prototype.raiseChanged=jt.prototype.h=function(t,e,n,i,r){zt(this,"",gc,t,this,e,n,i,r)},jt.prototype.raiseDataChanged=jt.prototype.qB=function(t,e,n,i,r,o){zt(this,"",gc,e,t,n,i,r,o)},Jh.defineProperty(jt,{ja:"undoManager"},function(){return this.cA},function(t){var e=this.cA;e!==t&&(Jh.G(t,oe,jt,"undoManager"),null!==e&&e.rJ(this),this.cA=t,null!==t&&t.oH(this))}),Jh.defineProperty(jt,{gb:"skipsUndoManager"},function(){return this.ij},function(t){Jh.j(t,"boolean",jt,"skipsUndoManager"),this.ij=t}),jt.prototype.rn=function(t,e){if(null!==t&&t.$===this)if(t.Fc===gc){var n=t.object,i=t.propertyName,r=t.ka(e);Jh.Ma(n,i,r)}else t.Fc===mc?(n=t.Fj,"nodeDataArray"===t.tf?(i=t.newValue,Jh.Pa(i)&&"number"==typeof n&&(r=this.qb(i),e?(Jh.Ba(this.He,n)===i&&Jh.Jg(this.He,n),void 0!==r&&this.Lc.remove(r)):(Jh.Ba(this.He,n)!==i&&Jh.sh(this.He,n,i),void 0!==r&&this.Lc.add(r,i)))):""===t.tf?(i=t.object,!Jh.isArray(i)&&t.propertyName&&(i=Jh.vb(t.object,t.propertyName)),Jh.isArray(i)&&"number"==typeof n&&(r=t.newValue,e?Jh.Jg(i,n):Jh.sh(i,n,r))):Jh.k("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.Fc===bc?(n=t.Gj,"nodeDataArray"===t.tf?(i=t.oldValue,Jh.Pa(i)&&"number"==typeof n&&(r=this.qb(i),e?(Jh.Ba(this.He,n)!==i&&Jh.sh(this.He,n,i),void 0!==r&&this.Lc.add(r,i)):(Jh.Ba(this.He,n)===i&&Jh.Jg(this.He,n),void 0!==r&&this.Lc.remove(r)))):""===t.tf?(i=t.object,!Jh.isArray(i)&&t.propertyName&&(i=Jh.vb(t.object,t.propertyName)),Jh.isArray(i)&&"number"==typeof n&&(r=t.oldValue,e?Jh.sh(i,n,r):Jh.Jg(i,n))):Jh.k("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.Fc!==vc&&Jh.k("unknown ChangedEvent: "+t.toString())},jt.prototype.startTransaction=jt.prototype.Ib=function(t){return this.ja.Ib(t)},jt.prototype.commitTransaction=jt.prototype.Yc=function(t){return this.ja.Yc(t)},jt.prototype.rollbackTransaction=jt.prototype.mm=function(){return this.ja.mm()},jt.prototype.commit=jt.prototype.commit=function(t,e){var n=e;void 0===n&&(n="");var i=this.gb;null===n&&(this.gb=!0,n=""),this.ja.Ib(n);var r=!1;try{t(this),r=!0}finally{r?this.ja.Yc(n):this.ja.mm(),this.gb=i}},jt.prototype.updateTargetBindings=jt.prototype.Jb=function(t,e){void 0===e&&(e=""),zt(this,"SourceChanged",vc,e,t,null,null)},Jh.defineProperty(jt,{km:"nodeKeyProperty"},function(){return this.ok},function(t){var e=this.ok;e!==t&&(Gt(t,jt,"nodeKeyProperty"),""===t&&Jh.k("Model.nodeKeyProperty may not be the empty string"),0<this.Lc.count&&Jh.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.ok=t,this.h("nodeKeyProperty",e,t))}),jt.prototype.getKeyForNodeData=jt.prototype.qb=function(t){if(null!==t){var e=this.ok;if(""!==e&&void 0!==(e=Jh.vb(t,e))){if(Ht(e))return e;Jh.k("Key value for node data "+t+" is not a number or a string: "+e)}}},jt.prototype.setKeyForNodeData=jt.prototype.zy=function(t,e){if(void 0!==e&&null!==e&&Ht(e)||Jh.Fd(e,"number or string",jt,"setKeyForNodeData:key"),null!==t){var n=this.ok;if(""!==n)if(this.Le(t)){var i=Jh.vb(t,n);i!==e&&null===this.we(e)&&(Jh.Ma(t,n,e),this.Lc.remove(i),this.Lc.add(e,t),zt(this,"nodeKey",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n),this.Tu(i,e))}else Jh.Ma(t,n,e)}},Jh.defineProperty(jt,{qL:"makeUniqueKeyFunction"},function(){return this.cp},function(t){var e=this.cp;e!==t&&(null!==t&&Jh.j(t,"function",jt,"makeUniqueKeyFunction"),this.cp=t,this.h("makeUniqueKeyFunction",e,t))}),jt.prototype.containsNodeData=jt.prototype.Le=function(t){var e=this.qb(t);return void 0!==e&&this.Lc.ka(e)===t},jt.prototype.findNodeDataForKey=jt.prototype.we=function(t){return null===t&&Jh.k("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Ht(t)?this.Lc.ka(t):null},Jh.defineProperty(jt,{Pg:"nodeDataArray"},function(){return this.He},function(t){var e=this.He;if(e!==t){Jh.mA(t,jt,"nodeDataArray"),this.Lc.clear(),this.WB();for(var n=Jh.cb(t),i=0;i<n;i++){var r=Jh.Ba(t,i);if(!Jh.Pa(r))return void Jh.k("Model.nodeDataArray must only contain Objects, not: "+r);Jh.cq(r)}this.He=t;for(var o=new c(Object),i=0;i<n;i++){var r=Jh.Ba(t,i),s=this.qb(r);void 0===s?o.add(r):null!==this.Lc.ka(s)?o.add(r):this.Lc.add(s,r)}for(i=o.i;i.next();)r=i.value,this.eB(r),void 0!==(o=this.qb(r))&&this.Lc.add(o,r);for(zt(this,"nodeDataArray",gc,"nodeDataArray",this,e,t),i=0;i<n;i++)r=Jh.Ba(t,i),this.Aq(r),this.zq(r);this.JE(),Jh.BI(t)||(this.ib=!0)}}),jt.prototype.makeNodeDataKeyUnique=jt.prototype.eB=function(t){if(null!==t){var e=this.ok;if(""!==e){var n=this.qb(t);if(void 0===n||this.Lc.contains(n)){var i=this.cp;if(null!==i&&void 0!==(n=i(this,t))&&null!==n&&!this.Lc.contains(n))return void Jh.Ma(t,e,n);if("string"==typeof n){for(i=2;this.Lc.contains(n+i);)i++;Jh.Ma(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(i=-this.Lc.count-1;this.Lc.contains(i);)i--;Jh.Ma(t,e,i)}else Jh.k("Model.getKeyForNodeData returned something other than a string or a number: "+n)}}}},jt.prototype.addNodeData=jt.prototype.Pl=function(t){null!==t&&(Jh.cq(t),this.Le(t)||Ut(this,t,!0))},jt.prototype.addNodeDataCollection=function(t){if(Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++)this.Pl(Jh.Ba(t,n));else for(t=t.i;t.next();)this.Pl(t.value)},jt.prototype.removeNodeData=jt.prototype.qy=function(t){null!==t&&Kt(this,t,!0)},jt.prototype.removeNodeDataCollection=function(t){if(Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++)this.qy(Jh.Ba(t,n));else for(t=t.i;t.next();)this.qy(t.value)},Kh=jt.prototype,Kh.Tu=function(t,e){var n=Yt(this,t);n instanceof p&&this.Li.add(e,n)},Kh.WB=function(){},Kh.Aq=function(){},Kh.zq=function(){},Kh.gv=function(){},jt.prototype.clearUnresolvedReferences=jt.prototype.JE=function(t){void 0===t?this.Li.clear():this.Li.remove(t)},Jh.defineProperty(jt,{MK:"copyNodeDataFunction"},function(){return this.yo},function(t){var e=this.yo;e!==t&&(null!==t&&Jh.j(t,"function",jt,"copyNodeDataFunction"),this.yo=t,this.h("copyNodeDataFunction",e,t))}),Jh.defineProperty(jt,{vA:"copiesArrays"},function(){return this.kr},function(t){var e=this.kr;e!==t&&(null!==t&&Jh.j(t,"boolean",jt,"copiesArrays"),this.kr=t,this.h("copiesArrays",e,t))}),Jh.defineProperty(jt,{uA:"copiesArrayObjects"},function(){return this.jr},function(t){var e=this.jr;e!==t&&(null!==t&&Jh.j(t,"boolean",jt,"copiesArrayObjects"),this.jr=t,this.h("copiesArrayObjects",e,t))}),jt.prototype.copyNodeData=function(t){if(null===t)return null;var e=null,e=this.yo,e=null!==e?e(t,this):Qt(this,t,!0);return Jh.Pa(e)&&Jh.oc(e),e},Jh.defineProperty(jt,{qH:"afterCopyFunction"},function(){return this.Uq},function(t){var e=this.Uq;e!==t&&(null!==t&&Jh.j(t,"function",jt,"afterCopyFunction"),this.Uq=t,this.h("afterCopyFunction",e,t))});var wc=!1;jt.prototype.set=function(t,e,n){this.setDataProperty(t,e,n)},jt.prototype.set=jt.prototype.setDataProperty=function(t,e,n){if(this.Le(t)){if(e===this.km)this.zy(t,n);else if(e===this.Xn)return void this.xy(t,n)}else!wc&&t instanceof Tr&&(wc=!0,Jh.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Jh.trace("  Is that really your intent?"));var i=Jh.vb(t,e);i!==n&&(Jh.Ma(t,e,n),this.qB(t,e,i,n))},jt.prototype.addArrayItem=function(t,e){this.QA(t,-1,e)},jt.prototype.insertArrayItem=jt.prototype.QA=function(t,e,n){t===this.He&&Jh.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=Jh.cb(t)),Jh.sh(t,e,n),zt(this,"",mc,"",t,null,n,null,e)},jt.prototype.removeArrayItem=jt.prototype.cG=function(t,e){void 0===e&&(e=-1),t===this.He&&Jh.k("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=Jh.cb(t)-1);var n=Jh.Ba(t,e);Jh.Jg(t,e),zt(this,"",bc,"",t,n,null,e,null)},Jh.defineProperty(jt,{Xn:"nodeCategoryProperty"},function(){return this.Vm},function(t){var e=this.Vm;e!==t&&(Gt(t,jt,"nodeCategoryProperty"),this.Vm=t,this.h("nodeCategoryProperty",e,t))}),jt.prototype.getCategoryForNodeData=jt.prototype.IA=function(t){if(null===t)return"";var e=this.Vm;return""===e?"":void 0===(e=Jh.vb(t,e))?"":"string"==typeof e?e:(Jh.k("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},jt.prototype.setCategoryForNodeData=jt.prototype.xy=function(t,e){if(Jh.j(e,"string",jt,"setCategoryForNodeData:cat"),null!==t){var n=this.Vm;if(""!==n)if(this.Le(t)){var i=Jh.vb(t,n);void 0===i&&(i=""),i!==e&&(Jh.Ma(t,n,e),zt(this,"nodeCategory",gc,n,t,i,e))}else Jh.Ma(t,n,e)}},Jh.La(Zt,jt),Jh.ga("GraphLinksModel",Zt),Zt.prototype.cloneProtected=function(t){jt.prototype.cloneProtected.call(this,t),t.Al=this.Al,t.dp=this.dp,t.xo=this.xo,t.Wh=this.Wh,t.Xh=this.Xh,t.Qm=this.Qm,t.Rm=this.Rm,t.Pm=this.Pm,t.zg=this.zg,t.hp=this.hp,t.mh=this.mh,t.lr=this.lr},Zt.prototype.clear=Zt.prototype.clear=function(){jt.prototype.clear.call(this),this.kf=[],this.fd.clear(),this.Vi.clear()},Kh=Zt.prototype,Kh.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.PB();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:",t=this.Pg;for(var n=Jh.cb(t),i=0,i=0;i<n;i++)var r=Jh.Ba(t,i),e=e+" "+this.qb(r)+":"+Pc(r);for(e+="\n link data:",t=this.Ah,n=Jh.cb(t),i=0;i<n;i++)r=Jh.Ba(t,i),e+=" "+this.cm(r)+"--\x3e"+this.dm(r)}return e},Kh.ko=function(){var t=jt.prototype.ko.call(this),e="";return"category"!==this.Du&&"string"==typeof this.Du&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.Du)),""!==this.Dj&&"string"==typeof this.Dj&&(e+=',\n  "linkKeyProperty": '+this.quote(this.Dj)),"from"!==this.Nn&&"string"==typeof this.Nn&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.Nn)),"to"!==this.On&&"string"==typeof this.On&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.On)),""!==this.Eu&&"string"==typeof this.Eu&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.Eu)),""!==this.Gu&&"string"==typeof this.Gu&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.Gu)),""!==this.Fu&&"string"==typeof this.Fu&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.Fu)),"isGroup"!==this.rq&&"string"==typeof this.rq&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.rq)),"group"!==this.Nu&&"string"==typeof this.Nu&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.Nu)),t+e},Kh.Ru=function(t){jt.prototype.Ru.call(this,t),t.linkKeyProperty&&(this.Dj=t.linkKeyProperty),t.linkFromKeyProperty&&(this.Nn=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.On=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.Eu=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.Gu=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.Du=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.Fu=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.rq=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.Nu=t.nodeGroupKeyProperty)},Kh.aC=function(){return jt.prototype.aC.call(this)+',\n  "linkDataArray": '+Rt(this,this.Ah,!0)},Kh.sB=function(t){jt.prototype.sB.call(this,t),t=t.linkDataArray,Jh.isArray(t)&&(this.Uu(t),this.Ah=t)},Kh.bC=function(t){if(!(t instanceof Zt))return Jh.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.Dj&&Jh.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=jt.prototype.bC.call(this,t);Ft(this,t,"linkKeyProperty"),Ft(this,t,"linkFromKeyProperty"),Ft(this,t,"linkToKeyProperty"),Ft(this,t,"linkLabelKeysProperty"),Ft(this,t,"nodeIsGroupProperty"),Ft(this,t,"nodeGroupKeyProperty");for(var n=new p,i=new p,r=(new p).Pc(this.fd.LF),o=new b,s=t.Ah,a=0;a<s.length;a++){var u=s[a],h=t.cf(u);if(void 0!==h){r.remove(h);var l=this.Zp(h);null===l?(n.add(h),i.add(u)):Dt(this,l,u,o)||i.add(u)}else this.Zx(u),h=this.cf(u),n.add(h),i.add(u)}return t=e,0<n.count&&(t+=this.Qy+Rt(this,n.yc(),!0)),0<i.count&&(t+=this.hC+Rt(this,i.yc(),!0)),0<r.count&&(t+=this.Sy+Rt(this,r.yc(),!0)),t},Kh.Qy=',\n  "insertedLinkKeys": ',Kh.hC=',\n  "modifiedLinkData": ',Kh.Sy=',\n  "removedLinkKeys": ',Kh.$B=function(t,e){""===this.Dj&&Jh.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var n=jt.prototype.$B.call(this,t,e),i=this,r=new p,o=new p,s=new p;t.Wf.each(function(t){t.$===i&&("linkDataArray"===t.tf?t.Fc===mc?r.add(t.newValue):t.Fc===bc&&s.add(t.oldValue):i.uh(t.object)&&o.add(t.object))});var a=new p;r.each(function(t){a.add(i.cf(t)),e||o.add(t)});var u=new p;return s.each(function(t){u.add(i.cf(t)),e&&o.add(t)}),0<a.count&&(n+=(e?this.Sy:this.Qy)+Rt(this,a.yc(),!0)),0<o.count&&(n+=this.hC+Rt(this,o.yc(),!0)),0<u.count&&(n+=(e?this.Qy:this.Sy)+Rt(this,u.yc(),!0)),n},Kh.rB=function(t){jt.prototype.rB.call(this,t);var e=t.insertedLinkKeys,n=t.modifiedLinkData,i=new b;if(Jh.isArray(n))for(var r=0;r<n.length;r++){var o=Jh.Ba(n,r),s=this.cf(o);void 0!==s&&null!==s&&i.set(s,o)}if(Jh.isArray(e))for(var r=Jh.cb(e),a=0;a<r;a++)o=Jh.Ba(e,a),null===(s=this.Zp(o))&&(s=(s=i.get(o))?s:this.ox({}),this.tG(s,o),this.Ot(s));if(Jh.isArray(n))for(r=Jh.cb(n),a=0;a<r;a++)if(o=Jh.Ba(n,a),s=this.cf(o),null!==(s=this.Zp(s)))for(var u in o)"__gohashid"!==u&&u!==this.Dj&&this.setDataProperty(s,u,o[u]);if(t=t.removedLinkKeys,Jh.isArray(t))for(r=Jh.cb(t),a=0;a<r;a++)o=Jh.Ba(t,a),null!==(s=this.Zp(o))&&this.py(s)},Kh.rn=function(t,e){if(t.Fc===mc){var n=t.Fj;if("linkDataArray"===t.tf){var i=t.newValue;if(Jh.Pa(i)&&"number"==typeof n){var r=this.cf(i);e?(this.Vi.remove(i),Jh.Ba(this.kf,n)===i&&Jh.Jg(this.kf,n),void 0!==r&&this.fd.remove(r)):(this.Vi.add(i),Jh.Ba(this.kf,n)!==i&&Jh.sh(this.kf,n,i),void 0!==r&&this.fd.add(r,i))}return}if("linkLabelKeys"===t.tf)return i=this.Nk(t.object),void(Jh.isArray(i)&&"number"==typeof n&&(e?0<=(n=Jh.Sl(i,t.newValue))&&Jh.Jg(i,n):0>Jh.Sl(i,t.newValue)&&Jh.sh(i,n,t.newValue)))}else if(t.Fc===bc){if(n=t.Gj,"linkDataArray"===t.tf)return i=t.oldValue,void(Jh.Pa(i)&&"number"==typeof n&&(r=this.cf(i),e?(this.Vi.add(i),Jh.Ba(this.kf,n)!==i&&Jh.sh(this.kf,n,i),void 0!==r&&this.fd.add(r,i)):(this.Vi.remove(i),Jh.Ba(this.kf,n)===i&&Jh.Jg(this.kf,n),void 0!==r&&this.fd.remove(r))));if("linkLabelKeys"===t.tf)return i=this.Nk(t.object),void(Jh.isArray(i)&&"number"==typeof n&&(e?0>Jh.Sl(i,t.newValue)&&Jh.sh(i,n,t.newValue):0<=(n=Jh.Sl(i,t.newValue))&&Jh.Jg(i,n)))}jt.prototype.rn.call(this,t,e)},Jh.defineProperty(Zt,{kA:"archetypeNodeData"},function(){return this.zm},function(t){var e=this.zm;e!==t&&(null!==t&&Jh.G(t,Object,Zt,"archetypeNodeData"),this.zm=t,this.h("archetypeNodeData",e,t))}),Zt.prototype.Pn=function(t){if(void 0!==t){var e=this.zm;if(null!==e){var n=this.we(t);null===n&&(n=this.copyNodeData(e),Jh.Ma(n,this.ok,t),this.Pl(n))}return t}},Jh.defineProperty(Zt,{Nn:"linkFromKeyProperty"},function(){return this.Wh},function(t){var e=this.Wh;e!==t&&(Gt(t,Zt,"linkFromKeyProperty"),this.Wh=t,this.h("linkFromKeyProperty",e,t))}),Zt.prototype.getFromKeyForLinkData=Zt.prototype.cm=function(t){if(null!==t){var e=this.Wh;if(""!==e&&void 0!==(e=Jh.vb(t,e))){if(Ht(e))return e;Jh.k("FromKey value for link data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setFromKeyForLinkData=Zt.prototype.CB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ht(e)||Jh.Fd(e,"number or string",Zt,"setFromKeyForLinkData:key"),null!==t){var n=this.Wh;if(""!==n)if(e=this.Pn(e),this.uh(t)){var i=Jh.vb(t,n);i!==e&&(Jt(this,i,t),Jh.Ma(t,n,e),null===this.we(e)&&Wt(this,e,t),zt(this,"linkFromKey",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.defineProperty(Zt,{On:"linkToKeyProperty"},function(){return this.Xh},function(t){var e=this.Xh;e!==t&&(Gt(t,Zt,"linkToKeyProperty"),this.Xh=t,this.h("linkToKeyProperty",e,t))}),Zt.prototype.getToKeyForLinkData=Zt.prototype.dm=function(t){if(null!==t){var e=this.Xh;if(""!==e&&void 0!==(e=Jh.vb(t,e))){if(Ht(e))return e;Jh.k("ToKey value for link data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setToKeyForLinkData=Zt.prototype.IB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ht(e)||Jh.Fd(e,"number or string",Zt,"setToKeyForLinkData:key"),null!==t){var n=this.Xh;if(""!==n)if(e=this.Pn(e),this.uh(t)){var i=Jh.vb(t,n);i!==e&&(Jt(this,i,t),Jh.Ma(t,n,e),null===this.we(e)&&Wt(this,e,t),zt(this,"linkToKey",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.defineProperty(Zt,{Eu:"linkFromPortIdProperty"},function(){return this.Qm},function(t){var e=this.Qm;e!==t&&(Gt(t,Zt,"linkFromPortIdProperty"),t!==this.Nn&&t!==this.On||Jh.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Qm=t,this.h("linkFromPortIdProperty",e,t))}),Zt.prototype.getFromPortIdForLinkData=Zt.prototype.eI=function(t){if(null===t)return"";var e=this.Qm;return""===e?"":(t=Jh.vb(t,e),void 0===t?"":t)},Zt.prototype.setFromPortIdForLinkData=Zt.prototype.DB=function(t,e){if(Jh.j(e,"string",Zt,"setFromPortIdForLinkData:portname"),null!==t){var n=this.Qm;if(""!==n)if(this.uh(t)){var i=Jh.vb(t,n);void 0===i&&(i=""),i!==e&&(Jh.Ma(t,n,e),zt(this,"linkFromPortId",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.defineProperty(Zt,{Gu:"linkToPortIdProperty"},function(){return this.Rm},function(t){var e=this.Rm;e!==t&&(Gt(t,Zt,"linkToPortIdProperty"),t!==this.Nn&&t!==this.On||Jh.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+t),this.Rm=t,this.h("linkToPortIdProperty",e,t))}),Zt.prototype.getToPortIdForLinkData=Zt.prototype.iI=function(t){if(null===t)return"";var e=this.Rm;return""===e?"":(t=Jh.vb(t,e),void 0===t?"":t)},Zt.prototype.setToPortIdForLinkData=Zt.prototype.JB=function(t,e){if(Jh.j(e,"string",Zt,"setToPortIdForLinkData:portname"),null!==t){var n=this.Rm;if(""!==n)if(this.uh(t)){var i=Jh.vb(t,n);void 0===i&&(i=""),i!==e&&(Jh.Ma(t,n,e),zt(this,"linkToPortId",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.defineProperty(Zt,{Fu:"linkLabelKeysProperty"},function(){return this.zg},function(t){var e=this.zg;e!==t&&(Gt(t,Zt,"linkLabelKeysProperty"),this.zg=t,this.h("linkLabelKeysProperty",e,t))}),Zt.prototype.getLabelKeysForLinkData=Zt.prototype.Nk=function(t){if(null===t)return Jh.no;var e=this.zg;return""===e?Jh.no:(t=Jh.vb(t,e),void 0===t?Jh.no:t)},Zt.prototype.setLabelKeysForLinkData=Zt.prototype.uG=function(t,e){if(Jh.mA(e,Zt,"setLabelKeysForLinkData:arr"),null!==t){var n=this.zg;if(""!==n)if(this.uh(t)){var i=Jh.vb(t,n);if(void 0===i&&(i=Jh.no),i!==e){for(var r=Jh.cb(i),o=0;o<r;o++){var s=Jh.Ba(i,o);Jt(this,s,t)}for(Jh.Ma(t,n,e),r=Jh.cb(e),o=0;o<r;o++)s=Jh.Ba(e,o),null===this.we(s)&&Wt(this,s,t);zt(this,"linkLabelKeys",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n)}}else Jh.Ma(t,n,e)}},Zt.prototype.addLabelKeyForLinkData=Zt.prototype.yE=function(t,e){if(null!==e&&void 0!==e&&(Ht(e)||Jh.Fd(e,"number or string",Zt,"addLabelKeyForLinkData:key"),null!==t)){var n=this.zg;if(""!==n){var i=Jh.vb(t,n);if(void 0===i)n=[],n.push(e),this.uG(t,n);else if(Jh.isArray(i)){var r=Jh.Sl(i,e);0<=r||(r=Jh.cb(i),Jh.sh(i,1/0,e),this.uh(t)&&(null===this.we(e)&&Wt(this,e,t),zt(this,"linkLabelKeys",mc,n,t,null,e,null,r)))}else Jh.k(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},Zt.prototype.removeLabelKeyForLinkData=Zt.prototype.qJ=function(t,e){if(null!==e&&void 0!==e&&(Ht(e)||Jh.Fd(e,"number or string",Zt,"removeLabelKeyForLinkData:key"),null!==t)){var n=this.zg;if(""!==n){var i=Jh.vb(t,n);if(Jh.isArray(i)){var r=Jh.Sl(i,e);0>r||(Jh.Jg(i,r),this.uh(t)&&(Jt(this,e,t),zt(this,"linkLabelKeys",bc,n,t,e,null,r,null)))}else void 0!==i&&Jh.k(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Jh.defineProperty(Zt,{Ah:"linkDataArray"},function(){return this.kf},function(t){var e=this.kf;if(e!==t){Jh.mA(t,Zt,"linkDataArray"),this.fd.clear();for(var n=Jh.cb(t),i=0;i<n;i++){var r=Jh.Ba(t,i);if(!Jh.Pa(r))return void Jh.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);Jh.cq(r)}if(this.kf=t,""!==this.Dj){for(var o=new c(Object),i=0;i<n;i++){var r=Jh.Ba(t,i),s=this.cf(r);void 0===s?o.add(r):null!==this.fd.ka(s)?o.add(r):this.fd.add(s,r)}for(i=o.i;i.next();)r=i.value,this.Zx(r),void 0!==(o=this.cf(r))&&this.fd.add(o,r)}for(o=new p(Object),i=0;i<n;i++)r=Jh.Ba(t,i),o.add(r);for(this.Vi=o,zt(this,"linkDataArray",gc,"linkDataArray",this,e,t),i=0;i<n;i++)r=Jh.Ba(t,i),te(this,r)}}),Jh.defineProperty(Zt,{Dj:"linkKeyProperty"},function(){return this.Al},function(t){var e=this.Al;if(e!==t){Gt(t,Zt,"linkKeyProperty"),this.Al=t,this.fd.clear();for(var n=Jh.cb(this.Ah),i=0;i<n;i++){var r=Jh.Ba(this.Ah,i),o=this.cf(r);void 0===o&&(this.Zx(r),o=this.cf(r)),void 0!==o&&this.fd.add(o,r)}this.h("linkKeyProperty",e,t)}}),Zt.prototype.getKeyForLinkData=Zt.prototype.cf=function(t){if(null!==t){var e=this.Al;if(""!==e&&void 0!==(e=Jh.vb(t,e))){if(Ht(e))return e;Jh.k("Key value for link data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setKeyForLinkData=Zt.prototype.tG=function(t,e){if(void 0!==e&&null!==e&&Ht(e)||Jh.Fd(e,"number or string",Zt,"setKeyForLinkData:key"),null!==t){var n=this.Al;if(""!==n)if(this.uh(t)){var i=Jh.vb(t,n);i!==e&&null===this.Zp(e)&&(Jh.Ma(t,n,e),this.fd.remove(i),this.fd.add(e,t),zt(this,"linkKey",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.defineProperty(Zt,{rL:"makeUniqueLinkKeyFunction"},function(){return this.dp},function(t){var e=this.dp;e!==t&&(null!==t&&Jh.j(t,"function",Zt,"makeUniqueLinkKeyFunction"),this.dp=t,this.h("makeUniqueLinkKeyFunction",e,t))}),Zt.prototype.findLinkDataForKey=Zt.prototype.Zp=function(t){return null===t&&Jh.k("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Ht(t)?this.fd.ka(t):null},Zt.prototype.makeLinkDataKeyUnique=Zt.prototype.Zx=function(t){if(null!==t){var e=this.Al;if(""!==e){var n=this.cf(t);if(void 0===n||this.fd.contains(n)){var i=this.dp;if(null!==i&&void 0!==(n=i(this,t))&&null!==n&&!this.fd.contains(n))return void Jh.Ma(t,e,n);if("string"==typeof n){for(i=2;this.fd.contains(n+i);)i++;Jh.Ma(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(i=-this.fd.count-1;this.fd.contains(i);)i--;Jh.Ma(t,e,i)}else Jh.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+n)}}}},Zt.prototype.containsLinkData=Zt.prototype.uh=function(t){return null!==t&&this.Vi.contains(t)},Zt.prototype.addLinkData=Zt.prototype.Ot=function(t){null!==t&&(Jh.cq(t),this.uh(t)||Xt(this,t,!0))},Zt.prototype.addLinkDataCollection=function(t){if(Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++)this.Ot(Jh.Ba(t,n));else for(t=t.i;t.next();)this.Ot(t.value)},Zt.prototype.removeLinkData=Zt.prototype.py=function(t){null!==t&&$t(this,t,!0)},Zt.prototype.removeLinkDataCollection=function(t){if(Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++)this.py(Jh.Ba(t,n));else for(t=t.i;t.next();)this.py(t.value)},Jh.defineProperty(Zt,{LK:"copyLinkDataFunction"},function(){return this.xo},function(t){var e=this.xo;e!==t&&(null!==t&&Jh.j(t,"function",Zt,"copyLinkDataFunction"),this.xo=t,this.h("copyLinkDataFunction",e,t))}),Zt.prototype.copyLinkData=Zt.prototype.ox=function(t){if(null===t)return null;var e=null,e=this.xo,e=null!==e?e(t,this):Qt(this,t,!0);return Jh.Pa(e)&&(Jh.oc(e),""!==this.Wh&&Jh.Ma(e,this.Wh,void 0),""!==this.Xh&&Jh.Ma(e,this.Xh,void 0),""!==this.zg&&Jh.Ma(e,this.zg,[])),e},Jh.defineProperty(Zt,{rq:"nodeIsGroupProperty"},function(){return this.hp},function(t){var e=this.hp;e!==t&&(Gt(t,Zt,"nodeIsGroupProperty"),this.hp=t,this.h("nodeIsGroupProperty",e,t))}),Zt.prototype.isGroupForNodeData=Zt.prototype.WA=function(t){if(null===t)return!1;var e=this.hp;return""!==e&&!!Jh.vb(t,e)},Jh.defineProperty(Zt,{Nu:"nodeGroupKeyProperty"},function(){return this.mh},function(t){var e=this.mh;e!==t&&(Gt(t,Zt,"nodeGroupKeyProperty"),this.mh=t,this.h("nodeGroupKeyProperty",e,t))}),Jh.defineProperty(Zt,{vn:"copiesGroupKeyOfNodeData"},function(){return this.lr},function(t){this.lr!==t&&(Jh.j(t,"boolean",Zt,"copiesGroupKeyOfNodeData"),this.lr=t)}),Zt.prototype.getGroupKeyForNodeData=Zt.prototype.Dn=function(t){if(null!==t){var e=this.mh;if(""!==e&&void 0!==(e=Jh.vb(t,e))){if(Ht(e))return e;Jh.k("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},Zt.prototype.setGroupKeyForNodeData=Zt.prototype.EB=function(t,e){if(null===e&&(e=void 0),void 0===e||Ht(e)||Jh.Fd(e,"number or string",Zt,"setGroupKeyForNodeData:key"),null!==t){var n=this.mh;if(""!==n)if(this.Le(t)){var i=Jh.vb(t,n);i!==e&&(Jt(this,i,t),Jh.Ma(t,n,e),null===this.we(e)&&Wt(this,e,t),zt(this,"nodeGroupKey",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Zt.prototype.copyNodeData=function(t){return null===t?null:(t=jt.prototype.copyNodeData.call(this,t),this.vn||""===this.mh||void 0===Jh.vb(t,this.mh)||Jh.Ma(t,this.mh,void 0),t)},Zt.prototype.setDataProperty=function(t,e,n){if(this.Le(t))if(e===this.km)this.zy(t,n);else{if(e===this.Xn)return void this.xy(t,n);if(e===this.Nu)return void this.EB(t,n);e===this.rq&&Jh.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.uh(t)){if(e===this.Nn)return void this.CB(t,n);if(e===this.On)return void this.IB(t,n);if(e===this.Eu)return void this.DB(t,n);if(e===this.Gu)return void this.JB(t,n);if(e===this.Dj)return void this.tG(t,n);if(e===this.Du)return void this.sG(t,n);if(e===this.Fu)return void this.uG(t,n)}else!wc&&t instanceof Tr&&(wc=!0,Jh.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Jh.trace("  Is that really your intent?"));var i=Jh.vb(t,e);i!==n&&(Jh.Ma(t,e,n),this.qB(t,e,i,n))},Kh=Zt.prototype,Kh.Tu=function(t,e){jt.prototype.Tu.call(this,t,e);for(var n=this.Lc.i;n.next();)this.wB(n.value,t,e);for(n=this.Vi.i;n.next();){var i=n.value,r=t,o=e;if(this.cm(i)===r){var s=this.Wh;Jh.Ma(i,s,o),zt(this,"linkFromKey",gc,s,i,r,o),"string"==typeof s&&this.Jb(i,s)}if(this.dm(i)===r&&(s=this.Xh,Jh.Ma(i,s,o),zt(this,"linkToKey",gc,s,i,r,o),"string"==typeof s&&this.Jb(i,s)),s=this.Nk(i),Jh.isArray(s))for(var a=Jh.cb(s),u=this.zg,h=0;h<a;h++)Jh.Ba(s,h)===r&&(Jh.GE(s,h,o),zt(this,"linkLabelKeys",mc,u,i,r,o,h,h))}},Kh.wB=function(t,e,n){if(this.Dn(t)===e){var i=this.mh;Jh.Ma(t,i,n),zt(this,"nodeGroupKey",gc,i,t,e,n),"string"==typeof i&&this.Jb(t,i)}},Kh.WB=function(){jt.prototype.WB.call(this);for(var t=this.Ah,e=Jh.cb(t),n=0;n<e;n++){te(this,Jh.Ba(t,n))}},Kh.Aq=function(t){jt.prototype.Aq.call(this,t),t=this.qb(t);var e=Yt(this,t);if(null!==e){for(var n=new c(Object),e=e.i;e.next();){var i=e.value;if(this.Le(i)){if(this.Dn(i)===t){var r=this.mh;zt(this,"nodeGroupKey",gc,r,i,t,t),"string"==typeof r&&this.Jb(i,r),n.add(i)}}else if(this.cm(i)===t&&(r=this.Wh,zt(this,"linkFromKey",gc,r,i,t,t),"string"==typeof r&&this.Jb(i,r),n.add(i)),this.dm(i)===t&&(r=this.Xh,zt(this,"linkToKey",gc,r,i,t,t),"string"==typeof r&&this.Jb(i,r),n.add(i)),r=this.Nk(i),Jh.isArray(r))for(var o=Jh.cb(r),s=this.zg,a=0;a<o;a++)Jh.Ba(r,a)===t&&(zt(this,"linkLabelKeys",mc,s,i,t,t,a,a),n.add(i))}for(n=n.i;n.next();)Jt(this,t,n.value)}},Kh.zq=function(t){jt.prototype.zq.call(this,t);var e=this.Dn(t);null===this.we(e)&&Wt(this,e,t)},Kh.gv=function(t){jt.prototype.gv.call(this,t),Jt(this,this.Dn(t),t)},Jh.defineProperty(Zt,{Du:"linkCategoryProperty"},function(){return this.Pm},function(t){var e=this.Pm;e!==t&&(Gt(t,Zt,"linkCategoryProperty"),this.Pm=t,this.h("linkCategoryProperty",e,t))}),Zt.prototype.getCategoryForLinkData=Zt.prototype.bq=function(t){if(null===t)return"";var e=this.Pm;return""===e?"":void 0===(e=Jh.vb(t,e))?"":"string"==typeof e?e:(Jh.k("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},Zt.prototype.setCategoryForLinkData=Zt.prototype.sG=function(t,e){if(Jh.j(e,"string",Zt,"setCategoryForLinkData:cat"),null!==t){var n=this.Pm;if(""!==n)if(this.uh(t)){var i=Jh.vb(t,n);void 0===i&&(i=""),i!==e&&(Jh.Ma(t,n,e),zt(this,"linkCategory",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.La(ee,jt),Jh.ga("TreeModel",ee),ee.prototype.cloneProtected=function(t){jt.prototype.cloneProtected.call(this,t),t.nh=this.nh,t.mr=this.mr,t.Ym=this.Ym},ee.prototype.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.PB();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:",t=this.Pg;for(var n=Jh.cb(t),i=0;i<n;i++)var r=Jh.Ba(t,i),e=e+" "+this.qb(r)+":"+Pc(r)}return e},ee.prototype.ko=function(){var t=jt.prototype.ko.call(this),e="";return"parent"!==this.Ou&&"string"==typeof this.Ou&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.Ou)),t+e},ee.prototype.Ru=function(t){jt.prototype.Ru.call(this,t),t.nodeParentKeyProperty&&(this.Ou=t.nodeParentKeyProperty)},ee.prototype.Pn=function(t){return t},Jh.defineProperty(ee,{Ou:"nodeParentKeyProperty"},function(){return this.nh},function(t){var e=this.nh;e!==t&&(Gt(t,ee,"nodeParentKeyProperty"),this.nh=t,this.h("nodeParentKeyProperty",e,t))}),Jh.defineProperty(ee,{wn:"copiesParentKeyOfNodeData"},function(){return this.mr},function(t){this.mr!==t&&(Jh.j(t,"boolean",ee,"copiesParentKeyOfNodeData"),this.mr=t)}),ee.prototype.getParentKeyForNodeData=ee.prototype.Fn=function(t){if(null!==t){var e=this.nh;if(""!==e&&void 0!==(e=Jh.vb(t,e))){if(Ht(e))return e;Jh.k("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},ee.prototype.setParentKeyForNodeData=ee.prototype.ti=function(t,e){if(null===e&&(e=void 0),void 0===e||Ht(e)||Jh.Fd(e,"number or string",ee,"setParentKeyForNodeData:key"),null!==t){var n=this.nh;if(""!==n)if(e=this.Pn(e),this.Le(t)){var i=Jh.vb(t,n);i!==e&&(Jt(this,i,t),Jh.Ma(t,n,e),null===this.we(e)&&Wt(this,e,t),zt(this,"nodeParentKey",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},Jh.defineProperty(ee,{IL:"parentLinkCategoryProperty"},function(){return this.Ym},function(t){var e=this.Ym;e!==t&&(Gt(t,ee,"parentLinkCategoryProperty"),this.Ym=t,this.h("parentLinkCategoryProperty",e,t))}),ee.prototype.getParentLinkCategoryForNodeData=ee.prototype.gI=function(t){if(null===t)return"";var e=this.Ym;return""===e?"":void 0===(e=Jh.vb(t,e))?"":"string"==typeof e?e:(Jh.k("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},ee.prototype.setParentLinkCategoryForNodeData=ee.prototype.IJ=function(t,e){if(Jh.j(e,"string",ee,"setParentLinkCategoryForNodeData:cat"),null!==t){var n=this.Ym;if(""!==n)if(this.Le(t)){var i=Jh.vb(t,n);void 0===i&&(i=""),i!==e&&(Jh.Ma(t,n,e),zt(this,"parentLinkCategory",gc,n,t,i,e),"string"==typeof n&&this.Jb(t,n))}else Jh.Ma(t,n,e)}},ee.prototype.copyNodeData=function(t){return null===t?null:(t=jt.prototype.copyNodeData.call(this,t),this.wn||""===this.nh||void 0===Jh.vb(t,this.nh)||Jh.Ma(t,this.nh,void 0),t)},ee.prototype.setDataProperty=function(t,e,n){if(this.Le(t))if(e===this.km)this.zy(t,n);else{if(e===this.Xn)return void this.xy(t,n);if(e===this.Ou)return void this.ti(t,n)}else!wc&&t instanceof Tr&&(wc=!0,Jh.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Jh.trace("  Is that really your intent?"));var i=Jh.vb(t,e);i!==n&&(Jh.Ma(t,e,n),this.qB(t,e,i,n))},Kh=ee.prototype,Kh.Tu=function(t,e){jt.prototype.Tu.call(this,t,e);for(var n=this.Lc.i;n.next();)this.wB(n.value,t,e)},Kh.wB=function(t,e,n){if(this.Fn(t)===e){var i=this.nh;Jh.Ma(t,i,n),zt(this,"nodeParentKey",gc,i,t,e,n),"string"==typeof i&&this.Jb(t,i)}},Kh.Aq=function(t){jt.prototype.Aq.call(this,t),t=this.qb(t);var e=Yt(this,t);if(null!==e){for(var n=new c(Object),e=e.i;e.next();){var i=e.value;if(this.Le(i)&&this.Fn(i)===t){var r=this.nh;zt(this,"nodeParentKey",gc,r,i,t,t),"string"==typeof r&&this.Jb(i,r),n.add(i)}}for(n=n.i;n.next();)Jt(this,t,n.value)}},Kh.zq=function(t){jt.prototype.zq.call(this,t);var e=this.Fn(t),e=this.Pn(e);null===this.we(e)&&Wt(this,e,t)},Kh.gv=function(t){jt.prototype.gv.call(this,t),Jt(this,this.Fn(t),t)},Jh.ga("Binding",ne),ne.prototype.copy=function(){var t=new ne;return t.Dp=this.Dp,t.Bt=this.Bt,t.Cp=this.Cp,t.Ow=this.Ow,t.ds=this.ds,t.sp=this.sp,t.ir=this.ir,t.ys=this.ys,t.br=this.br,t};var xc;ne.OneWay=xc=Jh.p(ne,"OneWay",1);var kc;ne.TwoWay=kc=Jh.p(ne,"TwoWay",2),ne.parseEnum=function(t,e){return Jh.j(t,"function",ne,"parseEnum:ctor"),Jh.ob(e,t,ne,"parseEnum:defval"),function(n){return n=Yh(t,n),null===n?e:n}},ne.prototype.ic=function(t){t.Je===ne?this.mode=t:Jh.Lj(this,t)};var Pc;ne.toString=Pc=function(t){var e=t;return Jh.Pa(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},ne.prototype.toString=function(){return"Binding("+this.Cy+":"+this.xG+(-1!==this.sm?" "+this.sm:"")+" "+this.mode.name+")"},ne.prototype.freeze=function(){return this.P=!0,this},ne.prototype.Qa=function(){return this.P=!1,this},Jh.defineProperty(ne,{sm:null},function(){return this.bE},function(t){this.P&&Jh.ma(this),Jh.j(t,"number",ne,"targetId"),this.bE=t}),Jh.defineProperty(ne,{Cy:"targetProperty"},function(){return this.Dp},function(t){this.P&&Jh.ma(this),Jh.j(t,"string",ne,"targetProperty"),this.Dp=t}),Jh.defineProperty(ne,{Kq:"sourceName"},function(){return this.Ow},function(t){this.P&&Jh.ma(this),null!==t&&Jh.j(t,"string",ne,"sourceName"),this.Ow=t,null!==t&&(this.ds=!1)}),Jh.defineProperty(ne,{Px:"isToModel"},function(){return this.ds},function(t){this.P&&Jh.ma(this),Jh.j(t,"boolean",ne,"isToModel"),this.ds=t}),Jh.defineProperty(ne,{xG:"sourceProperty"},function(){return this.sp},function(t){this.P&&Jh.ma(this),Jh.j(t,"string",ne,"sourceProperty"),this.sp=t}),Jh.defineProperty(ne,{GH:"converter"},function(){return this.ir},function(t){this.P&&Jh.ma(this),null!==t&&Jh.j(t,"function",ne,"converter"),this.ir=t}),Jh.defineProperty(ne,{vH:"backConverter"},function(){return this.br},function(t){this.P&&Jh.ma(this),null!==t&&Jh.j(t,"function",ne,"backConverter"),this.br=t}),Jh.defineProperty(ne,{mode:"mode"},function(){return this.ys},function(t){this.P&&Jh.ma(this),Jh.ob(t,ne,ne,"mode"),this.ys=t}),ne.prototype.makeTwoWay=ne.prototype.RI=function(t){return void 0===t&&(t=null),null!==t&&Jh.j(t,"function",ne,"makeTwoWay"),this.mode=kc,this.vH=t,this},ne.prototype.ofObject=ne.prototype.by=function(t){return void 0===t&&(t=""),this.Kq=t,this.Px=!1,this},ne.prototype.ofModel=function(){return this.Kq=null,this.Px=!0,this},ne.prototype.updateTarget=ne.prototype.MG=function(t,e,n){var i=this.sp;if(void 0===n||""===i||i===n){n=this.Dp;var r=this.ir;if(null===r&&""===n)Jh.trace("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==i&&(o=Jh.vb(e,i)),void 0!==o)if(null===r)""!==n&&Jh.Ma(t,n,o);else try{if(""!==n){var s=r(o,t);Jh.Ma(t,n,s)}else r(o,t)}catch(t){}}}},ne.prototype.updateSource=ne.prototype.Ey=function(t,e,n,i){if(this.ys===kc){var r=this.Dp;if(void 0===n||r===n){n=this.sp;var o=this.br,s=t;if(""!==r&&(s=Jh.vb(t,r)),void 0!==s&&!this.sz.contains(t))try{this.sz.add(t);var a=null!==i?i.g:null,u=null!==a?a.$:null;if(null===o){if(""!==n)null!==u?u.setDataProperty(e,n,s):Jh.Ma(e,n,s);else if(null!==u&&null!==i&&0<=i.Bu&&null!==i.R&&Array.isArray(i.R.mq)){var h=i.Bu,l=i.R.mq;u.cG(l,h),u.QA(l,h,s)}}else try{if(""!==n){var c=o(s,e,u);null!==u?u.setDataProperty(e,n,c):Jh.Ma(e,n,c)}else void 0!==(c=o(s,e,u))&&null!==u&&null!==i&&0<=i.Bu&&null!==i.R&&Array.isArray(i.R.mq)&&(h=i.Bu,l=i.R.mq,u.cG(l,h),u.QA(l,h,c))}catch(t){}}finally{this.sz.remove(t)}}}},Jh.ga("Transaction",re),re.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.Wf.count.toString()+(this.uu?"":", incomplete");if(void 0!==t&&0<t){t=this.Wf.count;for(var n=0;n<t;n++){var i=this.Wf.fa(n);null!==i&&(e+="\n  "+i.toString())}}return e},re.prototype.clear=re.prototype.clear=function(){var t=this.Wf;t.Qa();for(var e=t.count-1;0<=e;e--){var n=t.fa(e);null!==n&&n.clear()}t.clear(),t.freeze()},re.prototype.canUndo=re.prototype.canUndo=function(){return this.uu},re.prototype.undo=re.prototype.undo=function(){if(this.canUndo())for(var t=this.Wf.count-1;0<=t;t--){var e=this.Wf.fa(t);null!==e&&e.undo()}},re.prototype.canRedo=re.prototype.canRedo=function(){return this.uu},re.prototype.redo=re.prototype.redo=function(){if(this.canRedo())for(var t=this.Wf.count,e=0;e<t;e++){var n=this.Wf.fa(e);null!==n&&n.redo()}},Jh.u(re,{Wf:"changes"},function(){return this.SG}),Jh.defineProperty(re,{name:"name"},function(){return this.Sb},function(t){this.Sb=t}),Jh.defineProperty(re,{uu:"isComplete"},function(){return this.iD},function(t){this.iD=t}),Jh.ga("UndoManager",oe),oe.prototype.toString=function(t){for(var e="UndoManager "+this.wj+"<"+this.history.count+"<="+this.QF,e=e+"[",n=this.VF.count,i=0;i<n;i++)0<i&&(e+=" "),e+=this.VF.fa(i);if(e+="]",void 0!==t&&0<t)for(n=this.history.count,i=0;i<n;i++)e+="\n "+this.history.fa(i).toString(t-1);return e},oe.prototype.clear=oe.prototype.clear=function(){var t=this.history;t.Qa();for(var e=t.count-1;0<=e;e--){var n=t.fa(e);null!==n&&n.clear()}t.clear(),this.dh=-1,t.freeze(),this.gh=!1,this.Hv=null,this.Ml=0,this.lh.Qa(),this.lh.clear(),this.lh.freeze(),this.gp.clear()},oe.prototype.addModel=oe.prototype.oH=function(t){this.Iz.add(t)},oe.prototype.removeModel=oe.prototype.rJ=function(t){this.Iz.remove(t)},oe.prototype.startTransaction=oe.prototype.Ib=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.lb)return!1;!0===this.uz&&(this.uz=!1,this.Ml++,this.hd("StartingFirstTransaction",t,this.sj),0<this.Ml&&this.Ml--),this.isEnabled&&(this.lh.Qa(),this.lh.add(t),this.lh.freeze(),null===this.sj?this.gp.add(0):this.gp.add(this.sj.Wf.count)),this.Ml++;var e=1===this.wi;return e&&this.hd("StartedTransaction",t,this.sj),e},oe.prototype.commitTransaction=oe.prototype.Yc=function(t){return void 0===t&&(t=""),se(this,!0,t)},oe.prototype.rollbackTransaction=oe.prototype.mm=function(){return se(this,!1,"")},oe.prototype.canUndo=oe.prototype.canUndo=function(){if(!this.isEnabled||0<this.wi)return!1;var t=this.IG;return!(null===t||!t.canUndo())},oe.prototype.undo=oe.prototype.undo=function(){if(this.canUndo()){var t=this.IG;try{this.gh=!0,this.hd("StartingUndo","Undo",t),this.dh--,t.undo()}catch(t){Jh.trace("undo error: "+t.toString())}finally{this.hd("FinishedUndo","Undo",t),this.gh=!1}}},oe.prototype.canRedo=oe.prototype.canRedo=function(){if(!this.isEnabled||0<this.wi)return!1;var t=this.HG;return!(null===t||!t.canRedo())},oe.prototype.redo=oe.prototype.redo=function(){if(this.canRedo()){var t=this.HG;try{this.gh=!0,this.hd("StartingRedo","Redo",t),this.dh++,t.redo()}catch(t){Jh.trace("redo error: "+t.toString())}finally{this.hd("FinishedRedo","Redo",t),this.gh=!1}}},oe.prototype.hd=function(t,e,n){void 0===n&&(n=null);var i=new Ot;for(i.Fc=vc,i.propertyName=t,i.object=n,i.oldValue=e,t=this.aJ;t.next();)e=t.value,i.$=e,e.mx(i)},oe.prototype.handleChanged=oe.prototype.tF=function(t){if(this.isEnabled&&!this.lb&&!this.skipsEvent(t)){var e=this.sj;null===e&&(this.Hv=e=new re);var n=t.copy(),e=e.Wf;e.Qa(),e.add(n),e.freeze(),this.nA&&0>=this.wi&&!this.uz&&(null!==(t=t.g)&&!1===t.Kn||Jh.trace("Change not within a transaction: "+n.toString()))}},oe.prototype.skipsEvent=function(t){if(null===t||0>t.Fc.value)return!0;if((t=t.object)instanceof Tr){if(null!==(t=t.layer)&&t.Hc)return!0}else if(t instanceof Fn&&t.Hc)return!0;return!1},Jh.u(oe,{aJ:"models"},function(){return this.Iz.i}),Jh.defineProperty(oe,{isEnabled:"isEnabled"},function(){return this.jf},function(t){this.jf=t}),Jh.u(oe,{IG:"transactionToUndo"},function(){return 0<=this.wj&&this.wj<=this.history.count-1?this.history.fa(this.wj):null}),Jh.u(oe,{HG:"transactionToRedo"},function(){return this.wj<this.history.count-1?this.history.fa(this.wj+1):null}),Jh.u(oe,{lb:"isUndoingRedoing"},function(){return this.gh}),Jh.u(oe,{history:"history"},function(){return this.WG}),Jh.defineProperty(oe,{QF:"maxHistoryLength"},function(){return this.wD},function(t){this.wD=t}),Jh.u(oe,{wj:"historyIndex"},function(){return this.dh}),Jh.u(oe,{sj:"currentTransaction"},function(){return this.Hv}),Jh.u(oe,{wi:"transactionLevel"},function(){return this.Ml}),Jh.u(oe,{FF:"isInTransaction"},function(){return 0<this.Ml}),Jh.defineProperty(oe,{nA:"checksTransactionLevel"},function(){return this.tC},function(t){this.tC=t}),Jh.u(oe,{VF:"nestedTransactionNames"},function(){return this.lh}),Jh.ga("CommandHandler",ae);var Cc=null,Sc="";ae.prototype.toString=function(){return"CommandHandler"},Jh.u(ae,{g:"diagram"},function(){return this.aa}),ae.prototype.Tc=function(t){this.aa=t},ae.prototype.doKeyDown=function(){var t=this.g;if(null!==t){var e=t.N,n=Jh.zh?e.Iu:e.control,i=e.shift,r=e.alt,o=e.key;!n||"C"!==o&&"Insert"!==o?n&&"X"===o||i&&"Del"===o?this.canCutSelection()&&this.cutSelection():n&&"V"===o||i&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===o||r&&i&&"Backspace"===o?this.canRedo()&&this.redo():n&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.se&&(n?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.se&&(n?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.re&&(n?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.re&&(n?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?i&&t.re?t.scroll("page","left"):t.se&&t.scroll("page","up"):"PageDown"===o?i&&t.re?t.scroll("page","right"):t.se&&t.scroll("page","down"):"Home"===o?n&&t.se?t.scroll("document","up"):!n&&t.re&&t.scroll("document","left"):"End"===o?n&&t.se?t.scroll("document","down"):!n&&t.re&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===o?this.canResetZoom()&&this.resetZoom():i&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():n&&!i&&"G"===o?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},ae.prototype.doKeyUp=function(){var t=this.g;null!==t&&(t.N.bubbles=!0)},ae.prototype.stopCommand=function(){var t=this.g;if(null!==t){var e=t.Xa;e instanceof mn&&t.Bf&&t.oA(),null!==e&&e.doCancel()}},ae.prototype.canStopCommand=function(){return!0},ae.prototype.selectAll=function(){var t=this.g;if(null!==t){t.oa();try{t.kc="wait",t.Aa("ChangingSelection");for(var e=t.Hj;e.next();)e.value.jb=!0;for(var n=t.ig;n.next();)n.value.jb=!0;for(var i=t.links;i.next();)i.value.jb=!0}finally{t.Aa("ChangedSelection"),t.kc=""}}},ae.prototype.canSelectAll=function(){var t=this.g;return null!==t&&t.Bf},ae.prototype.deleteSelection=function(){var t=this.g;if(null!==t&&!t.Aa("SelectionDeleting",t.selection))try{t.kc="wait",t.Ib("Delete"),t.Aa("ChangingSelection");for(var e=new p(ls),n=t.selection.i;n.next();)ue(e,n.value,!0,this.QH?1/0:0,!!this.WE&&null,function(t){return t.canDelete()});t.vB(e,!0),t.Aa("SelectionDeleted",e)}finally{t.Aa("ChangedSelection"),t.Yc("Delete"),t.kc=""}},ae.prototype.canDeleteSelection=function(){var t=this.g;return!(null===t||t.ib||t.Ef||!t.nn||0===t.selection.count)},ae.prototype.Tp=function(t,e,n){var i=new b(ls,ls);for(t=t.i;t.next();)he(this,t.value,e,i,n);if(null!==e){n=e.$,t=!1,null!==e.Va.ce&&(t=e.Va.ce.uj);for(var r=new p(Ys),o=new b(Ys,Ys),s=i.i;s.next();){var a=s.value;if(a instanceof Ys){var u=a;t||null!==u.V&&null!==u.Z||r.add(u)}else if(n instanceof ee&&a instanceof Ls&&null!==a.data){var u=n,h=a,a=s.key,l=a.Kk();null!==l&&(l=i.ka(l),null!==l?(u.ti(h.data,u.qb(l.data)),u=e.Yf(h.data),null!==(a=a.Bn())&&null!==u&&o.add(a,u)):u.ti(h.data,void 0))}}if(0<r.count&&e.vB(r,!1),0<o.count)for(n=o.i;n.next();)i.add(n.key,n.value)}if(null!==e&&null!==this.g&&(e=e.$,null!==(n=e.qH))){var c=new b;i.each(function(t){null!==t.key.data&&c.add(t.key.data,t.value.data)}),n(c,e,this.g.$)}for(e=i.i;e.next();)e.value.Jb();return i},ae.prototype.copySelection=function(){var t=this.g;if(null!==t){for(var e=new p(ls),t=t.selection.i;t.next();)ue(e,t.value,!0,this.KH?1/0:0,this.IH,function(t){return t.canCopy()});this.copyToClipboard(e)}},ae.prototype.canCopySelection=function(){var t=this.g;return!(null===t||!t.Ck||!t.iA||0===t.selection.count)},ae.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},ae.prototype.canCutSelection=function(){var t=this.g;return!(null===t||t.ib||t.Ef||!t.Ck||!t.nn||!t.iA||0===t.selection.count)},ae.prototype.copyToClipboard=function(t){var e=this.g;if(null!==e){var n=null;if(null===t)Cc=null,Sc="";else{var n=e.$,i=!1,r=null;try{if(n instanceof ee){var o=n;o.wn;o.wn=this.PE}n instanceof Zt&&(o=n,i=o.vn,o.vn=this.OE),r=e.Tp(t,null,!0)}finally{n instanceof ee&&(n.wn=!1),n instanceof Zt&&(n.vn=i),n=new c(ls),n.Pc(r),Cc=n,Sc=e.$.Yl}}e.Aa("ClipboardChanged",n)}},ae.prototype.pasteFromClipboard=function(){var t=new p(ls),e=Cc;if(null===e)return t;var n=this.g;if(null===n||Sc!==n.$.Yl)return t;var i=n.$,r=!1,o=!1,s=null;try{if(i instanceof ee){var a=i,r=a.wn;a.wn=this.PE}i instanceof Zt&&(a=i,o=a.vn,a.vn=this.OE),s=n.Tp(e,n,!1)}finally{for(i instanceof ee&&(i.wn=r),i instanceof Zt&&(i.vn=o),e=s.i;e.next();)n=e.value,i=e.key,n.location.I()||(i.location.I()?n.location=i.location:!n.position.I()&&i.position.I()&&(n.position=i.position)),t.add(n)}return t},ae.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.kc="wait",e.Ib("Paste"),e.Aa("ChangingSelection");var n=this.pasteFromClipboard();0<n.count&&Ti(e);for(var i=n.i;i.next();)i.value.jb=!0;if(e.Aa("ChangedSelection"),null!==t){var r=e.computePartsBounds(e.selection);if(r.I()){var o=e.Va.ce;null===o&&(o=new de,o.Tc(e));var s=o.computeEffectiveCollection(e.selection);o.moveParts(s,new w(t.x-r.la,t.y-r.sa),!1)}}e.Aa("ClipboardPasted",n)}finally{e.Yc("Paste"),e.kc=""}},ae.prototype.canPasteSelection=function(){var t=this.g;return!(null===t||t.ib||t.Ef||!t.Kp||!t.iA||null===Cc||0===Cc.count||Sc!==t.$.Yl)},ae.prototype.undo=function(){var t=this.g;null!==t&&t.ja.undo()},ae.prototype.canUndo=function(){var t=this.g;return null!==t&&!t.ib&&!t.Ef&&(t.BE&&t.ja.canUndo())},ae.prototype.redo=function(){var t=this.g;null!==t&&t.ja.redo()},ae.prototype.canRedo=function(){var t=this.g;return null!==t&&!t.ib&&!t.Ef&&(t.BE&&t.ja.canRedo())},ae.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.Hy),Jh.Ad(t,ae,"decreaseZoom:factor");var e=this.g;null!==e&&e.Tl===tf&&((t*=e.scale)<e.Ch||t>e.Bh||(e.scale=t))},ae.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.Hy),Jh.Ad(t,ae,"canDecreaseZoom:factor");var e=this.g;return null!==e&&e.Tl===tf&&(!((t*=e.scale)<e.Ch||t>e.Bh)&&e.lx)},ae.prototype.increaseZoom=function(t){void 0===t&&(t=this.Hy),Jh.Ad(t,ae,"increaseZoom:factor");var e=this.g;null!==e&&e.Tl===tf&&((t*=e.scale)<e.Ch||t>e.Bh||(e.scale=t))},ae.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.Hy),Jh.Ad(t,ae,"canIncreaseZoom:factor");var e=this.g;return null!==e&&e.Tl===tf&&(!((t*=e.scale)<e.Ch||t>e.Bh)&&e.lx)},ae.prototype.resetZoom=function(t){void 0===t&&(t=this.tx),Jh.Ad(t,ae,"resetZoom:newscale");var e=this.g;null===e||t<e.Ch||t>e.Bh||(e.scale=t)},ae.prototype.canResetZoom=function(t){void 0===t&&(t=this.tx),Jh.Ad(t,ae,"canResetZoom:newscale");var e=this.g;return!(null===e||t<e.Ch||t>e.Bh)&&e.lx},ae.prototype.zoomToFit=function(){var t=this.g;if(null!==t){var e=t.scale,n=t.position;e===this.hA&&!isNaN(this.Ez)&&t.Nd.L(this.gA)?(t.scale=this.Ez,t.position=this.tD,this.hA=NaN,this.gA=Vl):(this.Ez=e,this.tD=n.copy(),t.zoomToFit(),this.hA=t.scale,this.gA=t.Nd.copy())}},ae.prototype.canZoomToFit=function(){var t=this.g;return null!==t&&t.lx},ae.prototype.scrollToPart=function(t){void 0===t&&(t=null),null!==t&&Jh.G(t,ls,ae,"part");var e=this.g;if(null!==e){if(null===t){try{null!==this.hj&&(this.hj.next()?t=this.hj.value:this.hj=null)}catch(t){this.hj=null}null===t&&(0<e.em.count?this.hj=e.em.i:0<e.selection.count&&(this.hj=e.selection.i),null!==this.hj&&this.hj.next()&&(t=this.hj.value))}if(null!==t){var n=e.Ka;n.Yn("Scroll To Part");var i=this.CJ;if(0<i){var r=le(this,t,[t]),o=function(){e.Ib();for(var t=r.pop();0<r.length&&t instanceof Ls&&t.wc&&(!(t instanceof Aa)||t.$c);)t=r.pop();0<r.length?(t instanceof ls&&e.nG(t.U),t instanceof Ls&&!t.wc&&(t.wc=!0),t instanceof Aa&&!t.$c&&(t.$c=!0)):(t instanceof ls&&e.IE(t.U),e.uB("LayoutCompleted",s)),e.Yc("Scroll To Part")},s=function(){setTimeout(o,(n.isEnabled?n.duration:0)+i)};e.ax("LayoutCompleted",s),o()}else{var a=e.position.copy();e.IE(t.U),a.Qc(e.position)&&n.Ih()}}}},ae.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof ls)&&(null!==(t=this.g)&&(0!==t.selection.count||0!==t.em.count)&&(t.re&&t.se))},ae.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ib("Collapse Tree"),e.Ka.Yn("Collapse Tree");var n=new c(Ls);if(null!==t&&t.wc)t.collapseTree(),n.add(t);else for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Ls&&(t=r,t.wc&&(t.collapseTree(),n.add(t)))}e.Aa("TreeCollapsed",n)}finally{e.Yc("Collapse Tree")}},ae.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.ib)return!1;if(null!==t){if(!(t instanceof Ls&&t.wc))return!1;if(0<t.Gx().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ls&&e.wc&&0<e.Gx().count)return!0;return!1},ae.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ib("Expand Tree"),e.Ka.Yn("Expand Tree");var n=new c(Ls);if(null===t||t.wc)for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Ls&&(t=r,t.wc||(t.expandTree(),n.add(t)))}else t.expandTree(),n.add(t);e.Aa("TreeExpanded",n)}finally{e.Yc("Expand Tree")}},ae.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.ib)return!1;if(null!==t){if(!(t instanceof Ls)||t.wc)return!1;if(0<t.Gx().count)return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Ls&&!e.wc&&0<e.Gx().count)return!0;return!1},ae.prototype.groupSelection=function(){var t=this.g;if(null!==t){var e=t.$;if(e instanceof Zt){var n=this.CE;if(null!==n){var i=null;try{t.kc="wait",t.Ib("Group"),t.Aa("ChangingSelection");for(var r=new c(ls),o=t.selection.i;o.next();){var s=o.value;s.he()&&s.canGroup()&&r.add(s)}for(var a=new c(ls),u=r.i;u.next();){for(var h=u.value,o=!1,l=r.i;l.next();)if(h.qi(l.value)){o=!0;break}o||a.add(h)}if(0<a.count){var f=a.first().Ca;if(null!==f)for(;null!==f;){for(var r=!1,p=a.i;p.next();)if(!p.value.qi(f)){r=!0;break}if(!r)break;f=f.Ca}if(n instanceof Aa)xo(n),null!==(i=n.copy())&&t.add(i);else if(e.WA(n)){var d=e.copyNodeData(n);Jh.Pa(d)&&(e.Pl(d),i=t.Fx(d))}if(null!==i){null!==f&&this.isValidMember(f,i)&&(i.Ca=f);for(var y=a.i;y.next();){var v=y.value;this.isValidMember(i,v)&&(v.Ca=i)}t.select(i)}}t.Aa("ChangedSelection"),t.Aa("SelectionGrouped",i)}finally{t.Yc("Group"),t.kc=""}}}}},ae.prototype.canGroupSelection=function(){var t=this.g;if(null===t||t.ib||t.Ef||!t.Kp||!t.gx||!(t.$ instanceof Zt)||null===this.CE)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.he()&&e.canGroup())return!0}return!1},ae.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Ys)return!1;if(null!==t){if(t===e||t.qi(e))return!1;var n=t.gB;if(null!==n&&!n(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(n=this.gB)||n(t,e)},ae.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e){var n=e.$;if(n instanceof Zt)try{e.kc="wait",e.Ib("Ungroup"),e.Aa("ChangingSelection");var i=new c(Aa);if(null!==t)i.add(t);else for(var r=e.selection.i;r.next();){var o=r.value;o instanceof Aa&&(t=o,t.canUngroup()&&i.add(t))}if(0<i.count){e.oA();for(var s=i.i;s.next();){var a=s.value;a.expandSubGraph();var u=a.Ca,h=null!==u&&null!==u.data?n.qb(u.data):void 0,l=new c(ls);l.Pc(a.hc);for(var f=l.i;f.next();){var p=f.value;if(p.jb=!0,!(p instanceof Ys)){var d=p.data;null!==d?n.EB(d,h):p.Ca=u}}e.remove(a)}}e.Aa("ChangedSelection"),e.Aa("SelectionUngrouped",i,l)}finally{e.Yc("Ungroup"),e.kc=""}}},ae.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.ib||e.Ef||!e.nn||!e.kx||!(e.$ instanceof Zt))return!1;if(null!==t){if(!(t instanceof Aa))return!1;if(t.canUngroup())return!0}else for(t=e.selection.i;t.next();)if((e=t.value)instanceof Aa&&e.canUngroup())return!0;return!1},ae.prototype.addTopLevelParts=function(t,e){for(var n=!0,i=ce(t).i;i.next();){var r=i.value;null!==r.Ca&&(!e||this.isValidMember(null,r)?r.Ca=null:n=!1)}return n},ae.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ib("Collapse SubGraph"),e.Ka.Yn("Collapse SubGraph");var n=new c(Aa);if(null!==t&&t.$c)t.collapseSubGraph(),n.add(t);else for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Aa&&(t=r,t.$c&&(t.collapseSubGraph(),n.add(t)))}e.Aa("SubGraphCollapsed",n)}finally{e.Yc("Collapse SubGraph")}},ae.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.ib)return!1;if(null!==t)return!!(t instanceof Aa&&t.$c);for(t=e.selection.i;t.next();)if((e=t.value)instanceof Aa&&e.$c)return!0;return!1},ae.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null!==e)try{e.Ib("Expand SubGraph"),e.Ka.Yn("Expand SubGraph");var n=new c(Aa);if(null===t||t.$c)for(var i=e.selection.i;i.next();){var r=i.value;r instanceof Aa&&(t=r,t.$c||(t.expandSubGraph(),n.add(t)))}else t.expandSubGraph(),n.add(t);e.Aa("SubGraphExpanded",n)}finally{e.Yc("Expand SubGraph")}},ae.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.ib)return!1;if(null!==t)return t instanceof Aa&&!t.$c;for(t=e.selection.i;t.next();)if((e=t.value)instanceof Aa&&!e.$c)return!0;return!1},ae.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&Jh.G(t,Vo,ae,"editTextBlock");var e=this.g;if(null!==e){var n=e.Va.NB;if(null!==n){if(null===t){t=null;for(var i=e.selection.i;i.next();){var r=i.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.bu(function(t){return t instanceof Vo&&t.BA})}null!==t&&(e.Xa=null,n.Xg=t,e.Xa=n)}}},ae.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.g;if(null===e||e.ib||e.Ef||!e.jx||null===e.Va.NB)return!1;if(null!==t){if(!(t instanceof Vo))return!1;if(null!==(t=t.W)&&t.canEdit())return!0}else for(e=e.selection.i;e.next();)if(t=e.value,t.canEdit()&&null!==(t=t.bu(function(t){return t instanceof Vo&&t.BA})))return!0;return!1},ae.prototype.showContextMenu=function(t){var e=this.g;if(null!==e){var n=e.Va.tA;if(null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=n.findObjectWithContextMenu(t)))){var i=new Nt,r=null;t instanceof Tr?r=t.Ya(ul):e.CI||(r=e.sb,r=new w(r.x+r.width/2,r.y+r.height/2)),null!==r&&(i.g=e,i.Ce=e.Dy(r),i.ea=r,i.left=!1,i.right=!0,i.up=!0,e.N=i),e.Xa=n,hn(n,!1,t)}}},ae.prototype.canShowContextMenu=function(t){var e=this.g;if(null===e)return!1;var n=e.Va.tA;return null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==n.findObjectWithContextMenu(t))},Jh.defineProperty(ae,{HH:"copiesClipboardData"},function(){return this.wC},function(t){Jh.j(t,"boolean",ae,"copiesClipboardData"),this.wC=t}),Jh.defineProperty(ae,{IH:"copiesConnectedLinks"},function(){return this.xC},function(t){Jh.j(t,"boolean",ae,"copiesConnectedLinks"),this.xC=t}),Jh.defineProperty(ae,{WE:"deletesConnectedLinks"},function(){return this.RC},function(t){Jh.j(t,"boolean",ae,"deletesConnectedLinks"),this.RC=t}),Jh.defineProperty(ae,{KH:"copiesTree"},function(){return this.BC},function(t){Jh.j(t,"boolean",ae,"copiesTree"),this.BC=t}),Jh.defineProperty(ae,{QH:"deletesTree"},function(){return this.SC},function(t){Jh.j(t,"boolean",ae,"deletesTree"),this.SC=t}),Jh.defineProperty(ae,{PE:"copiesParentKey"},function(){return this.AC},function(t){Jh.j(t,"boolean",ae,"copiesParentKey"),this.AC=t}),Jh.defineProperty(ae,{OE:"copiesGroupKey"},function(){return this.zC},function(t){Jh.j(t,"boolean",ae,"copiesGroupKey"),this.zC=t}),Jh.defineProperty(ae,{CE:"archetypeGroupData"},function(){return this.mC},function(t){null!==t&&Jh.G(t,Object,ae,"archetypeGroupData");var e=this.g;null!==e&&(e=e.$)instanceof Zt&&(t instanceof Aa||e.WA(t)||Jh.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t)),this.mC=t}),Jh.defineProperty(ae,{gB:"memberValidation"},function(){return this.Dl},function(t){null!==t&&Jh.j(t,"function",ae,"memberValidation"),this.Dl=t}),Jh.defineProperty(ae,{tx:"defaultScale"},function(){return this.OC},function(t){Jh.Ad(t,ae,"defaultScale"),0<t||Jh.k("defaultScale must be larger than zero, not: "+t),this.OC=t}),Jh.defineProperty(ae,{Hy:"zoomFactor"},function(){return this.sE},function(t){Jh.Ad(t,ae,"zoomFactor"),1<t||Jh.k("zoomFactor must be larger than 1.0, not: "+t),this.sE=t}),Jh.defineProperty(ae,{CJ:"scrollToPartPause"},function(){return this.SD},function(t){Jh.Ad(t,ae,"scrollToPartPause"),this.SD=t}),Jh.ga("Tool",fe),fe.prototype.Tc=function(t){this.aa=t},fe.prototype.toString=function(){return""!==this.name?this.name+" Tool":Jh.pf(Object.getPrototypeOf(this))},fe.prototype.updateAdornments=function(){},fe.prototype.canStart=function(){return this.isEnabled},fe.prototype.doStart=function(){},fe.prototype.doActivate=function(){this.ta=!0},fe.prototype.doDeactivate=function(){this.ta=!1},fe.prototype.doStop=function(){},fe.prototype.doCancel=function(){this.stopTool()},fe.prototype.stopTool=function(){var t=this.g;null!==t&&t.Xa===this&&(t.Xa=null,t.kc="")},fe.prototype.doMouseDown=function(){!this.ta&&this.canStart()&&this.doActivate()},fe.prototype.doMouseMove=function(){},fe.prototype.doMouseUp=function(){this.stopTool()},fe.prototype.doMouseWheel=function(){},fe.prototype.canStartMultiTouch=function(){return!0},fe.prototype.standardPinchZoomStart=function(){var t=this.g;if(null!==t){var e=t.N,n=e.Ix(0,Jh.wb(NaN,NaN)),i=e.Ix(1,Jh.wb(NaN,NaN));if(n.I()&&i.I()&&(this.doCancel(),t.nu("hasGestureZoom"))){t.Ps=t.scale;var r=i.x-n.x,o=i.y-n.y;t.XD=Math.sqrt(r*r+o*o),e.bubbles=!1}Jh.v(n),Jh.v(i)}},fe.prototype.standardPinchZoomMove=function(){var t=this.g;if(null!==t){var e=t.N,n=e.Ix(0,Jh.wb(NaN,NaN)),i=e.Ix(1,Jh.wb(NaN,NaN));if(n.I()&&i.I()&&(this.doCancel(),t.nu("hasGestureZoom"))){var r=i.x-n.x,o=i.y-n.y,o=Math.sqrt(r*r+o*o)/t.XD,r=new w((Math.min(i.x,n.x)+Math.max(i.x,n.x))/2,(Math.min(i.y,n.y)+Math.max(i.y,n.y))/2),o=t.Ps*o,s=t.pb;if(o!==t.scale&&s.canResetZoom(o)){var a=t.zi;t.zi=r,s.resetZoom(o),t.zi=a}e.bubbles=!1}Jh.v(n),Jh.v(i)}},fe.prototype.doKeyDown=function(){var t=this.g;null!==t&&"Esc"===t.N.key&&this.doCancel()},fe.prototype.doKeyUp=function(){},fe.prototype.startTransaction=fe.prototype.Ib=function(t){void 0===t&&(t=this.name),this.Lf=null;var e=this.g;return null!==e&&e.Ib(t)},fe.prototype.stopTransaction=fe.prototype.Wk=function(){var t=this.g;return null!==t&&(null===this.Lf?t.mm():t.Yc(this.Lf))},fe.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.Bf){var e=t.N,n=t.eu(e.ea,!1);if(null!==n){if(Jh.zh?e.Iu:e.control){for(t.Aa("ChangingSelection"),e=n;null!==e&&!e.canSelect();)e=e.Ca;null!==e&&(e.jb=!e.jb),t.Aa("ChangedSelection")}else if(e.shift){if(!n.jb){for(t.Aa("ChangingSelection"),e=n;null!==e&&!e.canSelect();)e=e.Ca;null!==e&&(e.jb=!0),t.Aa("ChangedSelection")}}else if(!n.jb){for(e=n;null!==e&&!e.canSelect();)e=e.Ca;null!==e&&t.select(e)}}else!e.left||(Jh.zh?e.Iu:e.control)||e.shift||t.oA()}},fe.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Hc});var n=this.g;if(null===n)return!1;var i=n.N,r=n.Pe(i.ea,t,e);return i.Be=r,pe(r,i,n),i.vc},fe.prototype.standardMouseOver=function(){var t=this.g;if(null!==t){var e=t.N;if(null!==e.g&&!0!==t.Ka.sc){var n=t.gb;t.gb=!0;var i=t.fh?t.Pe(e.ea,null,null):null;e.Be=i;var r=!1;if(i!==t.zo){var o=t.zo,s=o;for(t.zo=i,this.doCurrentObjectChanged(o,i),e.vc=!1;null!==o;){var a=o.Ku;if(null!==a){if(i===o)break;if(null!==i&&i.hm(o))break;if(a(e,o,i),r=!0,e.vc)break}o=o.R}for(o=s,e.vc=!1;null!==i;){if(null!==(a=i.Ju)){if(o===i)break;if(null!==o&&o.hm(i))break;if(a(e,i,o),r=!0,e.vc)break}i=i.R}i=t.zo}if(null!==i){for(o=i,s="";null!==o&&""===(s=o.cursor);)o=o.R;for(t.kc=s,e.vc=!1,o=i;null!==o&&(null===(i=o.kB)||(i(e,o),r=!0,!e.vc));)o=o.R}else t.kc="",null!==(i=t.kB)&&(i(e),r=!0);r&&t.ye(),t.gb=n}}},fe.prototype.doCurrentObjectChanged=function(){},fe.prototype.standardMouseWheel=function(){var t=this.g;if(null!==t){var e=t.N,n=e.oi;if(0!==n&&t.Nd.I()){var i=t.pb,r=t.Va.Lu;if((r===Yc&&!e.shift||r===Jc&&e.control)&&(0<n?i.canIncreaseZoom():i.canDecreaseZoom()))r=t.zi,t.zi=e.Ce,0<n?i.increaseZoom():i.decreaseZoom(),t.zi=r,e.bubbles=!1;else if(r===Yc&&e.shift||r===Jc&&!e.control){var i=t.position.copy(),r=0<n?n:-n,o=e.event.deltaMode,s=e.event.deltaX,a=e.event.deltaY,u="pixel";if((Jh.hq||Jh.iq||Jh.VA)&&(o=1,0<s&&(s=3),0>s&&(s=-3),0<a&&(a=3),0>a&&(a=-3)),void 0===o||void 0===s||void 0===a||0===s&&0===a||e.shift)!e.shift&&t.se?(o=t.Zu,r=3*r*o,0<n?t.scroll("pixel","up",r):t.scroll("pixel","down",r)):e.shift&&t.re&&(o=t.Yu,r=3*r*o,0<n?t.scroll("pixel","left",r):t.scroll("pixel","right",r));else{switch(o){case 0:u="pixel";break;case 1:u="line";break;case 2:u="page";break;default:u="pixel"}0!==s&&t.re&&(0<s?t.scroll(u,"left",-s):t.scroll(u,"right",s)),0!==a&&t.se&&(0<a?t.scroll(u,"up",-a):t.scroll(u,"down",a))}t.position.L(i)||(e.bubbles=!1)}}}},fe.prototype.standardWaitAfter=function(t,e){Jh.j(t,"number",fe,"standardWaitAfter:delay"),void 0===e&&(e=this.g.N),this.cancelWaitAfter();var n=this,i=e.copy();this.Zw=Jh.setTimeout(function(){n.doWaitAfter(i)},t)},fe.prototype.cancelWaitAfter=function(){-1!==this.Zw&&Jh.clearTimeout(this.Zw),this.Zw=-1},fe.prototype.doWaitAfter=function(){},fe.prototype.findToolHandleAt=function(t,e){var n=this.g;return null===n?null:(n=n.Pe(t,function(t){for(;null!==t&&!(t.R instanceof Es);)t=t.R;return t}),null===n?null:n.W.kd===e?n:null)},fe.prototype.isBeyondDragSize=function(t,e){var n=this.g;if(null===n)return!1;void 0===t&&(t=n.uc.Ce),void 0===e&&(e=n.N.Ce);var i=n.Va.UH,r=i.width,i=i.height;return n.uc.Aj&&(r+=6,i+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>i},Jh.u(fe,{g:"diagram"},function(){return this.aa}),Jh.defineProperty(fe,{name:"name"},function(){return this.Sb},function(t){Jh.j(t,"string",fe,"name"),this.Sb=t}),Jh.defineProperty(fe,{isEnabled:"isEnabled"},function(){return this.jf},function(t){Jh.j(t,"boolean",fe,"isEnabled"),this.jf=t}),Jh.defineProperty(fe,{ta:"isActive"},function(){return this.gD},function(t){Jh.j(t,"boolean",fe,"isActive"),this.gD=t}),Jh.defineProperty(fe,{Lf:"transactionResult"},function(){return this.nE},function(t){null!==t&&Jh.j(t,"string",fe,"transactionResult"),this.nE=t}),Jh.La(de,fe),Jh.ga("DraggingTool",de),Jh.defineProperty(de,{BF:"isCopyEnabled"},function(){return this.kD},function(t){Jh.j(t,"boolean",de,"isCopyEnabled"),this.kD=t}),Jh.defineProperty(de,{JH:"copiesEffectiveCollection"},function(){return this.yC},function(t){Jh.j(t,"boolean",de,"copiesEffectiveCollection"),this.yC=t}),Jh.defineProperty(de,{VH:"dragsTree"},function(){return this.XC},function(t){Jh.j(t,"boolean",de,"dragsTree"),this.XC=t}),Jh.defineProperty(de,{Sk:"isGridSnapEnabled"},function(){return this.Yr},function(t){Jh.j(t,"boolean",de,"isGridSnapEnabled"),this.Yr=t}),Jh.defineProperty(de,{yI:"isComplexRoutingRealtime"},function(){return this.jD},function(t){Jh.j(t,"boolean",de,"isComplexRoutingRealtime"),this.jD=t}),Jh.defineProperty(de,{DF:"isGridSnapRealtime"},function(){return this.oD},function(t){Jh.j(t,"boolean",de,"isGridSnapRealtime"),this.oD=t}),Jh.defineProperty(de,{sF:"gridSnapCellSize"},function(){return this.vz},function(t){Jh.G(t,P,de,"gridSnapCellSize"),this.vz.L(t)||(this.vz=t=t.S())}),Jh.defineProperty(de,{jI:"gridSnapCellSpot"},function(){return this.wz},function(t){Jh.G(t,E,de,"gridSnapCellSpot"),this.wz.L(t)||(this.wz=t=t.S())}),Jh.defineProperty(de,{kI:"gridSnapOrigin"},function(){return this.xz},function(t){Jh.G(t,w,de,"gridSnapOrigin"),this.xz.L(t)||(this.xz=t=t.S())}),Jh.defineProperty(de,{uj:"dragsLink"},function(){return this.WC},function(t){Jh.j(t,"boolean",de,"dragsLink"),this.WC=t}),Jh.defineProperty(de,{yn:"currentPart"},function(){return this.GC},function(t){null!==t&&Jh.G(t,ls,de,"currentPart"),this.GC=t}),Jh.defineProperty(de,{ec:"copiedParts"},function(){return this.vC},function(t){this.vC=t}),Jh.defineProperty(de,{$b:"draggedParts"},function(){return this.VC},function(t){this.VC=t}),Jh.u(de,{aL:"draggingParts"},function(){return null!==this.ec?this.ec.Mj():null!==this.$b?this.$b.Mj():this.VG}),Jh.defineProperty(de,{ld:"draggedLink"},function(){return this.kz},function(t){null!==t&&Jh.G(t,Ys,de,"draggedLink"),this.kz!==t&&(this.kz=t,null!==t?(this.vw=t.gc,this.ww=t.zc):this.ww=this.vw=null)}),Jh.defineProperty(de,{Mx:"isDragOutStarted"},function(){return this.mD},function(t){this.mD=t}),Jh.defineProperty(de,{Vk:"startPoint"},function(){return this.Pw},function(t){Jh.G(t,w,de,"startPoint"),this.Pw.L(t)||(this.Pw=t=t.S())}),Jh.defineProperty(de,{SE:"delay"},function(){return this.Fo},function(t){Jh.j(t,"number",de,"delay"),this.Fo=t}),de.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.ib&&!t.Rt||!t.Rl&&!t.Ck&&!t.Rt||!t.Bf)return!1;var e=t.N;return!(!e.left||t.Xa!==this&&(!this.isBeyondDragSize()||e.Aj&&e.timestamp-t.uc.timestamp<this.Fo))&&null!==this.findDraggablePart()},de.prototype.findDraggablePart=function(){var t=this.g;if(null===t)return null;if(null===(t=t.eu(t.uc.ea,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.Ca;return null!==t&&(t.canMove()||t.canCopy())?t:null},de.prototype.standardMouseSelect=function(){var t=this.g;if(null!==t&&t.Bf){var e=t.eu(t.uc.ea,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.Ca;this.yn=e,this.yn.jb||(t.Aa("ChangingSelection"),e=t.N,(Jh.zh?e.Iu:e.control)||e.shift||Ti(t),this.yn.jb=!0,t.Aa("ChangedSelection"))}}},de.prototype.doActivate=function(){var t=this.g;if(null!==t){null===this.yn&&this.standardMouseSelect();var e=this.yn;null!==e&&(e.canMove()||e.canCopy())&&(this.ta=!0,this.wp.set(t.position),ye(this,t.selection),this.Uj.length=0,this.$b=this.computeEffectiveCollection(t.selection),t.fo=!0,we(this,this.$b),this.Ib("Drag"),this.Vk=t.uc.ea,t.ef=!0,t.Rt&&(this.Mx=!0,this.Dr=!1,Mc=this,_c=this.g,this.doSimulatedDragOut()))}},de.prototype.computeEffectiveCollection=function(t){var e=null!==this.g&&this.g.Xa===this,n=new b(ls);if(null===t)return n;for(var i=t.i;i.next();)ge(this,n,i.value,e);if(null!==this.ld&&this.uj)return n;for(i=t.i;i.next();)(t=i.value)instanceof Ys&&(e=t.V,null===e||n.contains(e)?null===(e=t.Z)||n.contains(e)||n.remove(t):n.remove(t));return n},de.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;if(null!==t&&ar(t),me(this),xe(this,this.$b),this.$b=this.yn=null,this.Dr=this.Mx=!1,0<Tc.count){for(var e=Tc.length,n=0;n<e;n++){var i=Tc.fa(n);Se(i),Ce(i),me(i),null!==i.g&&ar(i.g)}Tc.clear()}Se(this),this.wp.m(NaN,NaN),Mc=_c=null,Ce(this),t.ef=!1,t.kc="",t.fo=!1,this.Wk()},de.prototype.doCancel=function(){Ce(this),_e(this);var t=this.g;null!==t&&this.wp.I()&&(t.position=this.wp),this.stopTool()},de.prototype.doKeyDown=function(){var t=this.g;null!==t&&null!==(t=t.N)&&this.ta&&("Esc"===t.key?this.doCancel():this.doMouseMove())},de.prototype.doKeyUp=function(){var t=this.g;null!==t&&null!==t.N&&this.ta&&this.doMouseMove()},de.prototype.moveParts=function(t,e,n){if(null!==t&&(Jh.G(t,b,de,"moveParts:parts"),0!==t.count)){var i=Jh.K(),r=Jh.K();r.assign(e),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),(e=this.Sw)||we(this,t);for(var o=new c(Be),s=new c(g),a=t.i;a.next();){var u=a.key;if(u.he()){var h=Me(this,u,t);if(null!==h)o.add(new Be(u,a.value,h));else if(!n||u.canMove()){h=a.value.point,i.assign(h);var l=new w,f=this.computeMove(u,i.add(r),t,l);u.location=f,a.value.vG=l.ui(h)}}else a.key instanceof Ys&&s.add(a.Wa)}for(n=o.i;n.next();)l=n.value,h=l.info.point,i.assign(h),l.Rc.location=i.add(l.lI.vG);for(n=Jh.K(),h=Jh.K(),s=s.i;s.next();)if(a=s.value,(o=a.key)instanceof Ys)if(o.vi)if(l=o.V,u=o.Z,null!==this.ld&&this.uj)if(a=a.value.point,null===o.xx)t.add(o,ve(this,o,r)),u=r.x-a.x,a=r.y-a.y,o.Ej(u,a);else{f=Jh.wb(0,0),(l=o.l(0))&&l.I()&&f.assign(l),l=Jh.K(),l.assign(f),l.add(r);var p=l;this.Sk&&(this.DF||this.g.N.up)&&(p=Jh.K(),Ne(this,o,l,p)),l.assign(o.xx(o,l,p)),l.ui(f),t.add(o,ve(this,o,l)),u=l.x-a.x,a=l.y-a.y,o.Ej(u,a),Jh.v(f),Jh.v(l),p!==l&&Jh.v(p)}else null!==l&&(n.assign(l.location),null!==(f=t.ka(l))&&n.ui(f.point)),null!==u&&(h.assign(u.location),null!==(f=t.ka(u))&&h.ui(f.point)),null!==l&&null!==u?n.Qc(h)?(a=a.value.point,l=i,l.assign(n),l.ui(a),t.add(o,ve(this,o,n)),o.Ej(l.x,l.y)):(o.vi=!1,o.Tb()):(a=a.value.point,l=null!==l?n:null!==u?h:r,t.add(o,ve(this,o,l)),u=l.x-a.x,a=l.y-a.y,o.Ej(u,a));else null!==o.V&&null!==o.Z||(a=a.value.point,t.add(o,ve(this,o,r)),u=r.x-a.x,a=r.y-a.y,o.Ej(u,a));Jh.v(i),Jh.v(r),Jh.v(n),Jh.v(h),e||(ci(this.g),xe(this,t))}},de.prototype.computeMove=function(t,e,n,i){if(void 0===i&&(i=new w),i.assign(e),null===t)return i;void 0===n&&(n=null);var r=e,o=this.Sk;o&&(this.DF||null===n||null!==this.g&&this.g.N.up)&&(r=Jh.K(),Ne(this,t,e,r)),n=null!==t.xx?t.xx(t,e,r):r;var s=t.$I,a=s.x;isNaN(a)&&(a=o?Math.round(t.location.x):t.location.x),s=s.y,isNaN(s)&&(s=o?Math.round(t.location.y):t.location.y);var u=t.UI,h=u.x;return isNaN(h)&&(h=o?Math.round(t.location.x):t.location.x),u=u.y,isNaN(u)&&(u=o?Math.round(t.location.y):t.location.y),i.m(Math.max(a,Math.min(n.x,h)),Math.max(s,Math.min(n.y,u))),r!==e&&Jh.v(r),i},de.prototype.doDragOver=function(){},de.prototype.doDropOnto=function(){},de.prototype.doMouseMove=function(){if(this.ta){var t=this.g;null!==t&&null!==this.yn&&null!==this.$b&&(this.mayCopy()?(t.kc="copy",Pe(this,!1),we(this,this.ec),Te(this,this.ec,!1),xe(this,this.ec)):this.mayMove()?(Ce(this),Te(this,this.$b,!0)):this.mayDragOut()?(t.kc="no-drop",Pe(this,!1),Te(this,this.ec,!1)):Ce(this),Oe(this,t.N.ea))}},de.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null!==t){var e=!1,n=this.mayCopy();if(n&&null!==this.ec?(Ce(this),Pe(this,!0),we(this,this.ec),Te(this,this.ec,!1),xe(this,this.ec),null!==this.ec&&t.qG(this.ec.Mj())):(e=!0,Ce(this),this.mayMove()&&(Te(this,this.$b,!0),Oe(this,t.N.ea))),this.Dr=!0,Fe(this,t.N.ea),this.ta){if(this.ec=null,e&&null!==this.$b)for(e=this.$b.i;e.next();){var i=e.key;i instanceof Ls&&(null===(i=i.Ca)||null===i.placeholder||this.$b.contains(i)||i.placeholder.H())}t.Gc(),xe(this,this.$b),this.Lf=n?"Copy":"Move",t.Aa(n?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},de.prototype.mayCopy=function(){if(!this.BF)return!1;var t=this.g;if(null===t||t.ib||t.Ef||!t.Kp||!t.Ck||(Jh.zh?!t.N.alt:!t.N.control))return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.he()&&e.canCopy())return!0}return!(null===this.ld||!this.uj||!this.ld.canCopy())},de.prototype.mayDragOut=function(){if(!this.BF)return!1;var t=this.g;if(null===t||!t.Rt||!t.Ck||t.Rl)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.he()&&e.canCopy())return!0}return!(null===this.ld||!this.uj||!this.ld.canCopy())},de.prototype.mayMove=function(){var t=this.g;if(null===t||t.ib||!t.Rl)return!1;for(t=t.selection.i;t.next();){var e=t.value;if(e.he()&&e.canMove())return!0}return!(null===this.ld||!this.uj||!this.ld.canMove())};var Tc=new c(de),Mc=null,_c=null;de.prototype.getDraggingSource=function(){return Mc},de.prototype.mayDragIn=function(){var t=this.g;if(null===t||!t.AE||t.ib||t.Ef||!t.Kp)return!1;var e=Mc;return null!==e&&null!==e.g&&e.g.$.Yl===t.$.Yl},de.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.g;t.Ka.Ih(),hi(t),t.Ka.Ih(),t=Mc,null!==t&&null!==t.g&&(t.g.kc="copy",t.g.fo=!0)}},de.prototype.doSimulatedDragLeave=function(){var t=Mc;null!==t&&t.doSimulatedDragOut(),this.doCancel()},de.prototype.doSimulatedDragOver=function(){var t=this.g;if(null!==t){var e=Mc;null!==e&&null!==e.$b&&this.mayDragIn()&&(t.kc="copy",Ve(this,e.$b.Mj(),!1,t.uc),Te(this,this.ec,!1),Oe(this,t.N.ea))}},de.prototype.doSimulatedDrop=function(){var t=this.g;if(null!==t){var e=Mc;if(null!==e){var n=e.g;e.Dr=!0,Ce(this),this.mayDragIn()&&(this.Ib("Drop"),Ve(this,e.$b.Mj(),!0,t.N),Te(this,this.ec,!1),null!==this.ec&&t.qG(this.ec.Mj()),Fe(this,t.N.ea),t.Gc(),e=t.selection,null!==this.ec?this.Lf="ExternalCopy":e=new p(ls),this.ec=null,t.doFocus(),t.Aa("ExternalObjectsDropped",e,n),this.Wk())}}},de.prototype.doSimulatedDragOut=function(){var t=this.g;null!==t&&(this.mayCopy()||this.mayMove()?t.kc="":t.kc="no-drop",t.fo=!1)},Jh.ga("DraggingInfo",Ie),Jh.La(qe,fe),Jh.ga("LinkingBaseTool",qe),qe.prototype.doStop=function(){var t=this.g;null!==t&&ar(t),this.Tg=this.Sg=this.Rg=this.Qg=this.mc=null,this.Fy.clear(),this.Kf=null},Jh.defineProperty(qe,{$F:"portGravity"},function(){return this.OD},function(t){Jh.j(t,"number",qe,"portGravity"),0<=t&&(this.OD=t)}),Jh.defineProperty(qe,{kq:"isUnconnectedLinkValid"},function(){return this.rD},function(t){Jh.j(t,"boolean",qe,"isUnconnectedLinkValid"),this.rD=t}),Jh.defineProperty(qe,{wf:"temporaryLink"},function(){return this.hE},function(t){Jh.G(t,Ys,qe,"temporaryLink"),this.hE=t}),Jh.defineProperty(qe,{Wd:"temporaryFromNode"},function(){return this.fE},function(t){Jh.G(t,Ls,qe,"temporaryFromNode"),this.fE=t}),Jh.defineProperty(qe,{ho:"temporaryFromPort"},function(){return this.gE},function(t){Jh.G(t,Tr,qe,"temporaryFromPort"),this.gE=t}),Jh.defineProperty(qe,{Xd:"temporaryToNode"},function(){return this.iE},function(t){Jh.G(t,Ls,qe,"temporaryToNode"),this.iE=t}),Jh.defineProperty(qe,{io:"temporaryToPort"},function(){return this.jE},function(t){Jh.G(t,Tr,qe,"temporaryToPort"),this.jE=t}),Jh.defineProperty(qe,{mc:"originalLink"},function(){return this.JD},function(t){null!==t&&Jh.G(t,Ys,qe,"originalLink"),this.JD=t}),Jh.defineProperty(qe,{Qg:"originalFromNode"},function(){return this.GD},function(t){null!==t&&Jh.G(t,Ls,qe,"originalFromNode"),this.GD=t}),Jh.defineProperty(qe,{Rg:"originalFromPort"},function(){return this.HD},function(t){null!==t&&Jh.G(t,Tr,qe,"originalFromPort"),this.HD=t}),Jh.defineProperty(qe,{Sg:"originalToNode"},function(){return this.MD},function(t){null!==t&&Jh.G(t,Ls,qe,"originalToNode"),this.MD=t}),Jh.defineProperty(qe,{Tg:"originalToPort"},function(){return this.ND},function(t){null!==t&&Jh.G(t,Tr,qe,"originalToPort"),this.ND=t}),Jh.defineProperty(qe,{Td:"isForwards"},function(){return this.nD},function(t){Jh.j(t,"boolean",qe,"isForwards"),this.nD=t}),Jh.u(qe,{Fy:"validPortsCache"},function(){return this.iH}),Jh.defineProperty(qe,{Kf:"targetPort"},function(){return this.cE},function(t){null!==t&&Jh.G(t,Tr,qe,"targetPort"),this.cE=t}),qe.prototype.copyPortProperties=function(t,e,n,i,r){if(null!==t&&null!==e&&null!==n&&null!==i){i.Da=e.U.size,r?(i.Nb=e.Nb,i.um=e.um):(i.Mb=e.Mb,i.am=e.am),n.Gf=ul;var o=Jh.K();n.location=e.Ya(ul,o),Jh.v(o),i.angle=e.bm(),null!==this.ky&&this.ky(t,e,n,i,r)}},qe.prototype.setNoTargetPortProperties=function(t,e,n){null!==e&&(e.Da=Ul,e.Mb=nl,e.Nb=nl),null!==t&&null!==this.g&&(t.location=this.g.N.ea),null!==this.ky&&this.ky(null,null,t,e,n)},qe.prototype.doMouseDown=function(){this.ta&&this.doMouseMove()},qe.prototype.doMouseMove=function(){if(this.ta){var t=this.g;if(null!==t){if(this.Kf=this.findTargetPort(this.Td),null!==this.Kf&&this.Kf.W instanceof Ls){var e=this.Kf.W;this.Td?this.copyPortProperties(e,this.Kf,this.Xd,this.io,!0):this.copyPortProperties(e,this.Kf,this.Wd,this.ho,!1)}else this.Td?this.setNoTargetPortProperties(this.Xd,this.io,!0):this.setNoTargetPortProperties(this.Wd,this.ho,!1);(t.re||t.se)&&t.AA(t.N.Ce)}}},qe.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var n=t.W;if(!(n instanceof Ls))return null;for(;null!==t;){var i=e?t.EG:t.hF;if(!0===i&&(null!==t.le||t instanceof Ls)&&(e?this.isValidTo(n,t):this.isValidFrom(n,t)))return t;if(!1===i)break;t=t.R}return null},qe.prototype.findTargetPort=function(t){var e=this.g,n=e.N.ea,i=this.$F;0>=i&&(i=.1);for(var r=this,o=e.An(n,i,function(e){return r.findValidLinkablePort(e,t)},null,!0),i=1/0,e=null,o=o.i;o.next();){var s=o.value,a=s.W;if(a instanceof Ls){var u=s.Ya(ul,Jh.K()),h=n.x-u.x,l=n.y-u.y;Jh.v(u),u=h*h+l*l,u<i&&(h=this.Fy.ka(s),null!==h?h&&(e=s,i=u):t&&this.isValidLink(this.Qg,this.Rg,a,s)||!t&&this.isValidLink(a,s,this.Sg,this.Tg)?(this.Fy.add(s,!0),e=s,i=u):this.Fy.add(s,!1))}}return null!==e&&(n=e.W)instanceof Ls&&(null===n.layer||n.layer.St)?e:null},qe.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.kq;if(null!==this.g&&this.g.Xa===this&&(null!==t.layer&&!t.layer.St||!0!==e.hF))return!1;var n=e.GA;if(1/0>n){if(null!==this.mc&&t===this.Qg&&e===this.Rg)return!0;var i=e.le;if(null===i&&(i=""),t.Ex(i).count>=n)return!1}return!0},qe.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.kq;if(null!==this.g&&this.g.Xa===this&&(null!==t.layer&&!t.layer.St||!0!==e.EG))return!1;var n=e.VJ;if(1/0>n){if(null!==this.mc&&t===this.Sg&&e===this.Tg)return!0;var i=e.le;if(null===i&&(i=""),t.Mg(i).count>=n)return!1}return!0},qe.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var n=t.W,i=e.W;return null!==n&&n===i},qe.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var n=t.W;if(!(n instanceof Ls))return!1;var i=t.le;null===i&&(i="");var r=e.W;if(!(r instanceof Ls))return!1;var o=e.le;for(null===o&&(o=""),r=r.Mg(o);r.next();)if(o=r.value,o.V===n&&o.Ng===i)return!0;return!1},qe.prototype.isValidLink=function(t,e,n,i){if(!this.isValidFrom(t,e)||!this.isValidTo(n,i)||!(null===e||null===i||(e.bI&&i.UJ||!this.isInSameNode(e,i))&&(e.aI&&i.TJ||!this.isLinked(e,i)))||null!==this.mc&&(null!==t&&this.isLabelDependentOnLink(t,this.mc)||null!==n&&this.isLabelDependentOnLink(n,this.mc))||null!==t&&null!==n&&(null===t.data&&null!==n.data||null!==t.data&&null===n.data)||!this.isValidCycle(t,n,this.mc))return!1;if(null!==t){var r=t.Xx;if(null!==r&&!r(t,e,n,i,this.mc))return!1}return!(null!==n&&null!==(r=n.Xx)&&!r(t,e,n,i,this.mc))&&(null===(r=this.Xx)||r(t,e,n,i,this.mc))},qe.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var n=t.Xb;if(null===n)return!1;if(n===e)return!0;var i=new p(Ls);return i.add(t),ze(this,n,e,i)},qe.prototype.isValidCycle=function(t,e,n){if(void 0===n&&(n=null),null===t||null===e)return this.kq;var i=null!==this.g?this.g.aK:rf;if(i!==rf){if(i===uf){if(null!==(i=n||this.wf)&&!i.bc)return!0;for(i=e.je;i.next();){var r=i.value;if(r!==n&&r.bc&&r.Z===e)return!1}return!Ge(this,t,e,n,!0)}if(i===hf){if(null!==(i=n||this.wf)&&!i.bc)return!0;for(i=t.je;i.next();)if((r=i.value)!==n&&r.bc&&r.V===t)return!1;return!Ge(this,t,e,n,!0)}if(i===of)return t===e?t=!0:(i=new p(Ls),i.add(e),t=He(this,i,t,e,n)),!t;if(i===sf)return!Ge(this,t,e,n,!1);if(i===af)return t===e?t=!0:(i=new p(Ls),i.add(e),t=Ue(this,i,t,e,n)),!t}return!0},Jh.defineProperty(qe,{Xx:"linkValidation"},function(){return this.Bl},function(t){null!==t&&Jh.j(t,"function",qe,"linkValidation"),this.Bl=t}),Jh.defineProperty(qe,{ky:"portTargeted"},function(){return this.PD},function(t){null!==t&&Jh.j(t,"function",qe,"portTargeted"),this.PD=t}),Jh.La(Ke,qe),Jh.ga("LinkingTool",Ke);var Nc;Ke.Either=Nc=Jh.p(Ke,"Either",0);var Ac;Ke.ForwardsOnly=Ac=Jh.p(Ke,"ForwardsOnly",0);var Oc;Ke.BackwardsOnly=Oc=Jh.p(Ke,"BackwardsOnly",0),Jh.defineProperty(Ke,{EE:"archetypeLinkData"},function(){return this.oC},function(t){null!==t&&Jh.G(t,Object,Ke,"archetypeLinkData"),t instanceof Tr&&Jh.G(t,Ys,Ke,"archetypeLinkData"),this.oC=t}),Jh.defineProperty(Ke,{DE:"archetypeLabelNodeData"},function(){return this.nC},function(t){null!==t&&Jh.G(t,Object,Ke,"archetypeLabelNodeData"),t instanceof Tr&&Jh.G(t,Ls,Ke,"archetypeLabelNodeData"),this.nC=t}),Jh.defineProperty(Ke,{direction:"direction"},function(){return this.ba},function(t){Jh.ob(t,Ke,Ke,"direction"),this.ba=t}),Jh.defineProperty(Ke,{yG:"startObject"},function(){return this.YD},function(t){null!==t&&Jh.G(t,Tr,Ke,"startObject"),this.YD=t}),Ke.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.ib||t.Ef||!t.St)return!1;var e=t.$;return!(!(e instanceof Zt||e instanceof ee)||!t.N.left||t.Xa!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Ke.prototype.findLinkablePort=function(){var t=this.g;if(null===t)return null;var e=this.yG;if(null===e&&(e=t.Pe(t.uc.ea,null,null)),null===e||!(e.W instanceof Ls))return null;if((t=this.direction)===Nc||t===Ac){var n=this.findValidLinkablePort(e,!1);if(null!==n)return this.Td=!0,n}return t!==Nc&&t!==Oc||null===(n=this.findValidLinkablePort(e,!0))?null:(this.Td=!1,n)},Ke.prototype.doActivate=function(){var t=this.g;if(null!==t){var e=this.findLinkablePort();null!==e&&(this.Ib(this.name),t.ef=!0,t.kc="pointer",this.Td?(null===this.Xd||this.Xd.location.I()||(this.Xd.location=t.N.ea),this.Rg=e,e=this.Rg.W,e instanceof Ls&&(this.Qg=e),this.copyPortProperties(this.Qg,this.Rg,this.Wd,this.ho,!1)):(null===this.Wd||this.Wd.location.I()||(this.Wd.location=t.N.ea),this.Tg=e,e=this.Tg.W,e instanceof Ls&&(this.Sg=e),this.copyPortProperties(this.Sg,this.Tg,this.Xd,this.io,!0)),t.add(this.Wd),t.add(this.Xd),null!==this.wf&&(null!==this.Wd&&(this.wf.V=this.Wd),null!==this.Xd&&(this.wf.Z=this.Xd),this.wf.bc=this.isNewTreeLink(),this.wf.Tb(),t.add(this.wf)),this.ta=!0)}},Ke.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;null!==t&&(t.remove(this.wf),t.remove(this.Wd),t.remove(this.Xd),t.ef=!1,t.kc="",this.Wk())},Ke.prototype.doStop=function(){qe.prototype.doStop.call(this),this.yG=null},Ke.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null===t)return;var e=this.Lf=null,n=null,i=null,r=null,o=this.Kf=this.findTargetPort(this.Td);if(null!==o){var s=o.W;s instanceof Ls&&(this.Td?(null!==this.Qg&&(e=this.Qg,n=this.Rg),i=s,r=o):(e=s,n=o,null!==this.Sg&&(i=this.Sg,r=this.Tg)))}else this.Td?null!==this.Qg&&this.kq&&(e=this.Qg,n=this.Rg):null!==this.Sg&&this.kq&&(i=this.Sg,r=this.Tg);null!==e||null!==i?(s=this.insertLink(e,n,i,r),null!==s?(null===o&&(this.Td?s.Vp=t.N.ea:s.Up=t.N.ea),t.Bf&&t.select(s),this.Lf=this.name,t.Aa("LinkDrawn",s)):(t.$.JE(),this.doNoLink(e,n,i,r))):this.Td?this.doNoLink(this.Qg,this.Rg,null,null):this.doNoLink(null,null,this.Sg,this.Tg)}this.stopTool()},Ke.prototype.isNewTreeLink=function(){var t=this.EE;if(null===t)return!0;if(t instanceof Ys)return t.bc;var e=this.g;return null===e||(t=e.bq(t),null===(e=Hi(e,t))||e.bc)},Ke.prototype.insertLink=function(t,e,n,i){var r=this.g;if(null===r)return null;var o=r.$;if(o instanceof ee){var s=t;if(e=n,r.Vd||(s=n,e=t),null!==s&&null!==e)return o.ti(e.data,o.qb(s.data)),e.Bn()}else if(o instanceof Zt)if(s="",null!==t&&(null===e&&(e=t),null===(s=e.le)&&(s="")),e="",null!==n&&(null===i&&(i=n),null===(e=i.le)&&(e="")),(i=this.EE)instanceof Ys){if(xo(i),null!==(o=i.copy()))return o.V=t,o.Ng=s,o.Z=n,o.Jh=e,r.add(o),t=this.DE,t instanceof Ls&&(xo(t),null!==(t=t.copy())&&(t.Xb=o,r.add(t))),o}else if(null!==i&&(i=o.ox(i),Jh.Pa(i)))return null!==t&&o.CB(i,o.qb(t.data)),o.DB(i,s),null!==n&&o.IB(i,o.qb(n.data)),o.JB(i,e),o.Ot(i),t=this.DE,null===t||t instanceof Ls||(t=o.copyNodeData(t),Jh.Pa(t)&&(o.Pl(t),void 0!==(t=o.qb(t))&&o.yE(i,t))),o=r.Yf(i);return null},Ke.prototype.doNoLink=function(){},Jh.La(We,qe),Jh.ga("RelinkingTool",We),We.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ys){var e="RelinkFrom",n=null;if(t.jb&&null!==this.g&&!this.g.ib){var i=t.Fq;null!==i&&t.canRelinkFrom()&&t.U.I()&&t.isVisible()&&i.U.I()&&i.Cj()&&null===(n=t.Yp(e))&&(n=this.makeAdornment(i,!1),t.Ol(e,n))}null===n&&t.Ij(e),e="RelinkTo",n=null,t.jb&&null!==this.g&&!this.g.ib&&null!==(i=t.Fq)&&t.canRelinkTo()&&t.U.I()&&t.isVisible()&&i.U.I()&&i.Cj()&&null===(n=t.Yp(e))&&(n=this.makeAdornment(i,!0),t.Ol(e,n)),null===n&&t.Ij(e)}},We.prototype.makeAdornment=function(t,e){var n=new Es;n.type=ip;var i=e?this.SJ:this.$H;return null!==i&&n.add(i.copy()),n.ub=t,n},Jh.defineProperty(We,{$H:"fromHandleArchetype"},function(){return this.aD},function(t){null!==t&&Jh.G(t,Tr,We,"fromHandleArchetype"),this.aD=t}),Jh.defineProperty(We,{SJ:"toHandleArchetype"},function(){return this.kE},function(t){null!==t&&Jh.G(t,Tr,We,"toHandleArchetype"),this.kE=t}),Jh.u(We,{handle:"handle"},function(){return this.qc}),We.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.ib||t.Ef||!t.on)return!1;var e=t.$;return!(!(e instanceof Zt||e instanceof ee)||!t.N.left)&&(e=this.findToolHandleAt(t.uc.ea,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.uc.ea,"RelinkTo")),null!==e)},We.prototype.doActivate=function(){var t=this.g;if(null!==t){if(null===this.mc){var e=this.findToolHandleAt(t.uc.ea,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.uc.ea,"RelinkTo")),null===e)return;var n=e.W;if(!(n instanceof Es&&n.Ze instanceof Ys))return;this.qc=e,this.Td=null===n||"RelinkTo"===n.kd,this.mc=n.Ze}this.Ib(this.name),t.ef=!0,t.kc="pointer",this.Rg=this.mc.gc,this.Qg=this.mc.V,this.Tg=this.mc.zc,this.Sg=this.mc.Z,this.KD.set(this.mc.U),null!==this.mc&&0<this.mc.qa&&(null===this.mc.V&&(null!==this.ho&&(this.ho.Da=Hl),null!==this.Wd&&(this.Wd.location=this.mc.l(0))),null===this.mc.Z&&(null!==this.io&&(this.io.Da=Hl),null!==this.Xd&&(this.Xd.location=this.mc.l(this.mc.qa-1)))),this.copyPortProperties(this.Qg,this.Rg,this.Wd,this.ho,!1),this.copyPortProperties(this.Sg,this.Tg,this.Xd,this.io,!0),t.add(this.Wd),t.add(this.Xd),null!==this.wf&&(null!==this.Wd&&(this.wf.V=this.Wd),null!==this.Xd&&(this.wf.Z=this.Xd),this.copyLinkProperties(this.mc,this.wf),this.wf.Tb(),t.add(this.wf)),this.ta=!0}},We.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.Jp=t.Jp,e.wA=t.wA;var n=t.nf;n!==Wp&&n!==Kp||(n=Hp),e.nf=n,e.sx=t.sx,e.bc=t.bc,e.points=t.points,e.sy=t.sy,e.Iq=t.Iq,e.Mb=t.Mb,e.am=t.am,e.lu=t.lu,e.mu=t.mu,e.Nb=t.Nb,e.um=t.um,e.ev=t.ev,e.fv=t.fv}},We.prototype.doDeactivate=function(){this.ta=!1;var t=this.g;null!==t&&(t.remove(this.wf),t.remove(this.Wd),t.remove(this.Xd),t.ef=!1,t.kc="",this.Wk())},We.prototype.doStop=function(){qe.prototype.doStop.call(this),this.qc=null},We.prototype.doMouseUp=function(){if(this.ta){var t=this.g;if(null===t)return;this.Lf=null;var e=this.Qg,n=this.Rg,i=this.Sg,r=this.Tg,o=this.mc;if(this.Kf=this.findTargetPort(this.Td),null!==this.Kf){var s=this.Kf.W;s instanceof Ls&&(this.Td?(i=s,r=this.Kf):(e=s,n=this.Kf))}else this.kq?this.Td?r=i=null:n=e=null:o=null;null!==o?(this.reconnectLink(o,this.Td?i:e,this.Td?r:n,this.Td),null===this.Kf&&(this.Td?o.Vp=t.N.ea:o.Up=t.N.ea,o.Tb()),t.Bf&&(o.jb=!0),this.Lf=this.name,t.Aa("LinkRelinked",o,this.Td?this.Tg:this.Rg)):this.doNoRelink(this.mc,this.Td),ca(this.mc,this.KD)}this.stopTool()},We.prototype.reconnectLink=function(t,e,n,i){return null!==this.g&&(n=null!==n&&null!==n.le?n.le:"",i?(t.Z=e,t.Jh=n):(t.V=e,t.Ng=n),!0)},We.prototype.doNoRelink=function(){},Jh.La(Ye,fe),Jh.ga("LinkReshapingTool",Ye);var jc;Ye.None=jc=Jh.p(Ye,"None",0);var Ec;Ye.Horizontal=Ec=Jh.p(Ye,"Horizontal",1);var Lc;Ye.Vertical=Lc=Jh.p(Ye,"Vertical",2);var Dc;Ye.All=Dc=Jh.p(Ye,"All",3),Ye.prototype.getReshapingBehavior=Ye.prototype.mF=function(t){return t&&t.Oz?t.Oz:jc},Ye.prototype.setReshapingBehavior=Ye.prototype.av=function(t,e){Jh.G(t,Tr,Ye,"setReshapingBehavior:obj"),Jh.ob(e,Ye,Ye,"setReshapingBehavior:behavior"),t.Oz=e},Ye.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ys){if(t.jb&&null!==this.g&&!this.g.ib){var e=t.path;if(null!==e&&t.canReshape()&&t.U.I()&&t.isVisible()&&e.U.I()&&e.Cj()){var n=t.Yp(this.name);if(null!==n&&n.ED===t.qa&&n.rE===t.Vu||null!==(n=this.makeAdornment(e))&&(n.ED=t.qa,n.rE=t.Vu,t.Ol(this.name,n)),null!==n)return void(n.location=t.position)}}t.Ij(this.name)}},Ye.prototype.makeAdornment=function(t){var e=t.W,n=e.qa,i=e.ac,r=null;if(null!==e.points&&1<n){r=new Es,r.type=ip;var n=e.fu,o=e.Sx,s=i?1:0;if(e.Vu&&e.computeCurve()!==Up)for(var a=n+s;a<o-s;a++){var u=this.makeResegmentHandle(t,a);null!==u&&(u.Qe=a,u.zB=.5,u.GA=999,r.add(u))}for(a=n+1;a<o;a++)if(null!==(u=this.makeHandle(t,a))){if(u.Qe=a,a!==n)if(a===n+1&&i){var s=e.l(n),h=e.l(n+1);W(s.x,h.x)&&W(s.y,h.y)&&(h=e.l(n-1)),W(s.x,h.x)?(this.av(u,Lc),u.cursor="n-resize"):W(s.y,h.y)&&(this.av(u,Ec),u.cursor="w-resize")}else a===o-1&&i?(s=e.l(o-1),h=e.l(o),W(s.x,h.x)&&W(s.y,h.y)&&(s=e.l(o+1)),W(s.x,h.x)?(this.av(u,Lc),u.cursor="n-resize"):W(s.y,h.y)&&(this.av(u,Ec),u.cursor="w-resize")):a!==o&&(this.av(u,Dc),u.cursor="move");r.add(u)}r.ub=t}return r},Ye.prototype.makeHandle=function(){var t=this.pu;return null===t?null:t.copy()},Jh.defineProperty(Ye,{pu:"handleArchetype"},function(){return this.rl},function(t){null!==t&&Jh.G(t,Tr,Ye,"handleArchetype"),this.rl=t}),Ye.prototype.makeResegmentHandle=function(){var t=this.ZI;return null===t?null:t.copy()},Jh.defineProperty(Ye,{ZI:"midHandleArchetype"},function(){return this.xD},function(t){null!==t&&Jh.G(t,Tr,Ye,"midHandleArchetype"),this.xD=t}),Jh.u(Ye,{handle:"handle"},function(){return this.qc}),Jh.u(Ye,{Qt:"adornedLink"},function(){return this.Uy}),Ye.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.ib||!t.hx||!t.N.left)&&null!==this.findToolHandleAt(t.uc.ea,this.name)},Ye.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.qc=this.findToolHandleAt(t.uc.ea,this.name),null!==this.qc)){var e=this.qc.W.Ze;if(e instanceof Ys){if(this.Uy=e,t.ef=!0,this.Ib(this.name),e.Vu&&999===this.qc.GA){var n=e.points.copy(),i=this.getResegmentingPoint();if(n.Rd(this.qc.Qe+1,i),e.ac&&n.Rd(this.qc.Qe+1,i),e.points=n,e.Sd(),e.updateAdornments(),this.qc=this.findToolHandleAt(t.uc.ea,this.name),null===this.qc)return void this.doDeactivate()}this.jp=e.l(this.qc.Qe),this.yw=e.points.copy(),this.ta=!0}}},Ye.prototype.doDeactivate=function(){this.Wk(),this.Uy=this.qc=null;var t=this.g;null!==t&&(t.ef=!1),this.ta=!1},Ye.prototype.doCancel=function(){var t=this.Qt;null!==t&&(t.points=this.yw),this.stopTool()},Ye.prototype.getResegmentingPoint=function(){return this.handle.Ya(ul)},Ye.prototype.doMouseMove=function(){var t=this.g;this.ta&&null!==t&&(t=this.computeReshape(t.N.ea),this.reshape(t))},Ye.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){var e=this.computeReshape(t.N.ea);if(this.reshape(e),null!==(e=this.Qt)&&e.Vu){var n=this.handle.Qe,i=e.l(n-1),r=e.l(n),o=e.l(n+1);if(e.ac){if(n>e.fu+1&&n<e.Sx-1){var s=e.l(n-2);if(Math.abs(i.x-r.x)<this.Gh&&Math.abs(i.y-r.y)<this.Gh&&(Qe(this,s,i,r,o,!0)||Qe(this,s,i,r,o,!1))){var a=e.points.copy();Qe(this,s,i,r,o,!0)?(a.kg(n-2,new w(s.x,(o.y+s.y)/2)),a.kg(n+1,new w(o.x,(o.y+s.y)/2))):(a.kg(n-2,new w((o.x+s.x)/2,s.y)),a.kg(n+1,new w((o.x+s.x)/2,o.y))),a.cd(n),a.cd(n-1),e.points=a,e.Sd()}else s=e.l(n+2),Math.abs(r.x-o.x)<this.Gh&&Math.abs(r.y-o.y)<this.Gh&&(Qe(this,i,r,o,s,!0)||Qe(this,i,r,o,s,!1))&&(a=e.points.copy(),Qe(this,i,r,o,s,!0)?(a.kg(n-1,new w(i.x,(i.y+s.y)/2)),a.kg(n+2,new w(s.x,(i.y+s.y)/2))):(a.kg(n-1,new w((i.x+s.x)/2,i.y)),a.kg(n+2,new w((i.x+s.x)/2,s.y))),a.cd(n+1),a.cd(n),e.points=a,e.Sd())}}else s=Jh.K(),ot(i.x,i.y,o.x,o.y,r.x,r.y,s)&&s.Cf(r)<this.Gh*this.Gh&&(a=e.points.copy(),a.cd(n),e.points=a,e.Sd()),Jh.v(s)}t.Gc(),this.Lf=this.name,t.Aa("LinkReshaped",this.Qt,this.yw)}this.stopTool()},Jh.defineProperty(Ye,{Gh:"resegmentingDistance"},function(){return this.QD},function(t){Jh.j(t,"number",Ye,"resegmentingDistance"),this.QD=t}),Ye.prototype.reshape=function(t){var e=this.Qt;e.qm();var n=this.handle.Qe,i=this.mF(this.handle);if(e.ac)if(n===e.fu+1)n=e.fu+1,i===Lc?(e.ca(n,e.l(n-1).x,t.y),e.ca(n+1,e.l(n+2).x,t.y)):i===Ec&&(e.ca(n,t.x,e.l(n-1).y),e.ca(n+1,t.x,e.l(n+2).y));else if(n===e.Sx-1)n=e.Sx-1,i===Lc?(e.ca(n-1,e.l(n-2).x,t.y),e.ca(n,e.l(n+1).x,t.y)):i===Ec&&(e.ca(n-1,t.x,e.l(n-2).y),e.ca(n,t.x,e.l(n+1).y));else{var i=n,r=e.l(i),o=e.l(i-1),s=e.l(i+1);W(o.x,r.x)&&W(r.y,s.y)?(W(o.x,e.l(i-2).x)&&!W(o.y,e.l(i-2).y)?(e.w(i,t.x,o.y),n++,i++):e.ca(i-1,t.x,o.y),W(s.y,e.l(i+2).y)&&!W(s.x,e.l(i+2).x)?e.w(i+1,s.x,t.y):e.ca(i+1,s.x,t.y)):W(o.y,r.y)&&W(r.x,s.x)?(W(o.y,e.l(i-2).y)&&!W(o.x,e.l(i-2).x)?(e.w(i,o.x,t.y),n++,i++):e.ca(i-1,o.x,t.y),W(s.x,e.l(i+2).x)&&!W(s.y,e.l(i+2).y)?e.w(i+1,t.x,s.y):e.ca(i+1,t.x,s.y)):W(o.x,r.x)&&W(r.x,s.x)?(W(o.x,e.l(i-2).x)&&!W(o.y,e.l(i-2).y)?(e.w(i,t.x,o.y),n++,i++):e.ca(i-1,t.x,o.y),W(s.x,e.l(i+2).x)&&!W(s.y,e.l(i+2).y)?e.w(i+1,t.x,s.y):e.ca(i+1,t.x,s.y)):W(o.y,r.y)&&W(r.y,s.y)&&(W(o.y,e.l(i-2).y)&&!W(o.x,e.l(i-2).x)?(e.w(i,o.x,t.y),n++,i++):e.ca(i-1,o.x,t.y),W(s.y,e.l(i+2).y)&&!W(s.x,e.l(i+2).x)?e.w(i+1,s.x,t.y):e.ca(i+1,s.x,t.y)),e.ca(n,t.x,t.y)}else e.ca(n,t.x,t.y),r=e.V,o=e.gc,null!==r&&null!==(i=r.findVisibleNode())&&i!==r&&(r=i,o=r.port),1===n&&e.computeSpot(!0,o).Ud()&&(i=o.Ya(ul,Jh.K()),r=e.getLinkPointFromPoint(r,o,i,t,!0,Jh.K()),e.ca(0,r.x,r.y),Jh.v(i),Jh.v(r)),r=e.Z,o=e.zc,null!==r&&null!==(i=r.findVisibleNode())&&i!==r&&(r=i,o=r.port),n===e.qa-2&&e.computeSpot(!1,o).Ud()&&(i=o.Ya(ul,Jh.K()),r=e.getLinkPointFromPoint(r,o,i,t,!1,Jh.K()),e.ca(e.qa-1,r.x,r.y),Jh.v(i),Jh.v(r));e.qj()},Ye.prototype.computeReshape=function(t){var e=this.Qt,n=this.handle.Qe;switch(this.mF(this.handle)){case Dc:return t;case Lc:return e=e.l(n),new w(e.x,t.y);case Ec:return e=e.l(n),new w(t.x,e.y);default:case jc:return e.l(n)}},Jh.u(Ye,{EL:"originalPoint"},function(){return this.jp}),Jh.u(Ye,{FL:"originalPoints"},function(){return this.yw}),Jh.La(Ze,fe),Jh.ga("ResizingTool",Ze),Ze.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Ys)){if(t.jb&&null!==this.g&&!this.g.ib){var e=t.jG;if(null!==e&&t.canResize()&&t.U.I()&&t.isVisible()&&e.U.I()&&e.Cj()){var n=t.Yp(this.name);if(null!==n&&n.ub===e||(n=this.makeAdornment(e)),null!==n){var i=e.bm();n.angle=i;var r=e.Ya(n.Gf,Jh.K()),o=e.vj();if(n.location=r,Jh.v(r),null!==(r=n.placeholder)){var e=e.Ja,s=Jh.tm();s.m(e.width*o,e.height*o),r.Da=s,Jh.Lk(s)}return this.updateResizeHandles(n,i),void t.Ol(this.name,n)}}}t.Ij(this.name)}},Ze.prototype.makeAdornment=function(t){var e=null,e=t.W.iG;if(null===e){e=new Es,e.type=Xf,e.Gf=ul;var n=new Da;n.ff=!0,e.add(n),e.add(this.makeHandle(t,rl)),e.add(this.makeHandle(t,sl)),e.add(this.makeHandle(t,fl)),e.add(this.makeHandle(t,ll)),e.add(this.makeHandle(t,pl)),e.add(this.makeHandle(t,yl)),e.add(this.makeHandle(t,vl)),e.add(this.makeHandle(t,dl))}else if(xo(e),null===(e=e.copy()))return null;return e.ub=t,e},Ze.prototype.makeHandle=function(t,e){var n=this.pu;return null===n?null:(n=n.copy(),n.alignment=e,n)},Ze.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.ge()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var n=t.alignment;n.Ud()&&(n=ul);var i=e;if(0>=n.x)i=0>=n.y?i+225:1<=n.y?i+135:i+180;else if(1<=n.x)0>=n.y?i+=315:1<=n.y&&(i+=45);else if(0>=n.y)i+=270;else{if(!(1<=n.y))break t;i+=90}0>i?i+=360:360<=i&&(i-=360),t.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}else if(t instanceof eo)for(n=t.elements;n.next();)this.updateResizeHandles(n.value,e)},Jh.defineProperty(Ze,{pu:"handleArchetype"},function(){return this.rl},function(t){null!==t&&Jh.G(t,Tr,Ze,"handleArchetype"),this.rl=t}),Jh.u(Ze,{handle:"handle"},function(){return this.qc}),Jh.defineProperty(Ze,{ub:"adornedObject"},function(){return this.Kc},function(t){null!==t&&Jh.G(t,Tr,Ze,"adornedObject"),this.Kc=t}),Ze.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.ib||!t.Tt||!t.N.left)&&null!==this.findToolHandleAt(t.uc.ea,this.name)},Ze.prototype.doActivate=function(){var t=this.g;null!==t&&(this.qc=this.findToolHandleAt(t.uc.ea,this.name),null!==this.qc&&(this.Kc=this.qc.W.ub,this.jp.set(this.ub.Ya(this.handle.alignment.YF())),this.LD.set(this.Kc.W.location),this.FD.set(this.Kc.Da),this.pz=this.computeCellSize(),this.rz=this.computeMinSize(),this.qz=this.computeMaxSize(),t.ef=!0,this.DD=t.Ka.isEnabled,t.Ka.isEnabled=!1,this.Ib(this.name),this.ta=!0))},Ze.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Wk(),this.Kc=this.qc=null,this.ta=t.ef=!1,t.Ka.isEnabled=this.DD)},Ze.prototype.doCancel=function(){null!==this.ub&&(this.ub.Da=this.ZF,this.ub.W.location=this.jJ),this.stopTool()},Ze.prototype.doMouseMove=function(){var t=this.g;if(this.ta&&null!==t){var e=this.rz,n=this.qz,i=this.pz,r=this.ub.kF(t.N.ea,Jh.K()),o=this.computeReshape(),e=this.computeResize(r,this.handle.alignment,e,n,i,o);this.resize(e),t.dg(),Jh.v(r)}},Ze.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){var e=this.rz,n=this.qz,i=this.pz,r=this.ub.kF(t.N.ea,Jh.K()),o=this.computeReshape(),e=this.computeResize(r,this.handle.alignment,e,n,i,o);this.resize(e),Jh.v(r),t.Gc(),this.Lf=this.name,t.Aa("PartResized",this.ub,this.ZF)}this.stopTool()},Ze.prototype.resize=function(t){var e=this.g;if(null!==e){var n=this.ub,i=n.W;if(n.Da=t.size,i.Ne(),t=this.ub.Ya(this.handle.alignment.YF()),i instanceof Aa){var n=e.Va.ce,r=!1;null!==n&&(r=n.Sk,n.Sk=!1);var o=new c(ls);o.add(i),e.moveParts(o,this.jp.copy().ui(t),!0),null!==n&&(n.Sk=r)}else i.location=i.location.copy().ui(t).add(this.jp)}},Ze.prototype.computeResize=function(t,e,n,i,r,o){e.Ud()&&(e=ul);var s=this.ub.Ja,a=s.x,u=s.y,h=s.x+s.width,l=s.y+s.height,c=1;if(!o){var c=s.width,f=s.height;0>=c&&(c=1),0>=f&&(f=1),c=f/c}return f=Jh.K(),dt(t.x,t.y,a,u,r.width,r.height,f),t=s.copy(),0>=e.x?0>=e.y?(t.x=Math.max(f.x,h-i.width),t.x=Math.min(t.x,h-n.width),t.width=Math.max(h-t.x,n.width),t.y=Math.max(f.y,l-i.height),t.y=Math.min(t.y,l-n.height),t.height=Math.max(l-t.y,n.height),o||(e=t.height/t.width,1<=e?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width),t.x=h-t.width,t.y=l-t.height)):1<=e.y?(t.x=Math.max(f.x,h-i.width),t.x=Math.min(t.x,h-n.width),t.width=Math.max(h-t.x,n.width),t.height=Math.max(Math.min(f.y-u,i.height),n.height),o||(e=t.height/t.width,1<=e?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width),t.x=h-t.width)):(t.x=Math.max(f.x,h-i.width),t.x=Math.min(t.x,h-n.width),t.width=h-t.x,o||(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c,t.y=u+.5*(l-u-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(f.x-a,i.width),n.width),t.y=Math.max(f.y,l-i.height),t.y=Math.min(t.y,l-n.height),t.height=Math.max(l-t.y,n.height),o||(e=t.height/t.width,1<=e?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width),t.y=l-t.height)):1<=e.y?(t.width=Math.max(Math.min(f.x-a,i.width),n.width),t.height=Math.max(Math.min(f.y-u,i.height),n.height),o||(e=t.height/t.width,1<=e?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width))):(t.width=Math.max(Math.min(f.x-a,i.width),n.width),o||(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c,t.y=u+.5*(l-u-t.height))):0>=e.y?(t.y=Math.max(f.y,l-i.height),t.y=Math.min(t.y,l-n.height),t.height=l-t.y,o||(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width,t.x=a+.5*(h-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(f.y-u,i.height),n.height),o||(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width,t.x=a+.5*(h-a-t.width))),Jh.v(f),t},Ze.prototype.computeReshape=function(){var t=Ff;return this.ub instanceof No&&(t=Eo(this.ub)),!(t===qf||null!==this.g&&this.g.N.shift)},Ze.prototype.computeMinSize=function(){var t=this.ub.si.copy(),e=this.si;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},Ze.prototype.computeMaxSize=function(){var t=this.ub.Hf.copy(),e=this.Hf;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},Ze.prototype.computeCellSize=function(){var t=new P(NaN,NaN),e=this.ub.W;if(null!==e){var n=e.uJ;!isNaN(n.width)&&0<n.width&&(t.width=n.width),!isNaN(n.height)&&0<n.height&&(t.height=n.height)}return n=this.Np,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height),e=this.g,(isNaN(t.width)||isNaN(t.height))&&e&&(n=e.Va.ce,null!==n&&n.Sk&&(n=n.sF,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height)),null!==(e=e.Gn)&&e.visible&&this.Sk&&(n=e.Jx,isNaN(t.width)&&!isNaN(n.width)&&0<n.width&&(t.width=n.width),isNaN(t.height)&&!isNaN(n.height)&&0<n.height&&(t.height=n.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},Jh.defineProperty(Ze,{si:"minSize"},function(){return this.Zh},function(t){if(Jh.G(t,P,Ze,"minSize"),!this.Zh.L(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.Zh.m(e,t)}}),Jh.defineProperty(Ze,{Hf:"maxSize"},function(){return this.Yh},function(t){if(Jh.G(t,P,Ze,"maxSize"),!this.Yh.L(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.Yh.m(e,t)}}),Jh.defineProperty(Ze,{Np:"cellSize"},function(){return this.Rj},function(t){Jh.G(t,P,Ze,"cellSize"),this.Rj.L(t)||this.Rj.assign(t)}),Jh.defineProperty(Ze,{Sk:"isGridSnapEnabled"},function(){return this.Yr},function(t){Jh.j(t,"boolean",Ze,"isGridSnapEnabled"),this.Yr=t}),Jh.u(Ze,{ZF:"originalDesiredSize"},function(){return this.FD}),Jh.u(Ze,{jJ:"originalLocation"},function(){return this.LD}),Jh.La(Xe,fe),Jh.ga("RotatingTool",Xe),Xe.prototype.updateAdornments=function(t){if(null!==t){if(t instanceof Ys){var e=t.xB;if(e===t||e===t.path||e.ff)return}if(t.jb&&null!==this.g&&!this.g.ib&&null!==(e=t.xB)&&t.canRotate()&&t.U.I()&&t.isVisible()&&e.U.I()&&e.Cj()){var n=t.Yp(this.name);if(null!==n&&n.ub===e||(n=this.makeAdornment(e)),null!==n){n.angle=e.bm();var i=null,r=null;e===t||e===t.cg?(i=t.cg,r=t.Gf):(i=e,r=ul);for(var o=i.Ja,r=Jh.wb(o.width*r.x+r.offsetX,o.height*r.y+r.offsetY);null!==i&&i!==e;)i.transform.nb(r),i=i.R;var i=r.y,o=Math.max(r.x-e.Ja.width,0),s=Jh.K();return n.location=e.Ya(new E(1,0,50+o,i),s),Jh.v(s),Jh.v(r),void t.Ol(this.name,n)}}t.Ij(this.name)}},Xe.prototype.makeAdornment=function(t){var e=null,e=t.W.xJ;if(null===e){e=new Es,e.type=Qf,e.Gf=ul;var n=this.pu;null!==n&&e.add(n.copy())}else if(xo(e),null===(e=e.copy()))return null;return e.ub=t,e},Jh.defineProperty(Xe,{pu:"handleArchetype"},function(){return this.rl},function(t){null!==t&&Jh.G(t,Tr,Xe,"handleArchetype"),this.rl=t}),Jh.u(Xe,{handle:"handle"},function(){return this.qc}),Jh.defineProperty(Xe,{ub:"adornedObject"},function(){return this.Kc},function(t){null!==t&&Jh.G(t,Tr,Xe,"adornedObject"),this.Kc=t}),Xe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||t.ib||!t.ix||!t.N.left)&&null!==this.findToolHandleAt(t.uc.ea,this.name)},Xe.prototype.doActivate=function(){var t=this.g;if(null!==t&&(this.qc=this.findToolHandleAt(t.uc.ea,this.name),null!==this.qc)){this.Kc=this.qc.W.ub;var e=this.Kc.W,n=e.cg;this.RD=this.Kc===e||this.Kc===n?n.Ya(e.Gf):this.Kc.Ya(ul),this.xw=this.Kc.angle,t.ef=!0,t.zA=!0,this.Ib(this.name),this.ta=!0}},Xe.prototype.doDeactivate=function(){var t=this.g;null!==t&&(this.Wk(),this.Kc=this.qc=null,this.ta=t.ef=!1)},Xe.prototype.doCancel=function(){var t=this.g;null!==t&&(t.zA=!1),this.rotate(this.xw),this.stopTool()},Xe.prototype.doMouseMove=function(){var t=this.g;this.ta&&null!==t&&(t=this.computeRotate(t.N.ea),this.rotate(t))},Xe.prototype.doMouseUp=function(){var t=this.g;if(this.ta&&null!==t){t.zA=!1;var e=this.computeRotate(t.N.ea);this.rotate(e),t.Gc(),this.Lf=this.name,t.Aa("PartRotated",this.Kc,this.xw)}this.stopTool()},Xe.prototype.rotate=function(t){null!==this.Kc&&(this.Kc.angle=t)},Xe.prototype.computeRotate=function(t){t=this.RD.Qb(t);var e=this.Kc.R;null!==e&&(t-=e.bm(),360<=t?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.MJ),180),n=Math.min(Math.abs(this.LJ),e/2);return(null===this.g||!this.g.N.shift)&&0<e&&0<n&&(t%e<n?t=Math.floor(t/e)*e:t%e>e-n&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},Jh.defineProperty(Xe,{MJ:"snapAngleMultiple"},function(){return this.WD},function(t){Jh.j(t,"number",Xe,"snapAngleMultiple"),this.WD=t}),Jh.defineProperty(Xe,{LJ:"snapAngleEpsilon"},function(){return this.VD},function(t){Jh.j(t,"number",Xe,"snapAngleEpsilon"),this.VD=t}),Jh.u(Xe,{DL:"originalAngle"},function(){return this.xw}),Jh.La($e,fe),Jh.ga("ClickSelectingTool",$e),$e.prototype.canStart=function(){return!(!this.isEnabled||null===this.g||this.isBeyondDragSize())},$e.prototype.doMouseUp=function(){this.ta&&(this.standardMouseSelect(),!this.standardMouseClick()&&null!==this.g&&this.g.N.Aj&&this.g.Va.doToolTip()),this.stopTool()},Jh.La(tn,fe),Jh.ga("ActionTool",tn),tn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t)return!1;var e=t.N,n=t.Pe(e.ea,function(t){for(;null!==t.R&&!t.Kx;)t=t.R;return t});return null!==n&&(!!n.Kx&&(this.oo=n,t.zo=t.Pe(e.ea,null,null),!0))},tn.prototype.doMouseDown=function(){if(this.ta){var t=this.g.N,e=this.oo;null!==e&&(t.Be=e,null!==e.uE&&e.uE(t,e))}else this.canStart()&&this.doActivate()},tn.prototype.doMouseMove=function(){if(this.ta){var t=this.g.N,e=this.oo;null!==e&&(t.Be=e,null!==e.vE&&e.vE(t,e))}},tn.prototype.doMouseUp=function(){if(this.ta){var t=this.g,e=t.N,n=this.oo;if(null===n)return;e.Be=n,null!==n.wE&&n.wE(e,n),this.isBeyondDragSize()||pe(n,e,t)}this.stopTool()},tn.prototype.doCancel=function(){var t=this.g;if(null!==t){var t=t.N,e=this.oo;if(null===e)return;t.Be=e,null!==e.tE&&e.tE(t,e)}this.stopTool()},tn.prototype.doStop=function(){this.oo=null},Jh.La(en,fe),Jh.ga("ClickCreatingTool",en),en.prototype.canStart=function(){if(!this.isEnabled||null===this.kA)return!1;var t=this.g;if(null===t||t.ib||t.Ef||!t.Kp||!t.N.left||this.isBeyondDragSize())return!1;if(this.zI){if(1===t.N.te&&(this.$C=t.N.Ce.copy()),2!==t.N.te||this.isBeyondDragSize(this.$C))return!1}else if(1!==t.N.te)return!1;return t.Xa===this||null===t.eu(t.N.ea,!0)},en.prototype.doMouseUp=function(){var t=this.g;this.ta&&null!==t&&this.insertPart(t.N.ea),this.stopTool()},en.prototype.insertPart=function(t){var e=this.g;if(null===e)return null;var n=this.kA;if(null===n)return null;this.Ib(this.name);var i=null;return n instanceof ls?n.he()&&(xo(n),null!==(i=n.copy())&&e.add(i)):null!==n&&(n=e.$.copyNodeData(n),Jh.Pa(n)&&(e.$.Pl(n),i=e.wh(n))),null!==i&&(i.location=t,e.Bf&&e.select(i)),e.Gc(),this.Lf=this.name,e.Aa("PartCreated",i),this.Wk(),i},Jh.defineProperty(en,{kA:"archetypeNodeData"},function(){return this.zm},function(t){null!==t&&Jh.G(t,Object,en,"archetypeNodeData"),this.zm=t}),Jh.defineProperty(en,{zI:"isDoubleClick"},function(){return this.lD},function(t){Jh.j(t,"boolean",en,"isDoubleClick"),this.lD=t}),Jh.ga("HTMLInfo",nn),Jh.defineProperty(nn,{dB:"mainElement"},function(){return this.vD},function(t){null!==t&&Jh.G(t,HTMLElement,nn,"mainElement"),this.vD=t}),Jh.defineProperty(nn,{show:"show"},function(){return this.Uz},function(t){this.Uz!==t&&(null!==t&&Jh.j(t,"function",nn,"show"),this.Uz=t)}),Jh.defineProperty(nn,{Hn:"hide"},function(){return this.zz},function(t){this.zz!==t&&(null!==t&&Jh.j(t,"function",nn,"hide"),this.zz=t)}),Jh.defineProperty(nn,{YB:"valueFunction"},function(){return this.pE},function(t){this.pE=t}),Jh.La(on,fe),Jh.ga("ContextMenuTool",on),on.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||this.isBeyondDragSize()||!t.N.right)&&!!(null!==this.Em&&t.N.Aj||null!==this.findObjectWithContextMenu())},on.prototype.doStart=function(){var t=this.g;null!==t&&this.BD.set(t.uc.ea)},on.prototype.doStop=function(){this.hideContextMenu(),this.qx=null},on.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.g;if(null===e)return null;var n=e.N,i=null;if(t instanceof Bn||(i=t instanceof Tr?t:e.Pe(n.ea,null,function(t){return!t.layer.Hc})),null!==i){for(t=i;null!==t;){if(null!==t.contextMenu)return t;t=t.R}if(null!==this.Em&&e.N.Aj)return i.W}else if(null!==e.contextMenu)return e;return null},on.prototype.doActivate=function(){},on.prototype.doMouseDown=function(){fe.prototype.doMouseDown.call(this),null!==this.g&&this.g.Va.gf.contains(this)&&un(this)},on.prototype.doMouseUp=function(){un(this)},on.prototype.doMouseMove=function(){this.ta&&null!==this.g&&this.g.Va.doMouseMove()},on.prototype.showContextMenu=function(t,e){null!==e&&Jh.G(e,Tr,on,"showContextMenu:obj");var n=this.g;if(null!==n){if(t!==this.Wl&&this.hideContextMenu(),t instanceof Es){t.bg="Tool",t.nm=!1,t.scale=1/n.scale,t.kd=this.name,null!==t.placeholder&&(t.placeholder.scale=n.scale);var i=t.g;null!==i&&i!==n&&i.remove(t),n.add(t),null!==e?(n=null,i=e.$l(),null!==i&&(n=i.data),t.ub=e,t.data=n):t.data=n.$,t.Ne(),this.positionContextMenu(t,e)}else t instanceof nn&&t.show(e,n,this);this.Wl=t}},on.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var n=e.N.ea.copy(),i=t.za,r=e.sb;e.N.Aj&&(n.x-=i.width),n.x+i.width>r.right&&(n.x-=i.width+5/e.scale),n.x<r.x&&(n.x=r.x),n.y+i.height>r.bottom&&(n.y-=i.height+5/e.scale),n.y<r.y&&(n.y=r.y),t.position=n}}},on.prototype.hideContextMenu=function(){var t=this.g;if(null!==t){var e=this.Wl;null!==e&&(e instanceof Es?(t.remove(e),null!==this.bz&&this.bz.Ij(e.kd),e.data=null,e.ub=null):e instanceof nn&&(null!==e.Hn?e.Hn(t,this):null!==e.dB&&(e.dB.style.display="none")),this.Wl=null,this.standardMouseOver())}},on.prototype.showDefaultContextMenu=function(){var t=this.g;if(null!==t){null===this.dz&&(this.dz=ln(this)),Jh.Wt.innerHTML="",Jh.Vt.addEventListener("click",this.aA,!1);var e=this,n=Jh.createElement("ul");n.className="goCXul",Jh.Wt.appendChild(n),n.innerHTML="";for(var i=this.dz.i;i.next();){var r=i.value,o=r.visible;if("function"==typeof r.LE&&("function"!=typeof o||o(t))){o=Jh.createElement("li"),o.className="goCXli";var s=Jh.createElement("a");s.className="goCXa",s.href="#",s.TG=r.LE,s.addEventListener("click",function(n){return this.TG(t),e.stopTool(),n.preventDefault(),!1},!1),s.textContent=r.text,o.appendChild(s),n.appendChild(o)}}Jh.Wt.style.display="block",Jh.Vt.style.display="block"}},on.prototype.hideDefaultContextMenu=function(){null!==this.Wl&&this.Wl===this.Em&&(Jh.Wt.style.display="none",Jh.Vt.style.display="none",Jh.Vt.removeEventListener("click",this.aA,!1),this.Wl=null)},Jh.defineProperty(on,{Wl:"currentContextMenu"},function(){return this.CC},function(t){this.CC=t,this.bz=t instanceof Es?t.Ze:null}),Jh.defineProperty(on,{$K:"defaultTouchContextMenu"},function(){return this.Em},function(t){this.Em=t}),Jh.defineProperty(on,{qx:"currentObject"},function(){return this.FC},function(t){null!==t&&Jh.G(t,Tr,on,"currentObject"),this.FC=t}),Jh.u(on,{zL:"mouseDownPoint"},function(){return this.BD}),Jh.La(cn,fe),Jh.ga("DragSelectingTool",cn),cn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.Bf)return!1;var e=t.N;return!(!e.left||t.Xa!==this&&(!this.isBeyondDragSize()||e.timestamp-t.uc.timestamp<this.SE||null!==t.eu(e.ea,!0)))},cn.prototype.doActivate=function(){var t=this.g;null!==t&&(this.ta=!0,t.ef=!0,t.gb=!0,t.add(this.th),this.doMouseMove())},cn.prototype.doDeactivate=function(){var t=this.g;null!==t&&(ar(t),t.remove(this.th),t.gb=!1,this.ta=t.ef=!1)},cn.prototype.doMouseMove=function(){var t=this.g;if(null!==t&&this.ta&&null!==this.th){var e=this.computeBoxBounds(),n=this.th.Cd("SHAPE");null===n&&(n=this.th.Bd()),n.Da=e.size,this.th.position=e.position,(t.re||t.se)&&t.AA(t.N.Ce)}},cn.prototype.doMouseUp=function(){if(this.ta){var t=this.g;t.remove(this.th);try{t.kc="wait",this.selectInRect(this.computeBoxBounds())}finally{t.kc=""}}this.stopTool()},cn.prototype.computeBoxBounds=function(){var t=this.g;return null===t?new C(0,0,0,0):new C(t.uc.ea,t.N.ea)},cn.prototype.selectInRect=function(t){var e=this.g;if(null!==e){var n=e.N;if(e.Aa("ChangingSelection"),t=e.Jk(t,null,function(t){return t instanceof ls&&t.canSelect()},this.EI),Jh.zh?n.Iu:n.control)if(n.shift)for(t=t.i;t.next();)n=t.value,n.jb&&(n.jb=!1);else for(t=t.i;t.next();)n=t.value,n.jb=!n.jb;else{if(!n.shift){for(var n=new c(ls),i=e.selection.i;i.next();){var r=i.value;t.contains(r)||n.add(r)}for(n=n.i;n.next();)n.value.jb=!1}for(t=t.i;t.next();)n=t.value,n.jb||(n.jb=!0)}e.Aa("ChangedSelection")}},Jh.defineProperty(cn,{SE:"delay"},function(){return this.Fo},function(t){Jh.j(t,"number",cn,"delay"),this.Fo=t}),Jh.defineProperty(cn,{EI:"isPartialInclusion"},function(){return this.qD},function(t){Jh.j(t,"boolean",cn,"isPartialInclusion"),this.qD=t}),Jh.defineProperty(cn,{th:"box"},function(){return this.Bm},function(t){null!==t&&Jh.G(t,ls,cn,"box"),this.Bm=t}),Jh.La(fn,fe),Jh.ga("PanningTool",fn),fn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;return!(null===t||!t.re&&!t.se||!t.N.left||t.Xa!==this&&!this.isBeyondDragSize())},fn.prototype.doActivate=function(){var t=this.g;null!==t&&(this.Qj?(t.N.bubbles=!0,e.document.addEventListener("scroll",this.$D,!1)):(t.kc="move",t.ef=!0,this.Lz=t.position.copy()),this.ta=!0)},fn.prototype.doDeactivate=function(){var t=this.g;null!==t&&(t.kc="",this.ta=t.ef=!1)},fn.prototype.doCancel=function(){var t=this.g;null!==t&&(t.position=this.Lz,t.ef=!1),this.stopTool()},fn.prototype.doMouseMove=function(){this.move()},fn.prototype.doMouseUp=function(){this.move(),this.stopTool()},fn.prototype.move=function(){var t=this.g;if(this.ta&&t)if(this.Qj)t.N.bubbles=!0;else{var e=t.position,n=t.uc.ea,i=t.N.ea,r=e.x+n.x-i.x,n=e.y+n.y-i.y;t.re||(r=e.x),t.se||(n=e.y),t.position=new w(r,n)}},Jh.defineProperty(fn,{bubbles:"bubbles"},function(){return this.Qj},function(t){Jh.j(t,"boolean",fn,"bubbles"),this.Qj=t}),Jh.u(fn,{GL:"originalPosition"},function(){return this.Lz}),Jh.ga("TextEditingTool",pn),Jh.La(pn,fe);var Fc;pn.LostFocus=Fc=Jh.p(pn,"LostFocus",0);var Rc;pn.MouseDown=Rc=Jh.p(pn,"MouseDown",1);var Vc;pn.Tab=Vc=Jh.p(pn,"Tab",2);var Ic;pn.Enter=Ic=Jh.p(pn,"Enter",3),pn.SingleClick=Jh.p(pn,"SingleClick",0);var Bc;pn.SingleClickSelected=Bc=Jh.p(pn,"SingleClickSelected",1);var qc;pn.DoubleClick=qc=Jh.p(pn,"DoubleClick",2);var zc;pn.StateNone=zc=Jh.p(pn,"StateNone",0);var Gc;pn.StateActive=Gc=Jh.p(pn,"StateActive",1);var Hc;pn.StateEditing=Hc=Jh.p(pn,"StateEditing",2);var Uc;pn.StateValidating=Uc=Jh.p(pn,"StateValidating",3);var Kc;pn.StateInvalid=Kc=Jh.p(pn,"StateInvalid",4);var Wc;pn.StateValidated=Wc=Jh.p(pn,"StateValidated",5),Jh.defineProperty(pn,{Xg:"textBlock"},function(){return this.Zz},function(t){null!==t&&Jh.G(t,Vo,pn,"textBlock"),this.Zz=t}),Jh.defineProperty(pn,{rj:"currentTextEditor"},function(){return this.HC},function(t){this.HC=t}),Jh.defineProperty(pn,{OH:"defaultTextEditor"},function(){return this.PC},function(t){this.PC=t}),Jh.defineProperty(pn,{zG:"starting"},function(){return this.ZD},function(t){Jh.ob(t,pn,pn,"starting"),this.ZD=t}),pn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||t.ib||!t.N.left||this.isBeyondDragSize())return!1;var e=t.Pe(t.N.ea);return!!(null!==e&&e instanceof Vo&&e.BA&&e.W.canEdit())&&!(null===(e=e.W)||this.zG===Bc&&!e.jb||this.zG===qc&&2>t.N.te)},pn.prototype.doStart=function(){this.ta||null===this.Xg||this.doActivate()},pn.prototype.doActivate=function(){if(!this.ta){var t=this.g;if(null!==t){var e=this.Xg;if(null===e&&(e=t.Pe(t.N.ea)),null!==e&&e instanceof Vo&&(this.Xg=e,null!==e.W)){this.ta=!0,this.Ta=Gc;var n=this.OH;null!==e.DG&&(n=e.DG),this.vk=this.Xg.copy();var i=new C(this.Xg.Ya(rl),this.Xg.Ya(fl));t.nG(i),n instanceof nn?n.show(e,t,this):(n.style.position="absolute",n.style.zIndex="100",n.textEditingTool=this,"function"==typeof n.onActivate&&n.onActivate(),t.tj.appendChild(n),"function"==typeof n.focus&&n.focus(),"function"==typeof n.select&&this.wy&&(n.select(),n.setSelectionRange(0,9999))),this.rj=n}}}},pn.prototype.doCancel=function(){null!==this.Ms&&this.rj instanceof HTMLElement&&(this.rj.style.border=this.Ms,this.Ms=null),this.stopTool()},pn.prototype.doMouseUp=function(){!this.ta&&this.canStart()&&this.doActivate()},pn.prototype.doMouseDown=function(){this.ta&&this.acceptText(Rc)},pn.prototype.acceptText=function(t){switch(t){case Rc:this.Ta===Wc?this.rj instanceof HTMLElement&&this.rj.focus():this.Ta!==Gc&&this.Ta!==Kc&&this.Ta!==Hc||(this.Ta=Uc,yn(this));break;case Fc:case Ic:case Vc:if(Ic===t&&!0===this.Zz.Ox)break;this.Ta!==Gc&&this.Ta!==Kc&&this.Ta!==Hc||(this.Ta=Uc,yn(this))}},pn.prototype.doDeactivate=function(){var t=this.g;if(null!==t){if(this.Ta=zc,this.Xg=null,null!==this.rj){var e=this.rj;e instanceof nn?e.Hn(t,this):("function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.tj.removeChild(e))}this.ta=!1}},pn.prototype.doFocus=function(){vn(this)},pn.prototype.doBlur=function(){gn(this)},pn.prototype.isValidText=function(t,e,n){Jh.G(t,Vo,pn,"isValidText:textblock");var i=this.OB;return!(null!==i&&!i(t,e,n))&&!(null!==(i=t.OB)&&!i(t,e,n))},Jh.defineProperty(pn,{OB:"textValidation"},function(){return this.Kl},function(t){null!==t&&Jh.j(t,"function",pn,"textValidation"),this.Kl=t}),Jh.defineProperty(pn,{TF:"minimumEditorScale"},function(){return this.yD},function(t){null!==t&&Jh.j(t,"number",pn,"minimumEditorScale"),this.yD=t}),Jh.defineProperty(pn,{wy:"selectsTextOnActivate"},function(){return this.TD},function(t){null!==t&&Jh.j(t,"boolean",pn,"selectsTextOnActivate"),this.TD=t}),Jh.defineProperty(pn,{state:"state"},function(){return this.Ta},function(t){this.Ta!==t&&(Jh.ob(t,pn,pn,"starting"),this.Ta=t)}),pn.prototype.measureTemporaryTextBlock=pn.prototype.WI=function(t){var e=this.vk;return e.text=t,jr(e,this.Xg.$o,1/0),e},Jh.La(mn,fe),Jh.ga("ToolManager",mn);var Jc;mn.WheelScroll=Jc=Jh.p(mn,"WheelScroll",0);var Yc;mn.WheelZoom=Yc=Jh.p(mn,"WheelZoom",1),mn.WheelNone=Jh.p(mn,"WheelNone",2);var Qc;mn.GestureZoom=Qc=Jh.p(mn,"GestureZoom",3);var Zc;mn.GestureCancel=Zc=Jh.p(mn,"GestureCancel",4);var Xc;mn.GestureNone=Xc=Jh.p(mn,"GestureNone",5),Jh.defineProperty(mn,{Lu:"mouseWheelBehavior"},function(){return this.CD},function(t){Jh.ob(t,mn,mn,"mouseWheelBehavior"),this.CD=t}),Jh.defineProperty(mn,{Mk:"gestureBehavior"},function(){return this.bD},function(t){Jh.ob(t,mn,mn,"gestureBehavior"),this.bD=t}),mn.prototype.initializeStandardTools=function(){this.kH=new tn,this.bG=new We,this.NI=new Ye,this.lG=new Ze,this.zJ=new Xe,this.PF=new Ke,this.ce=new de,this.TH=new cn,this.kJ=new fn,this.tA=new on,this.NB=new pn,this.xH=new en,this.yH=new $e},mn.prototype.updateAdornments=function(t){var e=this.Xl;if(e instanceof Es&&this.Gv===t){var n=e.ub;(null!==t?n.W===t:null===n)?this.showToolTip(e,n):this.hideToolTip()}},mn.prototype.doMouseDown=function(){var t=this.g;if(null!==t){var e=t.N;if(e.Aj&&this.Mk===Zc&&(e.bubbles=!1),e.zu){if(this.cancelWaitAfter(),this.Mk===Xc)return void(e.bubbles=!0);if(this.Mk===Zc)return;if(t.Xa.canStartMultiTouch())return void t.Xa.standardPinchZoomStart()}var n=t.ja;n.nA&&0!==n.wi&&Jh.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var n=this.gf.length,i=0;i<n;i++){var r=this.gf.fa(i);if(null===r.g&&r.Tc(this.g),r.canStart())return t.doFocus(),t.Xa=r,void(t.Xa===r&&(r.ta||r.doActivate(),r.doMouseDown()))}1===t.N.button&&(this.Lu===Jc?this.Lu=Yc:this.Lu===Yc&&(this.Lu=Jc)),this.doActivate(),this.standardWaitAfter(this.vF,e)}},mn.prototype.doMouseMove=function(){var t=this.g;if(null!==t){var e=t.N;if(e.zu){if(this.Mk===Xc)return void(e.bubbles=!0);if(this.Mk===Zc)return;if(t.Xa.canStartMultiTouch())return void t.Xa.standardPinchZoomMove()}if(this.ta)for(var n=this.eg.length,i=0;i<n;i++){var r=this.eg.fa(i);if(null===r.g&&r.Tc(this.g),r.canStart())return t.doFocus(),t.Xa=r,void(t.Xa===r&&(r.ta||r.doActivate(),r.doMouseMove()))}bn(this,t),t=e.event,null===t||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)}},mn.prototype.doCurrentObjectChanged=function(t,e){var n=this.Xl;null===n||null!==e&&n instanceof Es&&(e===n||e.hm(n))||this.hideToolTip()},mn.prototype.doWaitAfter=function(t){var e=this.g;null!==e&&e.zb&&(this.doMouseHover(),this.ta||this.doToolTip(),t.Aj&&!e.N.vc&&(t=t.copy(),t.button=2,t.buttons=2,e.N=t,e.Bp=!0,e.doMouseUp()))},mn.prototype.doMouseHover=function(){var t=this.g;if(null!==t){var e=t.N;null===e.Be&&(e.Be=t.Pe(e.ea,null,null));var n=e.Be;if(null!==n)for(e.vc=!1;null!==n&&(null===(t=this.ta?n.iB:n.jB)||(t(e,n),!e.vc));)n=n.R;else null!==(n=this.ta?t.iB:t.jB)&&n(e)}},mn.prototype.doToolTip=function(){var t=this.g;if(null!==t){var e=t.N;if(null===e.Be&&(e.Be=t.Pe(e.ea,null,null)),null!==(e=e.Be)){if(!((t=this.Xl)instanceof Es)||e!==t&&!e.hm(t)){for(;null!==e;){if(null!==(t=e.QB))return void this.showToolTip(t,e);e=e.R}this.hideToolTip()}}else t=t.QB,null!==t?this.showToolTip(t,null):this.hideToolTip()}},mn.prototype.showToolTip=function(t,e){null!==e&&Jh.G(e,Tr,mn,"showToolTip:obj");var n=this.g;if(null!==n){if(t!==this.Xl&&this.hideToolTip(),t instanceof Es){t.bg="Tool",t.nm=!1,t.scale=1/n.scale,t.kd="ToolTip",null!==t.placeholder&&(t.placeholder.scale=n.scale);var i=t.g;null!==i&&i!==n&&i.remove(t),n.add(t),null!==e?(n=null,i=e.$l(),null!==i&&(n=i.data),t.ub=e,t.data=n):t.data=n.$,t.Ne(),this.positionToolTip(t,e)}else t instanceof nn&&t!==this.Xl&&t.show(e,n,this);if(this.Xl=t,-1!==this.ln&&(Jh.clearTimeout(this.ln),this.ln=-1),0<(n=this.WJ)&&1/0!==n){var r=this;this.ln=Jh.setTimeout(function(){r.hideToolTip()},n)}}},mn.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.g;if(null!==e){var n=e.N.ea.copy(),i=t.za,r=e.sb;e.N.Aj&&(n.x-=i.width),n.x+i.width>r.right&&(n.x-=i.width+5/e.scale),n.x<r.x&&(n.x=r.x),n.y=n.y+20/e.scale+i.height>r.bottom?n.y-(i.height+5/e.scale):n.y+20/e.scale,n.y<r.y&&(n.y=r.y),t.position=n}}},mn.prototype.hideToolTip=function(){-1!==this.ln&&(Jh.clearTimeout(this.ln),this.ln=-1);var t=this.g;if(null!==t){var e=this.Xl;null!==e&&(e instanceof Es?(t.remove(e),null!==this.Gv&&this.Gv.Ij(e.kd),e.data=null,e.ub=null):e instanceof nn&&null!==e.Hn&&e.Hn(t,this),this.Xl=null)}},Jh.defineProperty(mn,{Xl:"currentToolTip"},function(){return this.IC},function(t){this.IC=t,this.Gv=null!==t&&t instanceof Es?t.Ze:null}),mn.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.g;if(null!==t){if(this.ta)for(var e=this.fg.length,n=0;n<e;n++){var i=this.fg.fa(n);if(null===i.g&&i.Tc(this.g),i.canStart())return t.doFocus(),t.Xa=i,void(t.Xa===i&&(i.ta||i.doActivate(),i.doMouseUp()))}t.doFocus(),this.doDeactivate()}},mn.prototype.doMouseWheel=function(){this.standardMouseWheel()},mn.prototype.doKeyDown=function(){var t=this.g;null!==t&&t.pb.doKeyDown()},mn.prototype.doKeyUp=function(){var t=this.g;null!==t&&t.pb.doKeyUp()},mn.prototype.doCancel=function(){null!==Mc&&Mc.doCancel(),fe.prototype.doCancel.call(this)},mn.prototype.findTool=function(t){Jh.j(t,"string",mn,"findTool:name");for(var e=this.gf.length,n=0;n<e;n++){var i=this.gf.fa(n);if(i.name===t)return i}for(e=this.eg.length,n=0;n<e;n++)if(i=this.eg.fa(n),i.name===t)return i;for(e=this.fg.length,n=0;n<e;n++)if(i=this.fg.fa(n),i.name===t)return i;return null},mn.prototype.replaceTool=function(t,e){Jh.j(t,"string",mn,"replaceTool:name"),null!==e&&(Jh.G(e,fe,mn,"replaceTool:newtool"),e.g&&e.g!==this.g&&Jh.k("Cannot share tools between Diagrams: "+e.toString()),e.Tc(this.g));for(var n=this.gf.length,i=0;i<n;i++){var r=this.gf.fa(i);if(r.name===t)return null!==e?this.gf.kg(i,e):this.gf.cd(i),r}for(n=this.eg.length,i=0;i<n;i++)if(r=this.eg.fa(i),r.name===t)return null!==e?this.eg.kg(i,e):this.eg.cd(i),r;for(n=this.fg.length,i=0;i<n;i++)if(r=this.fg.fa(i),r.name===t)return null!==e?this.fg.kg(i,e):this.fg.cd(i),r;return null},Jh.u(mn,{gf:"mouseDownTools"},function(){return this.YG}),Jh.u(mn,{eg:"mouseMoveTools"},function(){return this.ZG}),Jh.u(mn,{fg:"mouseUpTools"},function(){return this.$G}),Jh.defineProperty(mn,{rI:"hoverDelay"},function(){return this.eD},function(t){Jh.j(t,"number",mn,"hoverDelay"),this.eD=t}),Jh.defineProperty(mn,{vF:"holdDelay"},function(){return this.dD},function(t){Jh.j(t,"number",mn,"holdDelay"),this.dD=t}),Jh.defineProperty(mn,{UH:"dragSize"},function(){return this.UC},function(t){Jh.G(t,P,mn,"dragSize"),this.UC=t.S()}),Jh.defineProperty(mn,{WJ:"toolTipDuration"},function(){return this.lE},function(t){Jh.j(t,"number",mn,"toolTipDuration"),this.lE=t}),Jh.defineProperty(mn,{kH:"actionTool"},function(){return this.findTool("Action")},function(t){wn(this,"Action",t,this.gf)}),Jh.defineProperty(mn,{bG:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){wn(this,"Relinking",t,this.gf)}),Jh.defineProperty(mn,{NI:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){wn(this,"LinkReshaping",t,this.gf)}),Jh.defineProperty(mn,{lG:"resizingTool"},function(){return this.findTool("Resizing")},function(t){wn(this,"Resizing",t,this.gf)}),Jh.defineProperty(mn,{zJ:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){wn(this,"Rotating",t,this.gf)}),Jh.defineProperty(mn,{PF:"linkingTool"},function(){return this.findTool("Linking")},function(t){wn(this,"Linking",t,this.eg)}),Jh.defineProperty(mn,{ce:"draggingTool"},function(){return this.findTool("Dragging")},function(t){wn(this,"Dragging",t,this.eg)}),Jh.defineProperty(mn,{TH:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){wn(this,"DragSelecting",t,this.eg)}),Jh.defineProperty(mn,{kJ:"panningTool"},function(){return this.findTool("Panning")},function(t){wn(this,"Panning",t,this.eg)}),Jh.defineProperty(mn,{tA:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){wn(this,"ContextMenu",t,this.fg)}),Jh.defineProperty(mn,{NB:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){wn(this,"TextEditing",t,this.fg)}),Jh.defineProperty(mn,{xH:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){wn(this,"ClickCreating",t,this.fg)}),Jh.defineProperty(mn,{yH:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){wn(this,"ClickSelecting",t,this.fg)}),Jh.ga("AnimationManager",xn),xn.prototype.Tc=function(t){this.aa=t},Jh.u(xn,{CK:"animationReasons"},function(){return this.tv}),xn.prototype.canStart=function(){return!0},xn.prototype.prepareAutomaticAnimation=xn.prototype.Yn=function(t){this.jf&&(this.wl||this.aa.Kn)&&(this.tv.add(t),this.canStart(t)&&(this.dk&&this.Ih(),this.sc=!0))},xn.prototype.stopAnimation=xn.prototype.Ih=function(){!0===this.sc&&(this.sc=!1,this.ym=0,this.ro&&this.aa.ye()),this.dk&&this.jf&&An(this)},Jh.defineProperty(xn,{isEnabled:"isEnabled"},function(){return this.jf},function(t){Jh.j(t,"boolean",xn,"isEnabled"),this.jf=t}),Jh.defineProperty(xn,{duration:"duration"},function(){return this.mz},function(t){Jh.j(t,"number",xn,"duration"),1>t&&Jh.Fa(t,">= 1",xn,"duration"),this.mz=t}),Jh.u(xn,{df:"isAnimating"},function(){return this.dk}),Jh.u(xn,{FI:"isTicking"},function(){return this.Wo}),Jh.defineProperty(xn,{GF:"isInitial"},function(){return this.wl},function(t){Jh.j(t,"boolean",xn,"isInitial"),this.wl=t});var $c={opacity:function(t,e,n,i,r,o){t.opacity=i(r,e,n-e,o)},position:function(t,e,n,i,r,o){r!==o?t.Ay(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o)):t.position=new w(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o))},"position:node":function(t,e,n,i,r,o){var s=t.U,a=n.U;n=a.x+a.width/2-s.width/2,s=a.y+a.height/2-s.height/2,r!==o?t.Ay(i(r,e.x,n-e.x,o),i(r,e.y,s-e.y,o)):t.position=new w(i(r,e.x,n-e.x,o),i(r,e.y,s-e.y,o))},"position:placeholder":function(t,e,n,i,r,o){r!==o?t.Ay(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o)):t.position=new w(i(r,e.x,n.x-e.x,o),i(r,e.y,n.y-e.y,o))},scale:function(t,e,n,i,r,o){t.scale=i(r,e,n-e,o)},visible:function(t,e,n,i,r,o){t.visible=r!==o?e:n}};Jh.ga("Layer",Fn),Fn.prototype.Tc=function(t){this.aa=t},Fn.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var n=0,i=0,r=0,o=0,s=0,a=this.xb.i;a.next();){var u=a.value;u instanceof Aa?r++:u instanceof Ls?i++:u instanceof Ys?o++:u instanceof Es?s++:n++}if(a="",0<n&&(a+=n+" Parts "),0<i&&(a+=i+" Nodes "),0<r&&(a+=r+" Groups "),0<o&&(a+=o+" Links "),0<s&&(a+=s+" Adornments "),1<t)for(t=this.xb.i;t.next();)n=t.value,a+="\n    "+n.toString(),i=n.data,null!==i&&Jh.Pd(i)&&(a+=" #"+Jh.Pd(i)),n instanceof Ls?a+=" "+Pc(i):n instanceof Ys&&(a+=" "+Pc(n.V)+" "+Pc(n.Z));return e+" "+this.xb.count+": "+a},Fn.prototype.findObjectAt=Fn.prototype.Pe=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!1===this.Fl)return null;var i=!1;null!==this.g&&this.g.sb.Ia(t)&&(i=!0);for(var r=Jh.K(),o=this.xb.n,s=o.length;s--;){var a=o[s];if((!0!==i||!1!==Ms(a))&&a.isVisible()&&(r.assign(t),k(r,a.rh),null!==(a=a.Pe(r,e,n))&&(null!==e&&(a=e(a)),null!==a&&(null===n||n(a)))))return Jh.v(r),a}return Jh.v(r),null},Fn.prototype.findObjectsAt=Fn.prototype.du=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),i instanceof c||i instanceof p||(i=new p(Tr)),!1===this.Fl)return i;var r=!1;null!==this.g&&this.g.sb.Ia(t)&&(r=!0);for(var o=Jh.K(),s=this.xb.n,a=s.length;a--;){var u=s[a];if((!0!==r||!1!==Ms(u))&&u.isVisible()){o.assign(t),k(o,u.rh);var h=u;u.du(o,e,n,i)&&(null!==e&&(h=e(h)),null===h||null!==n&&!n(h)||(i instanceof p&&i.add(h),i instanceof c&&i.add(h)))}}return Jh.v(o),i},Fn.prototype.findObjectsIn=Fn.prototype.Jk=function(t,e,n,i,r){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),r instanceof c||r instanceof p||(r=new p(Tr)),!1===this.Fl)return r;var o=!1;null!==this.g&&this.g.sb.Fk(t)&&(o=!0);for(var s=this.xb.n,a=s.length;a--;){var u=s[a];if((!0!==o||!1!==Ms(u))&&u.isVisible()){var h=u;u.Jk(t,e,n,i,r)&&(null!==e&&(h=e(h)),null===h||null!==n&&!n(h)||(r instanceof p&&r.add(h),r instanceof c&&r.add(h)))}}return r},Fn.prototype.DA=function(t,e,n,i,r,o,s){if(!1===this.Fl)return r;for(var a=this.xb.n,u=a.length;u--;){var h=a[u];if((!0!==s||!1!==Ms(h))&&o(h)&&h.isVisible()){var l=h;h.Jk(t,e,n,i,r)&&(null!==e&&(l=e(l)),null===l||null!==n&&!n(l)||(r instanceof p&&r.add(l),r instanceof c&&r.add(l)))}}return r},Fn.prototype.findObjectsNear=Fn.prototype.An=function(t,e,n,i,r,o){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof c||r instanceof p)&&(o=r),r=!0),o instanceof c||o instanceof p||(o=new p(Tr)),!1===this.Fl)return o;var s=!1;null!==this.g&&this.g.sb.Ia(t)&&(s=!0);for(var a=Jh.K(),u=Jh.K(),h=this.xb.n,l=h.length;l--;){var f=h[l];if((!0!==s||!1!==Ms(f))&&f.isVisible()){a.assign(t),k(a,f.rh),u.m(t.x+e,t.y),k(u,f.rh);var d=f;f.An(a,u,n,i,r,o)&&(null!==n&&(d=n(d)),null===d||null!==i&&!i(d)||(o instanceof p&&o.add(d),o instanceof c&&o.add(d)))}}return Jh.v(a),Jh.v(u),o},Kh=Fn.prototype,Kh.If=function(t,e){if(this.visible){var n;n=void 0===e?t.sb:e;for(var i=this.xb.n,r=i.length,o=Jh.Za(),s=Jh.Za(),a=0;a<r;a++){var u=i[a];if(u.uD=a,!(u instanceof Ys&&!1===u.Mf)){if(u instanceof Es){var h=u;if(null!==h.Ze)continue}N(u.U,n)?(u.If(!0),o.push(u)):(u.If(!1),null!==u.ex&&0<u.ex.count&&s.push(u))}}for(a=0;a<o.length;a++)for(h=u=o[a],0!=(16384&h.Q)!=!1&&(h.updateAdornments(),Ps(h,!1)),u=u.ex;u.next();)h=u.value,jr(h,1/0,1/0),h.jc(),h.If(!0);for(a=0;a<s.length;a++)u=s[a],u.updateAdornments(),Ps(u,!0);Jh.ra(o),Jh.ra(s)}},Kh.ve=function(t,e,n){if(this.visible&&0!==this.Dc&&(void 0===n&&(n=!0),n||!this.Hc)){n=this.xb.n;var i=n.length;if(0!==i){1!==this.Dc&&(t.globalAlpha=this.Dc);var r=this.Qs;r.length=0;for(var o=e.scale,s=0;s<i;s++){var a=n[s];if(Ms(a)){if(a instanceof Ys){var u=a;if(u.ac&&r.push(u),!1===u.Mf)continue}u=a.U,1<u.width*o||1<u.height*o?a.ve(t,e):xs(a,t)}}t.globalAlpha=1}}},Kh.h=function(t,e,n,i,r){var o=this.g;null!==o&&o.bd(gc,t,this,e,n,i,r)},Kh.eq=function(t,e,n){var i=this.xb;if(e.iw=this,t>=i.count)t=i.count;else if(i.fa(t)===e)return-1;return i.Rd(t,e),e.qu(n),i=this.g,null!==i&&(n?i.oa():i.eq(e)),Vn(this,t,e),t},Kh.rf=function(t,e,n){if(!n&&e.layer!==this&&null!==e.layer)return e.layer.rf(t,e,n);var i=this.xb;if(0>t||t>=i.length){if(0>(t=i.indexOf(e)))return-1}else if(i.fa(t)!==e&&0>(t=i.indexOf(e)))return-1;return e.ru(n),i.cd(t),i=this.g,null!==i&&(n?i.oa():i.rf(e)),e.iw=null,t},Kh.clear=function(){for(var t=this.xb.yc(),e=t.length,n=0;n<e;n++)t[n].If(!1),this.rf(-1,t[n],!1);this.Qs.length=0},Jh.u(Fn,{Hj:"parts"},function(){return this.xb.i}),Jh.u(Fn,{JL:"partsBackwards"},function(){return this.xb.Ln}),Jh.u(Fn,{g:"diagram"},function(){return this.aa}),Jh.defineProperty(Fn,{name:"name"},function(){return this.Sb},function(t){Jh.j(t,"string",Fn,"name");var e=this.Sb;if(e!==t){var n=this.g;if(null!==n)for(""===e&&Jh.k("Cannot rename default Layer to: "+t),n=n.Ux;n.next();)n.value.name===t&&Jh.k("Layer.name is already present in this diagram: "+t);for(this.Sb=t,this.h("name",e,t),t=this.xb.i;t.next();)t.value.bg=this.Sb}}),Jh.defineProperty(Fn,{opacity:"opacity"},function(){return this.Dc},function(t){var e=this.Dc;e!==t&&(Jh.j(t,"number",Fn,"opacity"),(0>t||1<t)&&Jh.Fa(t,"0 <= value <= 1",Fn,"opacity"),this.Dc=t,this.h("opacity",e,t),null!==(t=this.g)&&t.oa())}),Jh.defineProperty(Fn,{Hc:"isTemporary"},function(){return this.Cz},function(t){var e=this.Cz;e!==t&&(Jh.j(t,"boolean",Fn,"isTemporary"),this.Cz=t,this.h("isTemporary",e,t))}),Jh.defineProperty(Fn,{visible:"visible"},function(){return this.fA},function(t){var e=this.fA;if(e!==t){for(Jh.j(t,"boolean",Fn,"visible"),this.fA=t,this.h("visible",e,t),e=this.xb.i;e.next();)e.value.Dd(t);t=this.g,null!==t&&t.oa()}}),Jh.defineProperty(Fn,{Ug:"pickable"},function(){return this.Fl},function(t){var e=this.Fl;e!==t&&(Jh.j(t,"boolean",Fn,"pickable"),this.Fl=t,this.h("pickable",e,t))}),Jh.defineProperty(Fn,{AF:"isBoundsIncluded"},function(){return this.Az},function(t){this.Az!==t&&(this.Az=t,null!==this.g&&this.g.Gc())}),Jh.defineProperty(Fn,{Ck:"allowCopy"},function(){return this.Yk},function(t){var e=this.Yk;e!==t&&(Jh.j(t,"boolean",Fn,"allowCopy"),this.Yk=t,this.h("allowCopy",e,t))}),Jh.defineProperty(Fn,{nn:"allowDelete"},function(){return this.Zk},function(t){var e=this.Zk;e!==t&&(Jh.j(t,"boolean",Fn,"allowDelete"),this.Zk=t,this.h("allowDelete",e,t))}),Jh.defineProperty(Fn,{jx:"allowTextEdit"},function(){return this.hl},function(t){var e=this.hl;e!==t&&(Jh.j(t,"boolean",Fn,"allowTextEdit"),this.hl=t,this.h("allowTextEdit",e,t))}),Jh.defineProperty(Fn,{gx:"allowGroup"},function(){return this.$k},function(t){var e=this.$k;e!==t&&(Jh.j(t,"boolean",Fn,"allowGroup"),this.$k=t,this.h("allowGroup",e,t))}),Jh.defineProperty(Fn,{kx:"allowUngroup"},function(){return this.il},function(t){var e=this.il;e!==t&&(Jh.j(t,"boolean",Fn,"allowUngroup"),this.il=t,this.h("allowUngroup",e,t))}),Jh.defineProperty(Fn,{St:"allowLink"},function(){return this.al},function(t){var e=this.al;e!==t&&(Jh.j(t,"boolean",Fn,"allowLink"),this.al=t,this.h("allowLink",e,t))}),Jh.defineProperty(Fn,{on:"allowRelink"},function(){return this.cl},function(t){var e=this.cl;e!==t&&(Jh.j(t,"boolean",Fn,"allowRelink"),this.cl=t,this.h("allowRelink",e,t))}),Jh.defineProperty(Fn,{Rl:"allowMove"},function(){return this.bl},function(t){var e=this.bl;e!==t&&(Jh.j(t,"boolean",Fn,"allowMove"),this.bl=t,this.h("allowMove",e,t))}),Jh.defineProperty(Fn,{hx:"allowReshape"},function(){return this.dl},function(t){var e=this.dl;e!==t&&(Jh.j(t,"boolean",Fn,"allowReshape"),this.dl=t,this.h("allowReshape",e,t))}),Jh.defineProperty(Fn,{Tt:"allowResize"},function(){return this.el},function(t){var e=this.el;e!==t&&(Jh.j(t,"boolean",Fn,"allowResize"),this.el=t,this.h("allowResize",e,t))}),Jh.defineProperty(Fn,{ix:"allowRotate"},function(){return this.fl},function(t){var e=this.fl;e!==t&&(Jh.j(t,"boolean",Fn,"allowRotate"),this.fl=t,this.h("allowRotate",e,t))}),Jh.defineProperty(Fn,{Bf:"allowSelect"},function(){return this.gl},function(t){var e=this.gl;e!==t&&(Jh.j(t,"boolean",Fn,"allowSelect"),this.gl=t,this.h("allowSelect",e,t))}),Jh.ga("Diagram",Bn),Bn.prototype.clear=Bn.prototype.clear=function(){this.$.clear(),Cc=null,Sc="",qn(this,!1),this.Jv=new C(NaN,NaN,NaN,NaN).freeze(),this.oa()},Bn.prototype.reset=Bn.prototype.reset=function(){this.Wc=!0,this.clear(),this.dc=new c(Fn),this.hG(),this.gG(),this.ab=new w(NaN,NaN).freeze(),this.rb=1,this.Yv=new w(NaN,NaN).freeze(),this.Zv=NaN,this.qw=1e-4,this.ow=100,this.$w=new w(NaN,NaN).freeze(),this.Qv=new C(NaN,NaN,NaN,NaN).freeze(),this.Hw=new O(0,0,0,0).freeze(),this.Iw=lf,this.Lw=!0,this.Ew=this.Cw=null,this.Am=tf,this.Dm=il,this.ul=tf,this.Qo=il,this.$v=this.Xv=rl,this.$q=250,this.vv=new O(16,16,16,16).freeze(),this.ew=!0,this.Vw=ff,this.Xw=rf,this.wr="auto",this.Hi=this.jj=this.Yi=this.tw=this.Zi=this.$i=this.aj=this.Gi=this.Mi=this.Ei=null,this.Si=!1,this.Zk=this.Yk=this.lv=this.jf=!0,this.nv=this.mv=!1,this.rv=this.ov=this.Vv=this.Uv=this.sv=this.qv=this.gl=this.fl=this.el=this.dl=this.bl=this.cl=this.al=this.pv=this.il=this.$k=this.hl=!0,this.Kw=this.Gw=16,this.lf=new O(5).freeze(),this.pw=999999999,this.oe=null,this.fw=!1,zn(this),this.td=null,this.Va=new mn,this.Va.initializeStandardTools(),this.Xa=this.Xt=this.Va,this.pb=new ae,this.ij=!0,Un(this),this.Ub=new Fa,this.ij=!1,this.$=new Zt,this.eh=!1,this.Lo=!0,this.Wc=this.Tf=!1,this.oa(),this.jh=this.Di=null,tr(this),this.Cv=""},Bn.prototype.setScrollWidth=function(t){t=void 0===t?e.document.body:t;var n=Jh.createElement("p");n.style.width="100%",n.style.height="200px",n.style.boxSizing="content-box";var i=Jh.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.width="200px",i.style.height="150px",i.style.overflow="hidden",i.style.boxSizing="content-box",i.appendChild(n),t.appendChild(i);var r=n.offsetWidth;i.style.overflow="scroll",n=n.offsetWidth,r===n&&(n=i.clientWidth),t.removeChild(i),i=r-n,0!==i||Jh.EF||(i=11),this.zd=i,i=Jh.createElement("div"),i.dir="rtl",i.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",i.textContent="A",t.appendChild(i),r="reverse",0<i.scrollLeft?r="default":(i.scrollLeft=1,0===i.scrollLeft&&(r="negative")),t.removeChild(i),this.Pz=r},Bn.prototype.ic=function(t){t.Je===Bn?this.Tl=t:Jh.Lj(this,t)},Bn.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.tj&&this.tj.id&&(e=this.tj.id),e='Diagram "'+e+'"',0>=t)return e;for(var n=this.dc.i;n.next();)e+="\n  "+n.value.toString(t-1);return e},Bn.fromDiv=function(t){var n=t;return"string"==typeof t&&(n=e.document.getElementById(t)),n instanceof HTMLDivElement&&n.aa instanceof Bn?n.aa:null},Jh.defineProperty(Bn,{tj:"div"},function(){return this.Ob},function(t){if(null!==t&&Jh.G(t,HTMLDivElement,Bn,"div"),this.Ob!==t){_p=[];var n=this.Ob;null!==n?(n.aa=void 0,n.innerHTML="",null!==this.zb&&(this.zb.removeEventListener("touchstart",this.TB,!1),this.zb.removeEventListener("touchmove",this.SB,!1),this.zb.removeEventListener("touchend",this.RB,!1),this.zb.Od.aa=null),n=this.Va,null!==n&&(n.gf.each(function(t){t.cancelWaitAfter()}),n.eg.each(function(t){t.cancelWaitAfter()}),n.fg.each(function(t){t.cancelWaitAfter()})),n.cancelWaitAfter(),this.Xa.doCancel(),this.hf=this.zb=null,e.removeEventListener("resize",this.ZB,!1),e.removeEventListener("mousemove",this.Sn,!0),e.removeEventListener("mousedown",this.Rn,!0),e.removeEventListener("mouseup",this.Un,!0),e.removeEventListener("wheel",this.Vn,!0),e.removeEventListener("mouseout",this.Tn,!0)):this.eh=!1,this.Ob=null,null!==t&&((n=t.aa)&&(n.tj=null),cr(this,t),this.yq())}}),Bn.prototype.computePixelRatio=function(){if(null!==this.uk)return this.uk;var t=this.hf;return(e.devicePixelRatio||1)/(t.ua.webkitBackingStorePixelRatio||t.ua.mozBackingStorePixelRatio||t.ua.msBackingStorePixelRatio||t.ua.oBackingStorePixelRatio||t.ua.backingStorePixelRatio||1)},Bn.prototype.doMouseMove=function(){this.Xa.doMouseMove()},Bn.prototype.doMouseDown=function(){this.Xa.doMouseDown()},Bn.prototype.doMouseUp=function(){this.Xa.doMouseUp()},Bn.prototype.doMouseWheel=function(){this.Xa.doMouseWheel()},Bn.prototype.doKeyDown=function(){this.Xa.doKeyDown()},Bn.prototype.doKeyUp=function(){this.Xa.doKeyUp()},Bn.prototype.doFocus=function(){this.focus()},Bn.prototype.focus=Bn.prototype.focus=function(){if(this.zb)if(this.DJ)this.zb.focus();else{var t=e.scrollX||e.pageXOffset,n=e.scrollY||e.pageYOffset;this.zb.focus(),e.scrollTo(t,n)}},Bn.prototype.diagramScroll=Bn.prototype.SH=function(t){if(null!==this.zb){this.Fw=!0;var e,n=this.Nd,i=this.sb,r=this.ty,o=n.x-r.left,s=n.y-r.top,a=n.width+r.left+r.right,u=n.height+r.top+r.bottom,h=n.right+r.right,r=n.bottom+r.bottom,l=i.x,n=i.y,c=i.width,f=i.height,p=i.right,d=i.bottom,i=this.scale;if(e=t.scrollLeft,this.as)switch(this.Pz){case"negative":e=e+t.scrollWidth-t.clientWidth;break;case"reverse":e=t.scrollWidth-e-t.clientWidth}var y=e;c<a||f<u?(e=Jh.wb(this.position.x,this.position.y),this.re&&this.Sz!==y&&(e.x=y/i+o,this.Sz=y),this.se&&this.Tz!==t.scrollTop&&(e.y=t.scrollTop/i+s,this.Tz=t.scrollTop),this.position=e,Jh.v(e),this.Im=this.Fw=!1):(e=Jh.K(),t.dH&&this.re&&(o<l&&(this.position=e.m(y+o,this.position.y)),h>p&&(this.position=e.m(-(this.Jw.scrollWidth-this.Db)+y-this.Db/i+h,this.position.y))),t.eH&&this.se&&(s<n&&(this.position=e.m(this.position.x,t.scrollTop+s)),r>d&&(this.position=e.m(this.position.x,-(this.Jw.scrollHeight-this.Cb)+t.scrollTop-this.Cb/i+r))),Jh.v(e),mi(this),this.Im=this.Fw=!1,n=this.Nd,i=this.sb,h=n.right,p=i.right,r=n.bottom,d=i.bottom,o=n.x,l=i.x,s=n.y,n=i.y,c>=a&&o>=l&&h<=p&&(this.kt.style.width="1px"),f>=u&&s>=n&&r<=d&&(this.kt.style.height="1px"))}},Bn.prototype.computeBounds=function(){return 0<this.vg.count&&ci(this),Yn(this)},Bn.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);for(var n=null,i=t.i;i.next();){var r=i.value;!e&&r instanceof Ys||(r.Ne(),null===n?n=r.U.copy():n.Zg(r.U))}return null===n?new C(NaN,NaN,0,0):n},Bn.prototype.zoomToFit=Bn.prototype.zoomToFit=function(){this.scale=Zn(this,ef),this.uy!==lf&&(this.ab.Qa(),Xn(this,this.ab,this.Nd,this.Db/this.rb,this.Cb/this.rb,this.Dm,!0),this.ab.freeze())},Bn.prototype.zoomToRect=function(t,e){void 0===e&&(e=ef);var n=t.width,i=t.height;if(!(0===n||0===i||isNaN(n)&&isNaN(i))){var r=1;if(e===ef||e===nf)if(isNaN(n))r=this.sb.height*this.scale/i;else if(isNaN(i))r=this.sb.width*this.scale/n;else var r=this.Db,o=this.Cb,r=e===nf?o/i>r/n?(o-(this.bk?this.zd:0))/i:(r-(this.sl?this.zd:0))/n:Math.min(o/i,r/n);this.scale=r,this.position=new w(t.x,t.y)}},Jh.defineProperty(Bn,{UA:null},function(){return this.Wc},function(t){this.Wc=t}),Bn.prototype.alignDocument=function(t,e){this.ck&&Yi(this,this.computeBounds());var n=this.Nd,i=this.sb;this.position=new w(n.x+(t.x*n.width+t.offsetX)-(e.x*i.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*i.height-e.offsetY))},Bn.prototype.findPartAt=Bn.prototype.eu=function(t,e){var n=e?$n(this,t,function(t){return t.W},function(t){return t.canSelect()}):$n(this,t,function(t){return t.W});return n instanceof ls?n:null},Bn.prototype.findObjectAt=Bn.prototype.Pe=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),ci(this);for(var i=this.dc.Ln;i.next();){var r=i.value;if(r.visible&&null!==(r=r.Pe(t,e,n)))return r}return null},Bn.prototype.findObjectsAt=Bn.prototype.du=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),i instanceof c||i instanceof p||(i=new p(Tr)),ci(this);for(var r=this.dc.Ln;r.next();){var o=r.value;o.visible&&o.du(t,e,n,i)}return i},Bn.prototype.findObjectsIn=Bn.prototype.Jk=function(t,e,n,i,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),r instanceof c||r instanceof p||(r=new p(Tr)),ci(this);for(var o=this.dc.Ln;o.next();){var s=o.value;s.visible&&s.Jk(t,e,n,i,r)}return r},Bn.prototype.DA=function(t,e,n,i,r,o){var s=new p(Tr);ci(this);for(var a=this.dc.Ln;a.next();){var u=a.value;u.visible&&u.DA(t,e,n,i,s,r,o)}return s},Bn.prototype.findObjectsNear=Bn.prototype.An=function(t,e,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof c||r instanceof p)&&(o=r),r=!0),o instanceof c||o instanceof p||(o=new p(Tr)),ci(this);for(var s=this.dc.Ln;s.next();){var a=s.value;a.visible&&a.An(t,e,n,i,r,o)}return o},Bn.prototype.acceptEvent=function(t){var e=this.xd;return this.xd=this.Rb,this.Rb=e,ti(this,this,t,e,t instanceof MouseEvent),e},Bn.prototype.HI=function(t){if(!this.aa.isEnabled)return!1;var e=this.aa.Rb;switch(ti(this.aa,this.aa,t,e,!1),e.key=String.fromCharCode(t.which),e.Hk=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.aa.doKeyDown(),ri(e,t)},Bn.prototype.II=function(t){if(!this.aa.isEnabled)return!1;var e=this.aa.Rb;switch(ti(this.aa,this.aa,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 8:e.key="Backspace";break;case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del"}return this.aa.doKeyUp(),ri(e,t)},Bn.prototype.Nr=function(t){var e=this.zb;if(null===e)return new w(0,0);var n=this.Db,i=this.Cb,e=e.getBoundingClientRect(),n=t.clientX-n/e.width*e.left;return t=t.clientY-i/e.height*e.top,null!==this.jd?(t=new w(n,t),k(t,this.jd),t):new w(n,t)},Bn.prototype.invalidateDocumentBounds=Bn.prototype.Gc=function(){this.ck||(this.ck=!0,this.ye(!0))},Bn.prototype.redraw=Bn.prototype.yq=function(){this.Wc||this.$d||(this.oa(),gi(this),mi(this),this.Gc(),this.dg())},Bn.prototype.isUpdateRequested=function(){return this.Tf},Bn.prototype.delayInitialization=function(t){void 0===t&&(t=null);var e=this.Ka,n=e.isEnabled;e.Ih(),e.isEnabled=!1,hi(this),this.eh=!1,e.isEnabled=n,null!==t&&Jh.setTimeout(t,1)},Bn.prototype.requestUpdate=Bn.prototype.ye=function(t){if(void 0===t&&(t=!1),!0!==this.Tf&&!(this.Wc||!1===t&&this.$d)){this.Tf=!0;var e=this;requestAnimationFrame(function(){e.Tf&&e.dg()})}},Bn.prototype.maybeUpdate=Bn.prototype.dg=function(){this.Lo&&!this.Tf||(this.Lo&&(this.Lo=!1),hi(this))},Jh.u(Bn,{Kn:null},function(){return this.eh}),Bn.prototype.XB=function(t,e){for(t.reset();t.next();){var n=t.value;!n.he()||n instanceof Aa||(n.im()?(jr(n,1/0,1/0),n.jc()):e.add(n))}for(t.reset();t.next();)(n=t.value)instanceof Aa&&n.isVisible()&&fi(this,n);for(t.reset();t.next();)(n=t.value)instanceof Ys&&n.isVisible()&&(n.im()?(jr(n,1/0,1/0),n.jc()):e.add(n));for(t.reset();t.next();)(n=t.value)instanceof Es&&n.isVisible()&&(n.im()?(jr(n,1/0,1/0),n.jc()):e.add(n))},Bn.prototype.If=function(t,e,n,i){var r=this.Ka;if(this.vl||r.df)for(r=0;r<e;r++)t[r].If(n,i)},Bn.prototype.ve=function(t,e){void 0===e&&(e=null),null===this.Ob&&Jh.k("No div specified");var n=this.zb;null===n&&Jh.k("No canvas specified");var i=this.Ka;if(!i.sc&&(bi(this),"0"!==this.Ob.style.opacity)){var r=t!==this.hf,o=this.dc.n,s=o.length,a=this;if(this.If(o,s,a),r)t.Ke(!0),mi(this);else if(!this.Fe&&null===e&&!i.dk)return;var s=this.ab,u=this.rb,h=Math.round(s.x*u)/u,l=Math.round(s.y*u)/u,i=this.jd;for(i.reset(),1!==u&&i.scale(u),0===s.x&&0===s.y||i.translate(-h,-l),u=this.wd,Jh.In?(n.width=n.width,t.Ke(!0),t.scale(u,u)):(t.setTransform(1,0,0,1,0,0),t.scale(u,u),t.clearRect(0,0,this.Db,this.Cb)),t.setTransform(1,0,0,1,0,0),t.scale(u,u),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n=null!==e?function(n){var i=e;if(n.visible&&0!==n.Dc){var r=n.xb.n,o=r.length;if(0!==o){1!==n.Dc&&(t.globalAlpha=n.Dc),n=n.Qs,n.length=0;for(var s=a.scale,u=0;u<o;u++){var h=r[u];if(Ms(h)&&!i.contains(h)){if(h instanceof Ys){var l=h;if(l.ac&&n.push(l),!1===l.Mf)continue}l=h.U,1<l.width*s||1<l.height*s?h.ve(t,a):xs(h,t)}}t.globalAlpha=1}}}:function(e){e.ve(t,a)},yi(this,t),s=o.length,h=0;h<s;h++)t.setTransform(1,0,0,1,0,0),t.scale(u,u),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),n(o[h]);this.tl?this.tl.vm(this)&&this.Lv():this.Nr=function(){return new w(0,0)},r?(this.hf.Ke(!0),mi(this)):this.Fe=this.vl=!1}},Bn.prototype.getRenderingHint=Bn.prototype.Ok=function(t){return this.qk[t]},Bn.prototype.setRenderingHint=Bn.prototype.JJ=function(t,e){this.qk[t]=e,this.yq()},Bn.prototype.resetRenderingHints=Bn.prototype.hG=function(){this.qk=new r,this.qk.drawShadows=!0,this.qk.textGreeking=!0,this.qk.viewportOptimizations=!(Jh.EF||Jh.hq||Jh.iq),this.qk.temporaryPixelRatio=!0,this.qk.pictureRatioOptimization=!0},Bn.prototype.getInputOption=Bn.prototype.nu=function(t){return this.To[t]},Bn.prototype.setInputOption=function(t,e){this.To[t]=e},Bn.prototype.resetInputOptions=Bn.prototype.gG=function(){this.To=new r,this.To.extraTouchArea=10,this.To.extraTouchThreshold=10,this.To.hasGestureZoom=!0},Bn.prototype.setProperties=function(t){Jh.$u(this,t)},Bn.prototype.oa=function(t){if(void 0===t&&(t=null),null===t)this.Fe=!0,this.ye();else{var e=this.sb;null!==t&&t.I()&&e.$f(t)&&(this.Fe=!0,this.ye())}for(e=this.zw.i;e.next();)e.value.oa(t)},Bn.prototype.yF=function(t,e){if(!0!==this.Fe){this.Fe=!0;var n=!0===this.Ok("temporaryPixelRatio");if(!0===this.Ok("viewportOptimizations")&&this.uy!==cf&&this.ty.Bx(0,0,0,0)&&e.width===t.width&&e.height===t.height){var i=this.scale,r=Jh.vf(),o=Math.max(t.x,e.x),s=Math.max(t.y,e.y),a=Math.min(t.x+t.width,e.x+e.width),u=Math.min(t.y+t.height,e.y+e.height);if(r.x=o,r.y=s,r.width=Math.max(0,a-o)*i,r.height=Math.max(0,u-s)*i,0<r.width&&0<r.height){if(!this.$d&&(this.Tf=!1,null!==this.Ob)){this.$d=!0,vi(this),this.Nd.I()||Yi(this,this.computeBounds());var h=this.zb;if(null!==h){var l=this.wd,s=this.Db*l,a=this.Cb*l,o=this.scale*l,i=Math.round(Math.round(e.x*o)-Math.round(t.x*o)),o=Math.round(Math.round(e.y*o)-Math.round(t.y*o)),u=this.lz,c=this.YC;u.width!==s&&(u.width=s),u.height!==a&&(u.height=a),c.clearRect(0,0,s,a);var u=190*this.wd,f=70*this.wd,p=Math.max(i,0),d=Math.max(o,0),y=Math.floor(s-p),v=Math.floor(a-d);c.yy(!1),c.drawImage(h.Od,p,d,y,v,0,0,y,v),this.tl.vm(this)&&c.clearRect(0,0,u,f);var h=Jh.Za(),c=Jh.Za(),v=Math.abs(i),y=Math.abs(o),g=0===p?0:s-v,p=Jh.wb(g,0),v=Jh.wb(v+g,a);c.push(new C(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y)));var m=this.jd;m.reset(),m.scale(l,l),1!==this.rb&&m.scale(this.rb),l=this.ab,(0!==l.x||0!==l.y)&&isFinite(l.x)&&isFinite(l.y)&&m.translate(-l.x,-l.y),k(p,m),k(v,m),h.push(new C(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),g=0===d?0:a-y,p.m(0,g),v.m(s,y+g),c.push(new C(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),k(p,m),k(v,m),h.push(new C(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),this.tl.vm(this)&&(s=0<i?0:-i,a=0<o?0:-o,p.m(s,a),v.m(u+s,f+a),c.push(new C(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y))),k(p,m),k(v,m),h.push(new C(Math.min(p.x,v.x),Math.min(p.y,v.y),Math.abs(p.x-v.x),Math.abs(p.y-v.y)))),Jh.v(p),Jh.v(v),ui(this,!1),pi(this,h,c,i,o),Jh.ra(h),Jh.ra(c),this.$d=!1}}}else this.dg();Jh.Bb(r),n&&(this.uk=1,this.dg(),this.uk=null,this.my())}else n?(this.uk=1,this.dg(),this.uk=null,this.my()):this.dg()}},Bn.prototype.add=Bn.prototype.add=function(t){Jh.G(t,ls,Bn,"add:part");var e=t.g;if(e!==this){null!==e&&Jh.k("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.Sq&&(t.zl="Tool");var n=t.bg,e=this.cu(n);null===e&&(e=this.cu("")),null===e&&Jh.k('Cannot add a Part when unable find a Layer named "'+n+'" and there is no default Layer'),t.layer!==e&&(n=e.eq(99999999,t,t.g===this),0<=n&&this.bd(mc,"parts",e,null,t,null,n),e.Hc||this.Gc(),t.J(jp),null!==(n=t.Tx)&&n(t,null,e))}},Bn.prototype.eq=function(t){if(t instanceof Ls){if(this.ip.add(t),t instanceof Aa){var e=t.Ca;null===e?this.Ll.add(t):e.fp.add(t),e=t.Ub,null!==e&&(e.g=this)}}else t instanceof Ys?this.bp.add(t):t instanceof Es||this.xb.add(t);var n=this;lo(t,function(t){Ei(n,t)}),(t instanceof Es||t instanceof Aa&&null!==t.Lb)&&t.H(),e=t.data,null!==e&&(t instanceof Es||(t instanceof Ys?this.Sj.add(e,t):this.Ii.add(e,t)),lo(t,function(t){Oi(n,t)})),!0!==Yr(t)&&!0!==Cs(t)||this.vg.add(t),ws(t,!0,this),js(t)?(t.U.I()&&this.oa(ys(t,t.U)),this.Gc()):t.isVisible()&&t.U.I()&&this.oa(ys(t,t.U)),this.ye()},Bn.prototype.rf=function(t){if(t.Ut(),t instanceof Ls){if(this.ip.remove(t),t instanceof Aa){var e=t.Ca;null===e?this.Ll.remove(t):e.fp.remove(t),e=t.Ub,null!==e&&(e.g=null)}}else t instanceof Ys?this.bp.remove(t):t instanceof Es||this.xb.remove(t);var n=this;lo(t,function(t){Di(n,t)}),e=t.data,null!==e&&(t instanceof Es||(t instanceof Ys?this.Sj.remove(e):this.Ii.remove(e)),lo(t,function(t){ji(n,t)})),this.vg.remove(t),js(t)?(t.U.I()&&this.oa(ys(t,t.U)),this.Gc()):t.isVisible()&&t.U.I()&&this.oa(ys(t,t.U)),this.ye()},Bn.prototype.remove=Bn.prototype.remove=function(t){Jh.G(t,ls,Bn,"remove:part"),ki(this,t,!0)},Bn.prototype.removeParts=Bn.prototype.vB=function(t,e){if(Jh.isArray(t))for(var n=Jh.cb(t),i=0;i<n;i++){var r=Jh.Ba(t,i);e&&!r.canDelete()||this.remove(r)}else for(r=new p(ls),r.Pc(t),n=r.i;n.next();)r=n.value,e&&!r.canDelete()||this.remove(r)},Bn.prototype.copyParts=Bn.prototype.Tp=function(t,e,n){return this.pb.Tp(t,e,n)},Bn.prototype.moveParts=Bn.prototype.moveParts=function(t,e,n){Jh.G(e,w,Bn,"moveParts:offset");var i=this.Va;if(null!==i){i=i.ce,null===i&&(i=new de,i.Tc(this));var r=new b(ls);if(null!==t)t=t.i;else{for(t=this.Hj;t.next();)ge(i,r,t.value,n);for(t=this.ig;t.next();)ge(i,r,t.value,n);t=this.links}for(;t.next();)ge(i,r,t.value,n);i.moveParts(r,e,n)}},Bn.prototype.addLayer=Bn.prototype.Nt=function(t){Pi(this,t,null),t.Tc(this);var e=this.dc,n=e.count-1;if(!t.Hc)for(;0<=n&&e.fa(n).Hc;)n--;e.Rd(n+1,t),null!==this.qe&&this.bd(mc,"layers",this,null,t,null,n+1),this.oa(),this.Gc()},Bn.prototype.addLayerBefore=Bn.prototype.nH=function(t,e){Pi(this,t,e),t.Tc(this);var n=this.dc,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.qe&&this.bd(bc,"layers",this,t,null,i,null));for(var r=n.count,o=0;o<r;o++)if(n.fa(o)===e){n.Rd(o,t);break}null!==this.qe&&this.bd(mc,"layers",this,null,t,null,o),this.oa(),0>i&&this.Gc()},Bn.prototype.addLayerAfter=function(t,e){Pi(this,t,e),t.Tc(this);var n=this.dc,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.qe&&this.bd(bc,"layers",this,t,null,i,null));for(var r=n.count,o=0;o<r;o++)if(n.fa(o)===e){n.Rd(o+1,t);break}null!==this.qe&&this.bd(mc,"layers",this,null,t,null,o+1),this.oa(),0>i&&this.Gc()},Bn.prototype.removeLayer=function(t){if(Jh.G(t,Fn,Bn,"removeLayer:layer"),t.g!==this&&Jh.k("Cannot remove a Layer from another Diagram: "+t+" of "+t.g),""!==t.name){var e=this.dc,n=e.indexOf(t);if(e.remove(t)){for(e=t.xb.copy().i;e.next();){var i=e.value,r=i.bg;i.bg=r!==t.name?r:""}null!==this.qe&&this.bd(bc,"layers",this,t,null,n,null),this.oa(),this.Gc()}}},Bn.prototype.findLayer=Bn.prototype.cu=function(t){for(var e=this.Ux;e.next();){var n=e.value;if(n.name===t)return n}return null},Bn.prototype.addModelChangedListener=Bn.prototype.pH=function(t){Jh.j(t,"function",Bn,"addModelChangedListener:listener"),null===this.jh&&(this.jh=new c("function")),this.jh.add(t),this.$.mn(t)},Bn.prototype.removeModelChangedListener=function(t){Jh.j(t,"function",Bn,"removeModelChangedListener:listener"),null!==this.jh&&(this.jh.remove(t),0===this.jh.count&&(this.jh=null)),this.$.Su(t)},Bn.prototype.addChangedListener=Bn.prototype.mn=function(t){Jh.j(t,"function",Bn,"addChangedListener:listener"),null===this.Di&&(this.Di=new c("function")),this.Di.add(t)},Bn.prototype.removeChangedListener=Bn.prototype.Su=function(t){Jh.j(t,"function",Bn,"removeChangedListener:listener"),null!==this.Di&&(this.Di.remove(t),0===this.Di.count&&(this.Di=null))},Bn.prototype.mx=function(t){if(this.gb||this.ja.tF(t),t.Fc!==vc&&(this.ri=!0),null!==this.Di)for(var e=this.Di,n=e.length,i=0;i<n;i++)e.fa(i)(t)},Bn.prototype.raiseChangedEvent=Bn.prototype.bd=function(t,e,n,i,r,o,s){void 0===o&&(o=null),void 0===s&&(s=null);var a=new Ot;a.g=this,a.Fc=t,a.propertyName=e,a.object=n,a.oldValue=i,a.Gj=o,a.newValue=r,a.Fj=s,this.mx(a)},Bn.prototype.raiseChanged=Bn.prototype.h=function(t,e,n,i,r){this.bd(gc,t,this,e,n,i,r)},Jh.u(Bn,{Ka:"animationManager"},function(){return this.lC}),Jh.u(Bn,{ja:"undoManager"},function(){return this.qe.ja}),Jh.defineProperty(Bn,{gb:"skipsUndoManager"},function(){return this.ij},function(t){Jh.j(t,"boolean",Bn,"skipsUndoManager"),this.ij=t,this.qe.ij=t}),Jh.defineProperty(Bn,{zA:"delaysLayout"},function(){return this.gz},function(t){this.gz=t}),Bn.prototype.rn=function(t,e){if(null!==t&&t.g===this){var n=this.Re;try{this.Re=!0;var i,r=t.Fc;if(r===gc){var o=t.object,s=t.propertyName,a=t.ka(e);if(Jh.Ma(o,s,a),o instanceof Tr){var u,h=o.W;null!==h&&h.Sd()}this.ri=!0}else if(r===mc){var l=t.object,c=t.Fj,o=t.newValue;if(l instanceof eo){if("number"==typeof c&&o instanceof Tr){u=o;var f=l;e?f.rf(c):f.Rd(c,u),h=l.W,null!==h&&h.Sd()}else if("number"==typeof c&&o instanceof Mo){var p=o,f=l;e?p.xe?f.fG(c):f.dG(c):(i=p.xe?f.ee(p.index):f.de(p.index),i.Sp(p))}}else if(l instanceof Fn){var d=!0===t.Gj;if("number"==typeof c&&o instanceof ls){var h=o,y=l;e?(h.jb=!1,h.Og=!1,h.Sd(),y.rf(d?c:-1,h,d)):y.eq(c,h,d)}}else if(l instanceof Bn){if("number"==typeof c&&o instanceof Fn){var v=o;e?this.dc.cd(c):(r=v,r.Tc(this),this.dc.Rd(c,r))}}else Jh.k("unknown ChangedEvent.Insert object: "+t.toString());this.ri=!0}else r===bc?(l=t.object,c=t.Gj,o=t.oldValue,l instanceof eo?"number"==typeof c&&o instanceof Tr?(f=l,e?f.Rd(c,o):f.rf(c)):"number"==typeof c&&o instanceof Mo&&(p=o,f=l,e?(i=p.xe?f.ee(p.index):f.de(p.index),i.Sp(p)):p.xe?f.fG(c):f.dG(c)):l instanceof Fn?(d=!0===t.Fj,"number"==typeof c&&o instanceof ls&&(h=o,y=l,e?0>y.xb.indexOf(h)&&y.eq(c,h,d):(h.jb=!1,h.Og=!1,h.Sd(),y.rf(d?c:-1,h,d)))):l instanceof Bn?"number"==typeof c&&o instanceof Fn&&(v=o,e?(r=v,r.Tc(this),this.dc.Rd(c,r)):this.dc.cd(c)):Jh.k("unknown ChangedEvent.Remove object: "+t.toString()),this.ri=!0):r!==vc&&Jh.k("unknown ChangedEvent: "+t.toString())}finally{this.Re=n}}},Bn.prototype.startTransaction=Bn.prototype.Ib=function(t){return this.ja.Ib(t)},Bn.prototype.commitTransaction=Bn.prototype.Yc=function(t){return this.ja.Yc(t)},Bn.prototype.rollbackTransaction=Bn.prototype.mm=function(){return this.ja.mm()},Bn.prototype.commit=Bn.prototype.commit=function(t,e){var n=e;void 0===n&&(n="");var i=this.gb;null===n&&(this.gb=!0,n=""),this.ja.Ib(n);var r=!1;try{t(this),r=!0}finally{r?this.ja.Yc(n):this.ja.mm(),this.gb=i}},Bn.prototype.updateAllTargetBindings=Bn.prototype.LG=function(t){void 0===t&&(t="");for(var e=this.Hj;e.next();)e.value.Jb(t);for(e=this.ig;e.next();)e.value.Jb(t);for(e=this.links;e.next();)e.value.Jb(t)},Bn.prototype.updateAllRelationshipsFromData=Bn.prototype.$J=function(){for(var t=this.$,e=new p,n=t.Pg,i=0;i<n.length;i++){var r=n[i];e.add(r)}var o=[];for(this.ig.each(function(t){null===t.data||e.contains(t.data)||o.push(t.data)}),this.Hj.each(function(t){null===t.data||e.contains(t.data)||o.push(t.data)}),o.forEach(function(e){Kt(t,e,!1)}),i=0;i<n.length;i++){var r=n[i],s=this.wh(r);null===s&&Ut(t,r,!1)}if(t instanceof Zt){for(var a=new p,n=t.Ah,i=0;i<n.length;i++)r=n[i],a.add(r);var u=[];for(this.links.each(function(t){null===t.data||a.contains(t.data)||u.push(t.data)}),u.forEach(function(e){$t(t,e,!1)}),i=0;i<n.length;i++)r=n[i],null===(s=this.Yf(r))&&Xt(t,r,!1)}for(i=this.Hj;i.next();)s=i.value,s.updateRelationshipsFromData();for(i=this.ig;i.next();)i.value.updateRelationshipsFromData();for(i=this.links;i.next();)s=i.value,s.updateRelationshipsFromData()},Bn.prototype.Pu=function(t,e,n,i,r){t.L(e)||(void 0===r&&(r=!1),r||gi(this),mi(this),i=this.Ub,null===i||!i.Qx||this.Tl!==tf||r||t.width===e.width&&t.height===e.height||i.J(),i=this.Xa,!0===this.fh&&i instanceof mn&&(this.N.ea=this.UB(this.N.Ce),bn(i,this)),this.Wc||this.yF(t,e),Si(this),this.ph.scale=n,this.ph.position.x=t.x,this.ph.position.y=t.y,this.ph.bounds.set(t),this.ph.isScroll=r,this.Aa("ViewportBoundsChanged",this.ph,t),this.$A&&this.links.each(function(t){t.fm&&t.U.$f(e)&&t.Tb()}))},Bn.prototype.clearSelection=Bn.prototype.oA=function(){var t=0<this.selection.count;t&&this.Aa("ChangingSelection"),Ti(this),t&&this.Aa("ChangedSelection")},Bn.prototype.select=Bn.prototype.select=function(t){null!==t&&(Jh.G(t,ls,Bn,"select:part"),t.layer.g===this&&(!t.jb||1<this.selection.count)&&(this.Aa("ChangingSelection"),Ti(this),t.jb=!0,this.Aa("ChangedSelection")))},Bn.prototype.selectCollection=Bn.prototype.qG=function(t){if(this.Aa("ChangingSelection"),Ti(this),Jh.isArray(t))for(var e=Jh.cb(t),n=0;n<e;n++){var i=Jh.Ba(t,n);i instanceof ls||Jh.k("Diagram.selectCollection given something that is not a Part: "+i),i.jb=!0}else for(t=t.i;t.next();)i=t.value,i instanceof ls||Jh.k("Diagram.selectCollection given something that is not a Part: "+i),i.jb=!0;this.Aa("ChangedSelection")},Bn.prototype.clearHighlighteds=Bn.prototype.wH=function(){var t=this.em;if(0<t.count){for(var e=t.yc(),n=e.length,i=0;i<n;i++)e[i].Og=!1;t.Qa(),t.clear(),t.freeze()}},Bn.prototype.highlight=function(t){null!==t&&t.layer.g===this&&(Jh.G(t,ls,Bn,"highlight:part"),!t.Og||1<this.em.count)&&(this.wH(),t.Og=!0)},Bn.prototype.highlightCollection=function(t){for(var e=new p(ls).Pc(t),n=this.em.copy().oy(e).i;n.next();)t=n.value,t.Og=!1;for(e=e.i;e.next();)t=e.value,t instanceof ls||Jh.k("Diagram.highlightCollection given something that is not a Part: "+t),t.Og=!0},Bn.prototype.scroll=Bn.prototype.scroll=function(t,e,n){void 0===n&&(n=1);var i="up"===e||"down"===e,r=0;if("pixel"===t)r=n;else if("line"===t)r=n*(i?this.Zu:this.Yu);else if("page"===t)t=i?this.sb.height:this.sb.width,0!==(t*=this.scale)&&(r=Math.max(t-(i?this.Zu:this.Yu),0),r*=n);else{if("document"===t)return r=this.Nd,i=this.sb,n=Jh.K(),"up"===e?this.position=n.m(i.x,r.y):"left"===e?this.position=n.m(r.x,i.y):"down"===e?this.position=n.m(i.x,r.bottom-i.height):"right"===e&&(this.position=n.m(r.right-i.width,i.y)),void Jh.v(n);Jh.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,n=this.position.copy(),"up"===e?n.y=this.position.y-r:"down"===e?n.y=this.position.y+r:"left"===e?n.x=this.position.x-r:"right"===e?n.x=this.position.x+r:Jh.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=n},Bn.prototype.scrollToRect=Bn.prototype.nG=function(t){var e=this.sb;e.Fk(t)||(t=t.Ul,t.x-=e.width/2,t.y-=e.height/2,this.position=t)},Bn.prototype.centerRect=Bn.prototype.IE=function(t){var e=this.sb;t=t.Ul,t.x-=e.width/2,t.y-=e.height/2,this.position=t},Bn.prototype.transformDocToView=Bn.prototype.Dy=function(t){var e=this.jd;e.reset(),1!==this.rb&&e.scale(this.rb);var n=this.ab;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),t.copy().transform(this.jd)},Bn.prototype.transformViewToDoc=Bn.prototype.UB=function(t){var e=this.jd;e.reset(),1!==this.rb&&e.scale(this.rb);var n=this.ab;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),k(t.copy(),this.jd)};var tf;Bn.None=tf=Jh.p(Bn,"None",0);var ef;Bn.Uniform=ef=Jh.p(Bn,"Uniform",1);var nf;Bn.UniformToFill=nf=Jh.p(Bn,"UniformToFill",2);var rf;Bn.CycleAll=rf=Jh.p(Bn,"CycleAll",10);var of;Bn.CycleNotDirected=of=Jh.p(Bn,"CycleNotDirected",11);var sf;Bn.CycleNotDirectedFast=sf=Jh.p(Bn,"CycleNotDirectedFast",12);var af;Bn.CycleNotUndirected=af=Jh.p(Bn,"CycleNotUndirected",13);var uf;Bn.CycleDestinationTree=uf=Jh.p(Bn,"CycleDestinationTree",14);var hf;Bn.CycleSourceTree=hf=Jh.p(Bn,"CycleSourceTree",15);var lf;Bn.DocumentScroll=lf=Jh.p(Bn,"DocumentScroll",1);var cf;Bn.InfiniteScroll=cf=Jh.p(Bn,"InfiniteScroll",2);var ff;Bn.TreeParentCollapsed=ff=Jh.p(Bn,"TreeParentCollapsed",21);var pf;Bn.AllParentsCollapsed=pf=Jh.p(Bn,"AllParentsCollapsed",22);var df;Bn.AnyParentsCollapsed=df=Jh.p(Bn,"AnyParentsCollapsed",23),Jh.defineProperty(Bn,{aK:"validCycle"},function(){return this.Xw},function(t){var e=this.Xw;e!==t&&(Jh.ob(t,Bn,Bn,"validCycle"),this.Xw=t,this.h("validCycle",e,t))}),Jh.u(Bn,{Ux:"layers"},function(){return this.dc.i}),Jh.defineProperty(Bn,{Ef:"isModelReadOnly"},function(){var t=this.qe;return null!==t&&t.ib},function(t){var e=this.qe;null!==e&&(e.ib=t)}),Jh.defineProperty(Bn,{ib:"isReadOnly"},function(){return this.Si},function(t){var e=this.Si;e!==t&&(Jh.j(t,"boolean",Bn,"isReadOnly"),this.Si=t,this.h("isReadOnly",e,t))}),Jh.defineProperty(Bn,{isEnabled:"isEnabled"},function(){return this.jf},function(t){var e=this.jf;e!==t&&(Jh.j(t,"boolean",Bn,"isEnabled"),this.jf=t,this.h("isEnabled",e,t))}),Jh.defineProperty(Bn,{iA:"allowClipboard"},function(){return this.lv},function(t){var e=this.lv;e!==t&&(Jh.j(t,"boolean",Bn,"allowClipboard"),this.lv=t,this.h("allowClipboard",e,t))}),Jh.defineProperty(Bn,{Ck:"allowCopy"},function(){return this.Yk},function(t){var e=this.Yk;e!==t&&(Jh.j(t,"boolean",Bn,"allowCopy"),this.Yk=t,this.h("allowCopy",e,t))}),Jh.defineProperty(Bn,{nn:"allowDelete"},function(){return this.Zk},function(t){var e=this.Zk;e!==t&&(Jh.j(t,"boolean",Bn,"allowDelete"),this.Zk=t,this.h("allowDelete",e,t))}),Jh.defineProperty(Bn,{Rt:"allowDragOut"},function(){return this.mv},function(t){var e=this.mv;e!==t&&(Jh.j(t,"boolean",Bn,"allowDragOut"),this.mv=t,this.h("allowDragOut",e,t))}),Jh.defineProperty(Bn,{AE:"allowDrop"},function(){return this.nv},function(t){var e=this.nv;e!==t&&(Jh.j(t,"boolean",Bn,"allowDrop"),this.nv=t,this.h("allowDrop",e,t))}),Jh.defineProperty(Bn,{jx:"allowTextEdit"},function(){return this.hl},function(t){var e=this.hl;e!==t&&(Jh.j(t,"boolean",Bn,"allowTextEdit"),this.hl=t,this.h("allowTextEdit",e,t))}),Jh.defineProperty(Bn,{gx:"allowGroup"},function(){return this.$k},function(t){var e=this.$k;e!==t&&(Jh.j(t,"boolean",Bn,"allowGroup"),this.$k=t,this.h("allowGroup",e,t))}),Jh.defineProperty(Bn,{kx:"allowUngroup"},function(){return this.il},function(t){var e=this.il;e!==t&&(Jh.j(t,"boolean",Bn,"allowUngroup"),this.il=t,this.h("allowUngroup",e,t))}),Jh.defineProperty(Bn,{Kp:"allowInsert"},function(){return this.pv},function(t){var e=this.pv;e!==t&&(Jh.j(t,"boolean",Bn,"allowInsert"),this.pv=t,this.h("allowInsert",e,t))}),Jh.defineProperty(Bn,{St:"allowLink"},function(){return this.al},function(t){var e=this.al;e!==t&&(Jh.j(t,"boolean",Bn,"allowLink"),this.al=t,this.h("allowLink",e,t))}),Jh.defineProperty(Bn,{on:"allowRelink"},function(){return this.cl},function(t){var e=this.cl;e!==t&&(Jh.j(t,"boolean",Bn,"allowRelink"),this.cl=t,this.h("allowRelink",e,t))}),Jh.defineProperty(Bn,{Rl:"allowMove"},function(){return this.bl},function(t){var e=this.bl;e!==t&&(Jh.j(t,"boolean",Bn,"allowMove"),this.bl=t,this.h("allowMove",e,t))}),Jh.defineProperty(Bn,{hx:"allowReshape"},function(){return this.dl},function(t){var e=this.dl;e!==t&&(Jh.j(t,"boolean",Bn,"allowReshape"),this.dl=t,this.h("allowReshape",e,t))}),Jh.defineProperty(Bn,{Tt:"allowResize"},function(){return this.el},function(t){var e=this.el;e!==t&&(Jh.j(t,"boolean",Bn,"allowResize"),this.el=t,this.h("allowResize",e,t))}),Jh.defineProperty(Bn,{ix:"allowRotate"},function(){return this.fl},function(t){var e=this.fl;e!==t&&(Jh.j(t,"boolean",Bn,"allowRotate"),this.fl=t,this.h("allowRotate",e,t))}),Jh.defineProperty(Bn,{Bf:"allowSelect"},function(){return this.gl},function(t){var e=this.gl;e!==t&&(Jh.j(t,"boolean",Bn,"allowSelect"),this.gl=t,this.h("allowSelect",e,t))}),Jh.defineProperty(Bn,{BE:"allowUndo"},function(){return this.qv},function(t){var e=this.qv;e!==t&&(Jh.j(t,"boolean",Bn,"allowUndo"),this.qv=t,this.h("allowUndo",e,t))}),Jh.defineProperty(Bn,{lx:"allowZoom"},function(){return this.sv},function(t){var e=this.sv;e!==t&&(Jh.j(t,"boolean",Bn,"allowZoom"),this.sv=t,this.h("allowZoom",e,t))}),Jh.defineProperty(Bn,{OA:"hasVerticalScrollbar"},function(){return this.Vv},function(t){var e=this.Vv;e!==t&&(Jh.j(t,"boolean",Bn,"hasVerticalScrollbar"),this.Vv=t,gi(this),this.oa(),this.h("hasVerticalScrollbar",e,t),Qn(this,!1))}),Jh.defineProperty(Bn,{NA:"hasHorizontalScrollbar"},function(){return this.Uv},function(t){var e=this.Uv;e!==t&&(Jh.j(t,"boolean",Bn,"hasHorizontalScrollbar"),this.Uv=t,gi(this),this.oa(),this.h("hasHorizontalScrollbar",e,t),Qn(this,!1))}),Jh.defineProperty(Bn,{re:"allowHorizontalScroll"},function(){return this.ov},function(t){var e=this.ov;e!==t&&(Jh.j(t,"boolean",Bn,"allowHorizontalScroll"),this.ov=t,this.h("allowHorizontalScroll",e,t),Qn(this,!1))}),Jh.defineProperty(Bn,{se:"allowVerticalScroll"},function(){return this.rv},function(t){var e=this.rv;e!==t&&(Jh.j(t,"boolean",Bn,"allowVerticalScroll"),this.rv=t,this.h("allowVerticalScroll",e,t),Qn(this,!1))}),Jh.defineProperty(Bn,{Yu:"scrollHorizontalLineChange"},function(){return this.Gw},function(t){var e=this.Gw;e!==t&&(Jh.j(t,"number",Bn,"scrollHorizontalLineChange"),0>t&&Jh.Fa(t,">= 0",Bn,"scrollHorizontalLineChange"),this.Gw=t,this.h("scrollHorizontalLineChange",e,t))}),Jh.defineProperty(Bn,{Zu:"scrollVerticalLineChange"},function(){return this.Kw},function(t){var e=this.Kw;e!==t&&(Jh.j(t,"number",Bn,"scrollVerticalLineChange"),0>t&&Jh.Fa(t,">= 0",Bn,"scrollVerticalLineChange"),this.Kw=t,this.h("scrollVerticalLineChange",e,t))}),Jh.defineProperty(Bn,{N:"lastInput"},function(){return this.Rb},function(t){this.Rb=t}),Jh.defineProperty(Bn,{uc:"firstInput"},function(){return this.Pi},function(t){this.Pi=t}),Jh.defineProperty(Bn,{kc:"currentCursor"},function(){return this.Cv},function(t){if(""===t&&(t=this.wr),this.Cv!==t){Jh.j(t,"string",Bn,"currentCursor");var e=this.zb,n=this.Ob;if(null!==e){this.Cv=t;var i=e.style.cursor;e.style.cursor=t,n.style.cursor=t,e.style.cursor===i&&(e.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,e.style.cursor===i&&(e.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,e.style.cursor===i&&(e.style.cursor=t,n.style.cursor=t)))}}}),Jh.defineProperty(Bn,{RK:"defaultCursor"},function(){return this.wr},function(t){""===t&&(t="auto");var e=this.wr;e!==t&&(Jh.j(t,"string",Bn,"defaultCursor"),this.wr=t,this.h("defaultCursor",e,t))}),Jh.defineProperty(Bn,{click:"click"},function(){return this.Ei},function(t){var e=this.Ei;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"click"),this.Ei=t,this.h("click",e,t))}),Jh.defineProperty(Bn,{Zt:"doubleClick"},function(){return this.Mi},function(t){var e=this.Mi;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"doubleClick"),this.Mi=t,this.h("doubleClick",e,t))}),Jh.defineProperty(Bn,{sA:"contextClick"},function(){return this.Gi},function(t){var e=this.Gi;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"contextClick"),this.Gi=t,this.h("contextClick",e,t))}),Jh.defineProperty(Bn,{kB:"mouseOver"},function(){return this.aj},function(t){var e=this.aj;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"mouseOver"),this.aj=t,this.h("mouseOver",e,t))}),Jh.defineProperty(Bn,{jB:"mouseHover"},function(){return this.$i},function(t){var e=this.$i;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"mouseHover"),this.$i=t,this.h("mouseHover",e,t))}),Jh.defineProperty(Bn,{iB:"mouseHold"},function(){return this.Zi},function(t){var e=this.Zi;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"mouseHold"),this.Zi=t,this.h("mouseHold",e,t))}),Jh.defineProperty(Bn,{dJ:"mouseDragOver"},function(){return this.tw},function(t){var e=this.tw;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"mouseDragOver"),this.tw=t,this.h("mouseDragOver",e,t))}),Jh.defineProperty(Bn,{hB:"mouseDrop"},function(){return this.Yi},function(t){var e=this.Yi;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"mouseDrop"),this.Yi=t,this.h("mouseDrop",e,t))}),Jh.defineProperty(Bn,{QB:"toolTip"},function(){return this.jj},function(t){var e=this.jj;e!==t&&(this.jj=t,this.h("toolTip",e,t))}),Jh.defineProperty(Bn,{contextMenu:"contextMenu"},function(){return this.Hi},function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.h("contextMenu",e,t))}),Jh.defineProperty(Bn,{pb:"commandHandler"},function(){return this.$y},function(t){var e=this.$y;e!==t&&(Jh.G(t,ae,Bn,"commandHandler"),null!==t.g&&Jh.k("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.Tc(null),this.$y=t,t.Tc(this))}),Jh.defineProperty(Bn,{Va:"toolManager"},function(){return this.$z},function(t){var e=this.$z;e!==t&&(Jh.G(t,mn,Bn,"toolManager"),null!==t.g&&Jh.k("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.Tc(null),this.$z=t,t.Tc(this))}),Jh.defineProperty(Bn,{Xt:"defaultTool"},function(){return this.fz},function(t){var e=this.fz;e!==t&&(Jh.G(t,fe,Bn,"defaultTool"),this.fz=t,this.Xa===e&&(this.Xa=t))}),Jh.defineProperty(Bn,{Xa:"currentTool"},function(){return this.cz},function(t){var e=this.cz;null!==e&&(e.ta&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.Xt),null!==t&&(Jh.G(t,fe,Bn,"currentTool"),this.cz=t,t.Tc(this),t.doStart())}),Jh.u(Bn,{selection:"selection"},function(){return this.Nw}),Jh.defineProperty(Bn,{VI:"maxSelectionCount"},function(){return this.pw},function(t){var e=this.pw;if(e!==t)if(Jh.j(t,"number",Bn,"maxSelectionCount"),0<=t&&!isNaN(t)){if(this.pw=t,this.h("maxSelectionCount",e,t),!this.ja.lb&&0<(t=this.selection.count-t)){this.Aa("ChangingSelection");for(var e=this.selection.yc(),n=0;n<t;n++)e[n].jb=!1;this.Aa("ChangedSelection")}}else Jh.Fa(t,">= 0",Bn,"maxSelectionCount")}),Jh.defineProperty(Bn,{hJ:"nodeSelectionAdornmentTemplate"},function(){return this.uw},function(t){var e=this.uw;e!==t&&(Jh.G(t,Es,Bn,"nodeSelectionAdornmentTemplate"),this.uw=t,this.h("nodeSelectionAdornmentTemplate",e,t))}),Jh.defineProperty(Bn,{mI:"groupSelectionAdornmentTemplate"},function(){return this.Sv},function(t){var e=this.Sv;e!==t&&(Jh.G(t,Es,Bn,"groupSelectionAdornmentTemplate"),this.Sv=t,this.h("groupSelectionAdornmentTemplate",e,t))}),Jh.defineProperty(Bn,{OI:"linkSelectionAdornmentTemplate"},function(){return this.kw},function(t){var e=this.kw;e!==t&&(Jh.G(t,Es,Bn,"linkSelectionAdornmentTemplate"),this.kw=t,this.h("linkSelectionAdornmentTemplate",e,t))}),Jh.u(Bn,{em:"highlighteds"},function(){return this.Wv}),Jh.defineProperty(Bn,{ri:"isModified"},function(){var t=this.ja;return t.isEnabled?null!==t.sj||this.bw&&this.dh!==t.wj:this.bw},function(t){if(this.bw!==t){Jh.j(t,"boolean",Bn,"isModified"),this.bw=t;var e=this.ja;!t&&e.isEnabled&&(this.dh=e.wj),t||Mi(this)}}),Jh.defineProperty(Bn,{$:"model"},function(){return this.qe},function(t){var e=this.qe;if(e!==t){Jh.G(t,jt,Bn,"model"),this.Xa.doCancel(),null!==e&&e.ja!==t.ja&&e.ja.FF&&Jh.k("Do not replace a Diagram.model while a transaction is in progress."),qn(this,!0),this.eh=!1,this.Lo=!0,this.dh=-2,this.Tf=!1;var n=this.$d;this.$d=!0,this.Ka.Yn("Model"),null!==e&&(null!==this.jh&&this.jh.each(function(t){e.Su(t)}),e.Su(this.AD)),this.qe=t,t.mn(this.zD),Ri(this,t.Pg),t instanceof Zt&&zi(this,t.Ah),t.Su(this.zD),t.mn(this.AD),null!==this.jh&&this.jh.each(function(e){t.mn(e)}),this.$d=n,this.Wc||this.oa(),null!==e&&(t.ja.isEnabled=e.ja.isEnabled)}}),Jh.defineProperty(Bn,{Ua:null},function(){return this.sD},function(t){this.sD=t}),Jh.u(Bn,{Yx:null},function(){return this.XG}),Jh.defineProperty(Bn,{Re:"skipsModelSourceBindings"},function(){return this.UD},function(t){this.UD=t}),Jh.defineProperty(Bn,{fo:null},function(){return this.Vz},function(t){this.Vz=t}),Bn.prototype.rebuildParts=Bn.prototype.lm=function(){for(var t=this.nB.i;t.next();){var e=t.value,n=t.key;(!e.he()||e instanceof Aa)&&Jh.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+n+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.MA.i;t.next();)e=t.value,n=t.key,e instanceof Aa||Jh.k('Invalid group template in Diagram.groupTemplateMap: template for "'+n+'" must be a Group, not a normal Node or Link: '+e);for(t=this.bB.i;t.next();)e=t.value,n=t.key,e instanceof Ys||Jh.k('Invalid link template in Diagram.linkTemplateMap: template for "'+n+'" must be a Link, not a normal Node or simple Part: '+e);for(t=Jh.Za(),e=this.selection.i;e.next();)(n=e.value.data)&&t.push(n);for(var e=Jh.Za(),i=this.em.i;i.next();)(n=i.value.data)&&e.push(n);for(n=Jh.Za(),i=this.ig.i;i.next();){var r=i.value;null!==r.data&&(n.push(r.data),n.push(r.location))}for(i=this.links.i;i.next();)r=i.value,null!==r.data&&(n.push(r.data),n.push(r.location));for(i=this.Hj.i;i.next();)r=i.value,null!==r.data&&(n.push(r.data),n.push(r.location));for(i=this.$,i instanceof Zt&&Ui(this,i.Ah),Ui(this,i.Pg),Ri(this,i.Pg),i instanceof Zt&&zi(this,i.Ah),i=0;i<t.length;i++)null!==(r=this.wh(t[i]))&&(r.jb=!0);for(i=0;i<e.length;i++)null!==(r=this.wh(e[i]))&&(r.Og=!0);for(i=0;i<n.length;i+=2)null!==(r=this.wh(n[i]))&&(r.location=n[i+1]);Jh.ra(t),Jh.ra(e),Jh.ra(n)},Bn.prototype.IA=function(t){return this.$.IA(t)};var yf=!1,vf=!1;Bn.prototype.bq=function(t){var e=this.$,n="";return e instanceof Zt?n=e.bq(t):e instanceof ee&&(n=e.gI(t)),n};var gf=!1;Bn.prototype.findPartForKey=Bn.prototype.ZH=function(t){if(null===t||void 0===t)return null;var e=this.$.we(t);return null!==e?this.Ii.ka(e):this.$ instanceof Zt&&null!==(e=this.$.Zp(t))?this.Sj.ka(e):null},Bn.prototype.findNodeForKey=Bn.prototype.Oe=function(t){return null===t||void 0===t?null:null===(t=this.$.we(t))?null:(t=this.Ii.ka(t),t instanceof Ls?t:null)},Bn.prototype.findPartForData=Bn.prototype.wh=function(t){if(null===t)return null;var e=this.Ii.ka(t);return null!==e?e:e=this.Sj.ka(t)},Bn.prototype.findNodeForData=Bn.prototype.Fx=function(t){return null===t?null:(t=this.Ii.ka(t),t instanceof Ls?t:null)},Bn.prototype.findLinkForData=Bn.prototype.Yf=function(t){return null===t?null:this.Sj.ka(t)},Bn.prototype.findNodesByExample=function(t){for(var e=new p(Ls),n=this.ip.i;n.next();){var i=n.value,r=i.data;if(null!==r)for(var o=0;o<arguments.length;o++){var s=arguments[o];if(Jh.Pa(s)&&Wi(this,r,s)){e.add(i);break}}}return e.i},Bn.prototype.findLinksByExample=function(t){for(var e=new p(Ys),n=this.bp.i;n.next();){var i=n.value,r=i.data;if(null!==r)for(var o=0;o<arguments.length;o++){var s=arguments[o];if(Jh.Pa(s)&&Wi(this,r,s)){e.add(i);break}}}return e.i},Jh.defineProperty(Bn,{AL:"nodeTemplate"},function(){return this.bj.ka("")},function(t){var e=this.bj.ka("");e!==t&&(Jh.G(t,ls,Bn,"nodeTemplate"),this.bj.add("",t),this.h("nodeTemplate",e,t),this.ja.lb||this.lm())}),Jh.defineProperty(Bn,{nB:"nodeTemplateMap"},function(){return this.bj},function(t){var e=this.bj;e!==t&&(Jh.G(t,b,Bn,"nodeTemplateMap"),this.bj=t,this.h("nodeTemplateMap",e,t),this.ja.lb||this.lm())}),Jh.defineProperty(Bn,{eL:"groupTemplate"},function(){return this.ql.ka("")},function(t){var e=this.ql.ka("");e!==t&&(Jh.G(t,Aa,Bn,"groupTemplate"),this.ql.add("",t),this.h("groupTemplate",e,t),this.ja.lb||this.lm())}),Jh.defineProperty(Bn,{MA:"groupTemplateMap"},function(){return this.ql},function(t){var e=this.ql;e!==t&&(Jh.G(t,b,Bn,"groupTemplateMap"),this.ql=t,this.h("groupTemplateMap",e,t),this.ja.lb||this.lm())}),Jh.defineProperty(Bn,{pL:"linkTemplate"},function(){return this.jk.ka("")},function(t){var e=this.jk.ka("");e!==t&&(Jh.G(t,Ys,Bn,"linkTemplate"),this.jk.add("",t),this.h("linkTemplate",e,t),this.ja.lb||this.lm())}),Jh.defineProperty(Bn,{bB:"linkTemplateMap"},function(){return this.jk},function(t){var e=this.jk;e!==t&&(Jh.G(t,b,Bn,"linkTemplateMap"),this.jk=t,this.h("linkTemplateMap",e,t),this.ja.lb||this.lm())}),Jh.defineProperty(Bn,{CI:null},function(){return this.fh},function(t){this.fh=t}),Jh.defineProperty(Bn,{ef:"isMouseCaptured"},function(){return this.pD},function(t){var n=this.zb;null!==n&&(t?(this.N.bubbles=!1,this.Vy?(n.removeEventListener("pointermove",this.tq,!1),n.removeEventListener("pointerdown",this.sq,!1),n.removeEventListener("pointerup",this.vq,!1),n.removeEventListener("pointerout",this.uq,!1),e.addEventListener("pointermove",this.tq,!0),e.addEventListener("pointerdown",this.sq,!0),e.addEventListener("pointerup",this.vq,!0),e.addEventListener("pointerout",this.uq,!0)):(n.removeEventListener("mousemove",this.Sn,!1),n.removeEventListener("mousedown",this.Rn,!1),n.removeEventListener("mouseup",this.Un,!1),n.removeEventListener("mouseout",this.Tn,!1),e.addEventListener("mousemove",this.Sn,!0),e.addEventListener("mousedown",this.Rn,!0),e.addEventListener("mouseup",this.Un,!0),e.addEventListener("mouseout",this.Tn,!0)),n.removeEventListener("wheel",this.Vn,!1),e.addEventListener("wheel",this.Vn,!0),e.addEventListener("selectstart",this.preventDefault,!1)):(this.Vy?(e.removeEventListener("pointermove",this.tq,!0),e.removeEventListener("pointerdown",this.sq,!0),e.removeEventListener("pointerup",this.vq,!0),e.removeEventListener("pointerout",this.uq,!0),n.addEventListener("pointermove",this.tq,!1),n.addEventListener("pointerdown",this.sq,!1),n.addEventListener("pointerup",this.vq,!1),n.addEventListener("pointerout",this.uq,!1)):(e.removeEventListener("mousemove",this.Sn,!0),e.removeEventListener("mousedown",this.Rn,!0),e.removeEventListener("mouseup",this.Un,!0),e.removeEventListener("mouseout",this.Tn,!0),n.addEventListener("mousemove",this.Sn,!1),n.addEventListener("mousedown",this.Rn,!1),n.addEventListener("mouseup",this.Un,!1),n.addEventListener("mouseout",this.Tn,!1)),e.removeEventListener("wheel",this.Vn,!0),e.removeEventListener("selectstart",this.preventDefault,!1),n.addEventListener("wheel",this.Vn,!1)),this.pD=t)}),Jh.defineProperty(Bn,{position:"position"},function(){return this.ab},function(t){var e=this.ab;if(!e.L(t)){Jh.G(t,w,Bn,"position");var n=this.sb.copy();if(t=t.copy(),!this.Wc&&null!==this.zb){this.Wc=!0;var i=this.scale;Xn(this,t,this.Nd,this.Db/i,this.Cb/i,this.Dm,!1),this.Wc=!1}this.ab=t.S(),t=this.Ka,t.sc&&En(t,e,this.ab),this.Wc||this.Pu(n,this.sb,this.rb,this.rb,!1)}}),Jh.defineProperty(Bn,{uI:"initialPosition"},function(){return this.Yv},function(t){this.Yv.L(t)||(Jh.G(t,w,Bn,"initialPosition"),this.Yv=t.S())}),Jh.defineProperty(Bn,{vI:"initialScale"},function(){return this.Zv},function(t){this.Zv!==t&&(Jh.j(t,"number",Bn,"initialScale"),this.Zv=t)}),Jh.defineProperty(Bn,{Gn:"grid"},function(){return null===this.td&&Kn(this),this.td},function(t){var e=this.td;if(e!==t){null===e&&(Kn(this),e=this.td),Jh.G(t,eo,Bn,"grid"),t.type!==rp&&Jh.k("Diagram.grid must be a Panel of type Panel.Grid");var n=e.R;null!==n&&n.remove(e),this.td=t,t.name="GRID",null!==n&&n.add(t),Si(this),this.oa(),this.h("grid",e,t)}}),Jh.u(Bn,{sb:"viewportBounds"},function(){var t=this.eA;if(null===this.zb)return t;var e=this.ab,n=this.rb;return t.m(e.x,e.y,Math.max(this.Db,0)/n,Math.max(this.Cb,0)/n),t}),Jh.defineProperty(Bn,{gF:"fixedBounds"},function(){return this.Qv},function(t){var e=this.Qv;e.L(t)||(Jh.G(t,C,Bn,"fixedBounds"),-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||Jh.k("fixedBounds width/height must not be Infinity"),this.Qv=t=t.S(),this.Gc(),this.h("fixedBounds",e,t))}),Jh.defineProperty(Bn,{ty:"scrollMargin"},function(){return this.Hw},function(t){"number"==typeof t?t=new O(t):Jh.G(t,O,Bn,"scrollMargin");var e=this.Hw;e.L(t)||(this.Hw=t=t.S(),this.h("scrollMargin",e,t),this.yq())}),Jh.defineProperty(Bn,{uy:"scrollMode"},function(){return this.Iw},function(t){var e=this.Iw;e!==t&&(Jh.ob(t,Bn,Bn,"scrollMode"),this.Iw=t,t===lf&&Qn(this,!1),this.h("scrollMode",e,t),this.yq())}),Jh.defineProperty(Bn,{DJ:"scrollsPageOnFocus"},function(){return this.Lw},function(t){var e=this.Lw;e!==t&&(Jh.j(t,"boolean",Bn,"scrollsPageOnFocus"),this.Lw=t,this.h("scrollsPageOnFocus",e,t))}),Jh.defineProperty(Bn,{aG:"positionComputation"},function(){return this.Cw},function(t){var e=this.Cw;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"positionComputation"),this.Cw=t,Qn(this,!1),this.h("positionComputation",e,t))}),Jh.defineProperty(Bn,{mG:"scaleComputation"},function(){return this.Ew},function(t){var e=this.Ew;e!==t&&(null!==t&&Jh.j(t,"function",Bn,"scaleComputation"),this.Ew=t,Ci(this,this.scale,this.scale),this.h("scaleComputation",e,t))}),Jh.u(Bn,{Nd:"documentBounds"},function(){return this.Jv}),Jh.defineProperty(Bn,{$A:"isVirtualized"},function(){return this.fw},function(t){var e=this.fw;e!==t&&(Jh.j(t,"boolean",Bn,"isVirtualized"),this.fw=t,this.h("isVirtualized",e,t))}),Jh.defineProperty(Bn,{scale:"scale"},function(){return this.rb},function(t){var e=this.rb;Jh.Ad(t,Bn,"scale"),e!==t&&Ci(this,e,t)}),Jh.defineProperty(Bn,{Tl:"autoScale"},function(){return this.Am},function(t){var e=this.Am;e!==t&&(Jh.ob(t,Bn,Bn,"autoScale"),this.Am=t,this.h("autoScale",e,t),t!==tf&&Qn(this,!1))}),Jh.defineProperty(Bn,{hL:"initialAutoScale"},function(){return this.ul},function(t){var e=this.ul;e!==t&&(Jh.ob(t,Bn,Bn,"initialAutoScale"),this.ul=t,this.h("initialAutoScale",e,t))}),Jh.defineProperty(Bn,{wI:"initialViewportSpot"},function(){return this.$v},function(t){var e=this.$v;e!==t&&(Jh.G(t,E,Bn,"initialViewportSpot"),t.Zc()||Jh.k("initialViewportSpot must be a specific Spot: "+t),this.$v=t,this.h("initialViewportSpot",e,t))}),Jh.defineProperty(Bn,{tI:"initialDocumentSpot"},function(){return this.Xv},function(t){var e=this.Xv;e!==t&&(Jh.G(t,E,Bn,"initialDocumentSpot"),t.Zc()||Jh.k("initialViewportSpot must be a specific Spot: "+t),this.Xv=t,this.h("initialDocumentSpot",e,t))}),Jh.defineProperty(Bn,{Ch:"minScale"},function(){return this.qw},function(t){Jh.Ad(t,Bn,"minScale");var e=this.qw;e!==t&&(0<t?(this.qw=t,this.h("minScale",e,t),t>this.scale&&(this.scale=t)):Jh.Fa(t,"> 0",Bn,"minScale"))}),Jh.defineProperty(Bn,{Bh:"maxScale"},function(){return this.ow},function(t){Jh.Ad(t,Bn,"maxScale");var e=this.ow;e!==t&&(0<t?(this.ow=t,this.h("maxScale",e,t),t<this.scale&&(this.scale=t)):Jh.Fa(t,"> 0",Bn,"maxScale"))}),Jh.defineProperty(Bn,{zi:"zoomPoint"},function(){return this.$w},function(t){this.$w.L(t)||(Jh.G(t,w,Bn,"zoomPoint"),this.$w=t=t.S())}),Jh.defineProperty(Bn,{rA:"contentAlignment"},function(){return this.Dm},function(t){var e=this.Dm;e.L(t)||(Jh.G(t,E,Bn,"contentAlignment"),this.Dm=t=t.S(),this.h("contentAlignment",e,t),Qn(this,!1))}),Jh.defineProperty(Bn,{iL:"initialContentAlignment"},function(){return this.Qo},function(t){var e=this.Qo;e.L(t)||(Jh.G(t,E,Bn,"initialContentAlignment"),this.Qo=t=t.S(),this.h("initialContentAlignment",e,t))}),Jh.defineProperty(Bn,{padding:"padding"},function(){return this.lf},function(t){"number"==typeof t?t=new O(t):Jh.G(t,O,Bn,"padding");var e=this.lf;e.L(t)||(this.lf=t=t.S(),this.Gc(),this.h("padding",e,t))}),Jh.u(Bn,{ig:"nodes"},function(){return this.ip.i}),Jh.u(Bn,{links:"links"},function(){return this.bp.i}),Jh.u(Bn,{Hj:"parts"},function(){return this.xb.i}),Bn.prototype.findTopLevelNodesAndLinks=function(){for(var t=new p(ls),e=this.ip.i;e.next();){var n=e.value;n.jq&&t.add(n)}for(e=this.bp.i;e.next();)n=e.value,n.jq&&t.add(n);return t.i},Bn.prototype.findTopLevelGroups=function(){return this.Ll.i},Jh.defineProperty(Bn,{Ub:"layout"},function(){return this.oe},function(t){var e=this.oe;e!==t&&(Jh.G(t,Fa,Bn,"layout"),null!==e&&(e.g=null,e.group=null),this.oe=t,t.g=this,t.group=null,this.Pj=!0,this.h("layout",e,t),this.ye())}),Bn.prototype.layoutDiagram=function(t){ci(this),t&&Qi(this,!0),this.Go=!0,hi(this)},Jh.defineProperty(Bn,{Vd:"isTreePathToChildren"},function(){return this.ew},function(t){var e=this.ew;if(e!==t&&(Jh.j(t,"boolean",Bn,"isTreePathToChildren"),this.ew=t,this.h("isTreePathToChildren",e,t),!this.ja.lb))for(t=this.ig;t.next();)qs(t.value)}),Bn.prototype.findTreeRoots=function(){for(var t=new c(Ls),e=this.ig;e.next();){var n=e.value;n.jq&&null===n.Bn()&&t.add(n)}return t.i},Jh.defineProperty(Bn,{VB:"treeCollapsePolicy"},function(){return this.Vw},function(t){var e=this.Vw;e!==t&&(t!==ff&&t!==pf&&t!==df&&Jh.k("Unknown Diagram.treeCollapsePolicy: "+t),this.Vw=t,this.h("treeCollapsePolicy",e,t))}),Jh.defineProperty(Bn,{yh:null},function(){return this.hD},function(t){this.hD=t}),Bn.prototype.addDiagramListener=Bn.prototype.ax=function(t,e){Jh.j(t,"string",Bn,"addDiagramListener:name"),Jh.j(e,"function",Bn,"addDiagramListener:listener");var n=nr(this,t);null!==n&&n.add(e)},Bn.prototype.removeDiagramListener=Bn.prototype.uB=function(t,e){Jh.j(t,"string",Bn,"removeDiagramListener:name"),Jh.j(e,"function",Bn,"addDiagramListener:listener");var n=nr(this,t);null!==n&&n.remove(e)},Bn.prototype.raiseDiagramEvent=Bn.prototype.Aa=function(t,e,n){var i=nr(this,t),r=new At;if(r.g=this,t=er(this,t),null!==t&&(r.name=t),void 0!==e&&(r.MB=e),void 0!==n&&(r.pB=n),1===(e=i.length))(i=i.fa(0))(r);else if(0!==e)for(n=i.yc(),t=0;t<e;t++)(i=n[t])(r);return r.cancel},Bn.prototype.isUnoccupied=Bn.prototype.lq=function(t,e){return void 0===e&&(e=null),rr(this,!1,null,e).lq(t.x,t.y,t.width,t.height)},Bn.prototype.computeOccupiedArea=function(){return this.$A?this.sb.copy():this.ck?Yn(this):this.Nd.copy()},Bn.invalidatePositionArray=Bn.prototype.SA=function(t){null!==this.Kd&&!this.Kd.su&&(void 0===t&&(t=null),null===t||t.lA&&!t.Df)&&(this.Kd.su=!0)},Bn.prototype.simulatedMouseMove=function(t,e,n){if(null!==Mc){var i=Mc.g;n instanceof Bn||(n=null);var r=_c;return n!==r&&(null!==r&&r!==i&&null!==r.Va.ce&&(ar(r),Mc.Mx=!1,r.Va.ce.doSimulatedDragLeave()),_c=n,null!==n&&n!==i&&null!==n.Va.ce&&(be(),r=n.Va.ce,Tc.contains(r)||Tc.add(r),n.Va.ce.doSimulatedDragEnter())),null!==n&&n!==i&&n.AE&&!n.ib&&n.Kp?(i=n.Va.ce,null!==i&&(null!==t?e=n.Nr(t):null===e&&(e=new w),n.Rb.ea=e,n.Rb.Ce=n.Dy(e),n.Rb.Hk=!1,n.Rb.up=!1,i.doSimulatedDragOver()),!0):!1}return!1},Bn.prototype.simulatedMouseUp=function(t,e,n,i){if(null!==Mc){null===i&&(i=e),e=_c;var r=Mc.g;if(i!==e){if(null!==e&&e!==r&&null!==e.Va.ce)return ar(e),Mc.Mx=!1,e.Va.ce.doSimulatedDragLeave(),!1;_c=i,null!==i&&null!==i.Va.ce&&(be(),e=i.Va.ce,Tc.contains(e)||Tc.add(e),i.Va.ce.doSimulatedDragEnter())}if(null===i)return Mc.doCancel(),!0;if(i!==this)return null!==t&&(n=i.Nr(t)),i.Rb.ea=n,i.Rb.Ce=i.Dy(n),i.Rb.Hk=!1,i.Rb.up=!0,t=i.Va.ce,null!==t&&t.doSimulatedDrop(),t=Mc,null!==t&&(i=t.mayCopy(),t.Lf=i?"Copy":"Move",t.stopTool()),!0}return!1},Jh.defineProperty(Bn,{FK:"autoScrollInterval"},function(){return this.$q},function(t){var e=this.$q;Jh.Ad(t,Bn,"scale"),e!==t&&(this.$q=t,this.h("autoScrollInterval",e,t))}),Jh.defineProperty(Bn,{HE:"autoScrollRegion"},function(){return this.vv},function(t){"number"==typeof t?t=new O(t):Jh.G(t,O,Bn,"autoScrollRegion");var e=this.vv;e.L(t)||(this.vv=t=t.S(),this.Gc(),this.h("autoScrollRegion",e,t))}),Bn.prototype.doAutoScroll=Bn.prototype.AA=function(t){this.uv.assign(t),ur(this,this.uv).Qc(this.position)?ar(this):sr(this)},Bn.prototype.makeSvg=Bn.prototype.makeSVG=function(t){return void 0===t&&(t=new r),t.context="svg",t=hr(this,t),null!==t?t.rm:null},Bn.prototype.makeImage=function(t){void 0===t&&(t=new r);var e=(t.document||document).createElement("img");return e.src=this.QI(t),e},Bn.prototype.makeImageData=Bn.prototype.QI=function(t){void 0===t&&(t=new r);var e=hr(this,t);if(null!==e){var n=t.returnType,n=void 0===n?"string":n.toLowerCase();switch(n){case"imagedata":return e.Gk.getImageData(0,0,e.width,e.height);case"blob":if(e=e.Od,"function"!=typeof(n=t.callback)){Jh.k('Error: Diagram.makeImageData called with "returnType: toBlob", but no "callback" function property defined.');break}if("function"==typeof e.toBlob)return e.toBlob(n,t.type,t.details),"toBlob";if("function"==typeof e.msToBlob)return n(e.msToBlob()),"msToBlob";n(null);break;default:return e.toDataURL(t.type,t.details)}}return""};var mf=!1;Bn.inherit=function(t,e){if("function"==typeof t&&Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);Jh.j(t,"function",Bn,"inherit"),Jh.j(e,"function",Bn,"inherit"),e.fH&&Jh.k("Cannot inherit from "+Jh.pf(e)),Jh.La(t,e)},lr.prototype.vm=function(t){if(t.hf.setTransform(t.wd,0,0,t.wd,0,0),null===this.Ni){var n="f",i=e[Jh.Kg("76a715b2f73f148a")][Jh.Kg("72ba13b5")];if(t=Jh.Kg,this.Ni=!0,e[t("7da7")]&&e[t("7da7")][t("76a115b6ed251eaf4692")]){var r=e[t("7da7")][t("76a115b6ed251eaf4692")],r=t(r).split(t("39e9"));if(!(6>r.length)){var o=t(r[1]).split(".");if("7da71ca0"===r[4]){var s=t(Jh[t("6cae19")]).split(".");if(o[0]>s[0]||o[0]===s[0]&&o[1]>=s[1]){for(s=i[t("76ad18b4f73e")],o=i[t("73a612b6fb191d")](t("35e7"))+2;o<s;o++)n+=i[o];if(i=n[t("73a612b6fb191d")](t(r[2])),0>i&&t(r[2])!==t("7da71ca0ad381e90")&&(i=n[t("73a612b6fb191d")](t("76a715b2ef3e149757"))),0>i&&(i=n[t("73a612b6fb191d")](t("76a715b2ef3e149757"))),(this.Ni=!(0<=i&&i<n[t("73a612b6fb191d")](t("35"))))&&(n=t(r[2]),"#"===n[0])){for(i=e.document[t("79ba13b2f7333e8846865a7d00")]("div"),o=r[0].replace(/[A-Za-z]/g,"");4>o.length;)o+="9";if(o=o.substr(o.length-4),r=""+["gsh","gsf"][parseInt(o.substr(0,1),10)%2],r+=["Header","Background","Display","Feedback"][parseInt(o.substr(0,1),10)%4],i[t("79a417a0f0181a8946")]=r,e.document[t("78a712aa")]){if(e.document[t("78a712aa")][t("7bb806b6ed32388c4a875b")](i),o=e[t("7dad0290ec3b0b91578e5b40007031bf")](i)[t("7dad0283f1390b81519f4645156528bf")](t("78a704b7e62456904c9b12701b6532a8")),e.document[t("78a712aa")][t("68ad1bbcf533388c4a875b")](i),o)if(-1!==o.indexOf(parseInt(n[1]+n[2],16))&&-1!==o.indexOf(parseInt(n[3]+n[4],16)))this.Ni=!1;else if(Jh.xu||Jh.hq||Jh.iq||Jh.VA)for(r="."+r,o=0;o<document.styleSheets.length;o++){t=document.styleSheets[o].rules||document.styleSheets[o].cssRules;for(var a in t)if(r===t[a].selectorText){this.Ni=!1;break}}}else this.Ni=null,this.Ni=!1}}}}}else{for(s=i[t("76ad18b4f73e")],o=i[t("73a612b6fb191d")](t("35e7"))+2;o<s;o++)n+=i[o];i=n[t("73a612b6fb191d")](t("7da71ca0ad381e90")),this.Ni=!(0<=i&&i<n[t("73a612b6fb191d")](t("35")))}}return 0<this.Ni&&this!==this.aE},lr.prototype.t=function(){this.aE=null},Jh.La(fr,Bn),Jh.ga("Palette",fr),Jh.La(pr,Bn),Jh.ga("Overview",pr),pr.prototype.computePixelRatio=function(){return 1},pr.prototype.ve=function(){if(null===this.Ob&&Jh.k("No div specified"),null===this.zb&&Jh.k("No canvas specified"),this.Fe){var t=this.pk;if(null!==t&&!t.Ka.df){bi(this);var e=t.Gn;(null!==e&&e.visible&&isNaN(e.width)||isNaN(e.height))&&Si(t);var n=this.zb,e=this.hf,i=this.Xz,r=this.gH;i.width=n.width,i.height=n.height,e.Ke(!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),i=this.jd,i.reset(),1!==this.scale&&i.scale(this.scale),0===this.position.x&&0===this.position.y||i.translate(-this.position.x,-this.position.y),e.scale(this.wd,this.wd),e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var i=this.Mv,o=this.sb,s=t.dc.n,a=s.length,t=0;t<a;t++){var u=s[t],h=e,l=o,c=i;if(u.visible&&0!==u.Dc&&(void 0===c&&(c=!0),c||!u.Hc)){1!==u.Dc&&(h.globalAlpha=u.Dc);for(var c=this.scale,u=u.xb.n,f=u.length,p=0;p<f;p++){var d=u[p],y=d.U;y.$f(l)&&(1<y.width*c||1<y.height*c?d.ve(h,this):xs(d,h))}h.globalAlpha=1}}for(r.drawImage(n.Od,0,0),n=this.dc.n,r=n.length,t=0;t<r;t++)n[t].ve(e,this);this.Fe=this.vl=!1}}},Jh.defineProperty(pr,{oB:"observed"},function(){return this.pk},function(t){var e=this.pk;null!==t&&Jh.G(t,Bn,pr,"observed"),t instanceof pr&&Jh.k("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.th),e.uB("ViewportBoundsChanged",this.XF),e.uB("DocumentBoundsChanged",this.WF),e.zw.remove(this)),this.pk=t,null!==t&&(t.ax("ViewportBoundsChanged",this.XF),t.ax("DocumentBoundsChanged",this.WF),t.zw.add(this),this.add(this.th),yr(this)),this.Gc(),this.h("observed",e,t))}),Jh.defineProperty(pr,{th:"box"},function(){return this.Bm},function(t){var e=this.Bm;e!==t&&(this.Bm=t,this.remove(e),this.add(this.Bm),yr(this),this.h("box",e,t))}),Jh.defineProperty(pr,{bL:"drawsTemporaryLayers"},function(){return this.Mv},function(t){this.Mv!==t&&(this.Mv=t,this.yq())}),pr.prototype.computeBounds=function(){var t=this.pk;return null===t?Vl:t.Nd},pr.prototype.yF=function(){!0!==this.Fe&&(this.Fe=!0,dr(this))},pr.prototype.Pu=function(t,e,n,i,r){this.Wc||(mi(this),this.oa(),gi(this),this.Gc(),yr(this),this.ph.scale=n,this.ph.position.x=t.x,this.ph.position.y=t.y,this.ph.bounds.set(t),this.ph.isScroll=r,this.Aa("ViewportBoundsChanged",this.ph,t))},Jh.La(vr,de),vr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.g;if(null===t||!t.Rl||!t.Bf)return!1;var e=t.oB;if(null===e)return!1;if(null===this.findDraggablePart()){var n=e.sb;this.El=new w(n.width/2,n.height/2),t=t.uc.ea,e.position=new w(t.x-this.El.x,t.y-this.El.y)}return!0},vr.prototype.doActivate=function(){this.El=null,de.prototype.doActivate.call(this)},vr.prototype.moveParts=function(){var t=this.g,e=t.oB;if(null!==e){var n=t.th;if(null!==n){if(null===this.El){var i=t.uc.ea,n=n.location;this.El=new w(i.x-n.x,i.y-n.y)}t=t.N.ea,e.position=new w(t.x-this.El.x,t.y-this.El.y)}}},Jh.La(gr,Ze),gr.prototype.resize=function(t){var e=this.g.oB;if(null!==e){var n=e.sb.copy(),i=e.scale;(n.width!==t.width||n.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(i*n.width/t.width,i*n.height/t.height))}},Jh.ga("Brush",br);var bf;br.Solid=bf=Jh.p(br,"Solid",0);var wf;br.Linear=wf=Jh.p(br,"Linear",1);var xf;br.Radial=xf=Jh.p(br,"Radial",2);var kf;br.Pattern=kf=Jh.p(br,"Pattern",4);var Pf;br.Lab=Pf=Jh.p(br,"Lab",5);var Cf;br.HSL=Cf=Jh.p(br,"HSL",6),br.prototype.copy=function(){var t=new br;return t.na=this.na,t.vo=this.vo,t.vp=this.vp.S(),t.Jo=this.Jo.S(),t.Qw=this.Qw,t.Nv=this.Nv,null!==this.ah&&(t.ah=this.ah.copy()),t.Bw=this.Bw,t},Kh=br.prototype,Kh.Ha=function(){return this.freeze(),Object.freeze(this),this},Kh.freeze=function(){return this.P=!0,null!==this.ah&&this.ah.freeze(),this},Kh.Qa=function(){return Object.isFrozen(this)&&Jh.k("cannot thaw constant: "+this),this.P=!1,null!==this.ah&&this.ah.Qa(),this},Kh.ic=function(t){t.Je===br?this.type=t:Jh.Lj(this,t)},Kh.toString=function(){var t="Brush(";if(this.type===bf)t+=this.color;else if(t=this.type===wf?t+"Linear ":this.type===xf?t+"Radial ":this.type===kf?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.Dk)for(var e=this.Dk.i;e.next();)t+=" "+e.key+":"+e.value;return t+")"},br.prototype.addColorStop=br.prototype.addColorStop=function(t,e){this.P&&Jh.ma(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Jh.Fa(t,"0 <= loc <= 1",br,"addColorStop:loc"),Jh.j(e,"string",br,"addColorStop:color"),null===this.ah&&(this.ah=new b("number","string")),this.ah.add(t,e),this.na===bf&&(this.type=wf),this.bh=null},Jh.defineProperty(br,{type:"type"},function(){return this.na},function(t){this.P&&Jh.ma(this,t),Jh.ob(t,br,br,"type"),this.na=t,this.start.Ud()&&(t===wf?this.start=ol:t===xf&&(this.start=ul)),this.end.Ud()&&(t===wf?this.end=cl:t===xf&&(this.end=ul)),this.bh=null}),Jh.defineProperty(br,{color:"color"},function(){return this.vo},function(t){this.P&&Jh.ma(this,t),this.vo=t,this.bh=null}),Jh.defineProperty(br,{start:"start"},function(){return this.vp},function(t){this.P&&Jh.ma(this,t),Jh.G(t,E,br,"start"),this.vp=t.S(),this.bh=null}),Jh.defineProperty(br,{end:"end"},function(){return this.Jo},function(t){this.P&&Jh.ma(this,t),Jh.G(t,E,br,"end"),this.Jo=t.S(),this.bh=null}),Jh.defineProperty(br,{dv:"startRadius"},function(){return this.Qw},function(t){this.P&&Jh.ma(this,t),Jh.Ad(t,br,"startRadius"),0>t&&Jh.Fa(t,">= zero",br,"startRadius"),this.Qw=t,this.bh=null}),Jh.defineProperty(br,{$t:"endRadius"},function(){return this.Nv},function(t){this.P&&Jh.ma(this,t),Jh.Ad(t,br,"endRadius"),0>t&&Jh.Fa(t,">= zero",br,"endRadius"),this.Nv=t,this.bh=null}),Jh.defineProperty(br,{Dk:"colorStops"},function(){return this.ah},function(t){this.P&&Jh.ma(this,t),this.ah=t,this.bh=null}),Jh.defineProperty(br,{pattern:"pattern"},function(){return this.Bw},function(t){this.P&&Jh.ma(this,t),this.Bw=t,this.bh=null}),br.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var n=Math.abs(e-t),i=Math.floor(t+Math.random()*n).toString(16),r=Math.floor(t+Math.random()*n).toString(16),n=Math.floor(t+Math.random()*n).toString(16);return 2>i.length&&(i="0"+i),2>r.length&&(r="0"+r),2>n.length&&(n="0"+n),"#"+i+r+n};var Sf,Tf=new H(null).Gk;br.isValidColor=Sf=function(t){if("black"===t)return!0;if(""===t)return!1;Tf.fillStyle="#000000";var e=Tf.fillStyle;return Tf.fillStyle=t,Tf.fillStyle!==e||(Tf.fillStyle="#FFFFFF",e=Tf.fillStyle,Tf.fillStyle=t,Tf.fillStyle!==e)};var Mf=new mr,_f=new mr,Nf=new mr,Af=new mr;br.lighten=function(t){return Of(t)},br.prototype.lightenBy=function(t,e){this.P&&Jh.ma(this);var n=void 0===t||"number"!=typeof t?.2:t,i=void 0===e?Pf:e;if(this.type===bf)xr(this.color),this.color=wr(n,i);else if((this.type===wf||this.type===xf)&&null!==this.Dk)for(var r=this.Dk.i;r.next();)xr(r.value),this.addColorStop(r.key,wr(n,i));return this};var Of;br.lightenBy=Of=function(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?Pf:n,xr(t),wr(e,n)},br.darken=function(t){return jf(t)},br.prototype.darkenBy=function(t,e){this.P&&Jh.ma(this);var n=void 0===t||"number"!=typeof t?.2:t,i=void 0===e?Pf:e;if(this.type===bf)xr(this.color),this.color=wr(-n,i);else if((this.type===wf||this.type===xf)&&null!==this.Dk)for(var r=this.Dk.i;r.next();)xr(r.value),this.addColorStop(r.key,wr(-n,i));return this};var jf;br.darkenBy=jf=function(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?Pf:n,xr(t),wr(-e,n)};var Ef=216/24389,Lf=24389/27,Df=[95.047,100,108.883];Jh.ni(Tr),Jh.ga("GraphObject",Tr),Tr.prototype.cloneProtected=function(t){t.M=6144|this.M,t.Dc=this.Dc,t.Sb=this.Sb,t.Gb=this.Gb,t.cc=this.cc,t.ab.assign(this.ab),t.Ue=this.Ue.S(),t.Zh=this.Zh.S(),t.Yh=this.Yh.S(),t.Wi=this.Wi.copy(),t.rb=this.rb,t.mg=this.mg,t.Fg=this.Fg,t.Sm=this.Sm.S(),t.ud.assign(this.ud),t.pc.assign(this.pc),t.Nc.assign(this.Nc),t.Vs=this.Vs,null!==this.Y&&(t.Y=this.Y.copy()),t.me=this.me.S(),t.xm=this.xm.S(),t.ht=this.ht,t.gj=this.gj,t.gr=this.gr,t.Fi=this.Fi,t.xt=this.xt,t.lt=this.lt,t.cn=this.cn,t.dn=this.dn.S(),t.en=this.en,t.pr=this.pr,null!==this.ia&&(t.ia=this.ia.copy()),t.Ac=this.Ac,t.to=this.to,null!==this.ll&&(t.ll=Jh.Vl(this.ll)),null!==this.og&&(t.og=this.og.copy()),t.jn=this.jn},Tr.prototype.addCopyProperty=Tr.prototype.mH=function(t){var e=this.ll;if(Jh.isArray(e)){for(var n=0;n<e.length;n++)if(e[n]===t)return}else this.ll=e=[];e.push(t)},Tr.prototype.pi=function(t){t.Ws=null,t.Zm=null,t.H()},Tr.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.ll)for(var e=0;e<this.ll.length;e++){var n=this.ll[e];t[n]=this[n]}return t},Tr.prototype.copy=function(){return this.clone()},Tr.prototype.ic=function(t){t.Je===Ys?0===t.name.indexOf("Orient")?this.Eq=t:Jh.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.Je===Tr?this.stretch=t:Jh.Lj(this,t)},Tr.prototype.toString=function(){return Jh.pf(Object.getPrototypeOf(this))+"#"+Jh.Pd(this)};var Ff;Tr.None=Ff=Jh.p(Tr,"None",0);var Rf;Tr.Default=Rf=Jh.p(Tr,"Default",0);var Vf;Tr.Vertical=Vf=Jh.p(Tr,"Vertical",4);var If;Tr.Horizontal=If=Jh.p(Tr,"Horizontal",5);var Bf;Tr.Fill=Bf=Jh.p(Tr,"Fill",3);var qf;Tr.Uniform=qf=Jh.p(Tr,"Uniform",1);var zf;Tr.UniformToFill=zf=Jh.p(Tr,"UniformToFill",2);var Gf;Tr.FlipVertical=Gf=Jh.p(Tr,"FlipVertical",1);var Hf;Tr.FlipHorizontal=Hf=Jh.p(Tr,"FlipHorizontal",2);var Uf;Tr.FlipBoth=Uf=Jh.p(Tr,"FlipBoth",3),Tr.prototype.Qd=function(){if(null===this.Y){var t=new Na;t.$j=nl,t.zk=nl,t.Yj=10,t.xk=10,t.Xj=Ip,t.wk=Ip,t.Zj=0,t.yk=0,this.Y=t}},Tr.prototype.raiseChangedEvent=Tr.prototype.bd=function(t,e,n,i,r,o,s){var a=this.W;if(null!==a&&(a.Zn(t,e,n,i,r,o,s),Gr(this)&&n===this&&t===gc&&Nr(this,a,e),n===a&&0!=(16777216&a.M)&&null!==a.data))for(t=this.xa.n,n=t.length,i=0;i<n;i++)(r=t[i])instanceof eo&&lo(r,function(t){null!==t.data&&0!=(16777216&t.M)&&t.Jb(e)})},Tr.prototype.Dx=function(t){return this.to===t?this:null},Tr.prototype.raiseChanged=Tr.prototype.h=function(t,e,n){this.bd(gc,t,this,e,n)},Tr.prototype.eF=function(t,e,n){if(!1===this.Ug)return!1;var i=this.Ja;return e=t.Cf(e),n?Zh(t.x,t.y,0,0,0,i.height)<=e||Zh(t.x,t.y,0,i.height,i.width,i.height)<=e||Zh(t.x,t.y,i.width,i.height,i.width,0)<=e||Zh(t.x,t.y,i.width,0,0,0)<=e:t.Xf(0,0)<=e&&t.Xf(0,i.height)<=e&&t.Xf(i.width,0)<=e&&t.Xf(i.width,i.height)<=e},Tr.prototype.Yg=function(){return!0},Tr.prototype.containsPoint=Tr.prototype.Ia=function(t){var e=Jh.K();e.assign(t),this.transform.nb(e);var n=this.U;if(!n.I())return Jh.v(e),!1;var i=this.g;if(null!==i&&i.fk){var r=i.nu("extraTouchThreshold"),o=i.nu("extraTouchArea"),s=o/2,a=this.Ja,i=this.vj()*i.scale,u=1/i;if(a.width*i<r&&a.height*i<r)return t=tl(n.x-s*u,n.y-s*u,n.width+o*u,n.height+o*u,e.x,e.y),Jh.v(e),t}return(this instanceof Es||this instanceof No?tl(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.Ia(e))?(r=!1,r=!(this.og&&!this.og.Ia(e))&&(!(null===this.cc||!n.Ia(e))||(!(null===this.Gb||!this.Nc.Ia(t))||this.Ek(t))),Jh.v(e),r):(Jh.v(e),!1)},Tr.prototype.Ek=function(t){var e=this.Ja;return tl(0,0,e.width,e.height,t.x,t.y)},Tr.prototype.containsRect=Tr.prototype.Fk=function(t){if(0===this.angle)return this.U.Fk(t);var e=this.Ja,e=Jh.lg(0,0,e.width,e.height),n=this.transform,i=!1,r=Jh.wb(t.x,t.y);return e.Ia(n.xh(r))&&(r.m(t.x,t.bottom),e.Ia(n.xh(r))&&(r.m(t.right,t.bottom),e.Ia(n.xh(r))&&(r.m(t.right,t.y),e.Ia(n.xh(r))&&(i=!0)))),Jh.v(r),Jh.Bb(e),i},Tr.prototype.containedInRect=Tr.prototype.un=function(t,e){if(void 0===e)return t.Fk(this.U);var n=this.Ja,i=!1,r=Jh.wb(0,0);return t.Ia(e.nb(r))&&(r.m(0,n.height),t.Ia(e.nb(r))&&(r.m(n.width,n.height),t.Ia(e.nb(r))&&(r.m(n.width,0),t.Ia(e.nb(r))&&(i=!0)))),Jh.v(r),i},Tr.prototype.intersectsRect=Tr.prototype.$f=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.$f(this.U);var n=this.Ja,i=e,r=Jh.wb(0,0),o=Jh.wb(0,n.height),s=Jh.wb(n.width,n.height),a=Jh.wb(n.width,0),u=!1;if(t.Ia(i.nb(r))||t.Ia(i.nb(o))||t.Ia(i.nb(s))||t.Ia(i.nb(a)))u=!0;else{var n=Jh.lg(0,0,n.width,n.height),h=Jh.wb(t.x,t.y);n.Ia(i.xh(h))?u=!0:(h.m(t.x,t.bottom),n.Ia(i.xh(h))?u=!0:(h.m(t.right,t.bottom),n.Ia(i.xh(h))?u=!0:(h.m(t.right,t.y),n.Ia(i.xh(h))&&(u=!0)))),Jh.v(h),Jh.Bb(n),!u&&(ht(t,r,o)||ht(t,o,s)||ht(t,s,a)||ht(t,a,r))&&(u=!0)}return Jh.v(r),Jh.v(o),Jh.v(s),Jh.v(a),u},Tr.prototype.getDocumentPoint=Tr.prototype.Ya=function(t,e){if(void 0===e&&(e=new w),t instanceof E){t.Ud()&&Jh.k("getDocumentPoint:s Spot must be specific: "+t.toString());var n=this.Ja;e.m(t.x*n.width+t.offsetX,t.y*n.height+t.offsetY)}else e.set(t);return this.rh.nb(e),e},Tr.prototype.getDocumentAngle=Tr.prototype.bm=function(){var t;return t=this.rh,1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},Tr.prototype.getDocumentScale=Tr.prototype.vj=function(){if(0!=(4096&this.M)==!1)return this.Ho;var t=this.rb;return null!==this.R?t*this.R.vj():t},Tr.prototype.getLocalPoint=Tr.prototype.kF=function(t,e){return void 0===e&&(e=new w),e.assign(t),this.rh.xh(e),e},Tr.prototype.getNearestIntersectionPoint=Tr.prototype.lF=function(t,e,n){return this.En(t.x,t.y,e.x,e.y,n)},Kh=Tr.prototype,Kh.En=function(t,e,n,i,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,u=-o.m12*s,h=-o.m21*s,l=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),f=s*(o.m12*o.dx-o.m11*o.dy);return null!==this.pn?(o=this.U,at(o.left,o.top,o.right,o.bottom,t,e,n,i,r)):(s=t*a+e*h+c,t=t*u+e*l+f,e=n*a+i*h+c,n=n*u+i*l+f,r.m(0,0),i=this.Ja,n=at(0,0,i.width,i.height,s,t,e,n,r),r.transform(o),n)},Kh.Qn=function(){},Kh.yj=function(){return!1},Kh.jc=function(t,e,n,i,r){this.Ri();var o=Jh.vf();if(o.assign(this.pc),this.pc.Qa(),!1===Yr(this)){var s=this.pc;s.x=t,s.y=e,s.width=n,s.height=i}else this.pj(t,e,n,i);this.pc.freeze(),this.og=void 0===r?null:r,n=!1,void 0!==r?n=!0:(r=this.R,null===r||r.type!==ep&&r.type!==np||(r=r.R),null!==r&&(r=r.Nc,i=this.za,null!==this.pn&&(i=this.pc),n=e+i.height,i=t+i.width,n=!(0<=t+.05&&i<=r.width+.05&&0<=e+.05&&n<=r.height+.05),this instanceof Vo&&(t=this.Nc,this.nw>t.height||this.zf.Ge>t.width))&&(n=!0)),this.M=n?256|this.M:-257&this.M,this.pc.I()||Jh.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.pc.toString()),this.ey(o,this.pc),Qr(this,!1),Jh.Bb(o)},Kh.pj=function(){},Kh.ey=function(t,e){var n=this.W;null!==n&&null!==n.g&&(n.Fq!==this&&n.jG!==this&&n.xB!==this||Ts(n,!0),this.oa(),T(t,e)||(n.Rk(),this.Ks(n)))},Kh.Ks=function(t){null!==this.le&&(Ts(t,!0),t instanceof Ls&&Rs(t,this))},Jh.defineProperty(Tr,{co:"shadowVisible"},function(){return this.jn},function(t){var e=this.jn;e!==t&&(this.jn=t,this.oa(),this.h("shadowVisible",e,t))}),Tr.prototype.ve=function(t,e){if(this.visible){var n=this instanceof eo&&(this.type===ep||this.type===np),i=this.pc;if(n||0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var r=this.opacity;if(0!==r){var o=1;if(1!==r&&(o=t.globalAlpha,t.globalAlpha=o*r),t instanceof R){t:if(this.visible){var n=null,s=t.Rx;if(this instanceof eo&&(this.type===ep||this.type===np))Lr(this,t,e);else{var a=this.pc;if(0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var u=this.transform,h=this.R;0!=(4096&this.M)==!0&&Fr(this);var i=0!=(256&this.M),l=!1;if(this instanceof Vo&&(t.font=this.font),i){if(l=h.Yg()?h.Ja:h.U,null!==this.og)var c=this.og,f=c.x,p=c.y,d=c.width,c=c.height;else f=Math.max(a.x,l.x),p=Math.max(a.y,l.y),d=Math.min(a.right,l.right)-f,c=Math.min(a.bottom,l.bottom)-p;if(f>a.width+a.x||a.x>l.width+l.x||p>a.height+a.y||a.y>l.height+l.y)break t;l=!0,G(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(f,p,d,c),t.clip()}if(this.yj()){var y=this;if(!y.isVisible())break t}t.vh.Vb=[1,0,0,1,0,0],this instanceof Vo&&1<this.Vx&&G(t,1,0,0,1,0,0),f=!1,this.yj()&&this.jm&&e.Ok("drawShadows")&&(p=this.hn,t.KB(p.x*e.scale*e.wd,p.y*e.scale*e.wd,y.Eg),t.eo(),t.shadowColor=y.gn),y=!1,this.W&&e.Ok("drawShadows")&&(y=this.W.jm),!0===this.co?(t.eo(),!1===f&&y&&(G(t,1,0,0,1,0,0),t.fb(),f=!0)):!1===this.co&&t.pm(),null!==this.cc&&(Dr(this,t,this.cc,!0,!0),!1===f&&y&&(G(t,1,0,0,1,0,0),t.fb(),f=!0),this.cc instanceof br&&this.cc.type===xf?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.Lg(this.cc)):t.fillRect(a.x,a.y,a.width,a.height)),this instanceof eo?G(t,u.m11,u.m12,u.m21,u.m22,u.dx,u.dy):t.vh.Vb=[u.m11,u.m12,u.m21,u.m22,u.dx,u.dy],null!==this.Gb&&(!1===f&&y&&(G(t,1,0,0,1,0,0),t.fb(),f=!0),d=this.Ja,u=a=0,p=d.width,d=d.height,c=0,this instanceof No&&(d=this.Sa.eb,a=d.x,u=d.y,p=d.width,d=d.height,c=this.ji),Dr(this,t,this.Gb,!0,!1),this.Gb instanceof br&&this.Gb.type===xf?(t.beginPath(),t.rect(a-c/2,u-c/2,p+c,d+c),t.Lg(this.Gb)):t.fillRect(a-c/2,u-c/2,p+c,d+c)),y&&(null!==this.Gb||null!==this.cc||null!==h&&0!=(512&h.M)||null!==h&&(h.type===$f||h.type===Xf)&&h.Bd()!==this)?(zr(this,!0),null===this.co&&t.pm()):zr(this,!1),this.Ik(t,e),y&&0!=(512&this.M)==!0&&t.eo(),this.yj()&&y&&t.pm(),i&&(t.restore(),l&&t.qf.pop()),this instanceof eo&&(n=t.qf.pop()),!0===f&&t.qf.pop(),this instanceof Vo&&1<this.Vx&&(n=t.qf.pop()),null!==t.XE&&(null===n&&(s===t.Rx?(G(t,1,0,0,1,0,0),n=t.qf.pop()):n=t.Rx),t.XE(this,n))}}}}else if(n)Lr(this,t,e);else{if(this instanceof Ys&&this.Hu(!1),n=this.transform,s=this.R,0!=(4096&this.M)==!0&&Fr(this),h=!1,y=this.W,a=0,y&&e.Ok("drawShadows")&&(h=y.jm)&&(l=y.hn,a=Math.max(l.y,l.x)*e.scale*e.wd),!(u=e.Jm)){var v,g,d=a,c=this.Nc,a=this.Xk,m=a.m11,b=a.m21,w=a.dx,x=a.m12,k=a.m22,P=a.dy,C=g=0,a=g*m+C*b+w,u=g*x+C*k+P,p=f=0;g=c.width+d,C=0,v=g*m+C*b+w,g=g*x+C*k+P,a=Math.min(a,v),u=Math.min(u,g),f=Math.max(a+f,v)-a,p=Math.max(u+p,g)-u,g=c.width+d,C=c.height+d,v=g*m+C*b+w,g=g*x+C*k+P,a=Math.min(a,v),u=Math.min(u,g),f=Math.max(a+f,v)-a,p=Math.max(u+p,g)-u,g=0,C=c.height+d,v=g*m+C*b+w,g=g*x+C*k+P,a=Math.min(a,v),u=Math.min(u,g),f=Math.max(a+f,v)-a,p=Math.max(u+p,g)-u,d=e.eA,c=d.x,m=d.y,u=!(a>d.width+c||c>f+a||u>d.height+m||m>p+u)}if(u){if(a=0!=(256&this.M),t.Qp&&(a=!1),this instanceof Vo&&(t.font=this.font),a){if(u=s.Yg()?s.Ja:s.U,null!==this.og?(c=this.og,f=c.x,p=c.y,d=c.width,c=c.height):(f=Math.max(i.x,u.x),p=Math.max(i.y,u.y),d=Math.min(i.right,u.right)-f,c=Math.min(i.bottom,u.bottom)-p),f>i.width+i.x||i.x>u.width+u.x)return void(1!==r&&(t.globalAlpha=o));t.save(),t.beginPath(),t.rect(f,p,d,c),t.clip()}if(this.yj()){if(!y.isVisible())return void(1!==r&&(t.globalAlpha=o));h&&(t.KB(l.x*e.scale*e.wd,l.y*e.scale*e.wd,y.Eg),t.eo(),t.shadowColor=y.gn)}!0===this.co?t.eo():!1===this.co&&t.pm(),null!==this.cc&&(Dr(this,t,this.cc,!0,!0),this.cc instanceof br&&this.cc.type===xf?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.Lg(this.cc)):t.fillRect(i.x,i.y,i.width,i.height)),n.yu()||t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),h&&(null!==s&&0!=(512&s.M)||null!==s&&(s.type===$f||s.type===Xf)&&s.Bd()!==this)&&null===this.co&&t.pm(),null!==this.Gb&&(u=this.Ja,l=i=0,y=u.width,u=u.height,f=0,this instanceof No&&(u=this.Sa.eb,i=u.x,l=u.y,y=u.width,u=u.height,f=this.ji),Dr(this,t,this.Gb,!0,!1),this.Gb instanceof br&&this.Gb.type===xf?(t.beginPath(),t.rect(i-f/2,l-f/2,y+f,u+f),t.Lg(this.Gb)):t.fillRect(i-f/2,l-f/2,y+f,u+f)),h&&(null!==this.Gb||null!==this.cc||null!==s&&0!=(512&s.M)||null!==s&&(s.type===$f||s.type===Xf)&&s.Bd()!==this)?(zr(this,!0),null===this.co&&t.pm()):zr(this,!1),this.Ik(t,e),h&&0!=(512&this.M)==!0&&t.eo(),this.yj()&&h&&t.pm(),a?(t.restore(),this instanceof eo?t.Ke(!0):t.Ke(!1)):n.yu()||(s=1/(n.m11*n.m22-n.m12*n.m21),t.transform(n.m22*s,-n.m12*s,-n.m21*s,n.m11*s,s*(n.m21*n.dy-n.m22*n.dx),s*(n.m12*n.dx-n.m11*n.dy)))}}1!==r&&(t.globalAlpha=o)}}}},Tr.prototype.Ik=function(){},Tr.prototype.isContainedBy=Tr.prototype.hm=function(t){if(t instanceof eo)t:{if(this!==t&&null!==t)for(var e=this.R;null!==e;){if(e===t){t=!0;break t}e=e.R}t=!1}else t=!1;return t},Tr.prototype.isVisibleObject=Tr.prototype.Cj=function(){if(!this.visible)return!1;var t=this.R;return null===t||t.Cj()},Tr.prototype.isEnabledObject=Tr.prototype.vu=function(){for(var t=this instanceof eo?this:this.R;null!==t&&t.isEnabled;)t=t.R;return null===t},Jh.defineProperty(Tr,{YE:"enabledChanged"},function(){return null!==this.ia?this.ia.Gr:null},function(t){Mr(this);var e=this.ia.Gr;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"enabledChanged"),this.ia.Gr=t,this.h("enabledChanged",e,t))}),Kh=Tr.prototype,Kh.H=function(t){if(void 0===t&&(t=!1),!0!==Wr(this)){Jr(this,!0),Qr(this,!0);var e=this.R;null===e||t||e.H()}},Kh.gq=function(){!0!==Wr(this)&&(Jr(this,!0),Qr(this,!0))},Kh.Ri=function(){0!=(2048&this.M)==!1&&(Ur(this,!0),Kr(this,!0))},Kh.RA=function(){Kr(this,!0)},Kh.oa=function(){var t=this.W;null!==t&&t.oa()},Jh.defineProperty(Tr,{Eq:"segmentOrientation"},function(){return this.en},function(t){var e=this.en;e!==t&&(this.en=t,this.H(),this.h("segmentOrientation",e,t),t===Hp&&(this.angle=0))}),Jh.defineProperty(Tr,{Qe:"segmentIndex"},function(){return this.lt},function(t){t=Math.round(t);var e=this.lt;e!==t&&(this.lt=t,this.H(),this.h("segmentIndex",e,t))}),Jh.defineProperty(Tr,{zB:"segmentFraction"},function(){return this.cn},function(t){isNaN(t)?t=0:0>t?t=0:1<t&&(t=1);var e=this.cn;e!==t&&(this.cn=t,this.H(),this.h("segmentFraction",e,t))}),Jh.defineProperty(Tr,{AB:"segmentOffset"},function(){return this.dn},function(t){var e=this.dn;e.L(t)||(this.dn=t=t.S(),this.H(),this.h("segmentOffset",e,t))}),Jh.defineProperty(Tr,{stretch:"stretch"},function(){return this.Fg},function(t){var e=this.Fg;e!==t&&(this.Fg=t,this.H(),this.h("stretch",e,t))}),Jh.defineProperty(Tr,{name:"name"},function(){return this.Sb},function(t){var e=this.Sb;e!==t&&(this.Sb=t,null!==this.W&&(this.W.Um=null),this.h("name",e,t))}),Jh.defineProperty(Tr,{opacity:"opacity"},function(){return this.Dc},function(t){var e=this.Dc;e!==t&&(Jh.j(t,"number",Tr,"opacity"),(0>t||1<t)&&Jh.Fa(t,"0 <= value <= 1",Tr,"opacity"),this.Dc=t,this.h("opacity",e,t),t=this.g,e=this.W,null!==t&&null!==e&&t.oa(ys(e,e.U)))}),Jh.defineProperty(Tr,{visible:"visible"},function(){return 0!=(1&this.M)},function(t){var e=0!=(1&this.M);e!==t&&(this.M^=1,this.h("visible",e,t),e=this.R,null!==e?e.H():this.yj()&&this.Dd(t),this.oa(),Xr(this))}),Jh.defineProperty(Tr,{Ug:"pickable"},function(){return 0!=(2&this.M)},function(t){var e=0!=(2&this.M);e!==t&&(this.M^=2,this.h("pickable",e,t))}),Jh.defineProperty(Tr,{aI:"fromLinkableDuplicates"},function(){return 0!=(4&this.M)},function(t){var e=0!=(4&this.M);e!==t&&(this.M^=4,this.h("fromLinkableDuplicates",e,t))}),Jh.defineProperty(Tr,{bI:"fromLinkableSelfNode"},function(){return 0!=(8&this.M)},function(t){var e=0!=(8&this.M);e!==t&&(this.M^=8,this.h("fromLinkableSelfNode",e,t))}),Jh.defineProperty(Tr,{TJ:"toLinkableDuplicates"},function(){return 0!=(16&this.M)},function(t){var e=0!=(16&this.M);e!==t&&(this.M^=16,this.h("toLinkableDuplicates",e,t))}),Jh.defineProperty(Tr,{UJ:"toLinkableSelfNode"},function(){return 0!=(32&this.M)},function(t){var e=0!=(32&this.M);e!==t&&(this.M^=32,this.h("toLinkableSelfNode",e,t))}),Jh.defineProperty(Tr,{ff:"isPanelMain"},function(){return 0!=(64&this.M)},function(t){var e=0!=(64&this.M);e!==t&&(this.M^=64,this.H(),this.h("isPanelMain",e,t))}),Jh.defineProperty(Tr,{Kx:"isActionable"},function(){return 0!=(128&this.M)},function(t){var e=0!=(128&this.M);e!==t&&(this.M^=128,this.h("isActionable",e,t))}),Jh.defineProperty(Tr,{pn:"areaBackground"},function(){return this.cc},function(t){var e=this.cc;e!==t&&(t instanceof br&&t.freeze(),this.cc=t,this.oa(),this.h("areaBackground",e,t))}),Jh.defineProperty(Tr,{background:"background"},function(){return this.Gb},function(t){var e=this.Gb;e!==t&&(t instanceof br&&t.freeze(),this.Gb=t,this.oa(),this.h("background",e,t))}),Jh.u(Tr,{W:"part"},function(){if(this.yj())return this;if(null!==this.Zm)return this.Zm;var t;for(t=this.R;t;){if(t instanceof ls)return this.Zm=t;t=t.R}return null}),Jh.u(Tr,{R:"panel"},function(){return this.ej}),Tr.prototype.om=function(t){this.ej=t},Jh.u(Tr,{layer:"layer"},function(){var t=this.W;return null!==t?t.layer:null},{configurable:!0}),Jh.u(Tr,{g:"diagram"},function(){var t=this.W;return null!==t?t.g:null},{configurable:!0}),Jh.defineProperty(Tr,{position:"position"},function(){return this.ab},function(t){var e=t.x,n=t.y,i=this.ab,r=i.x,o=i.y;(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))?this.HB():(t=t.S(),this.GB(t,i)&&this.h("position",i,t))}),Tr.prototype.HB=function(){},Tr.prototype.GB=function(t){return this.ab=t,Vr(this),this.Ri(),!0},Tr.prototype.Ay=function(t,e){this.ab.m(t,e),this.Ri()},Jh.u(Tr,{U:"actualBounds"},function(){return this.pc}),Jh.defineProperty(Tr,{scale:"scale"},function(){return this.rb},function(t){var e=this.rb;e!==t&&(0>=t&&Jh.k("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.rb=t,this.Ri(),this.H(),this.h("scale",e,t))}),Jh.defineProperty(Tr,{angle:"angle"},function(){return this.mg},function(t){var e=this.mg;e!==t&&(t%=360,0>t&&(t+=360),e!==t&&(this.mg=t,Xr(this),this.H(),this.Ri(),this.h("angle",e,t)))}),Jh.defineProperty(Tr,{Da:"desiredSize"},function(){return this.Ue},function(t){var e=t.width,n=t.height,i=this.Ue,r=i.width,o=i.height;(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))||(this.Ue=t=t.S(),this.H(),this instanceof No&&this.fe(),this.h("desiredSize",i,t),Gr(this)&&null!==(t=this.W)&&(Nr(this,t,"width"),Nr(this,t,"height")))}),Jh.defineProperty(Tr,{width:"width"},function(){return this.Ue.width},function(t){var e=this.Ue.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Ue,this.Ue=t=new P(t,this.Ue.height).freeze(),this.H(),this instanceof No&&this.fe(),this.h("desiredSize",e,t),Gr(this)&&null!==(t=this.W)&&Nr(this,t,"width"))}),Jh.defineProperty(Tr,{height:"height"},function(){return this.Ue.height},function(t){var e=this.Ue.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Ue,this.Ue=t=new P(this.Ue.width,t).freeze(),this.H(),this instanceof No&&this.fe(),this.h("desiredSize",e,t),Gr(this)&&null!==(t=this.W)&&Nr(this,t,"height"))}),Jh.defineProperty(Tr,{si:"minSize"},function(){return this.Zh},function(t){var e=this.Zh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.Zh=t,this.H(),this.h("minSize",e,t))}),Jh.defineProperty(Tr,{Hf:"maxSize"},function(){return this.Yh},function(t){var e=this.Yh;e.L(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.Yh=t,this.H(),this.h("maxSize",e,t))}),Jh.u(Tr,{za:"measuredBounds"},function(){return this.ud}),Jh.u(Tr,{Ja:"naturalBounds"},function(){return this.Nc},{configurable:!0}),Jh.defineProperty(Tr,{margin:"margin"},function(){return this.Sm},function(t){"number"==typeof t&&(t=new O(t));var e=this.Sm;e.L(t)||(this.Sm=t=t.S(),this.H(),this.h("margin",e,t))}),Jh.u(Tr,{transform:null},function(){return 0!=(2048&this.M)==!0&&Fr(this),this.jd}),Jh.u(Tr,{rh:null},function(){return 0!=(4096&this.M)==!0&&Fr(this),this.Xk}),Jh.defineProperty(Tr,{alignment:"alignment"},function(){return this.me},function(t){var e=this.me;e.L(t)||(t.Ud()&&!t.ge()&&Jh.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.me=t=t.S(),Vr(this),this.h("alignment",e,t))}),Jh.defineProperty(Tr,{column:"column"},function(){return this.gr},function(t){t=Math.round(t);var e=this.gr;e!==t&&(0>t&&Jh.Fa(t,">= 0",Tr,"column"),this.gr=t,this.H(),this.h("column",e,t))}),Jh.defineProperty(Tr,{BH:"columnSpan"},function(){return this.Fi},function(t){t=Math.round(t);var e=this.Fi;e!==t&&(1>t&&Jh.Fa(t,">= 1",Tr,"columnSpan"),this.Fi=t,this.H(),this.h("columnSpan",e,t))}),Jh.defineProperty(Tr,{Wb:"row"},function(){return this.ht},function(t){t=Math.round(t);var e=this.ht;e!==t&&(0>t&&Jh.Fa(t,">= 0",Tr,"row"),this.ht=t,this.H(),this.h("row",e,t))}),Jh.defineProperty(Tr,{rowSpan:"rowSpan"},function(){return this.gj},function(t){t=Math.round(t);var e=this.gj;e!==t&&(1>t&&Jh.Fa(t,">= 1",Tr,"rowSpan"),this.gj=t,this.H(),this.h("rowSpan",e,t))}),Jh.defineProperty(Tr,{By:"spanAllocation"},function(){return this.xt},function(t){var e=this.xt;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"spanAllocation"),this.xt=t,this.H(),this.h("spanAllocation",e,t))}),Jh.defineProperty(Tr,{qh:"alignmentFocus"},function(){return this.xm},function(t){var e=this.xm;e.L(t)||(!t.Ud()||t.ge()||t.L(nl)&&this instanceof Ls||Jh.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+t),this.xm=t=t.S(),this.H(),this.h("alignmentFocus",e,t))}),Jh.defineProperty(Tr,{le:"portId"},function(){return this.Vs},function(t){var e=this.Vs;if(e!==t){var n=this.W;null===n||n instanceof Ls||(Jh.k("Cannot set portID on a Link: "+t),n=null),null!==e&&null!==n&&Hs(n,this),this.Vs=t,null!==t&&null!==n&&(n.Qk=!0,Gs(n,this)),this.h("portId",e,t)}}),Jh.defineProperty(Tr,{Nb:"toSpot"},function(){return null!==this.Y?this.Y.zk:nl},function(t){this.Qd();var e=this.Y.zk;e.L(t)||(t=t.S(),this.Y.zk=t,this.h("toSpot",e,t),Zr(this))}),Jh.defineProperty(Tr,{um:"toEndSegmentLength"},function(){return null!==this.Y?this.Y.xk:10},function(t){this.Qd();var e=this.Y.xk;e!==t&&(0>t&&Jh.Fa(t,">= 0",Tr,"toEndSegmentLength"),this.Y.xk=t,this.h("toEndSegmentLength",e,t),Zr(this))}),Jh.defineProperty(Tr,{ev:"toEndSegmentDirection"},function(){return null!==this.Y?this.Y.wk:Ip},function(t){this.Qd();var e=this.Y.wk;e!==t&&(Jh.Yt("GraphObject.toEndSegmentDirection","2.0"),this.Y.wk=t,this.h("toEndSegmentDirection",e,t),Zr(this))}),Jh.defineProperty(Tr,{fv:"toShortLength"},function(){return null!==this.Y?this.Y.yk:0},function(t){this.Qd();var e=this.Y.yk;e!==t&&(this.Y.yk=t,this.h("toShortLength",e,t),Zr(this))}),Jh.defineProperty(Tr,{EG:"toLinkable"},function(){return null!==this.Y?this.Y.Et:null},function(t){this.Qd();var e=this.Y.Et;e!==t&&(this.Y.Et=t,this.h("toLinkable",e,t))}),Jh.defineProperty(Tr,{VJ:"toMaxLinks"},function(){return null!==this.Y?this.Y.Ft:1/0},function(t){this.Qd();var e=this.Y.Ft;e!==t&&(0>t&&Jh.Fa(t,">= 0",Tr,"toMaxLinks"),this.Y.Ft=t,this.h("toMaxLinks",e,t))}),Jh.defineProperty(Tr,{Mb:"fromSpot"},function(){return null!==this.Y?this.Y.$j:nl},function(t){this.Qd();var e=this.Y.$j;e.L(t)||(t=t.S(),this.Y.$j=t,this.h("fromSpot",e,t),Zr(this))}),Jh.defineProperty(Tr,{am:"fromEndSegmentLength"},function(){return null!==this.Y?this.Y.Yj:10},function(t){this.Qd();var e=this.Y.Yj;e!==t&&(0>t&&Jh.Fa(t,">= 0",Tr,"fromEndSegmentLength"),this.Y.Yj=t,this.h("fromEndSegmentLength",e,t),Zr(this))}),Jh.defineProperty(Tr,{lu:"fromEndSegmentDirection"},function(){return null!==this.Y?this.Y.Xj:Ip},function(t){this.Qd();var e=this.Y.Xj;e!==t&&(Jh.Yt("GraphObject.fromEndSegmentDirection","2.0"),this.Y.Xj=t,this.h("fromEndSegmentDirection",e,t),Zr(this))}),Jh.defineProperty(Tr,{mu:"fromShortLength"},function(){return null!==this.Y?this.Y.Zj:0},function(t){this.Qd();var e=this.Y.Zj;e!==t&&(this.Y.Zj=t,this.h("fromShortLength",e,t),Zr(this))}),Jh.defineProperty(Tr,{hF:"fromLinkable"},function(){return null!==this.Y?this.Y.Jr:null},function(t){this.Qd();var e=this.Y.Jr;e!==t&&(this.Y.Jr=t,this.h("fromLinkable",e,t))}),Jh.defineProperty(Tr,{GA:"fromMaxLinks"},function(){return null!==this.Y?this.Y.Kr:1/0},function(t){this.Qd();var e=this.Y.Kr;e!==t&&(0>t&&Jh.Fa(t,">= 0",Tr,"fromMaxLinks"),this.Y.Kr=t,this.h("fromMaxLinks",e,t))}),Jh.defineProperty(Tr,{cursor:"cursor"},function(){return this.pr},function(t){var e=this.pr;e!==t&&(Jh.j(t,"string",Tr,"cursor"),this.pr=t,this.h("cursor",e,t))}),Jh.defineProperty(Tr,{click:"click"},function(){return null!==this.ia?this.ia.Ei:null},function(t){Mr(this);var e=this.ia.Ei;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"click"),this.ia.Ei=t,this.h("click",e,t))}),Jh.defineProperty(Tr,{Zt:"doubleClick"},function(){return null!==this.ia?this.ia.Mi:null},function(t){Mr(this);var e=this.ia.Mi;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"doubleClick"),this.ia.Mi=t,this.h("doubleClick",e,t))}),Jh.defineProperty(Tr,{sA:"contextClick"},function(){return null!==this.ia?this.ia.Gi:null},function(t){Mr(this);var e=this.ia.Gi;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"contextClick"),this.ia.Gi=t,this.h("contextClick",e,t))}),Jh.defineProperty(Tr,{Ju:"mouseEnter"},function(){return null!==this.ia?this.ia.Bs:null},function(t){Mr(this);var e=this.ia.Bs;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseEnter"),this.ia.Bs=t,this.h("mouseEnter",e,t))}),Jh.defineProperty(Tr,{Ku:"mouseLeave"},function(){return null!==this.ia?this.ia.Cs:null},function(t){Mr(this);var e=this.ia.Cs;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseLeave"),this.ia.Cs=t,this.h("mouseLeave",e,t))}),Jh.defineProperty(Tr,{kB:"mouseOver"},function(){return null!==this.ia?this.ia.aj:null},function(t){Mr(this);var e=this.ia.aj;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseOver"),this.ia.aj=t,this.h("mouseOver",e,t))}),Jh.defineProperty(Tr,{jB:"mouseHover"},function(){return null!==this.ia?this.ia.$i:null},function(t){Mr(this);var e=this.ia.$i;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseHover"),this.ia.$i=t,this.h("mouseHover",e,t))}),Jh.defineProperty(Tr,{iB:"mouseHold"},function(){return null!==this.ia?this.ia.Zi:null},function(t){Mr(this);var e=this.ia.Zi;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseHold"),this.ia.Zi=t,this.h("mouseHold",e,t))}),Jh.defineProperty(Tr,{bJ:"mouseDragEnter"},function(){return null!==this.ia?this.ia.zs:null},function(t){Mr(this);var e=this.ia.zs;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseDragEnter"),this.ia.zs=t,this.h("mouseDragEnter",e,t))}),Jh.defineProperty(Tr,{cJ:"mouseDragLeave"},function(){return null!==this.ia?this.ia.As:null},function(t){Mr(this);var e=this.ia.As;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseDragLeave"),this.ia.As=t,this.h("mouseDragLeave",e,t))}),Jh.defineProperty(Tr,{hB:"mouseDrop"},function(){return null!==this.ia?this.ia.Yi:null},function(t){Mr(this);var e=this.ia.Yi;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"mouseDrop"),this.ia.Yi=t,this.h("mouseDrop",e,t))}),Jh.defineProperty(Tr,{uE:"actionDown"},function(){return null!==this.ia?this.ia.Pq:null},function(t){Mr(this);var e=this.ia.Pq;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"actionDown"),this.ia.Pq=t,this.h("actionDown",e,t))}),Jh.defineProperty(Tr,{vE:"actionMove"},function(){return null!==this.ia?this.ia.Qq:null},function(t){Mr(this);var e=this.ia.Qq;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"actionMove"),this.ia.Qq=t,this.h("actionMove",e,t))}),Jh.defineProperty(Tr,{wE:"actionUp"},function(){return null!==this.ia?this.ia.Rq:null},function(t){Mr(this);var e=this.ia.Rq;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"actionUp"),this.ia.Rq=t,this.h("actionUp",e,t))}),Jh.defineProperty(Tr,{tE:"actionCancel"},function(){return null!==this.ia?this.ia.Oq:null},function(t){Mr(this);var e=this.ia.Oq;e!==t&&(null!==t&&Jh.j(t,"function",Tr,"actionCancel"),this.ia.Oq=t,this.h("actionCancel",e,t))}),Jh.defineProperty(Tr,{QB:"toolTip"},function(){return null!==this.ia?this.ia.jj:null},function(t){Mr(this);var e=this.ia.jj;e!==t&&(this.ia.jj=t,this.h("toolTip",e,t))}),Jh.defineProperty(Tr,{contextMenu:"contextMenu"},function(){return null!==this.ia?this.ia.Hi:null},function(t){Mr(this);var e=this.ia.Hi;e!==t&&(this.ia.Hi=t,this.h("contextMenu",e,t))}),Tr.prototype.bind=Tr.prototype.bind=function(t){t.Gg=this;var e=this.$l();null!==e&&wo(e)&&Jh.k("Cannot add a Binding to a template that has already been copied: "+t),null===this.Ac&&(this.Ac=new c(ne)),this.Ac.add(t)},Tr.prototype.findTemplateBinder=Tr.prototype.$l=function(){for(var t=this instanceof eo?this:this.R;null!==t;){if(null!==t.jl)return t;t=t.R}return null},Tr.prototype.setProperties=function(t){Jh.$u(this,t)};var Kf;Tr.make=Kf=function(t,e){var n=arguments,i=null,r=null;if("function"==typeof t)r=t;else if("string"==typeof t){var o=Wf.ka(t);"function"==typeof o?(n=Jh.Vl(arguments),i=o(n),Jh.Pa(i)||Jh.k('GraphObject.make invoked object builder "'+t+'", but it did not return an Object')):r=Wh[t]}if(null===i&&(void 0!==r&&null!==r&&r.constructor||Jh.k("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),i=new r),o=1,i instanceof Bn&&1<n.length){var s=i,r=n[1];("string"==typeof r||r instanceof HTMLDivElement)&&(cr(s,r),o++)}for(;o<n.length;o++)r=n[o],void 0===r?Jh.k("Undefined value at argument "+o+" for object being constructed by GraphObject.make: "+i):$r(i,r);return i};var Wf=new b("string","function");Tr.getBuilders=function(){var t,e=new b("string","function");for(t in Wf)if(t!==t.toLowerCase()){var n=Wf.ka(t);"function"==typeof n&&e.add(t,n)}return e.freeze(),e};var Jf;Tr.defineBuilder=Jf=function(t,e){Jh.j(t,"string",Tr,"defineBuilder:name"),Jh.j(e,"function",Tr,"defineBuilder:func");var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Jh.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Wf.add(t,e)};var Yf;Tr.takeBuilderArgument=Yf=function(t,e,n){void 0===n&&(n=null);var i=t[1];if("function"==typeof n?n(i):"string"==typeof i)return t.splice(1,1),i;if(void 0===e)throw Error("no "+("function"==typeof n?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e},Jf("Button",function(){var t=new br(wf);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new br(wf);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),t=Kf(eo,$f,{Kx:!0,YE:function(t,e){var n=t.Cd("ButtonBorder");null!==n&&(n.fill=e?t._buttonFillNormal:t._buttonFillDisabled)},_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue",_buttonFillDisabled:"darkgray"},Kf(No,{name:"ButtonBorder",Fb:"Rectangle",A:new E(0,0,2.761423749153968,2.761423749153968),B:new E(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"})),t.Ju=function(t,e){if(e.vu()){var n=e.Cd("ButtonBorder");if(n instanceof No){var i=e._buttonFillOver;e._buttonFillNormal=n.fill,n.fill=i,i=e._buttonStrokeOver,e._buttonStrokeNormal=n.stroke,n.stroke=i}}},t.Ku=function(t,e){if(e.vu()){var n=e.Cd("ButtonBorder");n instanceof No&&(n.fill=e._buttonFillNormal,n.stroke=e._buttonStrokeNormal)}},t}),Jf("TreeExpanderButton",function(){var t=Kf("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Kf(No,{name:"ButtonIcon",Fb:"MinusLine",Da:Kl},new ne("figure","isTreeExpanded",function(t,e){var n=e.R;return t?n._treeExpandedFigure:n._treeCollapsedFigure}).by()),{visible:!1},new ne("visible","isTreeLeaf",function(t){return!t}).by());return t.click=function(t,e){var n=e.W;if(n instanceof Es&&(n=n.Ze),n instanceof Ls){var i=n.g;if(null!==i){if(i=i.pb,n.wc){if(!i.canCollapseTree(n))return}else if(!i.canExpandTree(n))return;t.vc=!0,n.wc?i.collapseTree(n):i.expandTree(n)}}},t}),Jf("SubGraphExpanderButton",function(){var t=Kf("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Kf(No,{name:"ButtonIcon",Fb:"MinusLine",Da:Kl},new ne("figure","isSubGraphExpanded",function(t,e){var n=e.R;return t?n._subGraphExpandedFigure:n._subGraphCollapsedFigure}).by()));return t.click=function(t,e){var n=e.W;if(n instanceof Es&&(n=n.Ze),n instanceof Aa){var i=n.g;if(null!==i){if(i=i.pb,n.$c){if(!i.canCollapseSubGraph(n))return}else if(!i.canExpandSubGraph(n))return;t.vc=!0,n.$c?i.collapseSubGraph(n):i.expandSubGraph(n)}}},t}),Jf("ToolTip",function(){var t=new Es($f),e=new No;return e.name="Border",e.fill="#FFFFE0",e.stroke="#CCCCCC",t.add(e),t}),Jf("ContextMenu",function(){return new Es(Zf)}),Jf("ContextMenuButton",function(){var t=Kf("Button");t.stretch=If;var e=t.Cd("ButtonBorder");return e instanceof No&&(e.Fb="Rectangle",e.A=new E(0,0,2,3),e.B=new E(1,1,-2,-2)),t}),Jf("PanelExpanderButton",function(t){var e=Yf(t,"COLLAPSIBLE"),n=Kf("Button",{_buttonExpandedFigure:"TriangleUp",_buttonCollapsedFigure:"TriangleDown"},Kf(No,"TriangleUp",{name:"ButtonIcon",Da:new P(6,4)},new ne("figure","visible",function(t){return t?n._buttonExpandedFigure:n._buttonCollapsedFigure}).by(e)));return t=n.Cd("ButtonBorder"),t instanceof No&&(t.stroke=null,t.fill="transparent"),n.click=function(t,n){var i=n.g;if(null!==i&&!i.ib){var r=n.$l();null===r&&(r=n.W),null!==r&&null!==(r=r.Cd(e))&&(i.Ib("Collapse/Expand Panel"),r.visible=!r.visible,i.Yc("Collapse/Expand Panel"))}},n}),Jf("CheckBoxButton",function(t){var e=Yf(t);return t=Kf("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},Kf(No,{name:"ButtonIcon",cI:"M0 4 L3 9 9 0",mb:2,stretch:Bf,HA:qf,visible:!1},""!==e?new ne("visible",e).RI():[])),t.click=function(t,n){var i=t.g;if(!(null===i||i.ib||""!==e&&i.$.ib)){t.vc=!0;var r=n.Cd("ButtonIcon");i.Ib("checkbox"),r.visible=!r.visible,"function"==typeof n._doClick&&n._doClick(t,n),i.Yc("checkbox")}},t}),Jf("CheckBox",function(t){t=Yf(t),t=Kf("CheckBoxButton",t,{name:"Button",margin:new O(0,1,0,0)});var e=Kf(eo,"Horizontal",t,{Kx:!0,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillDisabled:t._buttonFillDisabled,Ju:t.Ju,Ku:t.Ku,click:t.click,_buttonClick:t.click});return t.Ju=null,t.Ku=null,t.click=null,e}),to.prototype.copy=function(){var t=new to;return t.Ei=this.Ei,t.Mi=this.Mi,t.Gi=this.Gi,t.Bs=this.Bs,t.Cs=this.Cs,t.aj=this.aj,t.$i=this.$i,t.Zi=this.Zi,t.zs=this.zs,t.As=this.As,t.Yi=this.Yi,t.Pq=this.Pq,t.Qq=this.Qq,t.Rq=this.Rq,t.Oq=this.Oq,t.jj=this.jj,t.Hi=this.Hi,t.Gr=this.Gr,t},Jh.La(eo,Tr),Jh.ni(eo),Jh.ga("Panel",eo),eo.prototype.cloneProtected=function(t){if(Tr.prototype.cloneProtected.call(this,t),t.na=this.na,t.lf=this.lf.S(),t.tr=this.tr.S(),t.Ki=this.Ki,t.na===tp){t.Tj=this.Tj.S(),t.Qh=this.Qh,t.Ji=this.Ji,t.nl=this.nl,t.Ph=this.Ph,t.Oh=this.Oh,t.ml=this.ml;var e=[];if(0<this.Xc.length)for(var n=this.Xc,i=n.length,r=0;r<i;r++)if(void 0!==n[r]){var o=n[r].copy();o.om(t),e[r]=o}if(t.Xc=e,e=[],0<this.Vc.length)for(n=this.Vc,i=n.length,r=0;r<i;r++)void 0!==n[r]&&(o=n[r].copy(),o.om(t),e[r]=o);t.Vc=e,t.bn=this.bn,t.Cm=this.Cm,t.kj=this.kj,t.Ui=this.Ui}t.Hp=this.Hp,t.Tr=this.Tr.S(),t.Ur=this.Ur.S(),t.Qr=this.Qr,t.Pr=this.Pr,t.Sr=this.Sr,t.Rr=this.Rr,t.Hm=this.Hm,t.ak=this.ak,t.Zd=this.Zd,t.jl=this.jl,t.gs=this.gs,t.hk=this.hk,t.xg=this.xg,t.Xo=this.Xo,t.lj.assign(this.lj),t.Oj=this.Oj,null!==this.it&&(t.it=this.it)},eo.prototype.pi=function(t){Tr.prototype.pi.call(this,t),t.xa=this.xa;for(var e=t.xa.n,n=e.length,i=0;i<n;i++)e[i].ej=t;t.Il=null},eo.prototype.copy=function(){var t=Tr.prototype.copy.call(this);if(null!==t){for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i].copy(),o=t;r.om(o),r.Zm=null;var s=o.xa,a=s.count;if(s.Rd(a,r),null!==(s=o.W)){s.Um=null,null!==r.le&&s instanceof Ls&&(s.Qk=!0);var u=o.g;null!==u&&u.ja.lb||s.bd(mc,"elements",o,null,r,null,a)}}return t}return null},eo.prototype.ic=function(t){t.Je===eo?this.type=t:Tr.prototype.ic.call(this,t)},eo.prototype.toString=function(){return"Panel("+this.type+")#"+Jh.Pd(this)};var Qf;eo.Position=Qf=Jh.p(eo,"Position",0),eo.Horizontal=Jh.p(eo,"Horizontal",1);var Zf;eo.Vertical=Zf=Jh.p(eo,"Vertical",2);var Xf;eo.Spot=Xf=Jh.p(eo,"Spot",3);var $f;eo.Auto=$f=Jh.p(eo,"Auto",4);var tp;eo.Table=tp=Jh.p(eo,"Table",5),eo.Viewbox=Jh.p(eo,"Viewbox",6);var ep;eo.TableRow=ep=Jh.p(eo,"TableRow",7);var np;eo.TableColumn=np=Jh.p(eo,"TableColumn",8);var ip;eo.Link=ip=Jh.p(eo,"Link",9);var rp;eo.Grid=rp=Jh.p(eo,"Grid",10);var op;eo.Graduated=op=Jh.p(eo,"Graduated",11),Jh.defineProperty(eo,{type:"type"},function(){return this.na},function(t){var e=this.na;e!==t&&(e!==ep&&e!==np||Jh.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.na=t,this.na===rp?this.Jn=!0:this.na===tp&&no(this),this.H(),this.h("type",e,t))}),Jh.u(eo,{elements:"elements"},function(){return this.xa.i}),Jh.u(eo,{Ja:"naturalBounds"},function(){return this.Nc}),Jh.defineProperty(eo,{padding:"padding"},function(){return this.lf},function(t){"number"==typeof t?(0>t&&Jh.Fa(t,">= 0",eo,"padding"),t=new O(t)):(Jh.G(t,O,eo,"padding"),0>t.left&&Jh.Fa(t.left,">= 0",eo,"padding:value.left"),0>t.right&&Jh.Fa(t.right,">= 0",eo,"padding:value.right"),0>t.top&&Jh.Fa(t.top,">= 0",eo,"padding:value.top"),0>t.bottom&&Jh.Fa(t.bottom,">= 0",eo,"padding:value.bottom"));var e=this.lf;e.L(t)||(this.lf=t=t.S(),this.H(),this.h("padding",e,t))}),Jh.defineProperty(eo,{Zl:"defaultAlignment"},function(){return this.tr},function(t){var e=this.tr;e.L(t)||(this.tr=t=t.S(),this.H(),this.h("defaultAlignment",e,t))}),Jh.defineProperty(eo,{ae:"defaultStretch"},function(){return this.Ki},function(t){var e=this.Ki;e!==t&&(Jh.ob(t,Tr,eo,"defaultStretch"),this.Ki=t,this.H(),this.h("defaultStretch",e,t))}),Jh.defineProperty(eo,{XK:"defaultSeparatorPadding"},function(){return void 0===this.Tj?Il:this.Tj},function(t){if(void 0!==this.Tj){"number"==typeof t&&(t=new O(t));var e=this.Tj;e.L(t)||(this.Tj=t=t.S(),this.H(),this.h("defaultSeparatorPadding",e,t))}}),Jh.defineProperty(eo,{VK:"defaultRowSeparatorStroke"},function(){return void 0===this.Ji?null:this.Ji},function(t){var e=this.Ji;e!==t&&(null===t||"string"==typeof t||t instanceof br)&&(t instanceof br&&t.freeze(),this.Ji=t,this.oa(),this.h("defaultRowSeparatorStroke",e,t))}),Jh.defineProperty(eo,{WK:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.Qh?1:this.Qh},function(t){if(void 0!==this.Qh){var e=this.Qh;e!==t&&isFinite(t)&&0<=t&&(this.Qh=t,this.H(),this.h("defaultRowSeparatorStrokeWidth",e,t))}}),Jh.defineProperty(eo,{UK:"defaultRowSeparatorDashArray"},function(){return void 0===this.nl?null:this.nl},function(t){if(void 0!==this.nl){var e=this.nl;if(e!==t){if(null===t||Array.isArray(t)||Jh.Fd(t,"Array",eo,"defaultRowSeparatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Jh.k("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.nl=t,this.oa(),this.h("defaultRowSeparatorDashArray",e,t)}}}),Jh.defineProperty(eo,{PK:"defaultColumnSeparatorStroke"},function(){return void 0===this.Oh?null:this.Oh},function(t){if(void 0!==this.Oh){var e=this.Oh;e!==t&&(null===t||"string"==typeof t||t instanceof br)&&(t instanceof br&&t.freeze(),this.Oh=t,this.oa(),this.h("defaultColumnSeparatorStroke",e,t))}}),Jh.defineProperty(eo,{QK:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.Ph?1:this.Ph},function(t){if(void 0!==this.Ph){var e=this.Ph;e!==t&&isFinite(t)&&0<=t&&(this.Ph=t,this.H(),this.h("defaultColumnSeparatorStrokeWidth",e,t))}}),Jh.defineProperty(eo,{OK:"defaultColumnSeparatorDashArray"},function(){return void 0===this.ml?null:this.ml},function(t){if(void 0!==this.ml){var e=this.ml;if(e!==t){if(null===t||Array.isArray(t)||Jh.Fd(t,"Array",eo,"defaultColumnSeparatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Jh.k("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.ml=t,this.oa(),this.h("defaultColumnSeparatorDashArray",e,t)}}}),Jh.defineProperty(eo,{cM:"viewboxStretch"},function(){return this.Hp},function(t){var e=this.Hp;e!==t&&(Jh.ob(t,Tr,eo,"viewboxStretch"),this.Hp=t,this.H(),this.h("viewboxStretch",e,t))}),Jh.defineProperty(eo,{Jx:"gridCellSize"},function(){return this.Tr},function(t){var e=this.Tr;if(!e.L(t)){Jh.G(t,P,eo,"gridCellSize"),t.I()&&0!==t.width&&0!==t.height||Jh.k("Invalid Panel.gridCellSize: "+t),this.Tr=t.S();var n=this.g;null!==n&&this===n.Gn&&Si(n),this.oa(),this.h("gridCellSize",e,t)}}),Jh.defineProperty(eo,{rF:"gridOrigin"},function(){return this.Ur},function(t){var e=this.Ur;if(!e.L(t)){Jh.G(t,w,eo,"gridOrigin"),t.I()||Jh.k("Invalid Panel.gridOrigin: "+t),this.Ur=t.S();var n=this.g;null!==n&&this===n.Gn&&Si(n),this.oa(),this.h("gridOrigin",e,t)}}),Jh.defineProperty(eo,{Pk:"graduatedMin"},function(){return this.Qr},function(t){Jh.Ad(t,eo,"graduatedMin");var e=this.Qr;e!==t&&(this.Qr=t,this.H(),this.h("graduatedMin",e,t),Gr(this)&&null!==(t=this.W)&&Nr(this,t,"graduatedRange"))}),Jh.defineProperty(eo,{KA:"graduatedMax"},function(){return this.Pr},function(t){Jh.Ad(t,eo,"graduatedMax");var e=this.Pr;e!==t&&(this.Pr=t,this.H(),this.h("graduatedMax",e,t),Gr(this)&&null!==(t=this.W)&&Nr(this,t,"graduatedRange"))}),Jh.u(eo,{ou:"graduatedRange"},function(){return this.KA-this.Pk}),Jh.defineProperty(eo,{LA:"graduatedTickUnit"},function(){return this.Sr},function(t){Jh.Ad(t,eo,"graduatedTickUnit");var e=this.Sr;e!==t&&0<t&&(this.Sr=t,this.H(),this.h("graduatedTickUnit",e,t))}),Jh.defineProperty(eo,{qF:"graduatedTickBase"},function(){return this.Rr},function(t){Jh.Ad(t,eo,"graduatedTickBase");var e=this.Rr;e!==t&&(this.Rr=t,this.H(),this.h("graduatedTickBase",e,t))}),Kh=eo.prototype,Kh.Ks=function(t){Tr.prototype.Ks.call(this,t);for(var e=this.xa.n,n=e.length,i=0;i<n;i++)e[i].Ks(t)},Kh.Ik=function(t,e){if(this.na===rp){var n=this.vj()*e.scale;0>=n&&(n=1);var i=this.Jx,r=i.width,i=i.height,o=this.Ja,s=o.width,o=o.height,a=Math.ceil(s/r),u=Math.ceil(o/i),h=this.rF;t.save(),t.beginPath(),t.rect(0,0,s,o),t.clip();for(var l=[],c=this.xa.n,f=c.length,p=0;p<f;p++){var d=c[p],y=[];if(l.push(y),d.visible)for(var d=ao(d.Fb),v=p+1;v<f;v++){var g=c[v];g.visible&&ao(g.Fb)===d&&2<=(g=g.interval)&&y.push(g)}}for(c=this.xa.n,f=c.length,p=0;p<f;p++){var m=c[p];if(m.visible&&(y=m.interval,!(2>r*y*n))){if(d=m.opacity,v=1,1!==d){if(0===d)continue;v=t.globalAlpha,t.globalAlpha=v*d}var g=l[p],b=!1,w=!0,x=m.AG;if(null!==x&&(b=!0,w=t.zx(x,m.Af)),"LineV"===m.Fb&&null!==m.stroke){t.lineWidth=m.mb,Dr(this,t,m.stroke,!1,!1),t.beginPath();for(var k=Math.floor(-h.x/r),P=k;P<=k+a;P++){var C=P*r+h.x;0<=C&&C<=s&&so(P,y,g)&&(b&&!w?_r(t,C,0,C,o,x,m.Af):(t.moveTo(C,0),t.lineTo(C,o)))}t.stroke()}else if("LineH"===m.Fb&&null!==m.stroke){for(t.lineWidth=m.mb,Dr(this,t,m.stroke,!1,!1),t.beginPath(),P=k=Math.floor(-h.y/i);P<=k+u;P++)0<=(C=P*i+h.y)&&C<=o&&so(P,y,g)&&(b&&!w?_r(t,0,C,s,C,x,m.Af):(t.moveTo(0,C),t.lineTo(s,C)));t.stroke()}else if("BarV"===m.Fb&&null!==m.fill)for(Dr(this,t,m.fill,!0,!1),m=m.width,isNaN(m)&&(m=r),P=k=Math.floor(-h.x/r);P<=k+a;P++)0<=(C=P*r+h.x)&&C<=s&&so(P,y,g)&&t.fillRect(C,0,m,o);else if("BarH"===m.Fb&&null!==m.fill)for(Dr(this,t,m.fill,!0,!1),m=m.height,isNaN(m)&&(m=i),P=k=Math.floor(-h.y/i);P<=k+u;P++)0<=(C=P*i+h.y)&&C<=o&&so(P,y,g)&&t.fillRect(0,C,s,m);b&&t.wx(),1!==d&&(t.globalAlpha=v)}}t.restore(),t.Ke(!1)}else if(this.na===op){for(n=e.Jm,e.Jm=!0,i=this.Ja,r=i.width,i=i.height,t.save(),t.beginPath(),t.rect(-1,-1,r+1,i+1),t.clip(),r=this.Bd(),r.ve(t,e),i=this.vj()*e.scale,0>=i&&(i=1),s=r.U,o=this.xa.n,a=this.Hm,u=o.length,h=0;h<u;h++)if(p=o[h],l=a[h],c=l.length,p.visible&&p!==r&&0!==l.length)if(p instanceof No){if(!(2>this.LA*p.interval*r.of.hu/this.ou*i))for(y=p.za,d=p.mb*p.scale,v=p.qh,v.Ud()&&(v=ol),f=0;f<c;f++)g=p,b=l[f][0],k=s,P=l[f][1],m=y,w=d,x=v,C=g.jd,C.reset(),C.translate(b.x+k.x,b.y+k.y),C.rotate(P+g.angle,0,0),C.translate(-m.width*x.x+x.offsetX+w/2,-m.height*x.y+x.offsetY+w/2),C.scale(g.scale,g.scale),Ur(g,!1),g.Xk.set(g.jd),g.Ho=g.scale,Kr(g,!1),p.ve(t,e),p.jd.reset()}else if(p instanceof Vo)for(null===this.vk&&(this.vk=new Vo),y=this.vk,io(p,y),f=0;f<c;f++)b=l[f],3<b.length&&(v=b[6],y.Ld=b[2],y.mg=b[3],y.pe=b[4],y.zf=b[5],y.Nc=b[8],y.jc(v.x,v.y,v.width,v.height),p=y,d=s,g=b[7],b=b[8],k=p.jd,k.reset(),k.translate(v.x+d.x,v.y+d.y),k.translate(-g.x,-g.y),Rr(p,k,b.x,b.y,b.width,b.height),Ur(p,!1),p.Xk.set(p.jd),p.Ho=p.scale,Kr(p,!1),y.ve(t,e));e.Jm=n,t.restore(),t.Ke(!0)}else{for(this.na===tp&&(t.lineCap="butt",oo(this,t,!0,this.Xc,!0),oo(this,t,!1,this.Vc,!0),ro(this,t,!0,this.Xc),ro(this,t,!1,this.Vc),oo(this,t,!0,this.Xc,!1),oo(this,t,!1,this.Vc,!1)),(n=this.tu)&&t.save(),r=this.Bd(),i=this.xa.n,s=i.length,o=0;o<s;o++)a=i[o],n&&a===r&&(t.Qp=!0),a.ve(t,e),n&&a===r&&(t.Qp=!1);n&&(t.restore(),t.Ke(!0))}},Kh.En=function(t,e,n,i,r){var o=this.Yg(),s=this.transform,a=1/(s.m11*s.m22-s.m12*s.m21),u=s.m22*a,h=-s.m12*a,l=-s.m21*a,c=s.m11*a,f=a*(s.m21*s.dy-s.m22*s.dx),p=a*(s.m12*s.dx-s.m11*s.dy);if(null!==this.pn)return s=this.U,at(s.left,s.top,s.right,s.bottom,t,e,n,i,r);if(null!==this.background)o=t*u+e*l+f,a=t*h+e*c+p,t=n*u+i*l+f,u=n*h+i*c+p,r.m(0,0),n=this.Ja,n=at(0,0,n.width,n.height,o,a,t,u,r),r.transform(s);else{o||(u=1,l=h=0,c=1,p=f=0),a=t*u+e*l+f,t=t*h+e*c+p,u=n*u+i*l+f,i=n*h+i*c+p,r.m(u,i),h=(u-a)*(u-a)+(i-t)*(i-t),n=!1,c=this.xa.n,p=c.length,l=Jh.K(),f=null,e=1/0;var d=null;this.tu&&(d=Jh.K(),f=this.Bd(),(n=f.En(a,t,u,i,d))&&(e=(a-d.x)*(a-d.x)+(t-d.y)*(t-d.y)));for(var y=0;y<p;y++){var v=c[y];v.visible&&v!==f&&v.En(a,t,u,i,l)&&(n=!0,(v=(a-l.x)*(a-l.x)+(t-l.y)*(t-l.y))<h&&(h=v,r.set(l)))}this.tu&&(e>h&&r.set(d),Jh.v(d)),Jh.v(l),o&&r.transform(s)}return n},Kh.H=function(t){Tr.prototype.H.call(this,t),t=null,this.na!==$f&&this.na!==ip||(t=this.Bd());for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];if((r===t||r.ff)&&r.H(!0),!r.Da.I()){var o=Ir(r,!1);(r instanceof Da||r instanceof eo||r instanceof Vo||o!==Ff)&&r.H(!0)}}},Kh.gq=function(){if(!1===Wr(this)){Jr(this,!0),Qr(this,!0);for(var t=this.xa.n,e=t.length,n=0;n<e;n++)t[n].gq()}},Kh.Ri=function(){if(0!=(2048&this.M)==!1){Ur(this,!0),Kr(this,!0);for(var t=this.xa.n,e=t.length,n=0;n<e;n++)t[n].RA()}},Kh.RA=function(){Kr(this,!0);for(var t=this.xa.n,e=t.length,n=0;n<e;n++)t[n].RA()},Kh.Qn=function(t,e,n,i){var r=this.lj;r.width=0,r.height=0;var o=this.Da,s=this.si;void 0===n&&(n=s.width,i=s.height),n=Math.max(n,s.width),i=Math.max(i,s.height);var a=this.Hf;isNaN(o.width)||(t=Math.min(o.width,a.width)),isNaN(o.height)||(e=Math.min(o.height,a.height)),t=Math.max(n,t),e=Math.max(i,e);var u=this.padding;t=Math.max(t-u.left-u.right,0),e=Math.max(e-u.top-u.bottom,0);var h=this.xa.n;if(0!==h.length){var l=this.na.Sb;switch(l){case"Position":var f=t,p=e,d=n,y=i,v=h.length;r.x=0,r.y=0,r.width=0,r.height=0;for(var g=uo(this),m=0;m<v;m++){var b=h[m];if(b.visible||b===g){var x=b.margin,k=x.right+x.left,P=x.top+x.bottom;jr(b,f,p,d,y);var T=b.za,M=Math.max(T.width+k,0),_=Math.max(T.height+P,0),N=b.position.x,O=b.position.y;if(isFinite(N)||(N=0),isFinite(O)||(O=0),b instanceof No){var j=b;if(j.CF)var E=j.mb/2,N=N-E,O=O-E}A(r,N,O,M,_)}}break;case"Vertical":for(var L=t,D=n,F=h.length,R=Jh.Za(),V=uo(this),I=0;I<F;I++){var B=h[I];if(B.visible||B===V){var q=Ir(B,!1);if(q!==Ff&&q!==Vf)R.push(B);else{var z=B.margin,G=z.right+z.left,H=z.top+z.bottom;jr(B,L,1/0,D,0);var U=B.za,K=Math.max(U.width+G,0),W=Math.max(U.height+H,0);r.width=Math.max(r.width,K),r.height+=W}}}var Y=R.length;if(0!==Y){for(this.Da.width?L=Math.min(this.Da.width,this.Hf.width):0!==r.width&&(L=Math.min(r.width,this.Hf.width)),I=0;I<Y;I++)B=R[I],(B.visible||B===V)&&(z=B.margin,G=z.right+z.left,H=z.top+z.bottom,jr(B,L,1/0,D,0),U=B.za,K=Math.max(U.width+G,0),W=Math.max(U.height+H,0),r.width=Math.max(r.width,K),r.height+=W);Jh.ra(R)}break;case"Horizontal":for(var Q=e,Z=i,X=h.length,$=Jh.Za(),tt=uo(this),et=0;et<X;et++){var nt=h[et];if(nt.visible||nt===tt){var it=Ir(nt,!1);if(it!==Ff&&it!==If)$.push(nt);else{var rt=nt.margin,ot=rt.right+rt.left,st=rt.top+rt.bottom;jr(nt,1/0,Q,0,Z);var at=nt.za,ut=Math.max(at.width+ot,0),ht=Math.max(at.height+st,0);r.width+=ut,r.height=Math.max(r.height,ht)}}}var lt=$.length;if(0!==lt){for(this.Da.height?Q=Math.min(this.Da.height,this.Hf.height):0!==r.height&&(Q=Math.min(r.height,this.Hf.height)),et=0;et<lt;et++)nt=$[et],(nt.visible||nt===tt)&&(rt=nt.margin,ot=rt.right+rt.left,st=rt.top+rt.bottom,jr(nt,1/0,Q,0,Z),at=nt.za,ut=Math.max(at.width+ot,0),ht=Math.max(at.height+st,0),r.width+=ut,r.height=Math.max(r.height,ht));Jh.ra($)}break;case"Spot":t:{var ct=t,ft=e,pt=n,dt=i,yt=h.length,vt=this.Bd(),gt=vt.margin,mt=0,bt=0,wt=gt.right+gt.left,xt=gt.top+gt.bottom;jr(vt,ct,ft,pt,dt);for(var kt=vt.za,Pt=kt.width,Ct=kt.height,St=Math.max(Pt+wt,0),Tt=Math.max(Ct+xt,0),Mt=this.tu,_t=Jh.lg(-gt.left,-gt.top,St,Tt),Nt=!0,At=uo(this),Ot=0;Ot<yt;Ot++){var jt=h[Ot];if(jt!==vt&&(jt.visible||jt===At)){gt=jt.margin,mt=gt.right+gt.left,bt=gt.top+gt.bottom,jr(jt,ct,ft,0,0);var kt=jt.za,St=Math.max(kt.width+mt,0),Tt=Math.max(kt.height+bt,0),Et=jt.alignment;Et.ge()&&(Et=this.Zl),Et.Zc()||(Et=ul);var Lt=jt.qh;Lt.ge()&&(Lt=ul);var Dt=null;jt instanceof eo&&""!==jt.Oj&&(jt.jc(0,0,kt.width,kt.height),(Dt=jt.Cd(jt.Oj))===jt&&(Dt=null));var Ft,Rt;if(null!==Dt){for(var Vt=Dt.Ja,It=Dt.margin,Bt=Jh.wb(Lt.x*Vt.width+Lt.offsetX-It.left,Lt.y*Vt.height+Lt.offsetY-It.top);Dt!==jt;)Dt.transform.nb(Bt),Dt=Dt.R;Ft=Et.x*Pt+Et.offsetX-Bt.x,Rt=Et.y*Ct+Et.offsetY-Bt.y,Jh.v(Bt)}else Ft=Et.x*Pt+Et.offsetX-(Lt.x*kt.width-Lt.offsetX)-gt.left,Rt=Et.y*Ct+Et.offsetY-(Lt.y*kt.height-Lt.offsetY)-gt.top;Nt?(Nt=!1,r.x=Ft,r.y=Rt,r.width=St,r.height=Tt):A(r,Ft,Rt,St,Tt)}}Nt?r.assign(_t):Mt?r.wF(_t.x,_t.y,_t.width,_t.height):A(r,_t.x,_t.y,_t.width,_t.height),Jh.Bb(_t);var qt=vt.stretch;switch(qt===Rf&&(qt=Ir(vt,!1)),qt){case Ff:break t;case Bf:if(!isFinite(ct)&&!isFinite(ft))break t;break;case If:if(!isFinite(ct))break t;break;case Vf:if(!isFinite(ft))break t}for(kt=vt.za,Pt=kt.width,Ct=kt.height,St=Math.max(Pt+wt,0),Tt=Math.max(Ct+xt,0),gt=vt.margin,_t=Jh.lg(-gt.left,-gt.top,St,Tt),Ot=0;Ot<yt;Ot++)(jt=h[Ot])===vt||!jt.visible&&jt!==At||(gt=jt.margin,mt=gt.right+gt.left,bt=gt.top+gt.bottom,kt=jt.za,St=Math.max(kt.width+mt,0),Tt=Math.max(kt.height+bt,0),Et=jt.alignment,Et.ge()&&(Et=this.Zl),Et.Zc()||(Et=ul),Lt=jt.qh,Lt.ge()&&(Lt=ul),Nt?(Nt=!1,r.x=Et.x*Pt+Et.offsetX-(Lt.x*kt.width-Lt.offsetX)-gt.left,r.y=Et.y*Ct+Et.offsetY-(Lt.y*kt.height-Lt.offsetY)-gt.top,r.width=St,r.height=Tt):A(r,Et.x*Pt+Et.offsetX-(Lt.x*kt.width-Lt.offsetX)-gt.left,Et.y*Ct+Et.offsetY-(Lt.y*kt.height-Lt.offsetY)-gt.top,St,Tt));Nt?r.assign(_t):Mt?r.wF(_t.x,_t.y,_t.width,_t.height):A(r,_t.x,_t.y,_t.width,_t.height),Jh.Bb(_t)}break;case"Auto":var zt=t,Gt=e,Ht=n,Ut=i,Kt=h.length,Wt=this.Bd(),Jt=Wt.margin,Yt=zt,Qt=Gt,Zt=Jt.right+Jt.left,Xt=Jt.top+Jt.bottom;jr(Wt,zt,Gt,Ht,Ut);var $t=Wt.za,te=0,ee=null;Wt instanceof No&&(ee=Wt,te=ee.mb*ee.scale);var ne=Math.max($t.width+Zt,0),ie=Math.max($t.height+Xt,0),re=go(Wt),oe=re.x*ne+re.offsetX,se=re.y*ie+re.offsetY,ae=mo(Wt),ue=ae.x*ne+ae.offsetX,he=ae.y*ie+ae.offsetY;isFinite(zt)&&(Yt=Math.max(Math.abs(oe-ue)-te,0)),isFinite(Gt)&&(Qt=Math.max(Math.abs(se-he)-te,0));var le=Jh.tm();le.m(0,0);for(var ce=uo(this),fe=0;fe<Kt;fe++){var pe=h[fe];if(pe!==Wt&&(pe.visible||pe===ce)){var Jt=pe.margin,de=Jt.right+Jt.left,ye=Jt.top+Jt.bottom;jr(pe,Yt,Qt,0,0),$t=pe.za,ne=Math.max($t.width+de,0),ie=Math.max($t.height+ye,0),le.m(Math.max(ne,le.width),Math.max(ie,le.height))}}if(1===Kt)r.width=ne,r.height=ie,Jh.Lk(le);else{var re=go(Wt),ae=mo(Wt),ve=0,ge=0;ae.x!==re.x&&ae.y!==re.y&&(ve=le.width/Math.abs(ae.x-re.x),ge=le.height/Math.abs(ae.y-re.y)),Jh.Lk(le),te=0,null!==ee&&(te=ee.mb*ee.scale,Eo(ee)===qf&&(ve=ge=Math.max(ve,ge)));var ve=ve+(Math.abs(re.offsetX)+Math.abs(ae.offsetX)+te),ge=ge+(Math.abs(re.offsetY)+Math.abs(ae.offsetY)+te),me=Wt.stretch;switch(me===Rf&&(me=Ir(Wt,!1)),me){case Ff:Ut=Ht=0;break;case Bf:isFinite(zt)&&(ve=zt),isFinite(Gt)&&(ge=Gt);break;case If:isFinite(zt)&&(ve=zt),Ut=0;break;case Vf:Ht=0,isFinite(Gt)&&(ge=Gt)}Wt.gq(),jr(Wt,ve,ge,Ht,Ut),r.width=Wt.za.width+Zt,r.height=Wt.za.height+Xt}break;case"Table":for(var be=t,we=e,xe=n,ke=i,Pe=h.length,Ce=Jh.Za(),Se=Jh.Za(),Te=0;Te<Pe;Te++){var Me=h[Te],_e=Me instanceof eo?Me:null;if(null===_e||_e.type!==ep&&_e.type!==np||!Me.visible)Ce.push(Me);else{Se.push(_e);for(var Ne=_e.xa.n,Ae=Ne.length,Oe=0;Oe<Ae;Oe++){var je=Ne[Oe];_e.type===ep?je.Wb=Me.Wb:_e.type===np&&(je.column=Me.column),Ce.push(je)}}}Pe=Ce.length,0===Pe&&(this.ee(0),this.de(0));for(var Ee=[],Te=0;Te<Pe;Te++)Me=Ce[Te],Jr(Me,!0),Qr(Me,!0),Ee[Me.Wb]||(Ee[Me.Wb]=[]),Ee[Me.Wb][Me.column]||(Ee[Me.Wb][Me.column]=[]),Ee[Me.Wb][Me.column].push(Me);Jh.ra(Ce);for(var Le=Jh.Za(),De=Jh.Za(),Fe=Jh.Za(),Re={count:0},Ve={count:0},Ie=be,Be=we,qe=this.Xc,Pe=qe.length,Te=0;Te<Pe;Te++){var ze=qe[Te];void 0!==ze&&(ze.bb=0)}for(qe=this.Vc,Pe=qe.length,Te=0;Te<Pe;Te++)void 0!==(ze=qe[Te])&&(ze.bb=0);for(var Ge=Ee.length,He=0,Te=0;Te<Ge;Te++)Ee[Te]&&(He=Math.max(He,Ee[Te].length));for(var Ue=Math.min(this.kj,Ge-1),Ke=Math.min(this.Ui,He-1),We=0,Ge=Ee.length,Je=uo(this),Te=0;Te<Ge;Te++)if(Ee[Te])for(var He=Ee[Te].length,Ye=this.ee(Te),Oe=Ye.bb=0;Oe<He;Oe++)if(Ee[Te][Oe]){var Qe=this.de(Oe);void 0===Le[Oe]&&(Qe.bb=0,Le[Oe]=!0);for(var Ze=Ee[Te][Oe],Xe=Ze.length,$e=0;$e<Xe;$e++)if(Me=Ze[$e],Me.visible||Me===Je){var tn=1<Me.gj||1<Me.Fi;tn&&(Te<Ue||Oe<Ke||De.push(Me));var en=Me.margin,nn=en.right+en.left,rn=en.top+en.bottom,on=Br(Me,Ye,Qe,!1),sn=Me.Da,an=!isNaN(sn.height),un=!isNaN(sn.width)&&an;if(tn||on===Ff||un||Te<Ue||Oe<Ke||(void 0!==Re[Oe]||on!==Bf&&on!==If||(Re[Oe]=-1,Re.count++),void 0!==Ve[Te]||on!==Bf&&on!==Vf||(Ve[Te]=-1,Ve.count++),Fe.push(Me)),jr(Me,1/0,1/0,0,0),!(Te<Ue||Oe<Ke)){var hn=Me.za,ln=Math.max(hn.width+nn,0),cn=Math.max(hn.height+rn,0);if(1===Me.gj&&(on===Ff||on===If)){var ze=this.ee(Te),fn=ze.af(),We=Math.max(cn-ze.bb,0);We+fn>Be&&(We=Math.max(Be-fn,0));var pn=0===ze.bb;ze.bb+=We,Be=Math.max(Be-(We+(pn?fn:0)),0)}1!==Me.Fi||on!==Ff&&on!==Vf||(ze=this.de(Oe),fn=ze.af(),We=Math.max(ln-ze.bb,0),We+fn>Ie&&(We=Math.max(Ie-fn,0)),pn=0===ze.bb,ze.bb+=We,Ie=Math.max(Ie-(We+(pn?fn:0)),0)),tn&&Me.gq()}}}Jh.ra(Le);for(var dn=0,yn=0,Pe=this.Rp,Te=0;Te<Pe;Te++){var vn=this.Vc[Te];void 0!==vn&&(dn+=vn.Ra,0!==vn.Ra&&(dn+=vn.af()))}for(Pe=this.Dq,Te=0;Te<Pe;Te++){var gn=this.Xc[Te];void 0!==gn&&(yn+=gn.Ra,0!==gn.Ra&&(yn+=gn.af()))}for(var Ie=Math.max(be-dn,0),mn=Be=Math.max(we-yn,0),bn=Ie,Pe=Fe.length,Te=0;Te<Pe;Te++){var Me=Fe[Te],Ye=this.ee(Me.Wb),Qe=this.de(Me.column),wn=Me.za,en=Me.margin,nn=en.right+en.left,rn=en.top+en.bottom;Re[Me.column]=0===Qe.bb&&void 0!==Re[Me.column]?Math.max(wn.width+nn,Re[Me.column]):null,Ve[Me.Wb]=0===Ye.bb&&void 0!==Ve[Me.Wb]?Math.max(wn.height+rn,Ve[Me.Wb]):null}var xn,kn=0,Pn=0;for(xn in Ve)"count"!==xn&&(kn+=Ve[xn]);for(xn in Re)"count"!==xn&&(Pn+=Re[xn]);for(var Cn=Jh.tm(),Te=0;Te<Pe;Te++)if(Me=Fe[Te],Me.visible||Me===Je){var Ye=this.ee(Me.Wb),Qe=this.de(Me.column),Sn=0;isFinite(Qe.width)?Sn=Qe.width:(Sn=isFinite(Ie)&&null!==Re[Me.column]?0===Pn?Qe.bb+Ie:Re[Me.column]/Pn*bn:null!==Re[Me.column]?Ie:Qe.bb||Ie,Sn=Math.max(0,Sn-Qe.af()));var Tn=0;switch(isFinite(Ye.height)?Tn=Ye.height:(Tn=isFinite(Be)&&null!==Ve[Me.Wb]?0===kn?Ye.bb+Be:Ve[Me.Wb]/kn*mn:null!==Ve[Me.Wb]?Be:Ye.bb||Be,Tn=Math.max(0,Tn-Ye.af())),Cn.m(Math.max(Qe.Dh,Math.min(Sn,Qe.ke)),Math.max(Ye.Dh,Math.min(Tn,Ye.ke))),on=Br(Me,Ye,Qe,!1)){case If:Cn.height=Math.max(Cn.height,Ye.bb+Be);break;case Vf:Cn.width=Math.max(Cn.width,Qe.bb+Ie)}en=Me.margin,nn=en.right+en.left,rn=en.top+en.bottom,Me.gq(),jr(Me,Cn.width,Cn.height,Qe.Dh,Ye.Dh),hn=Me.za,ln=Math.max(hn.width+nn,0),cn=Math.max(hn.height+rn,0),isFinite(Ie)&&(ln=Math.min(ln,Cn.width)),isFinite(Be)&&(cn=Math.min(cn,Cn.height));var Mn=0,Mn=Ye.bb;Ye.bb=Math.max(Ye.bb,cn),We=Ye.bb-Mn,Be=Math.max(Be-We,0),Mn=Qe.bb,Qe.bb=Math.max(Qe.bb,ln),We=Qe.bb-Mn,Ie=Math.max(Ie-We,0)}Jh.ra(Fe);var _n=Jh.tm(),Pe=De.length;if(0!==Pe)for(var Nn=Jh.Za(),An=Jh.Za(),Te=0;Te<Ge;Te++)if(Ee[Te])for(He=Ee[Te].length,Ye=this.ee(Te),Nn[Te]=Ye.bb,Oe=0;Oe<He;Oe++)Ee[Te][Oe]&&(Qe=this.de(Oe),An[Oe]=Qe.bb);for(Te=0;Te<Pe;Te++)if(Me=De[Te],Me.visible||Me===Je){switch(Ye=this.ee(Me.Wb),Qe=this.de(Me.column),Cn.m(Math.max(Qe.Dh,Math.min(be,Qe.ke)),Math.max(Ye.Dh,Math.min(we,Ye.ke))),on=Br(Me,Ye,Qe,!1)){case Bf:0!==An[Qe.index]&&(Cn.width=Math.min(Cn.width,An[Qe.index])),0!==Nn[Ye.index]&&(Cn.height=Math.min(Cn.height,Nn[Ye.index]));break;case If:0!==An[Qe.index]&&(Cn.width=Math.min(Cn.width,An[Qe.index]));break;case Vf:0!==Nn[Ye.index]&&(Cn.height=Math.min(Cn.height,Nn[Ye.index]))}isFinite(Qe.width)&&(Cn.width=Qe.width),isFinite(Ye.height)&&(Cn.height=Ye.height),_n.m(0,0);for(var On=1;On<Me.gj&&!(Me.Wb+On>=this.Dq);On++)ze=this.ee(Me.Wb+On),We=on===Bf||on===Vf?Math.max(ze.Dh,0===Nn[Me.Wb+On]?ze.ke:Math.min(Nn[Me.Wb+On],ze.ke)):Math.max(ze.Dh,isNaN(ze.mf)?ze.ke:Math.min(ze.mf,ze.ke)),_n.height+=We;for(On=1;On<Me.Fi&&!(Me.column+On>=this.Rp);On++)ze=this.de(Me.column+On),We=on===Bf||on===If?Math.max(ze.Dh,0===An[Me.column+On]?ze.ke:Math.min(An[Me.column+On],ze.ke)):Math.max(ze.Dh,isNaN(ze.mf)?ze.ke:Math.min(ze.mf,ze.ke)),_n.width+=We;Cn.width+=_n.width,Cn.height+=_n.height,en=Me.margin,nn=en.right+en.left,rn=en.top+en.bottom,jr(Me,Cn.width,Cn.height,xe,ke);for(var hn=Me.za,ln=Math.max(hn.width+nn,0),cn=Math.max(hn.height+rn,0),jn=0,On=0;On<Me.gj&&!(Me.Wb+On>=this.Dq);On++)ze=this.ee(Me.Wb+On),jn+=ze.total||0;if(jn<cn){var En=cn-jn,Ln=cn-jn;if(null!==Me.By)for(var Dn=Me.By,On=0;On<Me.gj&&!(0>=En)&&!(Me.Wb+On>=this.Dq);On++){var ze=this.ee(Me.Wb+On),Fn=ze.Ra||0,Rn=Dn(Me,ze,Ln);ze.bb=Math.min(ze.ke,Fn+Rn),ze.Ra!==Fn&&(En-=ze.Ra-Fn)}for(;0<En&&(Fn=ze.Ra||0,isNaN(ze.height)&&ze.ke>Fn&&(ze.bb=Math.min(ze.ke,Fn+En),ze.Ra!==Fn&&(En-=ze.Ra-Fn)),0!==ze.index);)ze=this.ee(ze.index-1)}for(var Vn=0,On=0;On<Me.Fi&&!(Me.column+On>=this.Rp);On++)ze=this.de(Me.column+On),Vn+=ze.total||0;if(Vn<ln){if(En=ln-Vn,Ln=ln-Vn,null!==Me.By)for(Dn=Me.By,On=0;On<Me.Fi&&!(0>=En)&&!(Me.column+On>=this.Rp);On++)ze=this.de(Me.column+On),Fn=ze.Ra||0,Rn=Dn(Me,ze,Ln),ze.bb=Math.min(ze.ke,Fn+Rn),ze.Ra!==Fn&&(En-=ze.Ra-Fn);for(;0<En&&(Fn=ze.Ra||0,isNaN(ze.width)&&ze.ke>Fn&&(ze.bb=Math.min(ze.ke,Fn+En),ze.Ra!==Fn&&(En-=ze.Ra-Fn)),0!==ze.index);)ze=this.de(ze.index-1)}}Jh.ra(De),Jh.Lk(_n),Jh.Lk(Cn),void 0!==Nn&&Jh.ra(Nn),void 0!==An&&Jh.ra(An);for(var In=0,Bn=0,on=Ir(this,!0),qn=this.Da,zn=this.Hf,Gn=yn=dn=0,Hn=0,Pe=this.Rp,Te=0;Te<Pe;Te++)void 0!==this.Vc[Te]&&(ze=this.de(Te),isFinite(ze.width)?(Gn+=ze.width,Gn+=ze.af()):_o(ze)===hp?(Gn+=ze.Ra,Gn+=ze.af()):0!==ze.Ra&&(dn+=ze.Ra,dn+=ze.af()));var In=isFinite(qn.width)?Math.min(qn.width,zn.width):on!==Ff&&isFinite(be)?be:dn,In=Math.max(In,this.si.width),In=Math.max(In-Gn,0),Un=Math.max(In/dn,1);for(isFinite(Un)||(Un=1),Te=0;Te<Pe;Te++)void 0!==this.Vc[Te]&&(ze=this.de(Te),isFinite(ze.width)||_o(ze)===hp||(ze.bb=ze.Ra*Un),ze.position=r.width,0!==ze.Ra&&(r.width+=ze.Ra,r.width+=ze.af()));for(Pe=this.Dq,Te=0;Te<Pe;Te++)void 0!==this.Xc[Te]&&(ze=this.ee(Te),isFinite(ze.height)?(Hn+=ze.height,Hn+=ze.af()):_o(ze)===hp?(Hn+=ze.Ra,Hn+=ze.af()):0!==ze.Ra&&(yn+=ze.Ra,0!==ze.Ra&&(yn+=ze.af())));var Bn=isFinite(qn.height)?Math.min(qn.height,zn.height):on!==Ff&&isFinite(we)?we:yn,Bn=Math.max(Bn,this.si.height),Bn=Math.max(Bn-Hn,0),Kn=Math.max(Bn/yn,1);for(isFinite(Kn)||(Kn=1),Te=0;Te<Pe;Te++)void 0!==this.Xc[Te]&&(ze=this.ee(Te),isFinite(ze.height)||_o(ze)===hp||(ze.bb=ze.Ra*Kn),ze.position=r.height,0!==ze.Ra&&(r.height+=ze.Ra,0!==ze.Ra&&(r.height+=ze.af())));for(Pe=Se.length,Te=0;Te<Pe;Te++){var Wn=Se[Te];Wn.type===ep?(Sn=r.width,ze=this.ee(Wn.Wb),Tn=ze.bb):(ze=this.de(Wn.column),Sn=ze.bb,Tn=r.height),Wn.ud.m(0,0,Sn,Tn),Jr(Wn,!1),Ee[Wn.Wb]||(Ee[Wn.Wb]=[]),Ee[Wn.Wb][Wn.column]||(Ee[Wn.Wb][Wn.column]=[]),Ee[Wn.Wb][Wn.column].push(Wn)}Jh.ra(Se),this.it=Ee;break;case"Viewbox":var Jn=t,Yn=e,Qn=n,Zn=i;1<h.length&&Jh.k("Viewbox Panel cannot contain more than one GraphObject.");var Xn=h[0];Xn.rb=1,Xn.gq(),jr(Xn,1/0,1/0,Qn,Zn);var $n=Xn.za,ti=Xn.margin,ei=ti.right+ti.left,ni=ti.top+ti.bottom;if(isFinite(Jn)||isFinite(Yn)){var ii=Xn.scale,ri=$n.width,oi=$n.height,si=Math.max(Jn-ei,0),ai=Math.max(Yn-ni,0),ui=1;this.Hp===qf?0!==ri&&0!==oi&&(ui=Math.min(si/ri,ai/oi)):0!==ri&&0!==oi&&(ui=Math.max(si/ri,ai/oi)),0===ui&&(ui=1e-4),Xn.rb*=ui,ii!==Xn.scale&&(Jr(Xn,!0),jr(Xn,1/0,1/0,Qn,Zn))}$n=Xn.za,r.width=isFinite(Jn)?Jn:Math.max($n.width+ei,0),r.height=isFinite(Yn)?Yn:Math.max($n.height+ni,0);break;case"Link":var hi=h.length;if(this instanceof Es||this instanceof Ys){var li=null;if(this instanceof Ys&&(li=this),this instanceof Es&&(li=this.Ze),li instanceof Ys){var ci=li;if(0===hi){var fi=this.Ja;S(fi,0,0);var pi=this.za;pi.m(0,0,0,0)}else{var di=this instanceof Es?null:li.path,yi=li.$n,vi=this.lj;vi.assign(yi),vi.x=0,vi.y=0;var gi=ci.points,mi=li.qa;this.Hu(!1);var bi=yi.width,wi=yi.height;this.Xi.m(yi.x,yi.y),null===this.$g&&(this.$g=new c(C)),this.$g.clear(),null!==di&&(jo(di,bi,wi,this),pi=di.za,vi.Zg(pi),this.$g.add(pi));for(var xi=Jh.Wg(),ki=Jh.K(),Pi=Jh.K(),Ci=0;Ci<hi;Ci++){var Si=h[Ci];if(Si!==di)if(Si.ff&&Si instanceof No)jo(Si,bi,wi,this),pi=Si.za,vi.Zg(pi),this.$g.add(pi);else if(2>mi)jr(Si,1/0,1/0),pi=Si.za,vi.Zg(pi),this.$g.add(pi);else{var Ti=Si.Qe,Mi=Si.zB,_i=Si.qh;_i.Ud()&&(_i=ul);var Ni=Si.Eq,Ai=Si.AB,Oi=0,ji=0,Ei=0;if(Ti<-mi||Ti>=mi){var Li=ci.SF,Di=ci.RF;Ni!==Hp&&(Ei=ci.computeAngle(Si,Ni,Di),Si.mg=Ei),Oi=Li.x-yi.x,ji=Li.y-yi.y}else{var Fi,Ri;if(0<=Ti)Fi=gi.fa(Ti),Ri=Ti<mi-1?gi.fa(Ti+1):Fi;else{var Vi=mi+Ti;Fi=gi.fa(Vi),Ri=0<Vi?gi.fa(Vi-1):Fi}if(Fi.Qc(Ri)){var Ii,Bi;0<=Ti?(Ii=0<Ti?gi.fa(Ti-1):Fi,Bi=Ti<mi-2?gi.fa(Ti+2):Ri):(Ii=Vi<mi-1?gi.fa(Vi+1):Fi,Bi=1<Vi?gi.fa(Vi-2):Ri);var qi=Ii.Cf(Fi),zi=Ri.Cf(Bi),Di=qi>zi+10?0<=Ti?Ii.Qb(Fi):Fi.Qb(Ii):zi>qi+10?0<=Ti?Ri.Qb(Bi):Bi.Qb(Ri):0<=Ti?Ii.Qb(Bi):Bi.Qb(Ii)}else Di=0<=Ti?Fi.Qb(Ri):Ri.Qb(Fi);Ni!==Hp&&(Ei=ci.computeAngle(Si,Ni,Di),Si.mg=Ei),Oi=Fi.x+(Ri.x-Fi.x)*Mi-yi.x,ji=Fi.y+(Ri.y-Fi.y)*Mi-yi.y}jr(Si,1/0,1/0);var pi=Si.za,fi=Si.Ja,Gi=0;Si instanceof No&&(Gi=Si.mb);var Hi=fi.width+Gi,Ui=fi.height+Gi;xi.reset(),xi.translate(-pi.x,-pi.y),xi.scale(Si.scale,Si.scale),xi.rotate(Ni===Hp?Si.angle:Di,Hi/2,Ui/2),Ni!==Xp&&Ni!==nd||xi.rotate(90,Hi/2,Ui/2),Ni!==$p&&Ni!==id||xi.rotate(-90,Hi/2,Ui/2),Ni===rd&&(45<Di&&135>Di||225<Di&&315>Di)&&xi.rotate(-Di,Hi/2,Ui/2);var Ki=new C(0,0,Hi,Ui);ki.ao(Ki,_i),xi.nb(ki);var Wi=-ki.x+Gi/2*Si.scale,Ji=-ki.y+Gi/2*Si.scale;Pi.assign(Ai),isNaN(Pi.x)&&(Pi.x=0<=Ti?Hi/2+3:-(Hi/2+3)),isNaN(Pi.y)&&(Pi.y=-(Ui/2+3)),Pi.rotate(Di),Oi+=Pi.x,ji+=Pi.y,Ki.set(pi),Ki.x=Oi+Wi,Ki.y=ji+Ji,this.$g.add(Ki),vi.Zg(Ki)}}if(this instanceof Ys)for(var Yi=this.Ff;Yi.next();)jr(Yi.value,1/0,1/0);this.lj=vi;var Qi=this.Xi;Qi.m(Qi.x+vi.x,Qi.y+vi.y),S(r,vi.width||0,vi.height||0),Jh.bf(xi),Jh.v(ki),Jh.v(Pi)}}}break;case"Grid":break;case"Graduated":var Zi=t,Xi=e,$i=n,tr=i,er=this.Bd();this.Fm=[];var nr=er.margin,ir=nr.right+nr.left,rr=nr.top+nr.bottom;jr(er,Zi,Xi,$i,tr);var or=er.za,sr=or.height,ar=Math.max(or.width+ir,0),ur=Math.max(sr+rr,0),hr=new C(-nr.left,-nr.top,ar,ur);this.Fm.push(hr),r.assign(hr);for(var lr=er.of,cr=er.mb,fr=lr.Hx,pr=lr.gu,dr=lr.hu,yr=fr.length,vr=0,gr=0,mr=Jh.Za(),br=0;br<yr;br++){for(var wr=fr[br],xr=[],gr=vr=0,kr=wr.length,Pr=0;Pr<kr;Pr+=2){var Cr=wr[Pr],Sr=wr[Pr+1];if(0!==Pr){var Tr=180*Math.atan2(Sr-gr,Cr-vr)/Math.PI;0>Tr&&(Tr+=360),xr.push(Tr)}vr=Cr,gr=Sr}mr.push(xr)}var Mr;if(null===this.ak){for(var _r=[],Nr=this.xa.n,Or=Nr.length,Er=0;Er<Or;Er++){var Lr=Nr[Er],Dr=[];if(_r.push(Dr),Lr.visible)for(var Fr=Lr.interval,Rr=0;Rr<Or;Rr++){var Vr=Nr[Rr];if(Vr.visible&&Lr!==Vr&&!(Lr instanceof No&&!(Vr instanceof No)||Lr instanceof Vo&&!(Vr instanceof Vo))){var qr=Vr.interval;qr>Fr&&Dr.push(qr)}}}this.ak=_r}Mr=this.ak;var zr=this.xa.n,Gr=zr.length,Hr=0,Ur=0,Kr=dr;this.Hm=[];for(var Wr=[],Yr=0;Yr<Gr;Yr++){var Zr=zr[Yr],Wr=[];if(Zr.visible&&Zr!==er){var Xr=Zr.interval,$r=this.LA;if(!(2>$r*Xr*dr/this.ou)){var to=this.qF,no=Mr[Yr],ro=pr[0][0],oo=0,so=0,Ur=dr*Zr.pF-1e-4,Kr=dr*Zr.nF+1e-4,ao=$r*Xr;if(to<this.Pk)var ho=(this.Pk-to)/ao,ho=0==ho%1?ho:Math.floor(ho+1),to=to+ho*ao;else to>this.Pk+ao&&(ho=Math.floor((to-this.Pk)/ao),to-=ho*ao);for(;to<=this.KA;){var lo;t:{for(var co=no.length,fo=0;fo<co;fo++)if(J((to-this.qF)%(no[fo]*this.LA),0)){lo=!1;break t}lo=!0}if(lo&&(Hr=(to-this.Pk)*dr/this.ou,Hr>dr&&(Hr=dr),Ur<=Hr&&Hr<=Kr)){for(var Tr=mr[oo][so],po=pr[oo][so];oo<pr.length;){for(;Hr>ro&&so<pr[oo].length-1;)so++,Tr=mr[oo][so],po=pr[oo][so],ro+=po;if(Hr<=ro)break;oo++,so=0,Tr=mr[oo][so],po=pr[oo][so],ro+=po}var yo=fr[oo],vo=yo[2*so],bo=yo[2*so+1],wo=(Hr-(ro-po))/po,xo=new w(vo+(yo[2*so+2]-vo)*wo+cr/2-lr.eb.x,bo+(yo[2*so+3]-bo)*wo+cr/2-lr.eb.y);xo.scale(er.scale,er.scale);var ko=Tr,Po=mr[oo];if(1e-4>wo?0<so?ko=Po[so-1]:J(yo[0],yo[yo.length-2])&&J(yo[1],yo[yo.length-1])&&(ko=Po[Po.length-1]):.9999<wo&&(so+1<Po.length?ko=Po[so+1]:J(yo[0],yo[yo.length-2])&&J(yo[1],yo[yo.length-1])&&(ko=Po[0])),Tr!==ko&&(180<Math.abs(Tr-ko)&&(Tr<ko?Tr+=360:ko+=360),Tr=(Tr+ko)/2%360),Zr instanceof Vo){var Co="";null!==Zr.oF?(Co=Zr.oF(to),Co=null!==Co&&void 0!==Co?Co.toString():""):Co=(+to.toFixed(2)).toString(),""!==Co&&Wr.push([xo,Tr,Co])}else Wr.push([xo,Tr])}to+=ao}}}this.Hm.push(Wr)}Jh.ra(mr);for(var So=this.Hm,To=h.length,Mo=0;Mo<To;Mo++){var Ao=h[Mo],Oo=So[Mo];if(Ao.visible&&Ao!==er&&0!==Oo.length){if(Ao instanceof No){var Lo=Ao,Do=Oo,Fo=r,Ro=Lo.qh;Ro.Ud()&&(Ro=ol);var Io=Lo.angle;Lo.mg=0,jr(Lo,1/0,1/0),Lo.mg=Io;var Bo=Lo.za,qo=Bo.width,zo=Bo.height,Go=Jh.lg(0,0,qo,zo),Ho=Jh.K();Ho.ao(Go,Ro),Jh.Bb(Go);for(var Ko=-Ho.x,Wo=-Ho.y,Jo=new C,Yo=Do.length,Qo=0;Qo<Yo;Qo++)for(var Zo=Do[Qo],Xo=Zo[0].x,$o=Zo[0].y,ts=Zo[1],es=0;4>es;es++){switch(es){case 0:Ho.m(Ko,Wo);break;case 1:Ho.m(Ko+qo,Wo);break;case 2:Ho.m(Ko,Wo+zo);break;case 3:Ho.m(Ko+qo,Wo+zo)}Ho.rotate(ts+Lo.angle),Ho.offset(Xo,$o),0===Qo&&0===es?Jo.m(Ho.x,Ho.y,0,0):Jo.yi(Ho),Ho.offset(-Xo,-$o),Ho.rotate(-ts-Lo.angle)}Jh.v(Ho),this.Fm.push(Jo),A(Fo,Jo.x,Jo.y,Jo.width,Jo.height)}else if(Ao instanceof Vo){var ns=Ao,is=Oo,rs=r;null===this.vk&&(this.vk=new Vo);var os=this.vk;io(ns,os);var ss=ns.qh;ss.Ud()&&(ss=ol);for(var as=ns.Eq,us=ns.AB,hs=null,ls=0,cs=0,fs=0,ps=0,ds=is.length,ys=0;ys<ds;ys++){var vs=is[ys],ls=vs[0].x,cs=vs[0].y,fs=vs[1];as!==Hp&&(ps=Ys.computeAngle(as,fs),os.mg=ps),os.text=vs[2],jr(os,1/0,1/0);var gs=os.za,ms=os.Ja,bs=ms.width,ws=ms.height,xs=Jh.Wg();xs.reset(),xs.translate(-gs.x,-gs.y),xs.scale(os.scale,os.scale),xs.rotate(as===Hp?os.angle:fs,bs/2,ws/2),as!==Xp&&as!==nd||xs.rotate(90,bs/2,ws/2),as!==$p&&as!==id||xs.rotate(-90,bs/2,ws/2),as===rd&&(45<fs&&135>fs||225<fs&&315>fs)&&xs.rotate(-fs,bs/2,ws/2);var ks=Jh.lg(0,0,bs,ws),Ps=Jh.K();Ps.ao(ks,ss),xs.nb(Ps);var Cs=-Ps.x,Ss=-Ps.y,Ts=Jh.K();Ts.assign(us),isNaN(Ts.x)&&(Ts.x=bs/2+3),isNaN(Ts.y)&&(Ts.y=-(ws/2+3)),Ts.rotate(fs);var ls=ls+(Ts.x+Cs),cs=cs+(Ts.y+Ss),Ms=new C(ls,cs,gs.width,gs.height),_s=new C(gs.x,gs.y,gs.width,gs.height),Ns=new C(ms.x,ms.y,ms.width,ms.height),As=new Uo;As.Sp(os.zf),vs.push(ps),vs.push(os.pe),vs.push(As),vs.push(Ms),vs.push(_s),vs.push(Ns),0===ys?hs=Ms.copy():hs.Zg(Ms),Jh.v(Ts),Jh.v(Ps),Jh.Bb(ks),Jh.bf(xs)}this.Fm.push(hs),A(rs,hs.x,hs.y,hs.width,hs.height)}Jr(Ao,!1)}}break;case"TableRow":case"TableColumn":Jh.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:Jh.k("Unknown panel type: "+l)}}var Os=r.width,js=r.height,Ls=this.padding,Ds=Ls.top+Ls.bottom,Os=Os+(Ls.left+Ls.right),js=js+Ds;isFinite(o.width)&&(Os=o.width),isFinite(o.height)&&(js=o.height),Os=Math.min(a.width,Os),js=Math.min(a.height,js),Os=Math.max(s.width,Os),js=Math.max(s.height,js),Os=Math.max(n,Os),js=Math.max(i,js),r.width=Os,r.height=js,S(this.Nc,Os,js),Ar(this,0,0,Os,js)},eo.prototype.findMainElement=eo.prototype.Bd=function(){if(null===this.Il){var t=this.xa.n,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i=t[n];if(!0===i.ff)return this.Il=i}this.Il=t[0]}return this.Il},eo.prototype.pj=function(t,e,n,i){var r=this.lj,o=this.xa.n,s=Jh.lg(0,0,0,0);if(0===o.length){var a=this.U;a.x=t,a.y=e,a.width=n,a.height=i}else{if(!this.Da.I()){var u=Ir(this,!0),h=this.ud,l=h.width,c=h.height,f=this.margin,p=f.left+f.right,d=f.top+f.bottom;switch(l===n&&c===i&&(u=Ff),u){case Ff:(l>n||c>i)&&(this.H(),jr(this,l>n?n:l,c>i?i:c));break;case Bf:this.H(!0),jr(this,n+p,i+d,0,0);break;case If:this.H(!0),jr(this,n+p,c+d,0,0);break;case Vf:this.H(!0),jr(this,l+p,i+d,0,0)}}a=this.U,a.x=t,a.y=e,a.width=n,a.height=i;var y=this.na.Sb;switch(y){case"Position":for(var v=o.length,g=r.x-this.padding.left,m=r.y-this.padding.top,b=0;b<v;b++){var x=o[b],k=x.za,P=x.margin,S=x.position.x,M=x.position.y;if(s.x=isNaN(S)?-g:S-g,s.y=isNaN(M)?-m:M-m,x instanceof No){var _=x;if(_.CF){var N=_.mb/2;s.x-=N,s.y-=N}}s.x+=P.left,s.y+=P.top,s.width=k.width,s.height=k.height,x.visible&&x.jc(s.x,s.y,s.width,s.height)}break;case"Vertical":for(var O=o.length,j=this.padding.left,E=this.IF,L=E?r.height:this.padding.top,D=0;D<O;D++){var F=j,R=o[D];if(R.visible){var V=R.za,I=R.margin,B=I.left+I.right,q=j+this.padding.right,z=V.width,G=Ir(R,!1);(isNaN(R.Da.width)&&G===Bf||G===If)&&(z=Math.max(r.width-B-q,0));var H=z+B+q,U=R.alignment;U.ge()&&(U=this.Zl),U.Zc()||(U=ul),E&&(L-=V.height+I.bottom+I.top),R.jc(F+U.offsetX+I.left+(r.width*U.x-H*U.x),L+U.offsetY+I.top,z,V.height),E||(L+=V.height+I.bottom+I.top)}}break;case"Horizontal":for(var K=o.length,W=this.padding.top,J=this.IF,Y=J?r.width:this.padding.left,Q=0;Q<K;Q++){var Z=W,X=o[Q];if(X.visible){var $=X.za,tt=X.margin,et=tt.top+tt.bottom,nt=W+this.padding.bottom,it=$.height,rt=Ir(X,!1);(isNaN(X.Da.height)&&rt===Bf||rt===Vf)&&(it=Math.max(r.height-et-nt,0));var ot=it+et+nt,st=X.alignment;st.ge()&&(st=this.Zl),st.Zc()||(st=ul),J&&(Y-=$.width+tt.left+tt.right),X.jc(Y+st.offsetX+tt.left,Z+st.offsetY+tt.top+(r.height*st.y-ot*st.y),$.width,it),J||(Y+=$.width+tt.left+tt.right)}}break;case"Spot":var at=o.length,ut=this.Bd(),ht=ut.za,lt=ht.width,ct=ht.height,ft=this.padding,pt=ft.left,dt=ft.top;s.x=pt-r.x,s.y=dt-r.y,ut.jc(s.x,s.y,lt,ct);for(var yt=0;yt<at;yt++){var vt=o[yt];if(vt!==ut){var gt=vt.za,mt=gt.width,bt=gt.height,wt=vt.alignment;wt.ge()&&(wt=this.Zl),wt.Zc()||(wt=ul);var xt=vt.qh;xt.ge()&&(xt=ul);var kt=null;if(vt instanceof eo&&""!==vt.Oj&&(kt=vt.Cd(vt.Oj))===vt&&(kt=null),null!==kt){for(var Pt=kt.Ja,Ct=Jh.wb(xt.x*Pt.width+xt.offsetX,xt.y*Pt.height+xt.offsetY);kt!==vt;)kt.transform.nb(Ct),kt=kt.R;s.x=wt.x*lt+wt.offsetX-Ct.x,s.y=wt.y*ct+wt.offsetY-Ct.y,Jh.v(Ct)}else s.x=wt.x*lt+wt.offsetX-(xt.x*mt-xt.offsetX),s.y=wt.y*ct+wt.offsetY-(xt.y*bt-xt.offsetY);s.x-=r.x,s.y-=r.y,vt.visible&&vt.jc(pt+s.x,dt+s.y,mt,bt)}}break;case"Auto":var St=o.length,Tt=this.Bd(),Mt=Tt.za,_t=Jh.vf();_t.m(0,0,1,1);var Nt=Tt.margin,At=Nt.left,Ot=Nt.top,jt=this.padding,Et=jt.left,Lt=jt.top;s.x=At,s.y=Ot,s.width=Mt.width,s.height=Mt.height,Tt.jc(Et+s.x,Lt+s.y,s.width,s.height);var Dt=go(Tt),Ft=mo(Tt),Rt=0+Dt.y*Mt.height+Dt.offsetY,Vt=0+Ft.x*Mt.width+Ft.offsetX,It=0+Ft.y*Mt.height+Ft.offsetY;_t.x=0+Dt.x*Mt.width+Dt.offsetX,_t.y=Rt,A(_t,Vt,It,0,0),_t.x+=At+Et,_t.y+=Ot+Lt;for(var Bt=0;Bt<St;Bt++){var qt=o[Bt];if(qt!==Tt){var zt=qt.za,Nt=qt.margin,Gt=Math.max(zt.width+Nt.right+Nt.left,0),Ht=Math.max(zt.height+Nt.top+Nt.bottom,0),Ut=qt.alignment;Ut.ge()&&(Ut=this.Zl),Ut.Zc()||(Ut=ul),s.x=_t.width*Ut.x+Ut.offsetX-Gt*Ut.x+Nt.left+_t.x,s.y=_t.height*Ut.y+Ut.offsetY-Ht*Ut.y+Nt.top+_t.y,s.width=_t.width,s.height=_t.height,qt.visible&&(tl(_t.x,_t.y,_t.width,_t.height,s.x,s.y,zt.width,zt.height)?qt.jc(s.x,s.y,zt.width,zt.height):qt.jc(s.x,s.y,zt.width,zt.height,new C(_t.x,_t.y,_t.width,_t.height)))}}Jh.Bb(_t);break;case"Table":for(var Kt=o.length,Wt=this.padding,Jt=Wt.left,Yt=Wt.top,Qt=this.it,Zt=0,Xt=0,$t=Qt.length,te=0,ee=0;ee<$t;ee++)Qt[ee]&&(te=Math.max(te,Qt[ee].length));for(var ne=Math.min(this.kj,$t-1);ne!==$t&&(void 0===this.Xc[ne]||0===this.Xc[ne].Ra);)ne++;for(var ne=Math.min(ne,$t-1),ie=-this.Xc[ne].ab,re=Math.min(this.Ui,te-1);re!==te&&(void 0===this.Vc[re]||0===this.Vc[re].Ra);)re++;for(var re=Math.min(re,te-1),oe=-this.Vc[re].ab,se=Jh.tm(),ee=0;ee<$t;ee++)if(Qt[ee]){var te=Qt[ee].length,ae=this.ee(ee),Xt=ae.ab+ie+Yt;0!==ae.Ra&&(Xt+=ae.ME());for(var ue=0;ue<te;ue++)if(Qt[ee][ue]){var he=this.de(ue),Zt=he.ab+oe+Jt;0!==he.Ra&&(Zt+=he.ME());for(var le=Qt[ee][ue],ce=le.length,fe=0;fe<ce;fe++){var pe=le[fe],de=pe.za,ye=pe instanceof eo?pe:null;if(null===ye||ye.type!==ep&&ye.type!==np){se.m(0,0);for(var ve=1;ve<pe.rowSpan&&!(ee+ve>=this.Dq);ve++){var ge=this.ee(ee+ve);se.height+=ge.total}for(ve=1;ve<pe.BH&&!(ue+ve>=this.Rp);ve++){var me=this.de(ue+ve);se.width+=me.total}var be=he.Ra+se.width,we=ae.Ra+se.height;s.x=Zt,s.y=Xt,s.width=be,s.height=we;var xe=Zt,ke=Xt,Pe=be,Ce=we;Zt+be>r.width&&(Pe=Math.max(r.width-Zt,0)),Xt+we>r.height&&(Ce=Math.max(r.height-Xt,0));var Se=pe.alignment,Te=0,Me=0,_e=0,Ne=0;if(Se.ge()){Se=this.Zl,Se.Zc()||(Se=ul);var Te=Se.x,Me=Se.y,_e=Se.offsetX,Ne=Se.offsetY,Ae=he.alignment,Oe=ae.alignment;Ae.Zc()&&(Te=Ae.x,_e=Ae.offsetX),Oe.Zc()&&(Me=Oe.y,Ne=Oe.offsetY)}else Te=Se.x,Me=Se.y,_e=Se.offsetX,Ne=Se.offsetY;(isNaN(Te)||isNaN(Me))&&(Me=Te=.5,Ne=_e=0);var je=de.width,Ee=de.height,Le=pe.margin,De=Le.left+Le.right,Fe=Le.top+Le.bottom,Re=Br(pe,ae,he,!1);!isNaN(pe.Da.width)||Re!==Bf&&Re!==If||(je=Math.max(be-De,0)),!isNaN(pe.Da.height)||Re!==Bf&&Re!==Vf||(Ee=Math.max(we-Fe,0));var Ve=pe.Hf,Ie=pe.si,je=Math.min(Ve.width,je),Ee=Math.min(Ve.height,Ee),je=Math.max(Ie.width,je),Ee=Math.max(Ie.height,Ee),Be=Ee+Fe;s.x+=s.width*Te-(je+De)*Te+_e+Le.left,s.y+=s.height*Me-Be*Me+Ne+Le.top,pe.visible&&(tl(xe,ke,Pe,Ce,s.x,s.y,de.width,de.height)?pe.jc(s.x,s.y,je,Ee):pe.jc(s.x,s.y,je,Ee,new C(xe,ke,Pe,Ce)))}else{pe.Ri(),pe.pc.Qa();var qe=pe.pc,ze=Jh.lg(qe.x,qe.y,qe.width,qe.height);if(qe.x=ye.type===ep?Jt:Zt,qe.y=ye.type===np?Yt:Xt,qe.width=de.width,qe.height=de.height,pe.pc.freeze(),Qr(pe,!1),!T(ze,qe)){var Ge=pe.W;null!==Ge&&(Ge.Rk(),pe.Ks(Ge))}Jh.Bb(ze)}}}}for(Jh.Lk(se),ee=0;ee<Kt;ee++)pe=o[ee],null===(ye=pe instanceof eo?pe:null)||ye.type!==ep&&ye.type!==np||(qe=pe.pc,pe.Nc.Qa(),pe.Nc.m(0,0,qe.width,qe.height),pe.Nc.freeze());break;case"Viewbox":var He=o[0],Ue=He.za,Ke=He.margin,We=Ke.top+Ke.bottom,Je=Math.max(Ue.width+(Ke.right+Ke.left),0),Ye=Math.max(Ue.height+We,0),Qe=He.alignment;Qe.ge()&&(Qe=this.Zl),Qe.Zc()||(Qe=ul),s.x=r.width*Qe.x-Je*Qe.x+Qe.offsetX,s.y=r.height*Qe.y-Ye*Qe.y+Qe.offsetY,s.width=Ue.width,s.height=Ue.height,He.jc(s.x,s.y,s.width,s.height);break;case"Link":var Ze=o.length;if(this instanceof Es||this instanceof Ys){var Xe=null;this instanceof Ys&&(Xe=this),this instanceof Es&&(Xe=this.Ze);var $e=Xe,tn=this instanceof Es?null:$e.path;if(null!==this.$g){var en=this.$g.n,nn=0;if(null!==tn&&nn<this.$g.count){var rn=en[nn];nn++,tn.jc(rn.x-this.lj.x,rn.y-this.lj.y,rn.width,rn.height)}for(var on=0;on<Ze;on++){var sn=o[on];sn!==tn&&nn<this.$g.count&&(rn=en[nn],nn++,sn.jc(rn.x-this.lj.x,rn.y-this.lj.y,rn.width,rn.height))}}var an=$e.points,un=an.count;if(2<=un&&this instanceof Ys)for(var hn=this.Ff;hn.next();){var ln=hn.value,cn=un,fn=an,pn=ln.Qe,dn=ln.zB,yn=ln.qh,vn=ln.Eq,gn=ln.AB,mn=0,bn=0,wn=0;if(pn<-cn||pn>=cn){var xn=this.SF,kn=this.RF;vn!==Hp&&(wn=this.computeAngle(ln,vn,kn),ln.angle=wn),mn=xn.x,bn=xn.y}else{var Pn=void 0,Cn=void 0;if(0<=pn)Pn=fn.n[pn],Cn=pn<cn-1?fn.n[pn+1]:Pn;else var Sn=cn+pn,Pn=fn.n[Sn],Cn=0<Sn?fn.n[Sn-1]:Pn;if(Pn.Qc(Cn)){var Tn=void 0,Mn=void 0;0<=pn?(Tn=0<pn?fn.n[pn-1]:Pn,Mn=pn<cn-2?fn.n[pn+2]:Cn):(Tn=Sn<cn-1?fn.n[Sn+1]:Pn,Mn=1<Sn?fn.n[Sn-2]:Cn);var _n=Tn.Cf(Pn),Nn=Cn.Cf(Mn),kn=_n>Nn+10?0<=pn?Tn.Qb(Pn):Pn.Qb(Tn):Nn>_n+10?0<=pn?Cn.Qb(Mn):Mn.Qb(Cn):0<=pn?Tn.Qb(Mn):Mn.Qb(Tn)}else kn=0<=pn?Pn.Qb(Cn):Cn.Qb(Pn);vn!==Hp&&(wn=this.computeAngle(ln,vn,kn),ln.angle=wn),mn=Pn.x+(Cn.x-Pn.x)*dn,bn=Pn.y+(Cn.y-Pn.y)*dn}if(yn.L(nl))ln.location=new w(mn,bn);else{yn.Ud()&&(yn=ul);var An=Jh.Wg();An.reset(),An.scale(ln.scale,ln.scale),An.rotate(ln.angle,0,0);var On=ln.Ja,jn=Jh.lg(0,0,On.width,On.height),En=Jh.K();En.ao(jn,yn),An.nb(En);var Ln=-En.x,Dn=-En.y,Fn=gn.copy();isNaN(Fn.x)&&(Fn.x=0<=pn?En.x+3:-(En.x+3)),isNaN(Fn.y)&&(Fn.y=-(En.y+3)),Fn.rotate(kn),mn+=Fn.x,bn+=Fn.y,An.JG(jn);var Ln=Ln+jn.x,Dn=Dn+jn.y,Rn=Jh.wb(mn+Ln,bn+Dn);ln.move(Rn),Jh.v(Rn),Jh.v(En),Jh.Bb(jn),Jh.bf(An)}}this.Hu(!1)}break;case"Grid":break;case"Graduated":if(null!==this.Fm){var Vn=this.Bd(),In=this.Hm,Bn=this.Fm,qn=0,zn=Bn[qn];qn++,Vn.jc(zn.x-r.x,zn.y-r.y,zn.width,zn.height);for(var Gn=o.length,Hn=0;Hn<Gn;Hn++){var Un=o[Hn],Kn=In[Hn];Un.visible&&Un!==Vn&&0!==Kn.length&&(zn=Bn[qn],qn++,Un.jc(zn.x-r.x,zn.y-r.y,zn.width,zn.height))}this.Fm=null}break;case"TableRow":case"TableColumn":Jh.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:Jh.k("Unknown panel type: "+y)}Jh.Bb(s)}},eo.prototype.Ek=function(t){var e=this.Ja,n=uo(this);if(tl(0,0,e.width,e.height,t.x,t.y)){for(var e=this.xa.n,i=e.length,r=Jh.wb(0,0);i--;){var o=e[i];if((o.visible||o===n)&&(k(r.set(t),o.transform),o.Ia(r)))return Jh.v(r),!0}return Jh.v(r),null!==this.Gb||null!==this.cc}return!1},eo.prototype.Dx=function(t){if(this.to===t)return this;for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i].Dx(t);if(null!==r)return r}return null},eo.prototype.walkVisualTree=eo.prototype.bK=function(t){fo(this,this,t)},eo.prototype.findInVisualTree=eo.prototype.bu=function(t){return po(this,this,t)},eo.prototype.findObject=eo.prototype.Cd=function(t){if(this.name===t)return this;for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];if(r.name===t)return r;if(r instanceof eo)if(null===r.hk&&null===r.xg){if(null!==(r=r.Cd(t)))return r}else if(ko(r)&&null!==(r=r.xa.first())&&null!==(r=r.Cd(t)))return r}return null},Kh=eo.prototype,Kh.Yg=function(){return!(this.type===ep||this.type===np)},Kh.Pe=function(t,e,n){if(!1===this.Ug)return null;if(void 0===e&&(e=null),void 0===n&&(n=null),Yr(this))return null;var i=this.Ja,r=1/this.vj(),o=this.Yg(),s=o?t:k(Jh.wb(t.x,t.y),this.transform),a=this.g,u=10,h=5;if(null!==a&&(u=a.nu("extraTouchArea"),h=u/2),tl(-h*r,-h*r,i.width+u*r,i.height+u*r,s.x,s.y)){if(!this.Jn){var r=this.xa.n,l=r.length,a=Jh.K(),h=(u=this.tu)?this.Bd():null;if(u&&(h.Yg()?k(a.set(t),h.transform):a.set(t),!h.Ia(a)))return Jh.v(a),o||Jh.v(s),null;for(var c=uo(this);l--;){var f=r[l];if((f.visible||f===c)&&(f.Yg()?k(a.set(t),f.transform):a.set(t),!u||f!==h)){var p=null;if(f instanceof eo?p=f.Pe(a,e,n):!0===f.Ug&&f.Ia(a)&&(p=f),null!==p&&(null!==e&&(p=e(p)),null!==p&&(null===n||n(p))))return Jh.v(a),o||Jh.v(s),p}}Jh.v(a)}return null===this.background&&null===this.pn?(o||Jh.v(s),null):(t=tl(0,0,i.width,i.height,s.x,s.y)?this:null,o||Jh.v(s),t)}return o||Jh.v(s),null},Kh.du=function(t,e,n,i){if(!1===this.Ug)return!1;void 0===e&&(e=null),void 0===n&&(n=null),i instanceof c||i instanceof p||(i=new c(Tr));var r=this.Ja,o=this.Yg(),s=o?t:k(Jh.wb(t.x,t.y),this.transform),a=this.type===ep||this.type===np,r=tl(0,0,r.width,r.height,s.x,s.y);if(a||r){if(!this.Jn){for(var a=this.xa.n,u=a.length,h=Jh.K(),l=uo(this);u--;){var f=a[u];if(f.visible||f===l){f.Yg()?k(h.set(t),f.transform):h.set(t);var d=f,f=f instanceof eo?f:null;(null!==f?f.du(h,e,n,i):d.Ia(h))&&!1!==d.Ug&&(null!==e&&(d=e(d)),null===d||null!==n&&!n(d)||i.add(d))}}Jh.v(h)}return o||Jh.v(s),r&&(null!==this.background||null!==this.pn)}return o||Jh.v(s),!1},Kh.Jk=function(t,e,n,i,r,o){if(!1===this.Ug)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var s=o;if(void 0===o&&(s=Jh.Wg(),s.reset()),s.multiply(this.transform),this.un(t,s))return vo(this,e,n,r),void 0===o&&Jh.bf(s),!0;if(this.$f(t,s)){if(!this.Jn)for(var a=uo(this),u=this.xa.n,h=u.length;h--;){var l=u[h];if(l.visible||l===a){var c=l.U,f=this.Ja;c.x>f.width||c.y>f.height||0>c.x+c.width||0>c.y+c.height||(c=l,l=l instanceof eo?l:null,f=Jh.Wg(),f.set(s),(null!==l?l.Jk(t,e,n,i,r,f):Or(c,t,i,f))&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||r.add(c)),Jh.bf(f))}}return void 0===o&&Jh.bf(s),i}return void 0===o&&Jh.bf(s),!1},Kh.An=function(t,e,n,i,r,o){if(!1===this.Ug)return!1;void 0===n&&(n=null),void 0===i&&(i=null);var s=this.Ja,a=this.Yg(),u=a?t:k(Jh.wb(t.x,t.y),this.transform),h=a?e:k(Jh.wb(e.x,e.y),this.transform),l=u.Cf(h),c=0<u.x&&u.x<s.width&&0<u.y&&u.y<s.height||Zh(u.x,u.y,0,0,0,s.height)<=l||Zh(u.x,u.y,0,s.height,s.width,s.height)<=l||Zh(u.x,u.y,s.width,s.height,s.width,0)<=l||Zh(u.x,u.y,s.width,0,0,0)<=l,s=u.Xf(0,0)<=l&&u.Xf(0,s.height)<=l&&u.Xf(s.width,0)<=l&&u.Xf(s.width,s.height)<=l;if(a||(Jh.v(u),Jh.v(h)),c){if(!this.Jn){for(var u=Jh.K(),h=Jh.K(),l=uo(this),f=this.xa.n,p=f.length;p--;){var d=f[p];if(d.visible||d===l){var y=d.U,v=this.Ja;a&&(y.x>v.width||y.y>v.height||0>y.x+y.width||0>y.y+y.height)||(d.Yg()?(y=d.transform,k(u.set(t),y),k(h.set(e),y)):(u.set(t),h.set(e)),y=d,d=d instanceof eo?d:null,(null!==d?d.An(u,h,n,i,r,o):y.eF(u,h,r))&&(null!==n&&(y=n(y)),null===y||null!==i&&!i(y)||o.add(y)))}}Jh.v(u),Jh.v(h)}return r?c:s}return!1},eo.prototype.add=eo.prototype.add=function(t){Jh.G(t,Tr,eo,"add:element"),this.Rd(this.xa.count,t)},eo.prototype.elt=eo.prototype.fa=function(t){return this.xa.fa(t)},eo.prototype.insertAt=eo.prototype.Rd=function(t,e){e instanceof ls&&Jh.k("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.hm(e))&&(this===e&&Jh.k("Cannot make a Panel contain itself: "+this.toString()),Jh.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var n=e.R;if(null!==n&&n!==this&&Jh.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==rp||e instanceof No||Jh.k("Can only add Shapes to a Grid Panel, not: "+e),this.na!==op||e instanceof No||e instanceof Vo||Jh.k("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.om(this),e.Zm=null,null!==this.mq){var i=e.data;null!==i&&"object"==typeof i&&(null===this.wg&&(this.wg=new b(Object,eo)),this.wg.add(i,e))}var r=this.xa,i=-1;if(n===this){for(var o=-1,s=this.xa.n,a=s.length,u=0;u<a;u++)if(s[u]===e){o=u;break}if(-1!==o){if(o===t||o+1>=r.count&&t>=r.count)return;r.cd(o),i=o}else Jh.k("element "+e.toString()+" has panel "+n.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Rd(t,e),(0===t||e.ff)&&(this.Il=null),Wr(this)||this.H(),e.H(!1),null!==e.le?this.Qk=!0:e instanceof eo&&!0===e.Qk&&(this.Qk=!0),this.ak=null,null!==(n=this.W)&&(n.Um=null,n.lk=NaN,this.Qk&&n instanceof Ls&&(n.Qk=!0),n.Qk&&n instanceof Ls&&(n.Ie=null),null!==(r=this.g)&&r.ja.lb||(-1!==i&&n.bd(bc,"elements",this,e,null,i,null),n.bd(mc,"elements",this,null,e,null,t),this.vu()||To(this,e,!1)))},Jh.defineProperty(eo,{Qk:null},function(){return 0!=(8388608&this.M)},function(t){0!=(8388608&this.M)!==t&&(this.M^=8388608)}),eo.prototype.remove=eo.prototype.remove=function(t){Jh.G(t,Tr,eo,"remove:element");for(var e=this.xa.n,n=e.length,i=-1,r=0;r<n;r++)if(e[r]===t){i=r;break}-1!==i&&this.rf(i,!0)},eo.prototype.removeAt=eo.prototype.cd=function(t){0<=t&&this.rf(t,!0)},eo.prototype.rf=function(t,e){var n=this.xa,i=n.fa(t);if(i.Zm=null,i.om(null),null!==this.wg){var r=i.data;"object"==typeof r&&this.wg.remove(r)}n.cd(t),Jr(this,!1),this.H(),this.Il===i&&(this.Il=null),this.ak=null;var o=this.W;null!==o&&(o.Um=null,o.lk=NaN,o.Sd(),o instanceof Ls&&(i instanceof eo?ho(i,i,function(t,n){Hs(o,n,e)}):Hs(o,i,e)),null!==(n=this.g)&&n.ja.lb||o.bd(bc,"elements",this,i,null,t,null))},Jh.u(eo,{Dq:"rowCount"},function(){return void 0===this.Xc?0:this.Xc.length}),eo.prototype.getRowDefinition=eo.prototype.ee=function(t){0>t&&Jh.Fa(t,">= 0",eo,"getRowDefinition:idx"),t=Math.round(t);var e=this.Xc;if(void 0===e[t]){var n=new Mo;n.om(this),n.xe=!0,n.index=t,e[t]=n}return e[t]},eo.prototype.removeRowDefinition=eo.prototype.fG=function(t){0>t&&Jh.Fa(t,">= 0",eo,"removeRowDefinition:idx"),t=Math.round(t);var e=this.Xc;this.bd(bc,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.H()},Jh.u(eo,{Rp:"columnCount"},function(){return void 0===this.Vc?0:this.Vc.length}),eo.prototype.getColumnDefinition=eo.prototype.de=function(t){0>t&&Jh.Fa(t,">= 0",eo,"getColumnDefinition:idx"),t=Math.round(t);var e=this.Vc;if(void 0===e[t]){var n=new Mo;n.om(this),n.xe=!1,n.index=t,e[t]=n}return e[t]},eo.prototype.removeColumnDefinition=eo.prototype.dG=function(t){0>t&&Jh.Fa(t,">= 0",eo,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.Vc;this.bd(bc,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.H()},Jh.defineProperty(eo,{BJ:"rowSizing"},function(){return void 0===this.bn?lp:this.bn},function(t){if(void 0!==this.bn){var e=this.bn;e!==t&&(t!==lp&&t!==hp&&Jh.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.bn=t,this.H(),this.h("rowSizing",e,t))}}),Jh.defineProperty(eo,{AH:"columnSizing"},function(){return void 0===this.Cm?lp:this.Cm},function(t){if(void 0!==this.Cm){var e=this.Cm;e!==t&&(t!==lp&&t!==hp&&Jh.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+t),this.Cm=t,this.H(),this.h("columnSizing",e,t))}}),Jh.defineProperty(eo,{$L:"topIndex"},function(){return void 0===this.kj?0:this.kj},function(t){if(void 0!==this.kj){var e=this.kj;e!==t&&((!isFinite(t)||0>t)&&Jh.k("Panel.topIndex must be greater than zero and a real number, not: "+t),this.kj=t,this.H(),this.h("topIndex",e,t))}}),Jh.defineProperty(eo,{oL:"leftIndex"},function(){return void 0===this.Ui?0:this.Ui},function(t){if(void 0!==this.Ui){var e=this.Ui;e!==t&&((!isFinite(t)||0>t)&&Jh.k("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Ui=t,this.H(),this.h("leftIndex",e,t))}}),eo.prototype.findRowForLocalY=function(t){if(0>t||this.type!==tp)return-1;for(var e=0,n=this.Xc,i=n.length,r=this.kj;r<i;r++){var o=n[r];if(void 0!==o&&(e+=o.total,t<e))break}return r},eo.prototype.findColumnForLocalX=function(t){if(0>t||this.type!==tp)return-1;for(var e=0,n=this.Vc,i=n.length,r=this.Ui;r<i;r++){var o=n[r];if(void 0!==o&&(e+=o.total,t<e))break}return r},eo.prototype.graduatedPointForValue=function(t,e){if(void 0===e&&(e=new w(NaN,NaN)),this.type!==op)return e.m(NaN,NaN),e;t=Math.min(Math.max(t,this.Pk),this.KA);var n=(t-this.Pk)/this.ou,i=this.Bd();return i.of.hI(n,e),i.transform.nb(e)},eo.prototype.graduatedValueForPoint=function(t){if(this.type!==op)return NaN;var e=this.Bd(),n=e.of;return e.transform.xh(t),n.dI(t)*this.ou+this.Pk},Jh.defineProperty(eo,{data:"data"},function(){return this.Zd},function(t){var e=this.Zd;if(e!==t){var n=this instanceof ls&&!(this instanceof Es);n&&Jh.j(t,"object",eo,"data"),xo(this),this.Zd=t;var i=this.g;null!==i&&(n?this instanceof Ys?(null!==e&&i.Sj.remove(e),null!==t&&i.Sj.add(t,this)):this instanceof ls&&(null!==e&&i.Ii.remove(e),null!==t&&i.Ii.add(t,this)):null!==(n=this.R)&&null!==n.wg&&(null!==e&&n.wg.remove(e),null!==t&&n.wg.add(t,this))),this.h("data",e,t),null!==i&&i.ja.lb||null!==t&&this.Jb()}}),Jh.defineProperty(eo,{Bu:"itemIndex"},function(){return this.gs},function(t){var e=this.gs;e!==t&&(this.gs=t,this.h("itemIndex",e,t))}),eo.prototype.copyTemplate=function(){var t=this.copy();return t.bK(function(t){t instanceof eo&&(t.jl=null,t.Zd=null);var e=t.Ac;null!==e&&(t.Ac=null,e.each(function(e){t.bind(e.copy())}))}),t},eo.prototype.updateTargetBindings=eo.prototype.Jb=function(t){var e=this.jl;if(null!==e)for(void 0===t&&(t=""),e=e.i;e.next();){var n=e.value,i=n.xG;if((""===t||""===i||i===t)&&(i=n.Cy,null!==n.GH||""!==i)){var i=this.data,r=n.Kq;if(null!==r)i=""===r?this:"/"===r?this:"."===r?this:".."===r?this:this.Cd(r);else{var o=this.g;null!==o&&n.Px&&(i=o.$.Tk)}if(null!==i){var o=this,s=n.sm;if(-1!==s){if(null===(o=this.Dx(s)))continue}else null!==n.Gg&&(o=n.Gg);if("/"===r?i=o.W:"."===r?i=o:".."===r&&(i=o.R),0!==(r=n.Bt)){if(!(o instanceof eo))continue;s=o,1===r?o=s.de(n.Cp):2===r&&(o=s.ee(n.Cp))}void 0!==o&&n.MG(o,i)}}}},Jh.defineProperty(eo,{mq:"itemArray"},function(){return this.hk},function(t){var e=this.hk;if(e!==t){var n=this.g;null!==n&&null!==e&&ji(n,this),this.hk=t,null!==n&&null!==t&&Oi(n,this),this.h("itemArray",e,t),null!==n&&n.ja.lb||this.tB()}}),eo.prototype.rebuildItemElements=eo.prototype.tB=function(){var t=0;for(ko(this)&&(t=1);this.xa.length>t;)this.rf(this.xa.length-1,!1);if(null!==(t=this.mq))for(var e=Jh.cb(t),n=0;n<e;n++)Po(this,Jh.Ba(t,n),n)},eo.prototype.findItemPanelForData=eo.prototype.YH=function(t){return void 0===t||null===t||null===this.wg?null:(Jh.j(t,"object",eo,"findItemPanelForData"),this.wg.ka(t))},Jh.defineProperty(eo,{mL:"itemTemplate"},function(){return null===this.xg?null:this.xg.ka("")},function(t){if(null===this.xg){if(null===t)return;this.xg=new b("string",eo)}var e=this.xg.ka("");e!==t&&(Jh.G(t,eo,eo,"itemTemplate"),(t instanceof ls||t.ff)&&Jh.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.xg.add("",t),this.h("itemTemplate",e,t),null!==(t=this.g)&&t.ja.lb||this.tB())}),Jh.defineProperty(eo,{GI:"itemTemplateMap"},function(){return this.xg},function(t){var e=this.xg;if(e!==t){Jh.G(t,b,eo,"itemTemplateMap");for(var n=t.i;n.next();){var i=n.value;(i instanceof ls||i.ff)&&Jh.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+i)}this.xg=t,this.h("itemTemplateMap",e,t),t=this.g,null!==t&&t.ja.lb||this.tB()}}),Jh.defineProperty(eo,{lL:"itemCategoryProperty"},function(){return this.Xo},function(t){var e=this.Xo;e!==t&&("string"!=typeof t&&"function"!=typeof t&&Jh.Fd(t,"string or function",eo,"itemCategoryProperty"),this.Xo=t,this.h("itemCategoryProperty",e,t))});var sp=!1,ap=null;Jh.defineProperty(eo,{Jn:"isAtomic"},function(){return 0!=(1048576&this.M)},function(t){var e=0!=(1048576&this.M);e!==t&&(Jh.j(t,"boolean",eo,"isAtomic"),this.M^=1048576,this.h("isAtomic",e,t))}),Jh.defineProperty(eo,{tu:"isClipping"},function(){return 0!=(2097152&this.M)},function(t){var e=0!=(2097152&this.M);e!==t&&(Jh.j(t,"boolean",eo,"isClipping"),this.M^=2097152,this.H(),this.h("isClipping",e,t))}),Jh.defineProperty(eo,{IF:"isOpposite"},function(){return 0!=(33554432&this.M)},function(t){var e=0!=(33554432&this.M);e!==t&&(Jh.j(t,"boolean",eo,"isOpposite"),this.M^=33554432,this.H(),this.h("isOpposite",e,t))}),Jh.defineProperty(eo,{isEnabled:"isEnabled"},function(){return 0!=(4194304&this.M)},function(t){var e=0!=(4194304&this.M);if(e!==t){Jh.j(t,"boolean",eo,"isEnabled");var n=null===this.R||this.R.vu();this.M^=4194304,this.h("isEnabled",e,t),e=this.g,null!==e&&e.ja.lb||n&&To(this,this,t)}}),Jh.defineProperty(eo,{hK:"alignmentFocusName"},function(){return this.Oj},function(t){var e=this.Oj;e!==t&&(this.Oj=t,this.H(),this.h("alignmentFocusName",e,t))}),Jh.ga("RowColumnDefinition",Mo),Mo.prototype.copy=function(){var t=new Mo;return t.dw=this.dw,t.Bc=this.Bc,t.mf=this.mf,t.nk=this.nk,t.mk=this.mk,t.me=this.me,t.Ra=this.Ra,t.ab=this.ab,t.Fg=this.Fg,t.ut=this.ut,t.sk=null===this.sk?null:this.sk.S(),t.pt=this.pt,t.qt=this.qt,t.ai=null,null!==this.ai&&(t.ai=Jh.Vl(this.ai)),t.Gb=this.Gb,t.or=this.or,t.Ac=this.Ac,t},Mo.prototype.Sp=function(t){Jh.G(t,Mo,Mo,"copyFrom:pd"),t.xe?this.height=t.height:this.width=t.width,this.Dh=t.Dh,this.ke=t.ke,this.alignment=t.alignment,this.stretch=t.stretch,this.cv=t.cv,this.sk=null===t.sk?null:t.sk.S(),this.Gq=t.Gq,this.Hq=t.Hq,this.ai=null,t.ai&&(this.ai=Jh.Vl(t.ai)),this.background=t.background,this.xA=t.xA,this.Ac=t.Ac},Mo.prototype.ic=function(t){t.Je===Mo?this.cv=t:Jh.Lj(this,t)},Mo.prototype.toString=function(){return"RowColumnDefinition "+(this.xe?"(Row ":"(Column ")+this.index+") #"+Jh.Pd(this)};var up;Mo.Default=up=Jh.p(Mo,"Default",0);var hp;Mo.None=hp=Jh.p(Mo,"None",1);var lp;Mo.ProportionalExtra=lp=Jh.p(Mo,"ProportionalExtra",2),Mo.prototype.om=function(t){this.ej=t},Mo.prototype.computeEffectiveSpacingTop=Mo.prototype.ME=function(){var t=0,e=this.ej,n=0,i=this.xe;if(null!==e)for(var r=i?e.Xc.length:e.Vc.length,o=0;o<r;o++){var s=i?e.Xc[o]:e.Vc[o];if(void 0!==s){n=s.index;break}}if(this.index!==n&&(n=this.Gq,null===n&&null!==e&&(n=this.xe?e.Ji:e.Oh),null!==n&&(t=this.Hq,isNaN(t)&&(t=null!==e?this.xe?e.Qh:e.Ph:0))),null===(n=this.rG)){if(null===e)return t;n=e.Tj}return t+(this.xe?n.top:n.left)},Mo.prototype.computeEffectiveSpacing=Mo.prototype.af=function(){var t=0,e=this.ej,n=0,i=this.xe;if(null!==e)for(var r=i?e.Xc.length:e.Vc.length,o=0;o<r;o++){var s=i?e.Xc[o]:e.Vc[o];if(void 0!==s){n=s.index;break}}if(this.index!==n&&(n=this.Gq,null===n&&null!==e&&(n=i?e.Ji:e.Oh),null!==n&&(t=this.Hq,isNaN(t)&&(t=null!==e?i?e.Qh:e.Ph:0))),null===(i=this.rG)){if(null===e)return t;i=e.Tj}return t+(this.xe?i.top+i.bottom:i.left+i.right)},Mo.prototype.hd=function(t,e,n,i,r){var o=this.ej;if(null!==o&&(o.bd(gc,t,this,e,n,i,r),null!==this.Ac&&null!==(e=o.g)&&!e.Re&&null!==(o=o.$l())&&null!==(e=o.data)))for(n=this.Ac.i;n.next();)n.value.Ey(this,e,t,o)},Jh.u(Mo,{R:"panel"},function(){return this.ej}),Jh.defineProperty(Mo,{xe:"isRow"},function(){return this.dw},function(t){this.dw=t}),Jh.defineProperty(Mo,{index:"index"},function(){return this.Bc},function(t){this.Bc=t}),Jh.defineProperty(Mo,{height:"height"},function(){return this.mf},function(t){var e=this.mf;e!==t&&(0>t&&Jh.Fa(t,">= 0",Mo,"height"),this.mf=t,this.bb=this.Ra,null!==this.R&&this.R.H(),this.hd("height",e,t))}),Jh.defineProperty(Mo,{width:"width"},function(){return this.mf},function(t){var e=this.mf;e!==t&&(0>t&&Jh.Fa(t,">= 0",Mo,"width"),this.mf=t,this.bb=this.Ra,null!==this.R&&this.R.H(),this.hd("width",e,t))}),Jh.defineProperty(Mo,{Dh:"minimum"},function(){return this.nk},function(t){var e=this.nk;e!==t&&((0>t||!isFinite(t))&&Jh.Fa(t,">= 0",Mo,"minimum"),this.nk=t,this.bb=this.Ra,null!==this.R&&this.R.H(),this.hd("minimum",e,t))}),Jh.defineProperty(Mo,{ke:"maximum"},function(){return this.mk},function(t){var e=this.mk;e!==t&&(0>t&&Jh.Fa(t,">= 0",Mo,"maximum"),this.mk=t,this.bb=this.Ra,null!==this.R&&this.R.H(),this.hd("maximum",e,t))}),Jh.defineProperty(Mo,{alignment:"alignment"},function(){return this.me},function(t){var e=this.me;e.L(t)||(this.me=t.S(),null!==this.R&&this.R.H(),this.hd("alignment",e,t))}),Jh.defineProperty(Mo,{stretch:"stretch"},function(){return this.Fg},function(t){var e=this.Fg;e!==t&&(this.Fg=t,null!==this.R&&this.R.H(),this.hd("stretch",e,t))}),Jh.defineProperty(Mo,{rG:"separatorPadding"},function(){return this.sk},function(t){"number"==typeof t&&(t=new O(t));var e=this.sk;null!==t&&null!==e&&e.L(t)||(null!==t&&(t=t.S()),this.sk=t,null!==this.R&&this.R.H(),this.hd("separatorPadding",e,t))}),Jh.defineProperty(Mo,{Gq:"separatorStroke"},function(){return this.pt},function(t){var e=this.pt;e!==t&&(null===t||"string"==typeof t||t instanceof br)&&(t instanceof br&&t.freeze(),this.pt=t,null!==this.R&&this.R.H(),this.hd("separatorStroke",e,t))}),Jh.defineProperty(Mo,{Hq:"separatorStrokeWidth"},function(){return this.qt},function(t){var e=this.qt;e!==t&&(this.qt=t,null!==this.R&&this.R.H(),this.hd("separatorStrokeWidth",e,t))}),Jh.defineProperty(Mo,{HJ:"separatorDashArray"},function(){return this.ai},function(t){var e=this.ai;if(e!==t){if(null===t||Array.isArray(t)||Jh.Fd(t,"Array",Mo,"separatorDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Jh.k("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.ai=t,null!==this.R&&this.R.oa(),this.hd("separatorDashArray",e,t)}}),Jh.defineProperty(Mo,{background:"background"},function(){return this.Gb},function(t){var e=this.Gb;e!==t&&(null===t||"string"==typeof t||t instanceof br)&&(t instanceof br&&t.freeze(),this.Gb=t,null!==this.R&&this.R.oa(),this.hd("background",e,t))}),Jh.defineProperty(Mo,{xA:"coversSeparators"},function(){return this.or},function(t){var e=this.or;e!==t&&(Jh.j(t,"boolean",Mo,"coversSeparators"),this.or=t,null!==this.R&&this.R.oa(),this.hd("coversSeparators",e,t))}),Jh.defineProperty(Mo,{cv:"sizing"},function(){return this.ut},function(t){var e=this.ut;e!==t&&(this.ut=t,null!==this.R&&this.R.H(),this.hd("sizing",e,t))}),Jh.defineProperty(Mo,{bb:"actual"},function(){return this.Ra},function(t){this.Ra=isNaN(this.mf)?Math.max(Math.min(this.mk,t),this.nk):Math.max(Math.min(this.mk,this.mf),this.nk)}),Jh.defineProperty(Mo,{total:"total"},function(){return this.Ra+this.af()},function(t){this.Ra=isNaN(this.mf)?Math.max(Math.min(this.mk,t),this.nk):Math.max(Math.min(this.mk,this.mf),this.nk),this.Ra=Math.max(0,this.Ra-this.af())}),Jh.defineProperty(Mo,{position:"position"},function(){return this.ab},function(t){this.ab=t}),Mo.prototype.bind=Mo.prototype.bind=function(t){t.Gg=this;var e=this.R;if(null!==e){var n=e.$l();null!==n&&wo(n)&&Jh.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.Ac&&(this.Ac=new c(ne)),this.Ac.add(t)},Jh.La(No,Tr),Jh.ga("Shape",No),No.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.Sa=this.Sa,t.Ko=this.Ko,t.Mr=this.Mr,t.Sf=this.Sf,t.Hd=this.Hd,t.tc=this.tc,t.ji=this.ji,t.xp=this.xp,t.zp=this.zp,t.kn=this.kn,null!==this.yp&&(t.yp=Jh.Vl(this.yp)),t.Af=this.Af,t.hi=this.hi.S(),t.ii=this.ii.S(),t.Rs=this.Rs,t.Ss=this.Ss,t.Xr=this.Xr,t.Us=this.Us,t.Ep=this.Ep,t.Mo=this.Mo,t.ug=this.ug,t.tg=this.tg,t.sg=this.sg},No.prototype.ic=function(t){t===Ff||t===qf||t===zf||t===Rf?this.HA=t:Tr.prototype.ic.call(this,t)},No.prototype.toString=function(){return"Shape("+("None"!==this.Fb?this.Fb:"None"!==this.Lq?this.Lq:this.FA)+")#"+Jh.Pd(this)},No.prototype.Ik=function(t,e){if(null!==this.tc||null!==this.Hd){null!==this.Hd&&Dr(this,t,this.Hd,!0,!1),null!==this.tc&&Dr(this,t,this.tc,!1,!1);var n=this.ji;if(0===n){var i=this.W;i instanceof Es&&i.type===ip&&"Selection"===i.kd&&i.ub instanceof No&&i.Ze.Bd()===i.ub&&(n=i.ub.mb)}t.lineWidth=n,t.lineJoin=this.zp,t.lineCap=this.xp,t.miterLimit=this.kn;var r=!1;this.W&&e.Ok("drawShadows")&&(r=this.W.jm);var o=!0;null!==this.tc&&null===this.Hd&&(o=!1);var i=!1,s=!0,a=this.AG;null!==a&&(i=!0,s=t.zx(a,this.Af));var u=this.Sa;if(null!==u){if(u.na===rc)t.beginPath(),i&&!s?_r(t,u.Ec,u.Oc,u.Ab,u.Hb,a,this.Af):(t.moveTo(u.Ec,u.Oc),t.lineTo(u.Ab,u.Hb)),null!==this.Hd&&t.Lg(this.Hd),0!==n&&null!==this.tc&&t.Kj();else if(u.na===oc){var h=u.Ec,l=u.Oc,c=u.Ab,f=u.Hb,u=Math.min(h,c),p=Math.min(l,f),h=Math.abs(c-h),l=Math.abs(f-l);if(null!==this.Hd&&(t.beginPath(),t.rect(u,p,h,l),t.Lg(this.Hd)),null!==this.tc){var d=c=0,y=0;o&&r&&(c=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i&&!s?(s=Jh.Za(),s.push(u),s.push(p),s.push(u+h),s.push(p),s.push(u+h),s.push(p+l),s.push(u),s.push(p+l),s.push(u),s.push(p),t.beginPath(),Oo(t,s,a,this.Af),t.Kj(),Jh.ra(s)):0!==n&&(t.beginPath(),t.rect(u,p,h,l),t.Kj()),o&&r&&(t.shadowOffsetX=c,t.shadowOffsetY=d,t.shadowBlur=y)}}else if(u.na===sc)h=u.Ec,l=u.Oc,c=u.Ab,f=u.Hb,u=Math.abs(c-h)/2,p=Math.abs(f-l)/2,h=Math.min(h,c)+u,l=Math.min(l,f)+p,t.beginPath(),t.moveTo(h,l-p),t.bezierCurveTo(h+Fl*u,l-p,h+u,l-Fl*p,h+u,l),t.bezierCurveTo(h+u,l+Fl*p,h+Fl*u,l+p,h,l+p),t.bezierCurveTo(h-Fl*u,l+p,h-u,l+Fl*p,h-u,l),t.bezierCurveTo(h-u,l-Fl*p,h-Fl*u,l-p,h,l-p),t.closePath(),null!==this.Hd&&t.Lg(this.Hd),i&&!s&&(s=Jh.Za(),X(h,l-p,h+Fl*u,l-p,h+u,l-Fl*p,h+u,l,.5,s),X(h+u,l,h+u,l+Fl*p,h+Fl*u,l+p,h,l+p,.5,s),X(h,l+p,h-Fl*u,l+p,h-u,l+Fl*p,h-u,l,.5,s),X(h-u,l,h-u,l-Fl*p,h-Fl*u,l-p,h,l-p,.5,s),t.beginPath(),Oo(t,s,a,this.Af),Jh.ra(s)),0!==n&&null!==this.tc&&(o&&r?(c=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.Kj(),t.shadowOffsetX=c,t.shadowOffsetY=d,t.shadowBlur=y):t.Kj());else if(u.na===ac){for(p=u.Vj,l=p.length,f=0;f<l;f++){h=p.n[f],t.beginPath(),t.moveTo(h.ha,h.da);for(var c=h.yb.n,d=c.length,v=null,y=0;y<d;y++){var g=c[y];switch(g.na){case lc:t.moveTo(g.C,g.D);break;case cc:t.lineTo(g.C,g.D);break;case fc:t.bezierCurveTo(g.Jd,g.Ye,g.oh,g.Dg,g.Ab,g.Hb);break;case pc:t.quadraticCurveTo(g.Jd,g.Ye,g.Ab,g.Hb);break;case dc:if(g.radiusX===g.radiusY){var m=null!==v?v.C:h.ha,b=null!==v?v.D:h.da,v=Math.PI/180;t.arc(g.Jd,g.Ye,g.radiusX,g.Ae*v,(g.Ae+g.uf)*v,0>g.uf,m,b)}else{if(v=Mt(g,h),0===(m=v.length)){t.lineTo(g.la,g.sa);break}for(b=0;b<m;b++){var w=v[b];0===b&&t.lineTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7])}}break;case yc:if(b=m=0,null!==v&&v.type===dc){if(v=Mt(v,h),0===(w=v.length)){t.lineTo(g.la,g.sa);break}v=v[w-1]||null,null!==v&&(m=v[6],b=v[7])}else m=null!==v?v.C:h.ha,b=null!==v?v.D:h.da;if(v=_t(g,h,m,b),0===(m=v.length)){t.lineTo(g.la,g.sa);break}for(b=0;b<m;b++)w=v[b],t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]);break;default:Jh.k("Segment not of valid type: "+g.na)}g.Sh&&t.closePath(),v=g}r?(y=d=c=0,h.Vo?(!0===h.Km&&null!==this.Hd?(t.Lg(this.Hd),o=!0):o=!1,0!==n&&null!==this.tc&&(o&&(c=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i&&!s||t.Kj(),o&&(t.shadowOffsetX=c,t.shadowOffsetY=d,t.shadowBlur=y))):(o&&(c=t.shadowOffsetX,d=t.shadowOffsetY,y=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===h.Km&&null!==this.Hd&&t.Lg(this.Hd),0!==n&&null!==this.tc&&(i&&!s||t.Kj()),o&&(t.shadowOffsetX=c,t.shadowOffsetY=d,t.shadowBlur=y))):(!0===h.Km&&null!==this.Hd&&t.Lg(this.Hd),0===n||null===this.tc||i&&!s||t.Kj())}if(i&&!s)for(n=o,o=u.Vj,s=o.length,u=0;u<s;u++){for(p=o.n[u],t.beginPath(),l=Jh.Za(),l.push(p.ha),l.push(p.da),f=p.ha,h=p.da,c=f,d=h,y=p.yb.n,g=y.length,m=0;m<g;m++){switch(b=y[m],b.na){case lc:Oo(t,l,a,this.Af),l.length=0,l.push(b.C),l.push(b.D),f=b.C,h=b.D,c=f,d=h;break;case cc:l.push(b.C),l.push(b.D),f=b.C,h=b.D;break;case fc:X(f,h,b.Jd,b.Ye,b.oh,b.Dg,b.Ab,b.Hb,.5,l),f=b.C,h=b.D;break;case pc:nt(f,h,b.Jd,b.Ye,b.Ab,b.Hb,.5,l),f=b.C,h=b.D;break;case dc:if(v=Mt(b,p),0===(w=v.length)){l.push(b.la),l.push(b.sa),f=b.la,h=b.sa;break}for(var x=0;x<w;x++){var k=v[x];X(f,h,k[2],k[3],k[4],k[5],k[6],k[7],.5,l),f=k[6],h=k[7]}break;case yc:if(v=_t(b,p,f,h),0===(w=v.length)){l.push(b.la),l.push(b.sa),f=b.la,h=b.sa;break}for(x=0;x<w;x++)k=v[x],X(f,h,k[2],k[3],k[4],k[5],k[6],k[7],.5,l),f=k[6],h=k[7];break;default:Jh.k("Segment not of valid type: "+b.na)}b.Sh&&(l.push(c),l.push(d),Oo(t,l,a,this.Af))}Oo(t,l,a,this.Af),Jh.ra(l),null!==this.tc&&(f=l=p=0,n&&r&&(p=t.shadowOffsetX,l=t.shadowOffsetY,f=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),t.Kj(),n&&r&&(t.shadowOffsetX=p,t.shadowOffsetY=l,t.shadowBlur=f))}}if(i&&t.wx(),null!==this.hy){if(i=this.hy,jr(i,1/0,1/0),a=i.za,i.jc(0,0,a.width,a.height),n=this.of,t.save(),t.beginPath(),a=Jh.Za(),n.type===rc)a.push(n.ha),a.push(n.da),a.push(n.C),a.push(n.D),Ao(t,e,a,i);else if(n.type===ac)for(s=n.fc.i;s.next();){for(u=s.value,a.length=0,a.push(u.ha),a.push(u.da),o=u.ha,p=u.da,l=o,f=p,h=u.yb.n,c=h.length,d=0;d<c;d++){switch(y=h[d],y.na){case lc:Ao(t,e,a,i),a.length=0,a.push(y.C),a.push(y.D),o=y.C,p=y.D,l=o,f=p;break;case cc:a.push(y.C),a.push(y.D),o=y.C,p=y.D;break;case fc:X(o,p,y.Jd,y.Ye,y.oh,y.Dg,y.Ab,y.Hb,.5,a),o=y.C,p=y.D;break;case pc:nt(o,p,y.Jd,y.Ye,y.Ab,y.Hb,.5,a),o=y.C,p=y.D;break;case dc:if(n=Mt(y,u),0===(r=n.length)){a.push(y.la),a.push(y.sa),o=y.la,p=y.sa;break}for(g=0;g<r;g++)m=n[g],X(o,p,m[2],m[3],m[4],m[5],m[6],m[7],.5,a),o=m[6],p=m[7];break;case yc:if(n=_t(y,u,o,p),0===(r=n.length)){a.push(y.la),a.push(y.sa),o=y.la,p=y.sa;break}for(g=0;g<r;g++)m=n[g],X(o,p,m[2],m[3],m[4],m[5],m[6],m[7],.5,a),o=m[6],p=m[7];break;default:Jh.k("Segment not of valid type: "+y.na)}y.Sh&&(a.push(l),a.push(f),Ao(t,e,a,i))}Ao(t,e,a,i)}else if(n.type===oc)a.push(n.ha),a.push(n.da),a.push(n.C),a.push(n.da),a.push(n.C),a.push(n.D),a.push(n.ha),a.push(n.D),a.push(n.ha),a.push(n.da),Ao(t,e,a,i);else if(n.type===sc){if(s=new St,s.ha=n.C,s.da=(n.da+n.D)/2,o=new Tt(dc),o.Ae=0,o.uf=360,o.la=(n.ha+n.C)/2,o.sa=(n.da+n.D)/2,o.radiusX=Math.abs(n.ha-n.C)/2,o.radiusY=Math.abs(n.da-n.D)/2,s.add(o),n=Mt(o,s),0===(r=n.length))a.push(o.la),a.push(o.sa);else for(o=s.ha,p=s.da,g=0;g<r;g++)m=n[g],X(o,p,m[2],m[3],m[4],m[5],m[6],m[7],.5,a),o=m[6],p=m[7];Ao(t,e,a,i)}Jh.ra(a),t.restore(),t.Ke(!1)}}}},No.prototype.getDocumentPoint=No.prototype.Ya=function(t,e){if(void 0===e&&(e=new w),t instanceof E){t.Ud()&&Jh.k("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var n=this.Ja,i=this.mb;e.m(t.x*(n.width+i)-i/2+n.x+t.offsetX,t.y*(n.height+i)-i/2+n.y+t.offsetY)}else e.set(t);return this.rh.nb(e),e},No.prototype.Ek=function(t,e){var n=this.of;if(null===n||null===this.fill&&null===this.stroke)return!1;var i=n.eb,r=this.mb/2;n.type!==rc||e||(r+=2);var o=Jh.vf();if(o.assign(i),o.Zf(r+2,r+2),!o.Ia(t))return Jh.Bb(o),!1;if(i=r+1e-4,n.type===rc)return null!==this.stroke&&(i=(n.C-n.ha)*(t.x-n.ha)+(n.D-n.da)*(t.y-n.da),!(0>(n.ha-n.C)*(t.x-n.C)+(n.da-n.D)*(t.y-n.D)||0>i)&&(Jh.Bb(o),Y(n.ha,n.da,n.C,n.D,r,t.x,t.y)));if(n.type===oc){var s=n.ha,a=n.da,u=n.C,n=n.D;if(o.x=Math.min(s,u),o.y=Math.min(a,n),o.width=Math.abs(u-s),o.height=Math.abs(n-a),null===this.fill){if(o.Zf(-i,-i),o.Ia(t))return Jh.Bb(o),!1;o.Zf(i,i)}return null!==this.stroke&&o.Zf(r,r),i=o.Ia(t),Jh.Bb(o),i}if(n.type===sc){var s=n.ha,a=n.da,u=n.C,n=n.D,r=Math.min(s,u),h=Math.min(a,n),s=Math.abs(u-s)/2,a=Math.abs(n-a)/2,r=t.x-(r+s),h=t.y-(h+a);if(null===this.fill){if(s-=i,a-=i,0>=s||0>=a||1>=r*r/(s*s)+h*h/(a*a))return Jh.Bb(o),!1;s+=i,a+=i}return null!==this.stroke&&(s+=i,a+=i),Jh.Bb(o),!(0>=s||0>=a)&&1>=r*r/(s*s)+h*h/(a*a)}return n.type===ac?(Jh.Bb(o),null===this.fill?kt(n,t.x,t.y,r):n.Ia(t,r,1<this.mb,e)):(Jh.k("Unknown Geometry type: "+n.type),!1)},No.prototype.Qn=function(t,e,n,i){var r=this.Da,o=this.ji;t=Math.max(t,0),e=Math.max(e,0);var s;if(null!==this.Sf)s=this.of.eb;else{var a=this.Fb,u=ec[a];if(void 0===u){var h=Ap[a];"string"==typeof h&&(h=Ap[h]),"function"==typeof h?(u=h(null,100,100),ec[a]=u):Jh.k("Unsupported Figure: "+a)}s=u.eb}var a=s.width,u=s.height,h=s.width,l=s.height;switch(Ir(this,!0)){case Ff:i=n=0;break;case Bf:h=Math.max(t-o,0),l=Math.max(e-o,0);break;case If:h=Math.max(t-o,0),i=0;break;case Vf:n=0,l=Math.max(e-o,0)}switch(isFinite(r.width)&&(h=r.width),isFinite(r.height)&&(l=r.height),r=this.Hf,s=this.si,n=Math.max(n-o,s.width),i=Math.max(i-o,s.height),h=Math.min(r.width,h),l=Math.min(r.height,l),h=isFinite(h)?Math.max(n,h):Math.max(a,n),l=isFinite(l)?Math.max(i,l):Math.max(u,i),n=Eo(this)){case Ff:break;case Bf:a=h,u=l;break;case qf:n=Math.min(h/a,l/u),isFinite(n)||(n=1),a*=n,u*=n;break;default:Jh.k(n+" is not a valid geometryStretch.")}null!==this.Sf?(a=Math.max(a,.01),u=Math.max(u,.01),s=null!==this.Sf?this.Sf:this.Sa,r=a,i=u,n=s.copy(),s=s.eb,r/=s.width,i/=s.height,isFinite(r)||(r=1),isFinite(i)||(i=1),1===r&&1===i||n.scale(r,i),this.Sa=n):null!==this.Sa&&J(this.Sa.Uo,t-o)&&J(this.Sa.So,e-o)||(this.Sa=No.makeGeometry(this,a,u)),s=this.Sa.eb,1/0===t||1/0===e?Ar(this,s.x-o/2,s.y-o/2,0===t&&0===a?0:s.width+o,0===e&&0===u?0:s.height+o):Ar(this,-o/2,-o/2,h+o,l+o)},No.prototype.pj=function(t,e,n,i){Er(this,t,e,n,i)},No.prototype.getNearestIntersectionPoint=No.prototype.lF=function(t,e,n){return this.En(t.x,t.y,e.x,e.y,n)},No.prototype.En=function(t,e,n,i,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,u=-o.m12*s,h=-o.m21*s,l=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),f=s*(o.m12*o.dx-o.m11*o.dy),o=t*a+e*h+c,s=t*u+e*l+f,a=n*a+i*h+c,u=n*u+i*l+f,h=this.mb/2,c=this.Sa;if(null===c&&(jr(this,1/0,1/0),c=this.Sa),f=c.eb,l=!1,c.type===rc)if(1.5>=this.mb)l=st(c.Ec,c.Oc,c.Ab,c.Hb,o,s,a,u,r);else{var p=0,d=0;if(c.Ec===c.Ab?(p=h,d=0):(e=(c.Hb-c.Oc)/(c.Ab-c.Ec),d=h/Math.sqrt(1+e*e),p=d*e),i=Jh.Za(),e=new w,st(c.Ec+p,c.Oc+d,c.Ab+p,c.Hb+d,o,s,a,u,e)&&i.push(e),e=new w,st(c.Ec-p,c.Oc-d,c.Ab-p,c.Hb-d,o,s,a,u,e)&&i.push(e),e=new w,st(c.Ec+p,c.Oc+d,c.Ec-p,c.Oc-d,o,s,a,u,e)&&i.push(e),e=new w,st(c.Ab+p,c.Hb+d,c.Ab-p,c.Hb-d,o,s,a,u,e)&&i.push(e),0===(e=i.length))return Jh.ra(i),!1;for(l=!0,d=1/0,p=0;p<e;p++){var a=i[p],y=(a.x-o)*(a.x-o)+(a.y-s)*(a.y-s);y<d&&(d=y,r.x=a.x,r.y=a.y)}Jh.ra(i)}else if(c.type===oc)e=f.x-h,l=at(e,f.y-h,f.x+f.width+h,f.y+f.height+h,o,s,a,u,r);else if(c.type===sc)t:if(e=f.copy().Zf(h,h),0===e.width)l=st(e.x,e.y,e.x,e.y+e.height,o,s,a,u,r);else if(0===e.height)l=st(e.x,e.y,e.x+e.width,e.y,o,s,a,u,r);else{t=e.width/2;var v=e.height/2;if(i=e.x+t,e=e.y+v,n=9999,o!==a&&(n=(s-u)/(o-a)),9999>Math.abs(n)){if(l=s-e-n*(o-i),0>t*t*n*n+v*v-l*l){r.x=NaN,r.y=NaN,l=!1;break t}h=Math.sqrt(t*t*n*n+v*v-l*l),a=(-t*t*n*l+t*v*h)/(v*v+t*t*n*n)+i,t=(-t*t*n*l-t*v*h)/(v*v+t*t*n*n)+i,u=n*(a-i)+l+e,e=n*(t-i)+l+e,i=Math.abs((o-a)*(o-a))+Math.abs((s-u)*(s-u)),s=Math.abs((o-t)*(o-t))+Math.abs((s-e)*(s-e)),i<s?(r.x=a,r.y=u):(r.x=t,r.y=e)}else{if(a=v*v,u=o-i,0>(a-=a/(t*t)*u*u)){r.x=NaN,r.y=NaN,l=!1;break t}h=Math.sqrt(a),u=e+h,e-=h,i=Math.abs(u-s),s=Math.abs(e-s),i<s?(r.x=o,r.y=u):(r.x=o,r.y=e)}l=!0}else if(c.type===ac){var g=0,m=0,b=y=0,f=Jh.K(),p=a-o,d=u-s,d=p*p+d*d;for(r.x=a,r.y=u,p=0;p<c.fc.count;p++)for(var x=c.fc.n[p],k=x.yb,g=x.ha,m=x.da,P=g,C=m,S=0;S<k.count;S++){var T=k.n[S],M=T.type,y=T.C,b=T.D,_=!1;switch(M){case lc:P=y,C=b;break;case cc:_=Do(g,m,y,b,o,s,a,u,f);break;case fc:var _=T.xc,M=T.Sc,N=T.Eh,A=T.Fh,_=it(g,m,_,M,N,A,y,b,o,s,a,u,.5,f);break;case pc:_=(g+2*T.xc)/3,M=(m+2*T.Sc)/3,N=(2*T.xc+y)/3,A=(2*T.xc+y)/3,_=it(g,m,_,M,N,A,y,b,o,s,a,u,.5,f);break;case dc:case yc:if(M=T.type===dc?Mt(T,x):_t(T,x,g,m),0===(N=M.length)){_=Do(g,m,T.la,T.sa,o,s,a,u,f);break}for(b=0;b<N;b++)v=M[b],0===b&&Do(g,m,v[0],v[1],o,s,a,u,f)&&(y=Lo(o,s,f,d,r))<d&&(d=y,l=!0),it(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],o,s,a,u,.5,f)&&(y=Lo(o,s,f,d,r))<d&&(d=y,l=!0);y=v[6],b=v[7];break;default:Jh.k("Unknown Segment type: "+M)}g=y,m=b,_&&(y=Lo(o,s,f,d,r))<d&&(d=y,l=!0),T.Lx&&(y=P,b=C,Do(g,m,y,b,o,s,a,u,f)&&(y=Lo(o,s,f,d,r))<d&&(d=y,l=!0))}o=n-t,s=i-e,e=Math.sqrt(o*o+s*s),0!==e&&(o/=e,s/=e),r.x-=o*h,r.y-=s*h,Jh.v(f)}else Jh.k("Unknown Geometry type: "+c.type);return!!l&&(this.transform.nb(r),!0)},No.prototype.containedInRect=No.prototype.un=function(t,e){if(void 0===e)return t.Fk(this.U);var n=this.Sa;null===n&&(jr(this,1/0,1/0),n=this.Sa);var n=n.eb,i=this.mb/2,r=!1,o=Jh.K();return o.m(n.x-i,n.y-i),t.Ia(e.nb(o))&&(o.m(n.x-i,n.bottom+i),t.Ia(e.nb(o))&&(o.m(n.right+i,n.bottom+i),t.Ia(e.nb(o))&&(o.m(n.right+i,n.y-i),t.Ia(e.nb(o))&&(r=!0)))),Jh.v(o),r},No.prototype.intersectsRect=No.prototype.$f=function(t,e){if(this.un(t,e)||void 0===e&&(e=this.transform,t.Fk(this.U)))return!0;var n=Jh.Wg();n.set(e),n.TA();var i=t.left,r=t.right,o=t.top,s=t.bottom,a=Jh.K();if(a.m(i,o),n.nb(a),this.Ek(a,!0))return Jh.v(a),!0;if(a.m(r,o),n.nb(a),this.Ek(a,!0))return Jh.v(a),!0;if(a.m(i,s),n.nb(a),this.Ek(a,!0))return Jh.v(a),!0;if(a.m(r,s),n.nb(a),this.Ek(a,!0))return Jh.v(a),!0;var u=Jh.K(),h=Jh.K();n.set(e),n.UF(this.transform),n.TA(),u.x=r,u.y=o,u.transform(n),a.x=i,a.y=o,a.transform(n);var l=!1;return Fo(this,a,u,h)?l=!0:(a.x=r,a.y=s,a.transform(n),Fo(this,a,u,h)?l=!0:(u.x=i,u.y=s,u.transform(n),Fo(this,a,u,h)?l=!0:(a.x=i,a.y=o,a.transform(n),Fo(this,a,u,h)&&(l=!0)))),Jh.v(a),Jh.bf(n),Jh.v(u),Jh.v(h),l},No.prototype.eF=function(t,e,n){function i(t,e){for(var n=t.length,i=0;i<n;i+=2)if(e.Xf(t[i],t[i+1])>r)return!0;return!1}if(n&&null!==this.fill&&this.Ek(t,!0))return!0;var r=t.Cf(e);e=r,1.5<this.mb&&(r=this.mb/2+Math.sqrt(r),r*=r);var o=this.Sa;if(null===o&&(jr(this,1/0,1/0),null===(o=this.Sa)))return!1;if(!n){var s=o.eb,a=s.x,u=s.y,h=s.x+s.width,s=s.y+s.height;if(Xh(t.x,t.y,a,u)<=r&&Xh(t.x,t.y,h,u)<=r&&Xh(t.x,t.y,a,s)<=r&&Xh(t.x,t.y,h,s)<=r)return!0}if(a=o.Ec,u=o.Oc,h=o.Ab,s=o.Hb,o.type===rc){if(n=Zh(t.x,t.y,a,u,h,s),o=(a-h)*(t.x-h)+(u-s)*(t.y-s),n<=(0<=(h-a)*(t.x-a)+(s-u)*(t.y-u)&&0<=o?r:e))return!0}else{if(o.type===oc)return e=!1,n&&(e=Zh(t.x,t.y,a,u,a,s)<=r||Zh(t.x,t.y,a,u,h,u)<=r||Zh(t.x,t.y,h,u,h,s)<=r||Zh(t.x,t.y,a,s,h,s)<=r),e;if(o.type===sc){e=t.x-(a+h)/2;var o=t.y-(u+s)/2,l=Math.abs(h-a)/2,c=Math.abs(s-u)/2;if(0===l||0===c)return(n=Zh(t.x,t.y,a,u,h,s))<=r;if(!n)return!(Xh(e,o,-l,0)>=r||Xh(e,o,0,-c)>=r||Xh(e,o,0,c)>=r||Xh(e,o,l,0)>=r);if((t=vt(l,c,e,o))*t<=r)return!0}else if(o.type===ac){if(s=o.eb,a=s.x,u=s.y,h=s.x+s.width,s=s.y+s.height,t.x>h&&t.x<a&&t.y>s&&t.y<u&&Zh(t.x,t.y,a,u,a,s)>r&&Zh(t.x,t.y,a,u,h,u)>r&&Zh(t.x,t.y,h,s,a,s)>r&&Zh(t.x,t.y,h,s,h,u)>r)return!1;if(e=Math.sqrt(r),!n){for(n=o.fc,e=0;e<n.count;e++){if(a=n.n[e],l=a.ha,c=a.da,t.Xf(l,c)>r)return!1;for(u=a.yb.n,h=u.length,s=0;s<h;s++){var f=u[s];switch(f.type){case lc:case cc:if(l=f.C,c=f.D,t.Xf(l,c)>r)return!1;break;case fc:if(o=Jh.Za(),X(l,c,f.xc,f.Sc,f.Eh,f.Fh,f.C,f.D,.8,o),l=i(o,t),Jh.ra(o),l)return!1;if(l=f.C,c=f.D,t.Xf(l,c)>r)return!1;break;case pc:if(o=Jh.Za(),nt(l,c,f.xc,f.Sc,f.C,f.D,.8,o),l=i(o,t),Jh.ra(o),l)return!1;if(l=f.C,c=f.D,t.Xf(l,c)>r)return!1;break;case dc:case yc:var p=f.type===dc?Mt(f,a):_t(f,a,l,c),d=p.length;if(0===d){if(l=f.la,c=f.sa,t.Xf(l,c)>r)return!1;break}for(f=null,o=Jh.Za(),e=0;e<d;e++)if(f=p[e],o.length=0,X(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.8,o),i(o,t))return Jh.ra(o),!1;Jh.ra(o),null!==f&&(l=f[6],c=f[7]);break;default:Jh.k("Unknown Segment type: "+f.type)}}}return!0}if(null===this.fill?kt(o,t.x,t.y,e):o.Ia(t,e,!0))return!0}}return!1},Jh.defineProperty(No,{of:"geometry"},function(){return null!==this.Sa?this.Sa:this.Sf},function(t){var e=this.Sa;if(e!==t){this.Sf=this.Sa=null!==t?t.freeze():null;var n=this.W;null!==n&&(n.lk=NaN),this.H(),this.h("geometry",e,t),Gr(this)&&null!==(t=this.W)&&Nr(this,t,"geometryString")}}),Jh.defineProperty(No,{cI:"geometryString"},function(){return null===this.of?"":this.of.toString()},function(t){t=hc(t);var e=t.normalize();this.of=t,this.position=t=Jh.wb(-e.x,-e.y),Jh.v(t)}),Jh.defineProperty(No,{CF:"isGeometryPositioned"},function(){return this.Xr},function(t){var e=this.Xr;e!==t&&(this.Xr=t,this.H(),this.h("isGeometryPositioned",e,t))}),No.prototype.fe=function(){this.Sa=null},Jh.defineProperty(No,{fill:"fill"},function(){return this.Hd},function(t){var e=this.Hd;e!==t&&(t instanceof br&&t.freeze(),this.Hd=t,this.oa(),this.h("fill",e,t))}),Jh.defineProperty(No,{stroke:"stroke"},function(){return this.tc},function(t){var e=this.tc;e!==t&&(t instanceof br&&t.freeze(),this.tc=t,this.oa(),this.h("stroke",e,t))}),Jh.defineProperty(No,{mb:"strokeWidth"},function(){return this.ji},function(t){var e=this.ji;if(e!==t)if(0<=t){this.ji=t,this.H();var n=this.W;null!==n&&(n.lk=NaN),this.h("strokeWidth",e,t)}else Jh.Fa(t,"value >= 0",No,"strokeWidth:value")}),Jh.defineProperty(No,{TL:"strokeCap"},function(){return this.xp},function(t){var e=this.xp;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Jh.Fa(t,'"butt", "round", or "square"',No,"strokeCap"):(this.xp=t,this.oa(),this.h("strokeCap",e,t)))}),Jh.defineProperty(No,{VL:"strokeJoin"},function(){return this.zp},function(t){var e=this.zp;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Jh.Fa(t,'"miter", "bevel", or "round"',No,"strokeJoin"):(this.zp=t,this.oa(),this.h("strokeJoin",e,t)))}),Jh.defineProperty(No,{WL:"strokeMiterLimit"},function(){return this.kn},function(t){var e=this.kn;if(e!==t)if(1<=t){this.kn=t,this.oa();var n=this.W;null!==n&&(n.lk=NaN),this.h("strokeMiterLimit",e,t)}else Jh.Fa(t,"value >= 1",No,"strokeWidth:value")}),Jh.defineProperty(No,{AG:"strokeDashArray"},function(){return this.yp},function(t){var e=this.yp;if(e!==t){if(null===t||Array.isArray(t)||Jh.Fd(t,"Array",No,"strokeDashArray:value"),null!==t){for(var n=t.length,i=0,r=0;r<n;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||Jh.k("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.yp=t,this.oa(),this.h("strokeDashArray",e,t)}}),Jh.defineProperty(No,{UL:"strokeDashOffset"},function(){return this.Af},function(t){var e=this.Af;e!==t&&0<=t&&(this.Af=t,this.oa(),this.h("strokeDashOffset",e,t))}),Jh.defineProperty(No,{Fb:"figure"},function(){return this.Ko},function(t){var e=this.Ko;if(e!==t){var n=Ap[t];"function"==typeof n?n=t:(n=Ap[t.toLowerCase()])||Jh.k("Unknown Shape.figure: "+t),e!==n&&(t=this.W,null!==t&&(t.lk=NaN),this.Ko=n,this.Sf=null,this.fe(),this.H(),this.h("figure",e,n))}}),Jh.defineProperty(No,{Lq:"toArrow"},function(){return this.Ep},function(t){var e=this.Ep;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=hs(t);null===n?Jh.k("Unknown Shape.toArrow: "+t):e!==n&&(this.Ep=n,this.Sf=null,this.fe(),this.H(),Ro(this),this.h("toArrow",e,n))}}),Jh.defineProperty(No,{FA:"fromArrow"},function(){return this.Mo},function(t){var e=this.Mo;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=hs(t);null===n?Jh.k("Unknown Shape.fromArrow: "+t):e!==n&&(this.Mo=n,this.Sf=null,this.fe(),this.H(),Ro(this),this.h("fromArrow",e,n))}}),Jh.defineProperty(No,{A:"spot1"},function(){return this.hi},function(t){Jh.G(t,E,No,"spot1");var e=this.hi;e.L(t)||(this.hi=t=t.S(),this.H(),this.h("spot1",e,t))}),Jh.defineProperty(No,{B:"spot2"},function(){return this.ii},function(t){Jh.G(t,E,No,"spot2");var e=this.ii;e.L(t)||(this.ii=t=t.S(),this.H(),this.h("spot2",e,t))}),Jh.defineProperty(No,{Jc:"parameter1"},function(){return this.Rs},function(t){var e=this.Rs;e!==t&&(this.Rs=t,this.fe(),this.H(),this.h("parameter1",e,t))}),Jh.defineProperty(No,{Qu:"parameter2"},function(){return this.Ss},function(t){var e=this.Ss;e!==t&&(this.Ss=t,this.fe(),this.H(),this.h("parameter2",e,t))}),Jh.u(No,{Ja:"naturalBounds"},function(){if(null!==this.Sa)return this.Nc.assign(this.Sa.eb),this.Nc;var t=this.Da;return new C(0,0,t.width,t.height)}),Jh.defineProperty(No,{hy:"pathPattern"},function(){return this.Us},function(t){var e=this.Us;e!==t&&(this.Us=t,this.oa(),this.h("pathPattern",e,t))}),Jh.defineProperty(No,{KL:"pathObject"},function(){return this.hy},function(t){this.hy=t}),Jh.defineProperty(No,{HA:"geometryStretch"},function(){return this.Mr},function(t){var e=this.Mr;e!==t&&(Jh.ob(t,Tr,No,"geometryStretch"),this.Mr=t,this.h("geometryStretch",e,t))}),Jh.defineProperty(No,{interval:"interval"},function(){return this.ug},function(t){var e=this.ug;if(t=Math.floor(t),e!==t&&0<=t){this.ug=t;var n=this.g;null!==n&&this.R===n.Gn&&Si(n),this.H(),n=this.R,null!==n&&n.type===op&&(n.ak=null),this.h("interval",e,t)}}),Jh.defineProperty(No,{pF:"graduatedStart"},function(){return this.tg},function(t){var e=this.tg;e!==t&&(0>t?t=0:1<t&&(t=1),this.tg=t,this.H(),this.h("graduatedStart",e,t))}),Jh.defineProperty(No,{nF:"graduatedEnd"},function(){return this.sg},function(t){var e=this.sg;e!==t&&(0>t?t=0:1<t&&(t=1),this.sg=t,this.H(),this.h("graduatedEnd",e,t))}),No.makeGeometry=function(t,e,n){var i=null;if("None"!==t.Lq)i=nc[t.Lq];else if("None"!==t.FA)i=nc[t.FA];else{var r=Ap[t.Fb];"string"==typeof r&&(r=Ap[r]),void 0===r&&Jh.k("Unknown Shape.figure: "+t.Fb),i=r(t,e,n),i.Uo=e,i.So=n}return null===i&&"function"==typeof(r=Ap.Rectangle)&&(i=r(t,e,n)),i},No.getFigureGenerators=function(){var t,e=new b;for(t in Ap)t!==t.toLowerCase()&&e.add(t,Ap[t]);return e.freeze(),e},No.defineFigureGenerator=function(t,e){Jh.j(t,"string",No,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&Ap[e]||Jh.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):Jh.j(e,"function",No,"defineFigureGenerator:func");var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Jh.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),Ap[t]=e,Ap[n]=t},No.getArrowheadGeometries=function(){var t,e=new b("string",gt);for(t in Op)if(void 0===nc[t]){var n=hc(Op[t],!1);nc[t]=n,n=t.toLowerCase(),n!==t&&(nc[n]=t)}for(t in nc)t!==t.toLowerCase()&&(n=nc[t])instanceof gt&&e.add(t,n);return e.freeze(),e},No.defineArrowheadGeometry=function(t,e){Jh.j(t,"string",No,"defineArrowheadGeometry:name");var n=null;"string"==typeof e?(Jh.j(e,"string",No,"defineArrowheadGeometry:pathstr"),n=hc(e,!1)):(Jh.G(e,gt,No,"defineArrowheadGeometry:pathstr"),n=e);var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Jh.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t),nc[t]=n,nc[i]=t},Jh.La(Vo,Tr),Jh.ga("TextBlock",Vo);var cp=/[ \u200b\u00ad]/;Vo.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.Ld=this.Ld,t.tc=this.tc,t.qg=this.qg,t.Jl=this.Jl,t.pg=this.pg,t.Nl=this.Nl,t.Lm=this.Lm,t.gk=this.gk,t.ek=this.ek,t.cj=this.cj,t.nj=this.nj,t.pe=this.pe,t.nw=this.nw,t.Gz=this.Gz,t.Fz=this.Fz,t.zf.Sp(this.zf),t.Fr=this.Fr,t.Dt=this.Dt,t.Kl=this.Kl,t.Ct=this.Ct,t.er=this.er,t.We=this.We,t.fi=this.fi,t.gi=this.gi,t.ih=this.ih,t.$o=this.$o,t.ug=this.ug,t.tg=this.tg,t.sg=this.sg,t.Gm=this.Gm},Vo.prototype.ic=function(t){t.Je===Vo?this.OG=t:Tr.prototype.ic.call(this,t)},Vo.prototype.toString=function(){return 22<this.Ld.length?'TextBlock("'+this.Ld.substring(0,20)+'"...)':'TextBlock("'+this.Ld+'")'};var fp=new r,pp=0,dp=new r,yp=0,vp="...",gp="",mp=new H(null).Gk;Vo.getEllipsis=function(){return vp},Vo.setEllipsis=function(t){vp=t,dp=new r,yp=0};var bp;Vo.None=bp=Jh.p(Vo,"None",0);var wp;Vo.WrapFit=wp=Jh.p(Vo,"WrapFit",1);var xp;Vo.WrapDesiredSize=xp=Jh.p(Vo,"WrapDesiredSize",2);var kp;Vo.WrapBreakAll=kp=Jh.p(Vo,"WrapBreakAll",3);var Pp;Vo.OverflowClip=Pp=Jh.p(Vo,"OverflowClip",0);var Cp;Vo.OverflowEllipsis=Cp=Jh.p(Vo,"OverflowEllipsis",1),Vo.prototype.H=function(){Tr.prototype.H.call(this),this.Fz=this.Gz=null},Jh.defineProperty(Vo,{font:"font"},function(){return this.qg},function(t){var e=this.qg;e!==t&&(this.qg=t,this.zf.Wj=null,this.H(),this.h("font",e,t))}),Vo.isValidFont=function(t){var e=mp.font;if(t===e||"10px sans-serif"===t)return!0;mp.font="10px sans-serif";var n;mp.font=t;var i=mp.font;return"10px sans-serif"!==i?(mp.font=e,!0):(mp.font="19px serif",n=mp.font,mp.font=t,i=mp.font,mp.font=e,i!==n)},Jh.defineProperty(Vo,{text:"text"},function(){return this.Ld},function(t){var e=this.Ld;t=null!==t&&void 0!==t?t.toString():"",e!==t&&(this.Ld=t,this.H(),this.h("text",e,t))}),Jh.defineProperty(Vo,{textAlign:"textAlign"},function(){return this.Jl},function(t){var e=this.Jl;e!==t&&("start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.Jl=t,this.oa(),this.h("textAlign",e,t)):Jh.Fa(t,'"start", "end", "left", "right", or "center"',Vo,"textAlign"))}),Jh.defineProperty(Vo,{iu:"flip"},function(){return this.pg},function(t){var e=this.pg;e!==t&&(Jh.ob(t,Tr,Vo,"flip"),this.pg=t,this.oa(),this.h("flip",e,t))}),Jh.defineProperty(Vo,{bM:"verticalAlignment"},function(){return this.Nl},function(t){var e=this.Nl;e.L(t)||(t.Ud()&&Jh.k("TextBlock.verticalAlignment for "+this+" must be a real Spot, not:"+t),this.Nl=t=t.S(),Vr(this),this.h("verticalAlignment",e,t))}),Jh.u(Vo,{Ja:"naturalBounds"},function(){if(!this.Nc.I()){var t=Io(this,this.Ld,this.zf,999999).width,e=Ho(this,t,this.zf),n=this.Da;isNaN(n.width)||(t=n.width),isNaN(n.height)||(e=n.height),S(this.Nc,t,e)}return this.Nc}),Jh.defineProperty(Vo,{Ox:"isMultiline"},function(){return this.Lm},function(t){var e=this.Lm;e!==t&&(this.Lm=t,this.H(),this.h("isMultiline",e,t))}),Jh.defineProperty(Vo,{kL:"isUnderline"},function(){return this.gk},function(t){var e=this.gk;e!==t&&(this.gk=t,this.oa(),this.h("isUnderline",e,t))}),Jh.defineProperty(Vo,{jL:"isStrikethrough"},function(){return this.ek},function(t){var e=this.ek;e!==t&&(this.ek=t,this.oa(),this.h("isStrikethrough",e,t))}),Jh.defineProperty(Vo,{OG:"wrap"},function(){return this.nj},function(t){var e=this.nj;e!==t&&(this.nj=t,this.H(),this.h("wrap",e,t))}),Jh.defineProperty(Vo,{overflow:"overflow"},function(){return this.cj},function(t){var e=this.cj;e!==t&&(this.cj=t,this.H(),this.h("overflow",e,t))}),Jh.defineProperty(Vo,{stroke:"stroke"},function(){return this.tc},function(t){var e=this.tc;e!==t&&(t instanceof br&&t.freeze(),this.tc=t,this.oa(),this.h("stroke",e,t))}),Jh.u(Vo,{Vx:"lineCount"},function(){return this.pe}),Jh.defineProperty(Vo,{BA:"editable"},function(){return this.Fr},function(t){var e=this.Fr;e!==t&&(this.Fr=t,this.h("editable",e,t))}),Jh.defineProperty(Vo,{DG:"textEditor"},function(){return this.Dt},function(t){var e=this.Dt;e!==t&&(this.Dt=t,this.h("textEditor",e,t))}),Jh.defineProperty(Vo,{CA:"errorFunction"},function(){return this.We},function(t){var e=this.We;e!==t&&(null!==t&&Jh.j(t,"function",Vo,"errorFunction"),this.We=t,this.h("errorFunction",e,t))}),Jh.defineProperty(Vo,{interval:"interval"},function(){return this.ug},function(t){var e=this.ug;if(t=Math.floor(t),e!==t&&0<=t){this.ug=t,this.H();var n=this.R;null!==n&&n.type===op&&(n.ak=null),this.h("interval",e,t)}}),Jh.defineProperty(Vo,{pF:"graduatedStart"},function(){return this.tg},function(t){var e=this.tg;e!==t&&(0>t?t=0:1<t&&(t=1),this.tg=t,this.H(),this.h("graduatedStart",e,t))}),Jh.defineProperty(Vo,{nF:"graduatedEnd"},function(){return this.sg},function(t){var e=this.sg;e!==t&&(0>t?t=0:1<t&&(t=1),this.sg=t,this.H(),this.h("graduatedEnd",e,t))}),Jh.defineProperty(Vo,{oF:"graduatedFunction"},function(){return this.Gm},function(t){var e=this.Gm;e!==t&&(null!==t&&Jh.j(t,"function",Vo,"graduatedFunction"),this.Gm=t,this.H(),this.h("graduatedFunction",e,t))}),Vo.prototype.Ik=function(t,e){if(null!==this.tc&&0!==this.Ld.length&&null!==this.qg){var n=this.Ja.width,i=this.Ja.height,r=zo(this),o=t.textAlign=this.Jl,s=e.as;"start"===o&&(o=s?"right":"left"),"end"===o&&(o=s?"left":"right"),Dr(this,t,this.tc,!0,!1),(this.gk||this.ek)&&Dr(this,t,this.tc,!1,!1);var a=0,s=!1,u=Jh.wb(0,0);this.rh.nb(u);var h=Jh.wb(0,r);this.rh.nb(h);var l=u.Cf(h);switch(Jh.v(u),Jh.v(h),u=e.scale,8>l*u*u&&(s=!0),e.hf!==t&&(s=!1),!1===e.Ok("textGreeking")&&(s=!1),l=this.fi,u=this.gi,this.iu){case Hf:t.translate(n,0),t.scale(-1,1);break;case Gf:t.translate(0,i),t.scale(1,-1);break;case Uf:t.translate(n,i),t.scale(-1,-1)}var h=this.pe,c=(l+r+u)*h;i>c&&(a=this.Nl,a=a.y*i-a.y*c+a.offsetY);for(var c=this.zf,f=0;f<h;f++){var p=c.xf[f],d=c.Te[f];p>n&&(p=n);var a=a+l,y=d,d=t,v=a,g=n,m=r,b=o,w=0;s?("left"===b?w=0:"right"===b?w=g-p:"center"===b&&(w=(g-p)/2),d.fillRect(0+w,v+.25*m,p,1)):("left"===b?w=0:"right"===b?w=g:"center"===b&&(w=g/2),d.fillText(y,0+w,v+m-.25*m),y=m/20|0,0===y&&(y=1),"right"===b?w-=p:"center"===b&&(w-=p/2),this.gk&&(d.beginPath(),d.lineWidth=y,d.moveTo(0+w,v+m-.2*m),d.lineTo(0+w+p,v+m-.2*m),d.stroke()),this.ek&&(d.beginPath(),d.lineWidth=y,v=v+m-m/2.2|0,0!=y%2&&(v+=.5),d.moveTo(0+w,v),d.lineTo(0+w+p,v),d.stroke())),a+=r+u}switch(this.iu){case Hf:t.scale(-1,1),t.translate(-n,0);break;case Gf:t.scale(1,-1),t.translate(0,-i);break;case Uf:t.scale(-1,-1),t.translate(-n,-i)}}},Vo.prototype.Qn=function(t,e,n,i){this.$o=t;var r=this.zf;r.reset();var o=0,s=0;if(isNaN(this.Da.width)){if(o=this.Ld.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),0===o.length)o=0;else if(this.Ox){for(var a=s=0,u=!1;!u;){var h=o.indexOf("\n",a);-1===h&&(h=o.length,u=!0),a=qo(o.substr(a,h-a).replace(/^\s+|\s+$/g,""),this.qg),a>s&&(s=a),a=h+1}o=s}else s=o.indexOf("\n",0),0<=s&&(o=o.substr(0,s)),o=a=qo(o,this.qg);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.Da.width;if(null!==this.R&&(o=Math.min(o,this.R.Hf.width)),s=Ho(this,o,r),h=s=isNaN(this.Da.height)?Math.min(s,e/this.scale):this.Da.height,0!==r.Ge&&1!==r.Te.length&&this.cj===Cp&&(e=this.qg,u=this.cj===Cp?Go(e):0,a=this.fi+this.gi,a=Math.max(0,zo(this)+a),!((h=Math.min(this.TI-1,Math.max(Math.floor(h/a+.01)-1,0)))+1>=r.Te.length))){for(a=r.Te[h],u=Math.max(1,t-u);qo(a,e)>u&&1<a.length;)a=a.substr(0,a.length-1);a+=vp,e=qo(a,e),r.Te[h]=a,r.Te=r.Te.slice(0,h+1),r.xf[h]=e,r.xf=r.xf.slice(0,h+1),r.mj=r.Te.length,r.Ge=Math.max(r.Ge,e),this.pe=r.mj}(this.OG===wp||isNaN(this.Da.width))&&(o=isNaN(t)?r.Ge:Math.min(t,r.Ge),isNaN(this.Da.width)&&(o=Math.max(8,o))),o=Math.max(n,o),s=Math.max(i,s),S(this.Nc,o,s),Ar(this,0,0,o,s)},Vo.prototype.pj=function(t,e,n,i){Er(this,t,e,n,i)},Jh.defineProperty(Vo,{OB:"textValidation"},function(){return this.Kl},function(t){var e=this.Kl;e!==t&&(null!==t&&Jh.j(t,"function",Vo,"textValidation"),this.Kl=t,this.h("textValidation",e,t))}),Jh.defineProperty(Vo,{CG:"textEdited"},function(){return this.Ct},function(t){var e=this.Ct;e!==t&&(null!==t&&Jh.j(t,"function",Vo,"textEdited"),this.Ct=t,this.h("textEdited",e,t))}),Jh.defineProperty(Vo,{QL:"spacingAbove"},function(){return this.fi},function(t){var e=this.fi;e!==t&&(this.fi=t,this.h("spacingAbove",e,t))}),Jh.defineProperty(Vo,{RL:"spacingBelow"},function(){return this.gi},function(t){var e=this.gi;e!==t&&(this.gi=t,this.h("spacingBelow",e,t))}),Jh.defineProperty(Vo,{TI:"maxLines"},function(){return this.ih},function(t){var e=this.ih;e!==t&&(t=Math.floor(t),0>=t&&Jh.Fa(t,"> 0",Vo,"maxLines"),this.ih=t,this.h("maxLines",e,t),this.H())}),Jh.u(Vo,{wL:"metrics"},function(){return this.zf}),Jh.defineProperty(Vo,{HK:"choices"},function(){return this.er},function(t){var e=this.er;e!==t&&(null===t||Array.isArray(t)||Jh.Fd(t,"Array",Vo,"choices:value"),this.er=t,this.h("choices",e,t))}),Uo.prototype.reset=function(){this.Ge=this.mj=0,this.Wj=null,this.xf=[],this.Te=[]},Uo.prototype.Sp=function(t){this.mj=t.mj,this.Wj=t.Wj,this.Ge=t.Ge,this.xf=Jh.Vl(t.xf),this.Te=Jh.Vl(t.Te)},Jh.u(Uo,{DK:"arrSize"},function(){return this.xf}),Jh.u(Uo,{EK:"arrText"},function(){return this.Te}),Jh.u(Uo,{vL:"maxLineWidth"},function(){return this.Ge}),Jh.u(Uo,{dL:"fontHeight"},function(){return this.Wj}),Jh.La(Ko,Tr),Jh.ga("Picture",Ko),Ko.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.element=this.Ve,t.wt=this.wt,t.tk=this.tk.S(),t.Po=this.Po,t.pg=this.pg,t.We=this.We,t.ki=this.ki,t.Oo=this.Oo.S(),t.Pv=this.Pv,t.rp=this.rp},Ko.prototype.ic=function(t){t===Ff||t===qf||t===zf?this.sI=t:Tr.prototype.ic.call(this,t)},Ko.prototype.toString=function(){return"Picture("+this.source+")#"+Jh.Pd(this)};var Sp,Tp=new r,Mp=0,_p=[];Ko.clearCache=Sp=function(t){void 0===t&&(t=""),Jh.j(t,"string",Ko,"clearCache:url"),""!==t?Tp[t]&&(delete Tp[t],Mp--):(Tp=new r,Mp=0)},Jh.defineProperty(Ko,{element:"element"},function(){return this.Ve},function(t){var e=this.Ve;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||Jh.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.Bz=t instanceof HTMLCanvasElement,this.Ve=t,null!==t)if(t instanceof HTMLCanvasElement||!0===t.complete)t.No instanceof Event&&null!==this.We&&this.We(this,t.No),!0===t.Zr&&null!==this.ki&&this.ki(this,t.Qz),t.Zr=!0,this.Da.I()||(Jr(this,!1),this.H());else{var n=this;t.cD||(t.addEventListener("load",function(e){Jo(t,e),n.Da.I()||(Jr(n,!1),n.H())}),t.addEventListener("error",function(e){Yo(t,e)}),t.cD=!0)}this.h("element",e,t),this.oa()}}),Jh.defineProperty(Ko,{source:"source"},function(){return this.wt},function(t){var e=this.wt;if(e!==t){Jh.j(t,"string",Ko,"source"),this.wt=t;var n=Tp,i=this.g;if(void 0!==n[t])var r=n[t].Lp[0].source;else{30<Mp&&(Sp(),n=Tp);var r=Jh.createElement("img"),o=this;r.addEventListener("load",function(t){Jo(r,t),o.Da.I()||(Jr(o,!1),o.H())}),r.addEventListener("error",function(t){Yo(r,t)}),r.cD=!0;var s=this.rp;null!==s&&(r.crossOrigin=s(this)),r.src=t,n[t]=new Qo(r),Mp++}null!==i&&Fi(i,this),this.element=r,null!==i&&Li(i,this),this.H(),this.oa(),this.h("source",e,t)}}),Jh.defineProperty(Ko,{PL:"sourceCrossOrigin"},function(){return this.rp},function(t){if(this.rp!==t&&(null!==t&&Jh.j(t,"function",Ko,"sourceCrossOrigin"),this.rp=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}),Jh.defineProperty(Ko,{Jj:"sourceRect"},function(){return this.tk},function(t){var e=this.tk;e.L(t)||(Jh.G(t,C,Ko,"sourceRect"),this.tk=t=t.S(),this.oa(),this.h("sourceRect",e,t))}),Jh.defineProperty(Ko,{sI:"imageStretch"},function(){return this.Po},function(t){var e=this.Po;e!==t&&(Jh.ob(t,Tr,Ko,"imageStretch"),this.Po=t,this.oa(),this.h("imageStretch",e,t))}),Jh.defineProperty(Ko,{iu:"flip"},function(){return this.pg},function(t){var e=this.pg;e!==t&&(Jh.ob(t,Tr,Ko,"flip"),this.pg=t,this.oa(),this.h("flip",e,t))}),Jh.defineProperty(Ko,{fL:"imageAlignment"},function(){return this.Oo},function(t){Jh.G(t,E,Ko,"imageAlignment");var e=this.Oo;e.L(t)||(this.Oo=t=t.S(),this.H(),this.h("imageAlignment",e,t))}),Jh.defineProperty(Ko,{CA:"errorFunction"},function(){return this.We},function(t){var e=this.We;e!==t&&(null!==t&&Jh.j(t,"function",Ko,"errorFunction"),this.We=t,this.h("errorFunction",e,t))}),Jh.defineProperty(Ko,{ZL:"successFunction"},function(){return this.ki},function(t){var e=this.ki;e!==t&&(null!==t&&Jh.j(t,"function",Ko,"successFunction"),this.ki=t,this.h("successFunction",e,t))}),Ko.prototype.Ik=function(t,e){var n=this.Ve;if(null!==n){var i=n.src;if(null!==i&&""!==i||Jh.k('Element has no source ("src") attribute: '+n),!(n.No instanceof Event)&&!1!==n.Zr){var i=this.Ja,r=0,o=0,s=this.Bz,a=s?+n.width:n.naturalWidth,s=s?+n.height:n.naturalHeight;if(void 0===a&&n.videoWidth&&(a=n.videoWidth),void 0===s&&n.videoHeight&&(s=n.videoHeight),a=a||i.width,s=s||i.height,0!==a&&0!==s){var u=a,h=s;this.Jj.I()&&(r=this.tk.x,o=this.tk.y,a=this.tk.width,s=this.tk.height);var l=a,c=s,f=this.Po,p=this.Oo;switch(f){case Ff:if(this.Jj.I())break;l>=i.width&&(r=r+p.offsetX+(l*p.x-i.width*p.x)),c>=i.height&&(o=o+p.offsetY+(c*p.y-i.height*p.y)),a=Math.min(i.width,l),s=Math.min(i.height,c);break;case Bf:l=i.width,c=i.height;break;case qf:case zf:var d=0;f===qf?(d=Math.min(i.height/c,i.width/l),l*=d,c*=d):f===zf&&(d=Math.max(i.height/c,i.width/l),l*=d,c*=d,l>=i.width&&(r=(r+p.offsetX+(l*p.x-i.width*p.x)/l)*a),c>=i.height&&(o=(o+p.offsetY+(c*p.y-i.height*p.y)/c)*s),a*=1/(l/i.width),s*=1/(c/i.height),l=i.width,c=i.height)}var f=this.vj()*e.scale,y=a*s/(l*f*c*f),d=Tp[this.source],f=null;if(n.Zr&&void 0!==d&&16<y){2>d.Lp.length&&(Zo(d,4,u,h),Zo(d,16,u,h));for(var u=d.Lp,h=u.length,f=u[0],v=0;v<h&&u[v].xq*u[v].xq<y;v++)f=u[v]}if(!e.Cr){if(null===this.Ap)if(null===this.Ve)this.Ap=!1;else{u=new H(null).Gk,u.drawImage(this.Ve,0,0);try{u.getImageData(0,0,1,1).data[3]&&(this.Ap=!1),this.Ap=!1}catch(t){this.Ap=!0}}if(this.Ap)return}switch(u=0,l<i.width&&(u=p.offsetX+(i.width*p.x-l*p.x)),h=0,c<i.height&&(h=p.offsetY+(i.height*p.y-c*p.y)),this.iu){case Hf:t.translate(Math.min(i.width,l),0),t.scale(-1,1);break;case Gf:t.translate(0,Math.min(i.height,c)),t.scale(1,-1);break;case Uf:t.translate(Math.min(i.width,l),Math.min(i.height,c)),t.scale(-1,-1)}if(e.Ok("pictureRatioOptimization")&&!e.Jm&&void 0!==d&&null!==f&&1!==f.xq){t.save(),d=f.xq;try{t.drawImage(f.source,r/d,o/d,Math.min(f.source.width,a/d),Math.min(f.source.height,s/d),u,h,Math.min(i.width,l),Math.min(i.height,c))}catch(t){this.Pv=!1}t.restore()}else try{t.drawImage(n,r,o,a,s,u,h,Math.min(i.width,l),Math.min(i.height,c))}catch(t){this.Pv=!1}switch(this.iu){case Hf:t.scale(-1,1),t.translate(-Math.min(i.width,l),0);break;case Gf:t.scale(1,-1),t.translate(0,-Math.min(i.height,c));break;case Uf:t.scale(-1,-1),t.translate(-Math.min(i.width,l),-Math.min(i.height,c))}}}}},Jh.u(Ko,{Ja:"naturalBounds"},function(){return this.Nc}),Ko.prototype.Qn=function(t,e,n,i){var r=this.Da,o=Ir(this,!0),s=this.Ve,a=this.Bz;(a||!this.lw&&s&&s.complete)&&(this.lw=!0),null===s&&(isFinite(r.width)||(t=0),isFinite(r.height)||(e=0)),isFinite(r.width)||o===Bf||o===If?(isFinite(t)||(t=this.Jj.I()?this.Jj.width:a?+s.width:s.naturalWidth),n=0):null!==s&&!1!==this.lw&&(t=this.Jj.I()?this.Jj.width:a?+s.width:s.naturalWidth),isFinite(r.height)||o===Bf||o===Vf?(isFinite(e)||(e=this.Jj.I()?this.Jj.height:a?+s.height:s.naturalHeight),i=0):null!==s&&!1!==this.lw&&(e=this.Jj.I()?this.Jj.height:a?+s.height:s.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.Hf,o=this.si,n=Math.max(n,o.width),i=Math.max(i,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(i,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),S(this.Nc,t,e),Ar(this,0,0,t,e)},Ko.prototype.pj=function(t,e,n,i){Er(this,t,e,n,i)},Kh=$o.prototype,Kh.reset=function(){this.o=new gt,this.Yb=null},Kh.fb=function(t){null===this.o&&Jh.k("StreamGeometryContext has been closed"),null===this.Yb&&Jh.k("Need to call beginFigure first"),this.Yb.jm=t},Kh.moveTo=function(t,e,n){void 0===n&&(n=!1),null===this.o&&Jh.k("StreamGeometryContext has been closed"),null===this.Yb&&Jh.k("Need to call beginFigure first");var i=new Tt(lc);i.C=t,i.D=e,n&&i.close(),this.Yb.yb.add(i)},Kh.lineTo=function(t,e,n){void 0===n&&(n=!1),null===this.o&&Jh.k("StreamGeometryContext has been closed"),null===this.Yb&&Jh.k("Need to call beginFigure first");var i=new Tt(cc);i.C=t,i.D=e,n&&i.close(),this.Yb.yb.add(i)},Kh.arcTo=function(t,e,n,i,r,o,s){void 0===o&&(o=0),void 0===s&&(s=!1),null===this.o&&Jh.k("StreamGeometryContext has been closed"),null===this.Yb&&Jh.k("Need to call beginFigure first");var a=new Tt(dc);a.Ae=t,a.uf=e,a.la=n,a.sa=i,a.radiusX=r,a.radiusY=0!==o?o:r,s&&a.close(),this.Yb.yb.add(a)};var Np,Ap={None:"Rectangle",Rectangle:function(t,e,n){return t=new gt,t.type=oc,t.ha=0,t.da=0,t.C=e,t.D=n,t},Square:function(t,e,n){return t=new gt,t.ae=qf,t.type=oc,t.ha=0,t.da=0,t.C=Math.min(e,n),t.D=Math.min(e,n),t},Ellipse:function(t,e,n){return t=new gt,t.type=sc,t.ha=0,t.da=0,t.C=e,t.D=n,t.A=$l,t.B=tc,t},Circle:function(t,e,n){return t=new gt,t.ae=qf,t.type=sc,t.ha=0,t.da=0,t.C=Math.min(e,n),t.D=Math.min(e,n),t.A=$l,t.B=tc,t},Connector:"Ellipse",TriangleRight:function(t,e,n){t=new gt;var i=new St,r=new Tt;return r.C=e,r.D=.5*n,i.yb.add(r),e=new Tt,e.C=0,e.D=n,i.yb.add(e.close()),t.fc.add(i),t.A=new E(0,.25),t.B=new E(.5,.75),t},TriangleDown:function(t,e,n){t=new gt;var i=new St,r=new Tt;return r.C=e,r.D=0,i.yb.add(r),r=new Tt,r.C=.5*e,r.D=n,i.yb.add(r.close()),t.fc.add(i),t.A=new E(.25,0),t.B=new E(.75,.5),t},TriangleLeft:function(t,e,n){t=new gt;var i=new St;i.ha=e,i.da=n;var r=new Tt;return r.C=0,r.D=.5*n,i.yb.add(r),n=new Tt,n.C=e,n.D=0,i.yb.add(n.close()),t.fc.add(i),t.A=new E(.5,.25),t.B=new E(1,.75),t},TriangleUp:function(t,e,n){t=new gt;var i=new St;i.ha=e,i.da=n;var r=new Tt;return r.C=0,r.D=n,i.yb.add(r),n=new Tt,n.C=.5*e,n.D=0,i.yb.add(n.close()),t.fc.add(i),t.A=new E(.25,.5),t.B=new E(.75,1),t},Line1:function(t,e,n){return t=new gt,t.type=rc,t.ha=0,t.da=0,t.C=e,t.D=n,t},Line2:function(t,e,n){return t=new gt,t.type=rc,t.ha=e,t.da=0,t.C=0,t.D=n,t},MinusLine:"LineH",LineH:function(t,e,n){return t=new gt,t.type=rc,t.ha=0,t.da=n/2,t.C=e,t.D=n/2,t},LineV:function(t,e,n){return t=new gt,t.type=rc,t.ha=e/2,t.da=0,t.C=e/2,t.D=n,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),is(t,Fl*e,0,1*e,(1-Fl)*n,e,n),e=t.o,Jh.q(t),e},Curve2:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),is(t,0,Fl*n,(1-Fl)*e,n,e,n),e=t.o,Jh.q(t),e},Curve3:function(t,e,n){return t=Jh.s(),ts(t,1*e,0,!1),is(t,1*e,Fl*n,Fl*e,1*n,0,1*n),e=t.o,Jh.q(t),e},Curve4:function(t,e,n){return t=Jh.s(),ts(t,1*e,0,!1),is(t,(1-Fl)*e,0,0,(1-Fl)*n,0,1*n),e=t.o,Jh.q(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0*n,!0),t.lineTo(0*e,1*n),t.lineTo(1*e,1*n,!0),e=t.o,e.A=new E(.25,.5),e.B=new E(.75,1),Jh.q(t),e},Decision:"Diamond",Diamond:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!0),t.lineTo(0,.5*n),t.lineTo(.5*e,1*n),t.lineTo(1*e,.5*n,!0),e=t.o,e.A=new E(.25,.25),e.B=new E(.75,.75),Jh.q(t),e},Pentagon:function(t,e,n){var i=us(5);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;5>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.2,.22),e.B=new E(.8,.9),Jh.q(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,n){var i=us(6);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;6>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.07,.25),e.B=new E(.93,.75),Jh.q(t),e},Heptagon:function(t,e,n){var i=us(7);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;7>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.2,.15),e.B=new E(.8,.85),Jh.q(t),e},Octagon:function(t,e,n){var i=us(8);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;8>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.15,.15),e.B=new E(.85,.85),Jh.q(t),e},Nonagon:function(t,e,n){var i=us(9);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;9>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.17,.13),e.B=new E(.82,.82),Jh.q(t),e},Decagon:function(t,e,n){var i=us(10);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;10>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.16,.16),e.B=new E(.84,.84),Jh.q(t),e},Dodecagon:function(t,e,n){var i=us(12);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;12>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.16,.16),e.B=new E(.84,.84),Jh.q(t),e},FivePointedStar:function(t,e,n){var i=as(5);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;10>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.312,.383),e.B=new E(.693,.765),Jh.q(t),e},SixPointedStar:function(t,e,n){var i=as(6);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;12>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.17,.251),e.B=new E(.833,.755),Jh.q(t),e},SevenPointedStar:function(t,e,n){var i=as(7);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;14>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.363,.361),e.B=new E(.641,.709),Jh.q(t),e},EightPointedStar:function(t,e,n){var i=as(8);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;16>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.252,.255),e.B=new E(.75,.75),Jh.q(t),e},NinePointedStar:function(t,e,n){var i=as(9);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;18>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.355,.361),e.B=new E(.645,.651),Jh.q(t),e},TenPointedStar:function(t,e,n){var i=as(10);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;20>r;r++)t.lineTo(i[r].x*e,i[r].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.281,.261),e.B=new E(.723,.748),Jh.q(t),e},FivePointedBurst:function(t,e,n){var i=ss(5);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)is(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.312,.383),e.B=new E(.693,.765),Jh.q(t),e},SixPointedBurst:function(t,e,n){var i=ss(6);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)is(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.17,.251),e.B=new E(.833,.755),Jh.q(t),e},SevenPointedBurst:function(t,e,n){var i=ss(7);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)is(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.363,.361),e.B=new E(.641,.709),Jh.q(t),e},EightPointedBurst:function(t,e,n){var i=ss(8);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)is(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.252,.255),e.B=new E(.75,.75),Jh.q(t),e},NinePointedBurst:function(t,e,n){var i=ss(9);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)is(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.355,.361),e.B=new E(.645,.651),Jh.q(t),e},TenPointedBurst:function(t,e,n){var i=ss(10);t=Jh.s(),ts(t,i[0].x*e,i[0].y*n,!0);for(var r=1;r<i.length;r+=3)is(t,i[r].x*e,i[r].y*n,i[r+1].x*e,i[r+1].y*n,i[r+2].x*e,i[r+2].y*n);return Jh.ra(i),es(t),e=t.o,e.A=new E(.281,.261),e.B=new E(.723,.748),Jh.q(t),e},Cloud:function(t,e,n){return t=Jh.s(),ts(t,.08034461*e,.1944299*n,!0),is(t,-.09239631*e,.07836421*n,.1406031*e,-.0542823*n,.2008615*e,.05349299*n),is(t,.2450511*e,-.00697547*n,.3776197*e,-.01112067*n,.4338609*e,.074219*n),is(t,.4539471*e,0,.6066018*e,-.02526587*n,.6558228*e,.07004196*n),is(t,.6914277*e,-.01904177*n,.8921095*e,-.01220843*n,.8921095*e,.08370865*n),is(t,1.036446*e,.04105738*n,1.020377*e,.3022052*n,.9147671*e,.3194596*n),is(t,1.04448*e,.360238*n,.992256*e,.5219009*n,.9082935*e,.562044*n),is(t,1.032337*e,.5771781*n,1.018411*e,.8120651*n,.9212406*e,.8217117*n),is(t,1.028411*e,.9571472*n,.8556702*e,1.052487*n,.7592566*e,.9156953*n),is(t,.7431877*e,1.009325*n,.5624123*e,1.021761*n,.5101666*e,.9310455*n),is(t,.4820677*e,1.031761*n,.3030112*e,1.002796*n,.2609328*e,.9344623*n),is(t,.2329994*e,1.01518*n,.03213784*e,1.01518*n,.08034461*e,.870098*n),is(t,-.02812061*e,.9032597*n,-.01205169*e,.6835638*n,.06829292*e,.6545475*n),is(t,-.01812061*e,.6089503*n,-.00606892*e,.4555777*n,.06427569*e,.4265613*n),is(t,-.01606892*e,.3892545*n,-.01205169*e,.1944299*n,.08034461*e,.1944299*n),es(t),e=t.o,e.A=new E(.1,.1),e.B=new E(.9,.9),Jh.q(t),e},Gate:"Crescent",Crescent:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),is(t,1*e,0,1*e,1*n,0,1*n),is(t,.5*e,.75*n,.5*e,.25*n,0,0),es(t),e=t.o,e.A=new E(.511,.19),e.B=new E(.776,.76),Jh.q(t),e},FramedRectangle:function(t,e,n){var i=Jh.s(),r=t?t.Jc:NaN;return t=t?t.Qu:NaN,isNaN(r)&&(r=.1),isNaN(t)&&(t=.1),ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n,!0),ts(i,r*e,t*n,!1,!0),i.lineTo(r*e,(1-t)*n),i.lineTo((1-r)*e,(1-t)*n),i.lineTo((1-r)*e,t*n,!0),e=i.o,e.A=new E(r,t),e.B=new E(1-r,1-t),Jh.q(i),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),is(t,Fl*e,0,1*e,(.5-Fl/2)*n,1*e,.5*n),is(t,1*e,(.5+Fl/2)*n,Fl*e,1*n,0,1*n),es(t),e=t.o,e.A=new E(0,.2),e.B=new E(.75,.8),Jh.q(t),e},Heart:function(t,e,n){return t=Jh.s(),ts(t,.5*e,1*n,!0),is(t,.1*e,.8*n,0,.5*n,0*e,.3*n),is(t,0*e,0,.45*e,0,.5*e,.3*n),is(t,.55*e,0,1*e,0,1*e,.3*n),is(t,e,.5*n,.9*e,.8*n,.5*e,1*n),es(t),e=t.o,e.A=new E(.15,.29),e.B=new E(.86,.68),Jh.q(t),e},Spade:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!0),t.lineTo(.51*e,.01*n),is(t,.6*e,.2*n,e,.25*n,e,.5*n),is(t,e,.8*n,.6*e,.8*n,.55*e,.7*n),is(t,.5*e,.75*n,.55*e,.95*n,.75*e,n),t.lineTo(.25*e,n),is(t,.45*e,.95*n,.5*e,.75*n,.45*e,.7*n),is(t,.4*e,.8*n,0,.8*n,0,.5*n),is(t,0,.25*n,.4*e,.2*n,.49*e,.01*n),es(t),e=t.o,e.A=new E(.19,.26),e.B=new E(.8,.68),Jh.q(t),e},Club:function(t,e,n){t=Jh.s(),ts(t,.4*e,.6*n,!0),is(t,.5*e,.75*n,.45*e,.95*n,.15*e,1*n),t.lineTo(.85*e,n),is(t,.55*e,.95*n,.5*e,.75*n,.6*e,.6*n);var i=.2,r=.3,o=0,s=4*(Math.SQRT2-1)/3*i;return is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,(.5+i+r)*e,(.5+o)*n),is(t,(.5+i+r)*e,(.5-s+o)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r+.05)*e,(.5-s+o-.02)*n,.65*e,.36771243*n),i=.2,r=0,o=-.3,s=4*(Math.SQRT2-1)/3*i,is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,(.5+i+r)*e,(.5+o)*n),is(t,(.5+i+r)*e,(.5-s+o)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,.35*e,.36771243*n),i=.2,r=-.3,o=0,s=4*(Math.SQRT2-1)/3*i,is(t,(.5+i+r-.05)*e,(.5-s+o-.02)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,.4*e,.6*n),es(t),e=t.o,e.A=new E(.06,.39),e.B=new E(.93,.58),Jh.q(t),e},Ring:function(t,e,n){t=Jh.s();var i=4*(Math.SQRT2-1)/3*.5;return ts(t,e,.5*n,!0),is(t,e,(.5-i)*n,(.5+i)*e,0,.5*e,0),is(t,(.5-i)*e,0,0,(.5-i)*n,0,.5*n),is(t,0,(.5+i)*n,(.5-i)*e,n,.5*e,n),is(t,(.5+i)*e,n,e,(.5+i)*n,e,.5*n),i=4*(Math.SQRT2-1)/3*.4,ts(t,.5*e,.1*n,!0,!0),is(t,(.5+i)*e,.1*n,.9*e,(.5-i)*n,.9*e,.5*n),is(t,.9*e,(.5+i)*n,(.5+i)*e,.9*n,.5*e,.9*n),is(t,(.5-i)*e,.9*n,.1*e,(.5+i)*n,.1*e,.5*n),is(t,.1*e,(.5-i)*n,(.5-i)*e,.1*n,.5*e,.1*n),e=t.o,e.A=new E(.146,.146),e.B=new E(.853,.853),e.ae=qf,Jh.q(t),e},YinYang:function(t,e,n){var i=.5;t=Jh.s(),i=.5,ts(t,.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),is(t,1*e,i*n,0,i*n,i*e,0,!0);var i=.1,r=.25;return ts(t,(.5+i)*e,r*n,!0,!0),t.arcTo(0,-360,.5*e,n*r,i*e),es(t),ts(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.fb(!1),r=.75,ts(t,(.5+i)*e,r*n,!0),t.arcTo(0,360,.5*e,n*r,i*e),es(t),e=t.o,e.ae=qf,Jh.q(t),e},Peace:function(t,e,n){t=Jh.s();var i=4*(Math.SQRT2-1)/3*.5;ts(t,e,.5*n,!0),is(t,e,(.5-i)*n,(.5+i)*e,0,.5*e,0),is(t,(.5-i)*e,0,0,(.5-i)*n,0,.5*n),is(t,0,(.5+i)*n,(.5-i)*e,n,.5*e,n),is(t,(.5+i)*e,n,e,(.5+i)*n,e,.5*n),i=4*(Math.SQRT2-1)/3*.4,ts(t,.5*e,.1*n,!0,!0),is(t,(.5+i)*e,.1*n,.9*e,(.5-i)*n,.9*e,.5*n),is(t,.9*e,(.5+i)*n,(.5+i)*e,.9*n,.5*e,.9*n),is(t,(.5-i)*e,.9*n,.1*e,(.5+i)*n,.1*e,.5*n),is(t,.1*e,(.5-i)*n,(.5-i)*e,.1*n,.5*e,.1*n);var i=.07,r=0,o=.11*-.707,s=4*(Math.SQRT2-1)/3*i;return ts(t,(.5+i+r)*e,(.5+o)*n,!0),is(t,(.5+i+r)*e,(.5-s+o)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,(.5+i+r)*e,(.5+o)*n),i=.07,r=.11*-.707,o=.707*.11,s=4*(Math.SQRT2-1)/3*i,ts(t,(.5+i+r)*e,(.5+o)*n,!0),is(t,(.5+i+r)*e,(.5-s+o)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,(.5+i+r)*e,(.5+o)*n),i=.07,r=.707*.11,o=.707*.11,s=4*(Math.SQRT2-1)/3*i,ts(t,(.5+i+r)*e,(.5+o)*n,!0),is(t,(.5+i+r)*e,(.5-s+o)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,(.5+i+r)*e,(.5+o)*n),e=t.o,e.A=new E(.146,.146),e.B=new E(.853,.853),e.ae=qf,Jh.q(t),e},NotAllowed:function(t,e,n){var i=.5*Fl,r=.5;t=Jh.s(),ts(t,.5*e,(.5-r)*n,!0),is(t,(.5-i)*e,(.5-r)*n,(.5-r)*e,(.5-i)*n,(.5-r)*e,.5*n),is(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),is(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),is(t,(.5+r)*e,(.5-i)*n,(.5+i)*e,(.5-r)*n,.5*e,(.5-r)*n);var r=.4,i=.4*Fl,o=Jh.K(),s=Jh.K(),a=Jh.K(),u=Jh.K();$(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.42,o,s,a,u,u);var h=Jh.K(),l=Jh.K(),c=Jh.K();$(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.58,u,u,c,h,l);var f=Jh.K(),p=Jh.K(),d=Jh.K();$(.5,.5+r,.5-i,.5+r,.5-r,.5+i,.5-r,.5,.42,f,p,d,u,u);var y=Jh.K(),v=Jh.K(),g=Jh.K();return $(.5,.5+r,.5-i,.5+r,.5-r,.5+i,.5-r,.5,.58,u,u,g,y,v),ts(t,g.x*e,g.y*n,!0,!0),is(t,y.x*e,y.y*n,v.x*e,v.y*n,(.5-r)*e,.5*n),is(t,(.5-r)*e,(.5-i)*n,(.5-i)*e,(.5-r)*n,.5*e,(.5-r)*n),is(t,o.x*e,o.y*n,s.x*e,s.y*n,a.x*e,a.y*n),t.lineTo(g.x*e,g.y*n),es(t),ts(t,d.x*e,d.y*n,!0,!0),t.lineTo(c.x*e,c.y*n),is(t,h.x*e,h.y*n,l.x*e,l.y*n,(.5+r)*e,.5*n),is(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),is(t,f.x*e,f.y*n,p.x*e,p.y*n,d.x*e,d.y*n),es(t),Jh.v(o),Jh.v(s),Jh.v(a),Jh.v(u),Jh.v(h),Jh.v(l),Jh.v(c),Jh.v(f),Jh.v(p),Jh.v(d),Jh.v(y),Jh.v(v),Jh.v(g),e=t.o,Jh.q(t),e.ae=qf,e},Fragile:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*n),t.lineTo(.3*e,.25*n),t.lineTo(.29*e,.33*n),t.lineTo(.35*e,.25*n),t.lineTo(.3*e,.15*n),t.lineTo(.4*e,0),t.lineTo(1*e,0),is(t,1*e,.25*n,.75*e,.5*n,.55*e,.5*n),t.lineTo(.55*e,.9*n),t.lineTo(.7*e,.9*n),t.lineTo(.7*e,1*n),t.lineTo(.3*e,1*n),t.lineTo(.3*e,.9*n),t.lineTo(.45*e,.9*n),t.lineTo(.45*e,.5*n),is(t,.25*e,.5*n,0,.25*n,0,0),es(t),e=t.o,e.A=new E(.25,0),e.B=new E(.75,.4),Jh.q(t),e},HourGlass:function(t,e,n){return t=Jh.s(),ts(t,.65*e,.5*n,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(.35*e,.5*n),t.lineTo(0,0),t.lineTo(1*e,0),es(t),e=t.o,Jh.q(t),e},Lightning:function(t,e,n){return t=Jh.s(),ts(t,0*e,.55*n,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*n),t.lineTo(.9*e,.48*n),t.lineTo(.4*e,1*n),t.lineTo(.65*e,.55*n),es(t),e=t.o,Jh.q(t),e},Parallelogram1:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.1);var i=Jh.s();return ts(i,t*e,0,!0),i.lineTo(1*e,0),i.lineTo((1-t)*e,1*n),i.lineTo(0,1*n),es(i),e=i.o,e.A=new E(t,0),e.B=new E(1-t,1),Jh.q(i),e},Input:"Output",Output:function(t,e,n){return t=Jh.s(),ts(t,0,1*n,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*n),es(t),e=t.o,e.A=new E(.1,0),e.B=new E(.9,1),Jh.q(t),e},Parallelogram2:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.25);var i=Jh.s();return ts(i,t*e,0,!0),i.lineTo(1*e,0),i.lineTo((1-t)*e,1*n),i.lineTo(0,1*n),es(i),e=i.o,e.A=new E(t,0),e.B=new E(1-t,1),Jh.q(i),e},ThickCross:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.25);var i=Jh.s();return ts(i,(.5-t/2)*e,0,!0),i.lineTo((.5+t/2)*e,0),i.lineTo((.5+t/2)*e,(.5-t/2)*n),i.lineTo(1*e,(.5-t/2)*n),i.lineTo(1*e,(.5+t/2)*n),i.lineTo((.5+t/2)*e,(.5+t/2)*n),i.lineTo((.5+t/2)*e,1*n),i.lineTo((.5-t/2)*e,1*n),i.lineTo((.5-t/2)*e,(.5+t/2)*n),i.lineTo(0,(.5+t/2)*n),i.lineTo(0,(.5-t/2)*n),i.lineTo((.5-t/2)*e,(.5-t/2)*n),es(i),e=i.o,e.A=new E(.5-t/2,.5-t/2),e.B=new E(.5+t/2,.5+t/2),Jh.q(i),e},ThickX:function(t,e,n){t=.25/Math.SQRT2;var i=Jh.s();return ts(i,.3*e,0,!0),i.lineTo(.5*e,.2*n),i.lineTo(.7*e,0),i.lineTo(1*e,.3*n),i.lineTo(.8*e,.5*n),i.lineTo(1*e,.7*n),i.lineTo(.7*e,1*n),i.lineTo(.5*e,.8*n),i.lineTo(.3*e,1*n),i.lineTo(0,.7*n),i.lineTo(.2*e,.5*n),i.lineTo(0,.3*n),es(i),e=i.o,e.A=new E(.5-t,.5-t),e.B=new E(.5+t,.5+t),Jh.q(i),e},ThinCross:function(t,e,n){var i=t?t.Jc:NaN;return isNaN(i)&&(i=.1),t=Jh.s(),ts(t,(.5-i/2)*e,0,!0),t.lineTo((.5+i/2)*e,0),t.lineTo((.5+i/2)*e,(.5-i/2)*n),t.lineTo(1*e,(.5-i/2)*n),t.lineTo(1*e,(.5+i/2)*n),t.lineTo((.5+i/2)*e,(.5+i/2)*n),t.lineTo((.5+i/2)*e,1*n),t.lineTo((.5-i/2)*e,1*n),t.lineTo((.5-i/2)*e,(.5+i/2)*n),t.lineTo(0,(.5+i/2)*n),t.lineTo(0,(.5-i/2)*n),t.lineTo((.5-i/2)*e,(.5-i/2)*n),es(t),e=t.o,Jh.q(t),e},ThinX:function(t,e,n){return t=Jh.s(),ts(t,.1*e,0,!0),t.lineTo(.5*e,.4*n),t.lineTo(.9*e,0),t.lineTo(1*e,.1*n),t.lineTo(.6*e,.5*n),t.lineTo(1*e,.9*n),t.lineTo(.9*e,1*n),t.lineTo(.5*e,.6*n),t.lineTo(.1*e,1*n),t.lineTo(0,.9*n),t.lineTo(.4*e,.5*n),t.lineTo(0,.1*n),es(t),e=t.o,Jh.q(t),e},RightTriangle:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),es(t),e=t.o,e.A=new E(0,.5),e.B=new E(.5,1),Jh.q(t),e},RoundedIBeam:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(1*e,0),is(t,.5*e,.25*n,.5*e,.75*n,1*e,1*n),t.lineTo(0,1*n),is(t,.5*e,.75*n,.5*e,.25*n,0,0),es(t),e=t.o,Jh.q(t),e},RoundedRectangle:function(t,e,n){var i=t?t.Jc:NaN;isNaN(i)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3),t=i*Fl;var r=Jh.s();return ts(r,i,0,!0),r.lineTo(e-i,0),is(r,e-t,0,e,t,e,i),r.lineTo(e,n-i),is(r,e,n-t,e-t,n,e-i,n),r.lineTo(i,n),is(r,t,n,0,n-t,0,n-i),r.lineTo(0,i),is(r,0,t,t,0,i,0),es(r),e=r.o,1<t?(e.A=new E(0,0,t,t),e.B=new E(1,1,-t,-t)):(e.A=rl,e.B=fl),Jh.q(r),e},Border:function(t,e,n){var i=t?t.Jc:NaN;return isNaN(i)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3),t=Jh.s(),ts(t,i,0,!0),t.lineTo(e-i,0),is(t,e-0,0,e,0,e,i),t.lineTo(e,n-i),is(t,e,n-0,e-0,n,e-i,n),t.lineTo(i,n),is(t,0,n,0,n-0,0,n-i),t.lineTo(0,i),is(t,0,0,0,0,i,0),es(t),e=t.o,e.A=rl,e.B=fl,Jh.q(t),e},SquareIBeam:function(t,e,n){var i=t?t.Jc:NaN;return isNaN(i)&&(i=.2),t=Jh.s(),ts(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,i*n),t.lineTo((.5+i/2)*e,i*n),t.lineTo((.5+i/2)*e,(1-i)*n),t.lineTo(1*e,(1-i)*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,(1-i)*n),t.lineTo((.5-i/2)*e,(1-i)*n),t.lineTo((.5-i/2)*e,i*n),t.lineTo(0,i*n),es(t),e=t.o,Jh.q(t),e},Trapezoid:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.2);var i=Jh.s();return ts(i,t*e,0,!0),i.lineTo((1-t)*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),e=i.o,e.A=new E(t,0),e.B=new E(1-t,1),Jh.q(i),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,n){var i=t?t.Jc:NaN;return isNaN(i)&&(i=0),t=Jh.s(),ts(t,i,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*n),t.lineTo(.1*e,1*n),es(t),e=t.o,e.A=new E(.1,0),e.B=new E(.9,1),Jh.q(t),e},GenderMale:function(t,e,n){t=Jh.s();var i=.4*Fl,r=.4,o=Jh.K(),s=Jh.K(),a=Jh.K(),u=Jh.K();ts(t,(.5-r)*e,.5*n,!0),is(t,(.5-r)*e,(.5-i)*n,(.5-i)*e,(.5-r)*n,.5*e,(.5-r)*n),$(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.44,a,u,s,o,o),is(t,a.x*e,a.y*n,u.x*e,u.y*n,s.x*e,s.y*n);var h=Jh.wb(s.x,s.y);$(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.56,o,o,s,a,u);var l=Jh.wb(s.x,s.y);return t.lineTo((.1*h.x+.855)*e,.1*h.y*n),t.lineTo(.85*e,.1*h.y*n),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*n),t.lineTo((.1*l.x+.9)*e,.15*n),t.lineTo((.1*l.x+.9)*e,(.1*l.y+.05*.9)*n),t.lineTo(l.x*e,l.y*n),is(t,a.x*e,a.y*n,u.x*e,u.y*n,(.5+r)*e,.5*n),is(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),is(t,(.5-i)*e,(.5+r)*n,(.5-r)*e,(.5+i)*n,(.5-r)*e,.5*n),r=.35,i=.35*Fl,ts(t,.5*e,(.5-r)*n,!0,!0),is(t,(.5-i)*e,(.5-r)*n,(.5-r)*e,(.5-i)*n,(.5-r)*e,.5*n),is(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),is(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),is(t,(.5+r)*e,(.5-i)*n,(.5+i)*e,(.5-r)*n,.5*e,(.5-r)*n),ts(t,(.5-r)*e,.5*n,!0),Jh.v(o),Jh.v(s),Jh.v(a),Jh.v(u),Jh.v(h),Jh.v(l),e=t.o,e.A=new E(.202,.257),e.B=new E(.692,.839),e.ae=qf,Jh.q(t),e},GenderFemale:function(t,e,n){t=Jh.s();var i=.375,r=0,o=-.125,s=4*(Math.SQRT2-1)/3*i;return ts(t,(.525+r)*e,(.5+i+o)*n,!0),is(t,(.5+s+r)*e,(.5+i+o)*n,(.5+i+r)*e,(.5+s+o)*n,(.5+i+r)*e,(.5+o)*n),is(t,(.5+i+r)*e,(.5-s+o)*n,(.5+s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5-s+r)*e,(.5-i+o)*n,(.5-i+r)*e,(.5-s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5+s+o)*n,(.5-s+r)*e,(.5+i+o)*n,(.475+r)*e,(.5+i+o)*n),t.lineTo(.475*e,.85*n),t.lineTo(.425*e,.85*n),t.lineTo(.425*e,.9*n),t.lineTo(.475*e,.9*n),t.lineTo(.475*e,1*n),t.lineTo(.525*e,1*n),t.lineTo(.525*e,.9*n),t.lineTo(.575*e,.9*n),t.lineTo(.575*e,.85*n),t.lineTo(.525*e,.85*n),es(t),i=.325,r=0,o=-.125,s=4*(Math.SQRT2-1)/3*i,ts(t,(.5+i+r)*e,(.5+o)*n,!0,!0),is(t,(.5+i+r)*e,(.5+s+o)*n,(.5+s+r)*e,(.5+i+o)*n,(.5+r)*e,(.5+i+o)*n),is(t,(.5-s+r)*e,(.5+i+o)*n,(.5-i+r)*e,(.5+s+o)*n,(.5-i+r)*e,(.5+o)*n),is(t,(.5-i+r)*e,(.5-s+o)*n,(.5-s+r)*e,(.5-i+o)*n,(.5+r)*e,(.5-i+o)*n),is(t,(.5+s+r)*e,(.5-i+o)*n,(.5+i+r)*e,(.5-s+o)*n,(.5+i+r)*e,(.5+o)*n),ts(t,(.525+r)*e,(.5+i+o)*n,!0),e=t.o,e.A=new E(.232,.136),e.B=new E(.782,.611),e.ae=qf,Jh.q(t),e},PlusLine:function(t,e,n){return t=Jh.s(),ts(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),e=t.o,Jh.q(t),e},XLine:function(t,e,n){return t=Jh.s(),ts(t,0,1*n,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*n),e=t.o,Jh.q(t),e},AsteriskLine:function(t,e,n){t=Jh.s();var i=.2/Math.SQRT2;return ts(t,i*e,(1-i)*n,!1),t.lineTo((1-i)*e,i*n),t.moveTo(i*e,i*n),t.lineTo((1-i)*e,(1-i)*n),t.moveTo(0*e,.5*n),t.lineTo(1*e,.5*n),t.moveTo(.5*e,0*n),t.lineTo(.5*e,1*n),e=t.o,Jh.q(t),e},CircleLine:function(t,e,n){var i=.5*Fl;return t=Jh.s(),ts(t,1*e,.5*n,!1),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),e=t.o,e.A=new E(.146,.146),e.B=new E(.853,.853),e.ae=qf,Jh.q(t),e},Pie:function(t,e,n){t=Jh.s();var i=4*(Math.SQRT2-1)/3*.5;return ts(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*n,!0),is(t,.7*e,0*n,.5*e,0*n,.5*e,0*n),is(t,(.5-i+0)*e,0*n,0*e,(.5-i+0)*n,0*e,.5*n),is(t,0*e,(.5+i+0)*n,(.5-i+0)*e,1*n,.5*e,1*n),is(t,(.5+i+0)*e,1*n,1*e,(.5+i+0)*n,1*e,.5*n),t.lineTo(.5*e,.5*n),es(t),e=t.o,Jh.q(t),e},PiePiece:function(t,e,n){var i=Fl/Math.SQRT2*.5,r=Math.SQRT2/2,o=1-Math.SQRT2/2;return t=Jh.s(),ts(t,e,n,!0),is(t,e,(1-i)*n,(r+i)*e,(o+i)*n,r*e,o*n),t.lineTo(0,n),es(t),e=t.o,Jh.q(t),e},StopSign:function(t,e,n){t=1/(Math.SQRT2+2);var i=Jh.s();return ts(i,t*e,0,!0),i.lineTo((1-t)*e,0),i.lineTo(1*e,t*n),i.lineTo(1*e,(1-t)*n),i.lineTo((1-t)*e,1*n),i.lineTo(t*e,1*n),i.lineTo(0,(1-t)*n),i.lineTo(0,t*n),es(i),e=i.o,e.A=new E(t/2,t/2),e.B=new E(1-t/2,1-t/2),Jh.q(i),e},LogicImplies:function(t,e,n){var i=t?t.Jc:NaN;return isNaN(i)&&(i=.2),t=Jh.s(),ts(t,(1-i)*e,0*n,!1),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,n),t.moveTo(0,.5*n),t.lineTo(e,.5*n),e=t.o,e.A=rl,e.B=new E(.8,.5),Jh.q(t),e},LogicIff:function(t,e,n){var i=t?t.Jc:NaN;return isNaN(i)&&(i=.2),t=Jh.s(),ts(t,(1-i)*e,0*n,!1),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,n),t.moveTo(0,.5*n),t.lineTo(e,.5*n),t.moveTo(i*e,0),t.lineTo(0,.5*n),t.lineTo(i*e,n),e=t.o,e.A=new E(.2,0),e.B=new E(.8,.5),Jh.q(t),e},LogicNot:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Jh.q(t),e},LogicAnd:function(t,e,n){return t=Jh.s(),ts(t,0,1*n,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*n),e=t.o,e.A=new E(.25,.5),e.B=new E(.75,1),Jh.q(t),e},LogicOr:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(.5*e,1*n),t.lineTo(1*e,0),e=t.o,e.A=new E(.219,0),e.B=new E(.78,.409),Jh.q(t),e},LogicXor:function(t,e,n){t=Jh.s(),ts(t,.5*e,0,!1),t.lineTo(.5*e,1*n),t.moveTo(0,.5*n),t.lineTo(1*e,.5*n);var i=.5*Fl;return is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),e=t.o,e.ae=qf,Jh.q(t),e},LogicTruth:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),e=t.o,Jh.q(t),e},LogicFalsity:function(t,e,n){return t=Jh.s(),ts(t,0,1*n,!1),t.lineTo(1*e,1*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,0),e=t.o,Jh.q(t),e},LogicThereExists:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*n),t.lineTo(0,.5*n),t.moveTo(1*e,.5*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),e=t.o,Jh.q(t),e},LogicForAll:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(.5*e,1*n),t.lineTo(1*e,0),t.moveTo(.25*e,.5*n),t.lineTo(.75*e,.5*n),e=t.o,e.A=new E(.25,0),e.B=new E(.75,.5),Jh.q(t),e},LogicIsDefinedAs:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*n),t.lineTo(e,.5*n),t.moveTo(0,n),t.lineTo(e,n),e=t.o,e.A=new E(.01,.01),e.B=new E(.99,.49),Jh.q(t),e},LogicIntersect:function(t,e,n){var i=.5*Fl;return t=Jh.s(),ts(t,0,1*n,!1),t.lineTo(0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),t.lineTo(1*e,1*n),e=t.o,e.A=new E(0,.5),e.B=fl,Jh.q(t),e},LogicUnion:function(t,e,n){var i=.5*Fl;return t=Jh.s(),ts(t,1*e,0,!1),t.lineTo(1*e,.5*n),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),t.lineTo(0,0),e=t.o,e.A=rl,e.B=new E(1,.5),Jh.q(t),e},Arrow:function(t,e,n){var i=t?t.Jc:NaN,r=t?t.Qu:NaN;return isNaN(i)&&(i=.3),isNaN(r)&&(r=.3),t=Jh.s(),ts(t,0,(.5-r/2)*n,!0),t.lineTo((1-i)*e,(.5-r/2)*n),t.lineTo((1-i)*e,0),t.lineTo(1*e,.5*n),t.lineTo((1-i)*e,1*n),t.lineTo((1-i)*e,(.5+r/2)*n),t.lineTo(0,(.5+r/2)*n),es(t),e=t.o,e.A=new E(0,.5-r/2),i=ut(0,.5+r/2,1,.5+r/2,1-i,1,1,.5,Jh.K()),e.B=new E(i.x,i.y),Jh.v(i),Jh.q(t),e},ISOProcess:"Chevron",Chevron:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,1*n),t.lineTo(.5*e,.5*n),es(t),e=t.o,Jh.q(t),e},DoubleArrow:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.3*e,.214*n),t.lineTo(.3*e,0),t.lineTo(1*e,.5*n),t.lineTo(.3*e,1*n),t.lineTo(.3*e,.786*n),t.lineTo(0,1*n),es(t),ts(t,.3*e,.214*n,!1),t.lineTo(.3*e,.786*n),t.fb(!1),e=t.o,Jh.q(t),e},DoubleEndArrow:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(.3*e,.7*n),t.lineTo(.3*e,1*n),t.lineTo(0,.5*n),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),es(t),e=t.o,n=ut(0,.5,.3,0,0,.3,.3,.3,Jh.K()),e.A=new E(n.x,n.y),n=ut(.7,1,1,.5,.7,.7,1,.7,n),e.B=new E(n.x,n.y),Jh.v(n),Jh.q(t),e},IBeamArrow:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(.2*e,.7*n),t.lineTo(.2*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),es(t),e=t.o,e.A=new E(0,.3),n=ut(.7,1,1,.5,.7,.7,1,.7,Jh.K()),e.B=new E(n.x,n.y),Jh.v(n),Jh.q(t),e},Pointer:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(.2*e,.5*n),t.lineTo(0,0),es(t),e=t.o,e.A=new E(.2,.35),n=ut(.2,.65,1,.65,0,1,1,.5,Jh.K()),e.B=new E(n.x,n.y),Jh.v(n),Jh.q(t),e},RoundedPointer:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(0,1*n),is(t,.5*e,.75*n,.5*e,.25*n,0,0),es(t),e=t.o,e.A=new E(.4,.35),n=ut(.2,.65,1,.65,0,1,1,.5,Jh.K()),e.B=new E(n.x,n.y),Jh.v(n),Jh.q(t),e},SplitEndArrow:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(.7*e,.7*n),t.lineTo(0,.7*n),t.lineTo(.2*e,.5*n),t.lineTo(0,.3*n),t.lineTo(.7*e,.3*n),t.lineTo(.7*e,0),es(t),e=t.o,e.A=new E(.2,.3),n=ut(.7,1,1,.5,.7,.7,1,.7,Jh.K()),e.B=new E(n.x,n.y),Jh.v(n),Jh.q(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(.7*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.7*e,0),es(t),e=t.o,e.A=rl,e.B=new E(.7,1),Jh.q(t),e},Cone1:function(t,e,n){var i=.5*Fl,r=.1*Fl;return t=Jh.s(),ts(t,0,.9*n,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.9*n),is(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),es(t),e=t.o,e.A=new E(.25,.5),e.B=new E(.75,.97),Jh.q(t),e},Cone2:function(t,e,n){return t=Jh.s(),ts(t,0,.9*n,!0),is(t,(1-.85/.9)*e,1*n,.85/.9*e,1*n,1*e,.9*n),t.lineTo(.5*e,0),t.lineTo(0,.9*n),es(t),ts(t,0,.9*n,!1),is(t,(1-.85/.9)*e,.8*n,.85/.9*e,.8*n,1*e,.9*n),t.fb(!1),e=t.o,e.A=new E(.25,.5),e.B=new E(.75,.82),Jh.q(t),e},Cube1:function(t,e,n){return t=Jh.s(),ts(t,.5*e,1*n,!0),t.lineTo(1*e,.85*n),t.lineTo(1*e,.15*n),t.lineTo(.5*e,0*n),t.lineTo(0*e,.15*n),t.lineTo(0*e,.85*n),es(t),ts(t,.5*e,1*n,!1),t.lineTo(.5*e,.3*n),t.lineTo(0,.15*n),t.moveTo(.5*e,.3*n),t.lineTo(1*e,.15*n),t.fb(!1),e=t.o,e.A=new E(0,.3),e.B=new E(.5,.85),Jh.q(t),e},Cube2:function(t,e,n){return t=Jh.s(),ts(t,0,.3*n,!0),t.lineTo(0*e,1*n),t.lineTo(.7*e,n),t.lineTo(1*e,.7*n),t.lineTo(1*e,0*n),t.lineTo(.3*e,0*n),es(t),ts(t,0,.3*n,!1),t.lineTo(.7*e,.3*n),t.lineTo(1*e,0*n),t.moveTo(.7*e,.3*n),t.lineTo(.7*e,1*n),t.fb(!1),e=t.o,e.A=new E(0,.3),e.B=new E(.7,1),Jh.q(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,n){var i=.5*Fl,r=.1*Fl;return t=Jh.s(),ts(t,0,.1*n,!0),is(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),t.lineTo(e,.9*n),is(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),ts(t,0,.1*n,!1),is(t,0,(.1+r)*n,(.5-i)*e,.2*n,.5*e,.2*n),is(t,(.5+i)*e,.2*n,1*e,(.1+r)*n,1*e,.1*n),t.fb(!1),e=t.o,e.A=new E(0,.2),e.B=new E(1,.9),Jh.q(t),e},Cylinder2:function(t,e,n){var i=.5*Fl,r=.1*Fl;return t=Jh.s(),ts(t,0,.9*n,!0),t.lineTo(0,.1*n),is(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),t.lineTo(1*e,.9*n),is(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),ts(t,0,.9*n,!1),is(t,0,(.9-r)*n,(.5-i)*e,.8*n,.5*e,.8*n),is(t,(.5+i)*e,.8*n,1*e,(.9-r)*n,1*e,.9*n),t.fb(!1),e=t.o,e.A=new E(0,.1),e.B=new E(1,.8),Jh.q(t),e},Cylinder3:function(t,e,n){var i=.1*Fl,r=.5*Fl;return t=Jh.s(),ts(t,.1*e,0,!0),t.lineTo(.9*e,0),is(t,(.9+i)*e,0,1*e,(.5-r)*n,1*e,.5*n),is(t,1*e,(.5+r)*n,(.9+i)*e,1*n,.9*e,1*n),t.lineTo(.1*e,1*n),is(t,(.1-i)*e,1*n,0,(.5+r)*n,0,.5*n),is(t,0,(.5-r)*n,(.1-i)*e,0,.1*e,0),ts(t,.1*e,0,!1),is(t,(.1+i)*e,0,.2*e,(.5-r)*n,.2*e,.5*n),is(t,.2*e,(.5+r)*n,(.1+i)*e,1*n,.1*e,1*n),t.fb(!1),e=t.o,e.A=new E(.2,0),e.B=new E(.9,1),Jh.q(t),e},DirectData:"Cylinder4",Cylinder4:function(t,e,n){var i=.1*Fl,r=.5*Fl;return t=Jh.s(),ts(t,.9*e,0,!0),is(t,(.9+i)*e,0,1*e,(.5-r)*n,1*e,.5*n),is(t,1*e,(.5+r)*n,(.9+i)*e,1*n,.9*e,1*n),t.lineTo(.1*e,1*n),is(t,(.1-i)*e,1*n,0,(.5+r)*n,0,.5*n),is(t,0,(.5-r)*n,(.1-i)*e,0,.1*e,0),t.lineTo(.9*e,0),ts(t,.9*e,0,!1),is(t,(.9-i)*e,0,.8*e,(.5-r)*n,.8*e,.5*n),is(t,.8*e,(.5+r)*n,(.9-i)*e,1*n,.9*e,1*n),t.fb(!1),e=t.o,e.A=new E(.1,0),e.B=new E(.8,1),Jh.q(t),e},Prism1:function(t,e,n){return t=Jh.s(),ts(t,.25*e,.25*n,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*n),t.lineTo(.5*e,n),t.lineTo(0,n),es(t),ts(t,.25*e,.25*n,!1),t.lineTo(.5*e,n),t.fb(!1),e=t.o,e.A=new E(.408,.172),e.B=new E(.833,.662),Jh.q(t),e},Prism2:function(t,e,n){return t=Jh.s(),ts(t,0,.25*n,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(.75*e,.75*n),t.lineTo(0,1*n),es(t),ts(t,0,n,!1),t.lineTo(.25*e,.5*n),t.lineTo(e,.25*n),t.moveTo(0,.25*n),t.lineTo(.25*e,.5*n),t.fb(!1),e=t.o,e.A=new E(.25,.5),e.B=new E(.75,.75),Jh.q(t),e},Pyramid1:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!0),t.lineTo(e,.75*n),t.lineTo(.5*e,1*n),t.lineTo(0,.75*n),es(t),ts(t,.5*e,0,!1),t.lineTo(.5*e,1*n),t.fb(!1),e=t.o,e.A=new E(.25,.367),e.B=new E(.75,.875),Jh.q(t),e},Pyramid2:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!0),t.lineTo(e,.85*n),t.lineTo(.5*e,1*n),t.lineTo(0,.85*n),es(t),ts(t,.5*e,0,!1),t.lineTo(.5*e,.7*n),t.lineTo(0,.85*n),t.moveTo(.5*e,.7*n),t.lineTo(1*e,.85*n),t.fb(!1),e=t.o,e.A=new E(.25,.367),e.B=new E(.75,.875),Jh.q(t),e},Actor:function(t,e,n){var i=.2*Fl,r=.1*Fl,o=.5,s=.1;return t=Jh.s(),ts(t,o*e,(s+.1)*n,!0),is(t,(o-i)*e,(s+.1)*n,(o-.2)*e,(s+r)*n,(o-.2)*e,s*n),is(t,(o-.2)*e,(s-r)*n,(o-i)*e,(s-.1)*n,o*e,(s-.1)*n),is(t,(o+i)*e,(s-.1)*n,(o+.2)*e,(s-r)*n,(o+.2)*e,s*n),is(t,(o+.2)*e,(s+r)*n,(o+i)*e,(s+.1)*n,o*e,(s+.1)*n),i=.05,r=Fl*i,ts(t,.5*e,.2*n,!0),t.lineTo(.95*e,.2*n),o=.95,s=.25,is(t,(o+r)*e,(s-i)*n,(o+i)*e,(s-r)*n,(o+i)*e,s*n),t.lineTo(1*e,.6*n),t.lineTo(.85*e,.6*n),t.lineTo(.85*e,.35*n),i=.025,r=Fl*i,o=.825,s=.35,is(t,(o+i)*e,(s-r)*n,(o+r)*e,(s-i)*n,o*e,(s-i)*n),is(t,(o-r)*e,(s-i)*n,(o-i)*e,(s-r)*n,(o-i)*e,s*n),t.lineTo(.8*e,1*n),t.lineTo(.55*e,1*n),t.lineTo(.55*e,.7*n),i=.05,r=Fl*i,o=.5,s=.7,is(t,(o+i)*e,(s-r)*n,(o+r)*e,(s-i)*n,o*e,(s-i)*n),is(t,(o-r)*e,(s-i)*n,(o-i)*e,(s-r)*n,(o-i)*e,s*n),t.lineTo(.45*e,1*n),t.lineTo(.2*e,1*n),t.lineTo(.2*e,.35*n),i=.025,r=Fl*i,o=.175,s=.35,is(t,(o+i)*e,(s-r)*n,(o+r)*e,(s-i)*n,o*e,(s-i)*n),is(t,(o-r)*e,(s-i)*n,(o-i)*e,(s-r)*n,(o-i)*e,s*n),t.lineTo(.15*e,.6*n),t.lineTo(0*e,.6*n),t.lineTo(0*e,.25*n),i=.05,r=Fl*i,o=.05,s=.25,is(t,(o-i)*e,(s-r)*n,(o-r)*e,(s-i)*n,o*e,(s-i)*n),t.lineTo(.5*e,.2*n),e=t.o,e.A=new E(.2,.2),e.B=new E(.8,.65),Jh.q(t),e},Card:function(t,e,n){return t=Jh.s(),ts(t,1*e,0*n,!0),t.lineTo(1*e,1*n),t.lineTo(0*e,1*n),t.lineTo(0*e,.2*n),t.lineTo(.2*e,0*n),es(t),e=t.o,e.A=new E(0,.2),e.B=fl,Jh.q(t),e},Collate:function(t,e,n){return t=Jh.s(),ts(t,.5*e,.5*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*n),ts(t,.5*e,.5*n,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(.5*e,.5*n),e=t.o,e.A=new E(.25,0),e.B=new E(.75,.25),Jh.q(t),e},CreateRequest:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.1);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),ts(i,0,t*n,!1),i.lineTo(1*e,t*n),i.moveTo(0,(1-t)*n),i.lineTo(1*e,(1-t)*n),i.fb(!1),e=i.o,e.A=new E(0,t),e.B=new E(1,1-t),Jh.q(i),e},Database:function(t,e,n){t=Jh.s();var i=.5*Fl,r=.1*Fl;return ts(t,1*e,.1*n,!0),t.lineTo(1*e,.9*n),is(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),is(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),ts(t,1*e,.1*n,!1),is(t,1*e,(.1+r)*n,(.5+i)*e,.2*n,.5*e,.2*n),is(t,(.5-i)*e,.2*n,0,(.1+r)*n,0,.1*n),t.moveTo(1*e,.2*n),is(t,1*e,(.2+r)*n,(.5+i)*e,.3*n,.5*e,.3*n),is(t,(.5-i)*e,.3*n,0,(.2+r)*n,0,.2*n),t.moveTo(1*e,.3*n),is(t,1*e,(.3+r)*n,(.5+i)*e,.4*n,.5*e,.4*n),is(t,(.5-i)*e,.4*n,0,(.3+r)*n,0,.3*n),t.fb(!1),e=t.o,e.A=new E(0,.4),e.B=new E(1,.9),Jh.q(t),e},StoredData:"DataStorage",DataStorage:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.75*e,0),is(t,1*e,0,1*e,1*n,.75*e,1*n),t.lineTo(0,1*n),is(t,.25*e,.9*n,.25*e,.1*n,0,0),es(t),e=t.o,e.A=new E(.226,0),e.B=new E(.81,1),Jh.q(t),e},DiskStorage:function(t,e,n){t=Jh.s();var i=.5*Fl,r=.1*Fl;return ts(t,1*e,.1*n,!0),t.lineTo(1*e,.9*n),is(t,1*e,(.9+r)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.9+r)*n,0,.9*n),t.lineTo(0,.1*n),is(t,0,(.1-r)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.1-r)*n,1*e,.1*n),ts(t,1*e,.1*n,!1),is(t,1*e,(.1+r)*n,(.5+i)*e,.2*n,.5*e,.2*n),is(t,(.5-i)*e,.2*n,0,(.1+r)*n,0,.1*n),t.moveTo(1*e,.2*n),is(t,1*e,(.2+r)*n,(.5+i)*e,.3*n,.5*e,.3*n),is(t,(.5-i)*e,.3*n,0,(.2+r)*n,0,.2*n),t.fb(!1),e=t.o,e.A=new E(0,.3),e.B=new E(1,.9),Jh.q(t),e},Display:function(t,e,n){return t=Jh.s(),ts(t,.25*e,0,!0),t.lineTo(.75*e,0),is(t,1*e,0,1*e,1*n,.75*e,1*n),t.lineTo(.25*e,1*n),t.lineTo(0,.5*n),es(t),e=t.o,e.A=new E(.25,0),e.B=new E(.75,1),Jh.q(t),e},DividedEvent:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)?t=.2:.15>t&&(t=.15);var i=Jh.s(),r=.2*Fl;return ts(i,0,.2*n,!0),is(i,0,(.2-r)*n,(.2-r)*e,0,.2*e,0),i.lineTo(.8*e,0),is(i,(.8+r)*e,0,1*e,(.2-r)*n,1*e,.2*n),i.lineTo(1*e,.8*n),is(i,1*e,(.8+r)*n,(.8+r)*e,1*n,.8*e,1*n),i.lineTo(.2*e,1*n),is(i,(.2-r)*e,1*n,0,(.8+r)*n,0,.8*n),i.lineTo(0,.2*n),ts(i,0,t*n,!1),i.lineTo(1*e,t*n),i.fb(!1),e=i.o,e.A=new E(0,t),e.B=new E(1,1-t),Jh.q(i),e},DividedProcess:function(t,e,n){t=t?t.Jc:NaN,(isNaN(t)||.1>t)&&(t=.1);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),ts(i,0,t*n,!1),i.lineTo(1*e,t*n),i.fb(!1),e=i.o,e.A=new E(0,t),e.B=fl,Jh.q(i),e},Document:function(t,e,n){return n/=.8,t=Jh.s(),ts(t,0,.7*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*n),is(t,.5*e,.4*n,.5*e,1*n,0,.7*n),es(t),e=t.o,e.A=rl,e.B=new E(1,.6),Jh.q(t),e},ExternalOrganization:function(t,e,n){t=t?t.Jc:NaN,(isNaN(t)||.2>t)&&(t=.2);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),ts(i,t*e,0,!1),i.lineTo(0,t*n),i.moveTo(1*e,t*n),i.lineTo((1-t)*e,0),i.moveTo(0,(1-t)*n),i.lineTo(t*e,1*n),i.moveTo((1-t)*e,1*n),i.lineTo(1*e,(1-t)*n),i.fb(!1),e=i.o,e.A=new E(t/2,t/2),e.B=new E(1-t/2,1-t/2),Jh.q(i),e},ExternalProcess:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,.5*n),es(t),ts(t,.1*e,.4*n,!1),t.lineTo(.1*e,.6*n),t.moveTo(.9*e,.6*n),t.lineTo(.9*e,.4*n),t.moveTo(.6*e,.1*n),t.lineTo(.4*e,.1*n),t.moveTo(.4*e,.9*n),t.lineTo(.6*e,.9*n),t.fb(!1),e=t.o,e.A=new E(.25,.25),e.B=new E(.75,.75),Jh.q(t),e},File:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),es(t),ts(t,.75*e,0,!1),t.lineTo(.75*e,.25*n),t.lineTo(1*e,.25*n),t.fb(!1),e=t.o,e.A=new E(0,.25),e.B=fl,Jh.q(t),e},Interrupt:function(t,e,n){return t=Jh.s(),ts(t,1*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(1*e,.5*n),ts(t,1*e,.5*n,!1),t.lineTo(1*e,1*n),ts(t,1*e,.5*n,!1),t.lineTo(1*e,0),e=t.o,e.A=new E(0,.25),e.B=new E(.5,.75),Jh.q(t),e},InternalStorage:function(t,e,n){var i=t?t.Jc:NaN;t=t?t.Qu:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.1);var r=Jh.s();return ts(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(1*e,1*n),r.lineTo(0,1*n),es(r),ts(r,i*e,0,!1),r.lineTo(i*e,1*n),r.moveTo(0,t*n),r.lineTo(1*e,t*n),r.fb(!1),e=r.o,e.A=new E(i,t),e.B=fl,Jh.q(r),e},Junction:function(t,e,n){t=Jh.s();var i=1/Math.SQRT2,r=(1-1/Math.SQRT2)/2,o=.5*Fl;return ts(t,1*e,.5*n,!0),is(t,1*e,(.5+o)*n,(.5+o)*e,1*n,.5*e,1*n),is(t,(.5-o)*e,1*n,0,(.5+o)*n,0,.5*n),is(t,0,(.5-o)*n,(.5-o)*e,0,.5*e,0),is(t,(.5+o)*e,0,1*e,(.5-o)*n,1*e,.5*n),ts(t,(r+i)*e,(r+i)*n,!1),t.lineTo(r*e,r*n),t.moveTo(r*e,(r+i)*n),t.lineTo((r+i)*e,r*n),t.fb(!1),e=t.o,e.ae=qf,Jh.q(t),e},LinedDocument:function(t,e,n){return n/=.8,t=Jh.s(),ts(t,0,.7*n,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*n),is(t,.5*e,.4*n,.5*e,1*n,0,.7*n),es(t),ts(t,.1*e,0,!1),t.lineTo(.1*e,.75*n),t.fb(!1),e=t.o,e.A=new E(.1,0),e.B=new E(1,.6),Jh.q(t),e},LoopLimit:function(t,e,n){return t=Jh.s(),ts(t,0,1*n,!0),t.lineTo(0,.25*n),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*n),t.lineTo(1*e,1*n),es(t),e=t.o,e.A=new E(0,.25),e.B=fl,Jh.q(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,.5*e,1*n,!0),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),is(t,1*e,(.5+i)*n,(.5+i)*e,.9*n,.6*e,.9*n),t.lineTo(1*e,.9*n),t.lineTo(1*e,1*n),t.lineTo(.5*e,1*n),e=t.o,e.A=new E(.15,.15),e.B=new E(.85,.8),Jh.q(t),e},ManualInput:function(t,e,n){return t=Jh.s(),ts(t,1*e,0,!0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.25*n),es(t),e=t.o,e.A=new E(0,.25),e.B=fl,Jh.q(t),e},MessageFromUser:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.7);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(t*e,.5*n),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),e=i.o,e.A=rl,e.B=new E(t,1),Jh.q(i),e},MicroformProcessing:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.25);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(.5*e,t*n),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(.5*e,(1-t)*n),i.lineTo(0,1*n),es(i),e=i.o,e.A=new E(0,t),e.B=new E(1,1-t),Jh.q(i),e},MicroformRecording:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.75*e,.25*n),t.lineTo(1*e,.15*n),t.lineTo(1*e,.85*n),t.lineTo(.75*e,.75*n),t.lineTo(0,1*n),es(t),e=t.o,e.A=new E(0,.25),e.B=new E(1,.75),Jh.q(t),e},MultiDocument:function(t,e,n){return n/=.8,t=Jh.s(),ts(t,e,0,!0),t.lineTo(e,.5*n),is(t,.96*e,.47*n,.93*e,.45*n,.9*e,.44*n),t.lineTo(.9*e,.6*n),is(t,.86*e,.57*n,.83*e,.55*n,.8*e,.54*n),t.lineTo(.8*e,.7*n),is(t,.4*e,.4*n,.4*e,1*n,0,.7*n),t.lineTo(0,.2*n),t.lineTo(.1*e,.2*n),t.lineTo(.1*e,.1*n),t.lineTo(.2*e,.1*n),t.lineTo(.2*e,0),es(t),ts(t,.1*e,.2*n,!1),t.lineTo(.8*e,.2*n),t.lineTo(.8*e,.54*n),t.moveTo(.2*e,.1*n),t.lineTo(.9*e,.1*n),t.lineTo(.9*e,.44*n),t.fb(!1),e=t.o,e.A=new E(0,.25),e.B=new E(.8,.77),Jh.q(t),e},MultiProcess:function(t,e,n){return t=Jh.s(),ts(t,.1*e,.1*n,!0),t.lineTo(.2*e,.1*n),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*n),t.lineTo(.9*e,.8*n),t.lineTo(.9*e,.9*n),t.lineTo(.8*e,.9*n),t.lineTo(.8*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.2*n),t.lineTo(.1*e,.2*n),es(t),ts(t,.2*e,.1*n,!1),t.lineTo(.9*e,.1*n),t.lineTo(.9*e,.8*n),t.moveTo(.1*e,.2*n),t.lineTo(.8*e,.2*n),t.lineTo(.8*e,.9*n),t.fb(!1),e=t.o,e.A=new E(0,.2),e.B=new E(.8,1),Jh.q(t),e},OfflineStorage:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.1);var i=1-t,r=Jh.s();return ts(r,0,0,!0),r.lineTo(1*e,0),r.lineTo(.5*e,1*n),es(r),ts(r,.5*t*e,t*n,!1),r.lineTo((1-.5*t)*e,t*n),r.fb(!1),e=r.o,e.A=new E(i/4+.5*t,t),e.B=new E(3*i/4+.5*t,t+.5*i),Jh.q(r),e},OffPageConnector:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*n),t.lineTo(.75*e,1*n),t.lineTo(0,1*n),es(t),e=t.o,e.A=rl,e.B=new E(.75,1),Jh.q(t),e},Or:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,1*e,.5*n,!0),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),ts(t,1*e,.5*n,!1),t.lineTo(0,.5*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,0),t.fb(!1),e=t.o,e.ae=qf,Jh.q(t),e},PaperTape:function(t,e,n){return n/=.8,t=Jh.s(),ts(t,0,.7*n,!0),t.lineTo(0,.3*n),is(t,.5*e,.6*n,.5*e,0,1*e,.3*n),t.lineTo(1*e,.7*n),is(t,.5*e,.4*n,.5*e,1*n,0,.7*n),es(t),e=t.o,e.A=new E(0,.49),e.B=new E(1,.75),Jh.q(t),e},PrimitiveFromCall:function(t,e,n){var i=t?t.Jc:NaN;t=t?t.Qu:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.3);var r=Jh.s();return ts(r,0,0,!0),r.lineTo(1*e,0),r.lineTo((1-t)*e,.5*n),r.lineTo(1*e,1*n),r.lineTo(0,1*n),es(r),e=r.o,e.A=new E(i,0),e.B=new E(1-t,1),Jh.q(r),e},PrimitiveToCall:function(t,e,n){var i=t?t.Jc:NaN;t=t?t.Qu:NaN,isNaN(i)&&(i=.1),isNaN(t)&&(t=.3);var r=Jh.s();return ts(r,0,0,!0),r.lineTo((1-t)*e,0),r.lineTo(1*e,.5*n),r.lineTo((1-t)*e,1*n),r.lineTo(0,1*n),es(r),e=r.o,e.A=new E(i,0),e.B=new E(1-t,1),Jh.q(r),e},Subroutine:"Procedure",Procedure:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.1);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),ts(i,(1-t)*e,0,!1),i.lineTo((1-t)*e,1*n),i.moveTo(t*e,0),i.lineTo(t*e,1*n),i.fb(!1),e=i.o,e.A=new E(t,0),e.B=new E(1-t,1),Jh.q(i),e},Process:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.1);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(0,1*n),es(i),ts(i,t*e,0,!1),i.lineTo(t*e,1*n),i.fb(!1),e=i.o,e.A=new E(t,0),e.B=fl,Jh.q(i),e},Sort:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!0),t.lineTo(1*e,.5*n),t.lineTo(.5*e,1*n),t.lineTo(0,.5*n),es(t),ts(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.fb(!1),e=t.o,e.A=new E(.25,.25),e.B=new E(.75,.5),Jh.q(t),e},Start:function(t,e,n){return t=Jh.s(),ts(t,.25*e,0,!0),ts(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*n,.25*e,.5*n),t.arcTo(90,180,.25*e,.5*n,.25*e,.5*n),ts(t,.25*e,0,!1),t.lineTo(.25*e,1*n),t.moveTo(.75*e,0),t.lineTo(.75*e,1*n),t.fb(!1),e=t.o,e.A=new E(.25,0),e.B=new E(.75,1),Jh.q(t),e},Terminator:function(t,e,n){return t=Jh.s(),ts(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*n,.25*e,.5*n),t.arcTo(90,180,.25*e,.5*n,.25*e,.5*n),e=t.o,e.A=new E(.23,0),e.B=new E(.77,1),Jh.q(t),e},TransmittalTape:function(t,e,n){t=t?t.Jc:NaN,isNaN(t)&&(t=.1);var i=Jh.s();return ts(i,0,0,!0),i.lineTo(1*e,0),i.lineTo(1*e,1*n),i.lineTo(.75*e,(1-t)*n),i.lineTo(0,(1-t)*n),es(i),e=i.o,e.A=rl,e.B=new E(1,1-t),Jh.q(i),e},AndGate:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,0,0,!0),t.lineTo(.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),t.lineTo(0,1*n),es(t),e=t.o,e.A=rl,e.B=new E(.55,1),Jh.q(t),e},Buffer:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(1*e,.5*n),t.lineTo(0,1*n),es(t),e=t.o,e.A=new E(0,.25),e.B=new E(.5,.75),Jh.q(t),e},Clock:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,1*e,.5*n,!0),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),ts(t,1*e,.5*n,!1),t.lineTo(1*e,.5*n),ts(t,.8*e,.75*n,!1),t.lineTo(.8*e,.25*n),t.lineTo(.6*e,.25*n),t.lineTo(.6*e,.75*n),t.lineTo(.4*e,.75*n),t.lineTo(.4*e,.25*n),t.lineTo(.2*e,.25*n),t.lineTo(.2*e,.75*n),t.fb(!1),e=t.o,e.ae=qf,Jh.q(t),e},Ground:function(t,e,n){return t=Jh.s(),ts(t,.5*e,0,!1),t.lineTo(.5*e,.4*n),t.moveTo(.2*e,.6*n),t.lineTo(.8*e,.6*n),t.moveTo(.3*e,.8*n),t.lineTo(.7*e,.8*n),t.moveTo(.4*e,1*n),t.lineTo(.6*e,1*n),e=t.o,Jh.q(t),e},Inverter:function(t,e,n){t=Jh.s();var i=.1*Fl;return ts(t,.8*e,.5*n,!0),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.8*e,.5*n),ts(t,1*e,.5*n,!0),is(t,1*e,(.5+i)*n,(.9+i)*e,.6*n,.9*e,.6*n),is(t,(.9-i)*e,.6*n,.8*e,(.5+i)*n,.8*e,.5*n),is(t,.8*e,(.5-i)*n,(.9-i)*e,.4*n,.9*e,.4*n),is(t,(.9+i)*e,.4*n,1*e,(.5-i)*n,1*e,.5*n),e=t.o,e.A=new E(0,.25),e.B=new E(.4,.75),Jh.q(t),e},NandGate:function(t,e,n){t=Jh.s();var i=.5*Fl,r=.4*Fl,o=.1*Fl;return ts(t,.8*e,.5*n,!0),is(t,.8*e,(.5+r)*n,(.4+i)*e,1*n,.4*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(.4*e,0),is(t,(.4+i)*e,0,.8*e,(.5-r)*n,.8*e,.5*n),ts(t,1*e,.5*n,!0),is(t,1*e,(.5+o)*n,(.9+o)*e,.6*n,.9*e,.6*n),is(t,(.9-o)*e,.6*n,.8*e,(.5+o)*n,.8*e,.5*n),is(t,.8*e,(.5-o)*n,(.9-o)*e,.4*n,.9*e,.4*n),is(t,(.9+o)*e,.4*n,1*e,(.5-o)*n,1*e,.5*n),e=t.o,e.A=new E(0,.05),e.B=new E(.55,.95),Jh.q(t),e},NorGate:function(t,e,n){t=Jh.s();var i=.5,r=Fl*i,o=0,s=.5;return ts(t,.8*e,.5*n,!0),is(t,.7*e,(s+r)*n,(o+r)*e,(s+i)*n,0,1*n),is(t,.25*e,.75*n,.25*e,.25*n,0,0),is(t,(o+r)*e,(s-i)*n,.7*e,(s-r)*n,.8*e,.5*n),i=.1,r=.1*Fl,o=.9,s=.5,ts(t,(o-i)*e,s*n,!0),is(t,(o-i)*e,(s-r)*n,(o-r)*e,(s-i)*n,o*e,(s-i)*n),is(t,(o+r)*e,(s-i)*n,(o+i)*e,(s-r)*n,(o+i)*e,s*n),is(t,(o+i)*e,(s+r)*n,(o+r)*e,(s+i)*n,o*e,(s+i)*n),is(t,(o-r)*e,(s+i)*n,(o-i)*e,(s+r)*n,(o-i)*e,s*n),e=t.o,e.A=new E(.2,.25),e.B=new E(.6,.75),Jh.q(t),e},OrGate:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,0,0,!0),is(t,(0+i+i)*e,0*n,.8*e,(.5-i)*n,1*e,.5*n),is(t,.8*e,(.5+i)*n,(0+i+i)*e,1*n,0,1*n),is(t,.25*e,.75*n,.25*e,.25*n,0,0),es(t),e=t.o,e.A=new E(.2,.25),e.B=new E(.75,.75),Jh.q(t),e},XnorGate:function(t,e,n){t=Jh.s();var i=.5,r=Fl*i,o=.2,s=.5;return ts(t,.1*e,0,!1),is(t,.35*e,.25*n,.35*e,.75*n,.1*e,1*n),ts(t,.8*e,.5*n,!0),is(t,.7*e,(s+r)*n,(o+r)*e,(s+i)*n,.2*e,1*n),is(t,.45*e,.75*n,.45*e,.25*n,.2*e,0),is(t,(o+r)*e,(s-i)*n,.7*e,(s-r)*n,.8*e,.5*n),i=.1,r=.1*Fl,o=.9,s=.5,ts(t,(o-i)*e,s*n,!0),is(t,(o-i)*e,(s-r)*n,(o-r)*e,(s-i)*n,o*e,(s-i)*n),is(t,(o+r)*e,(s-i)*n,(o+i)*e,(s-r)*n,(o+i)*e,s*n),is(t,(o+i)*e,(s+r)*n,(o+r)*e,(s+i)*n,o*e,(s+i)*n),is(t,(o-r)*e,(s+i)*n,(o-i)*e,(s+r)*n,(o-i)*e,s*n),e=t.o,e.A=new E(.4,.25),e.B=new E(.65,.75),Jh.q(t),e},XorGate:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,.1*e,0,!1),is(t,.35*e,.25*n,.35*e,.75*n,.1*e,1*n),ts(t,.2*e,0,!0),is(t,(.2+i)*e,0*n,.9*e,(.5-i)*n,1*e,.5*n),is(t,.9*e,(.5+i)*n,(.2+i)*e,1*n,.2*e,1*n),is(t,.45*e,.75*n,.45*e,.25*n,.2*e,0),es(t),e=t.o,e.A=new E(.4,.25),e.B=new E(.8,.75),Jh.q(t),e},Capacitor:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(0,1*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Jh.q(t),e},Resistor:function(t,e,n){return t=Jh.s(),ts(t,0,.5*n,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*n),t.lineTo(.3*e,0),t.lineTo(.4*e,1*n),t.lineTo(.5*e,0),t.lineTo(.6*e,1*n),t.lineTo(.7*e,.5*n),e=t.o,Jh.q(t),e},Inductor:function(t,e,n){t=Jh.s();var i=.1*Fl,r=.1;return ts(t,(r-.5*i)*e,n,!1),is(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.3,is(t,(r+.1)*e,0,(r+i)*e,n,r*e,n),is(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.5,is(t,(r+.1)*e,0,(r+i)*e,n,r*e,n),is(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.7,is(t,(r+.1)*e,0,(r+i)*e,n,r*e,n),is(t,(r-i)*e,n,(r-.1)*e,0,(r+.1)*e,0),r=.9,is(t,(r+.1)*e,0,(r+i)*e,n,(r+.5*i)*e,n),e=t.o,Jh.q(t),e},ACvoltageSource:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,0*e,.5*n,!1),is(t,0*e,(.5-i)*n,(.5-i)*e,0*n,.5*e,0*n),is(t,(.5+i)*e,0*n,1*e,(.5-i)*n,1*e,.5*n),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0*e,(.5+i)*n,0*e,.5*n),t.moveTo(.1*e,.5*n),is(t,.5*e,0*n,.5*e,1*n,.9*e,.5*n),e=t.o,e.ae=qf,Jh.q(t),e},DCvoltageSource:function(t,e,n){return t=Jh.s(),ts(t,0,.75*n,!1),t.lineTo(0,.25*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Jh.q(t),e},Diode:function(t,e,n){return t=Jh.s(),ts(t,1*e,0,!1),t.lineTo(1*e,.5*n),t.lineTo(0,1*n),t.lineTo(0,0),t.lineTo(1*e,.5*n),t.lineTo(1*e,1*n),e=t.o,e.A=new E(0,.25),e.B=new E(.5,.75),Jh.q(t),e},Wifi:function(t,e,n){var i=e,r=n;e*=.38,n*=.6,t=Jh.s();var o=.8*Fl,s=.8,a=0,u=.5,i=(i-e)/2,r=(r-n)/2;return ts(t,a*e+i,(u+s)*n+r,!0),is(t,(a-o)*e+i,(u+s)*n+r,(a-s)*e+i,(u+o)*n+r,(a-s)*e+i,u*n+r),is(t,(a-s)*e+i,(u-o)*n+r,(a-o)*e+i,(u-s)*n+r,a*e+i,(u-s)*n+r),is(t,a*e+i,(u-s)*n+r,(a-s+.5*o)*e+i,(u-o)*n+r,(a-s+.5*o)*e+i,u*n+r),is(t,(a-s+.5*o)*e+i,(u+o)*n+r,a*e+i,(u+s)*n+r,a*e+i,(u+s)*n+r),es(t),o=.4*Fl,s=.4,a=.2,u=.5,ts(t,a*e+i,(u+s)*n+r,!0),is(t,(a-o)*e+i,(u+s)*n+r,(a-s)*e+i,(u+o)*n+r,(a-s)*e+i,u*n+r),is(t,(a-s)*e+i,(u-o)*n+r,(a-o)*e+i,(u-s)*n+r,a*e+i,(u-s)*n+r),is(t,a*e+i,(u-s)*n+r,(a-s+.5*o)*e+i,(u-o)*n+r,(a-s+.5*o)*e+i,u*n+r),is(t,(a-s+.5*o)*e+i,(u+o)*n+r,a*e+i,(u+s)*n+r,a*e+i,(u+s)*n+r),es(t),o=.2*Fl,s=.2,u=a=.5,ts(t,(a-s)*e+i,u*n+r,!0),is(t,(a-s)*e+i,(u-o)*n+r,(a-o)*e+i,(u-s)*n+r,a*e+i,(u-s)*n+r),is(t,(a+o)*e+i,(u-s)*n+r,(a+s)*e+i,(u-o)*n+r,(a+s)*e+i,u*n+r),is(t,(a+s)*e+i,(u+o)*n+r,(a+o)*e+i,(u+s)*n+r,a*e+i,(u+s)*n+r),is(t,(a-o)*e+i,(u+s)*n+r,(a-s)*e+i,(u+o)*n+r,(a-s)*e+i,u*n+r),o=.4*Fl,s=.4,a=.8,u=.5,ts(t,a*e+i,(u-s)*n+r,!0),is(t,(a+o)*e+i,(u-s)*n+r,(a+s)*e+i,(u-o)*n+r,(a+s)*e+i,u*n+r),is(t,(a+s)*e+i,(u+o)*n+r,(a+o)*e+i,(u+s)*n+r,a*e+i,(u+s)*n+r),is(t,a*e+i,(u+s)*n+r,(a+s-.5*o)*e+i,(u+o)*n+r,(a+s-.5*o)*e+i,u*n+r),is(t,(a+s-.5*o)*e+i,(u-o)*n+r,a*e+i,(u-s)*n+r,a*e+i,(u-s)*n+r),es(t),o=.8*Fl,s=.8,a=1,u=.5,ts(t,a*e+i,(u-s)*n+r,!0),is(t,(a+o)*e+i,(u-s)*n+r,(a+s)*e+i,(u-o)*n+r,(a+s)*e+i,u*n+r),is(t,(a+s)*e+i,(u+o)*n+r,(a+o)*e+i,(u+s)*n+r,a*e+i,(u+s)*n+r),is(t,a*e+i,(u+s)*n+r,(a+s-.5*o)*e+i,(u+o)*n+r,(a+s-.5*o)*e+i,u*n+r),is(t,(a+s-.5*o)*e+i,(u-o)*n+r,a*e+i,(u-s)*n+r,a*e+i,(u-s)*n+r),es(t),e=t.o,Jh.q(t),e},Email:function(t,e,n){return t=Jh.s(),ts(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,0),es(t),ts(t,0,0,!1),t.lineTo(.5*e,.6*n),t.lineTo(1*e,0),t.moveTo(0,1*n),t.lineTo(.45*e,.54*n),t.moveTo(1*e,1*n),t.lineTo(.55*e,.54*n),t.fb(!1),e=t.o,Jh.q(t),e},Ethernet:function(t,e,n){return t=Jh.s(),ts(t,.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*n),t.lineTo(.35*e,.4*n),t.lineTo(.35*e,0),es(t),ts(t,.1*e,1*n,!0,!0),t.lineTo(.4*e,1*n),t.lineTo(.4*e,.6*n),t.lineTo(.1*e,.6*n),t.lineTo(.1*e,1*n),es(t),ts(t,.6*e,1*n,!0,!0),t.lineTo(.9*e,1*n),t.lineTo(.9*e,.6*n),t.lineTo(.6*e,.6*n),t.lineTo(.6*e,1*n),es(t),ts(t,0,.5*n,!1),t.lineTo(1*e,.5*n),t.moveTo(.5*e,.5*n),t.lineTo(.5*e,.4*n),t.moveTo(.75*e,.5*n),t.lineTo(.75*e,.6*n),t.moveTo(.25*e,.5*n),t.lineTo(.25*e,.6*n),t.fb(!1),e=t.o,Jh.q(t),e},Power:function(t,e,n){t=Jh.s();var i=.4*Fl,r=.4,o=Jh.K(),s=Jh.K(),a=Jh.K(),u=Jh.K();$(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.5,o,o,s,a,u);var h=Jh.wb(s.x,s.y);return ts(t,s.x*e,s.y*n,!0),is(t,a.x*e,a.y*n,u.x*e,u.y*n,(.5+r)*e,.5*n),is(t,(.5+r)*e,(.5+i)*n,(.5+i)*e,(.5+r)*n,.5*e,(.5+r)*n),is(t,(.5-i)*e,(.5+r)*n,(.5-r)*e,(.5+i)*n,(.5-r)*e,.5*n),$(.5-r,.5,.5-r,.5-i,.5-i,.5-r,.5,.5-r,.5,a,u,s,o,o),is(t,a.x*e,a.y*n,u.x*e,u.y*n,s.x*e,s.y*n),i=.3*Fl,r=.3,$(.5-r,.5,.5-r,.5-i,.5-i,.5-r,.5,.5-r,.5,a,u,s,o,o),t.lineTo(s.x*e,s.y*n),is(t,u.x*e,u.y*n,a.x*e,a.y*n,(.5-r)*e,.5*n),is(t,(.5-r)*e,(.5+i)*n,(.5-i)*e,(.5+r)*n,.5*e,(.5+r)*n),is(t,(.5+i)*e,(.5+r)*n,(.5+r)*e,(.5+i)*n,(.5+r)*e,.5*n),$(.5,.5-r,.5+i,.5-r,.5+r,.5-i,.5+r,.5,.5,o,o,s,a,u),is(t,u.x*e,u.y*n,a.x*e,a.y*n,s.x*e,s.y*n),es(t),ts(t,.45*e,0,!0),t.lineTo(.45*e,.5*n),t.lineTo(.55*e,.5*n),t.lineTo(.55*e,0),es(t),Jh.v(o),Jh.v(s),Jh.v(a),Jh.v(u),Jh.v(h),e=t.o,e.A=new E(.25,.55),e.B=new E(.75,.8),Jh.q(t),e},Fallout:function(t,e,n){t=Jh.s();var i=.5*Fl;ts(t,0*e,.5*n,!0),is(t,0*e,(.5-i)*n,(.5-i)*e,0*n,.5*e,0*n),is(t,(.5+i)*e,0*n,1*e,(.5-i)*n,1*e,.5*n),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0*e,(.5+i)*n,0*e,.5*n);var r=i=0;return ts(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),i=.4,r=0,es(t),ts(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),i=.2,r=-.3,es(t),ts(t,(.3+i)*e,(.8+r)*n,!0,!0),t.lineTo((.5+i)*e,(.5+r)*n),t.lineTo((.1+i)*e,(.5+r)*n),t.lineTo((.3+i)*e,(.8+r)*n),es(t),e=t.o,e.ae=qf,Jh.q(t),e},IrritationHazard:function(t,e,n){return t=Jh.s(),ts(t,.2*e,0*n,!0),t.lineTo(.5*e,.3*n),t.lineTo(.8*e,0*n),t.lineTo(1*e,.2*n),t.lineTo(.7*e,.5*n),t.lineTo(1*e,.8*n),t.lineTo(.8*e,1*n),t.lineTo(.5*e,.7*n),t.lineTo(.2*e,1*n),t.lineTo(0*e,.8*n),t.lineTo(.3*e,.5*n),t.lineTo(0*e,.2*n),es(t),e=t.o,e.A=new E(.3,.3),e.B=new E(.7,.7),Jh.q(t),e},ElectricalHazard:function(t,e,n){return t=Jh.s(),ts(t,.37*e,0*n,!0),t.lineTo(.5*e,.11*n),t.lineTo(.77*e,.04*n),t.lineTo(.33*e,.49*n),t.lineTo(1*e,.37*n),t.lineTo(.63*e,.86*n),t.lineTo(.77*e,.91*n),t.lineTo(.34*e,1*n),t.lineTo(.34*e,.78*n),t.lineTo(.44*e,.8*n),t.lineTo(.65*e,.56*n),t.lineTo(0*e,.68*n),es(t),e=t.o,Jh.q(t),e},FireHazard:function(t,e,n){return t=Jh.s(),ts(t,.1*e,1*n,!0),is(t,-.25*e,.63*n,.45*e,.44*n,.29*e,0*n),is(t,.48*e,.17*n,.54*e,.35*n,.51*e,.42*n),is(t,.59*e,.29*n,.58*e,.28*n,.59*e,.18*n),is(t,.8*e,.34*n,.88*e,.43*n,.75*e,.6*n),is(t,.87*e,.48*n,.88*e,.43*n,.88*e,.31*n),is(t,1.17*e,.76*n,.82*e,.8*n,.9*e,1*n),es(t),e=t.o,e.A=new E(.05,.645),e.B=new E(.884,.908),Jh.q(t),e},BpmnActivityLoop:function(t,e,n){t=Jh.s();var i=4*(Math.SQRT2-1)/3*.5;return ts(t,.65*e,1*n,!1),is(t,(1-i+0)*e,1*n,1*e,(.5+i+0)*n,1*e,.5*n),is(t,1*e,(.5-i+0)*n,(.5+i+0)*e,0*n,.5*e,0*n),is(t,(.5-i+0)*e,0*n,0*e,(.5-i+0)*n,0*e,.5*n),is(t,0*e,(.5+i+0)*n,(.5-i+0)*e,1*n,.35*e,.98*n),t.moveTo(.25*e,.8*n),t.lineTo(.35*e,1*n),t.lineTo(.1*e,1*n),e=t.o,Jh.q(t),e},BpmnActivityParallel:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(0,1*n),t.moveTo(.5*e,0),t.lineTo(.5*e,1*n),t.moveTo(1*e,0),t.lineTo(1*e,1*n),e=t.o,Jh.q(t),e},BpmnActivitySequential:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*n),t.lineTo(1*e,.5*n),t.moveTo(0,1*n),t.lineTo(1*e,1*n),e=t.o,Jh.q(t),e},BpmnActivityAdHoc:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),ts(t,1*e,1*n,!1),ts(t,0,.5*n,!1),is(t,.2*e,.35*n,.3*e,.35*n,.5*e,.5*n),is(t,.7*e,.65*n,.8*e,.65*n,1*e,.5*n),e=t.o,Jh.q(t),e},BpmnActivityCompensation:function(t,e,n){return t=Jh.s(),ts(t,0,.5*n,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*n),t.lineTo(1*e,1*n),t.lineTo(1*e,0),t.lineTo(.5*e,.5*n),t.lineTo(.5*e,1*n),es(t),e=t.o,Jh.q(t),e},BpmnTaskMessage:function(t,e,n){return t=Jh.s(),ts(t,0,.2*n,!0),t.lineTo(1*e,.2*n),t.lineTo(1*e,.8*n),t.lineTo(0,.8*n),t.lineTo(0,.8*n),es(t),ts(t,0,.2*n,!1),t.lineTo(.5*e,.5*n),t.lineTo(1*e,.2*n),t.fb(!1),e=t.o,Jh.q(t),e},BpmnTaskScript:function(t,e,n){return t=Jh.s(),ts(t,.7*e,1*n,!0),t.lineTo(.3*e,1*n),is(t,.6*e,.5*n,0,.5*n,.3*e,0),t.lineTo(.7*e,0),is(t,.4*e,.5*n,1*e,.5*n,.7*e,1*n),es(t),ts(t,.45*e,.73*n,!1),t.lineTo(.7*e,.73*n),t.moveTo(.38*e,.5*n),t.lineTo(.63*e,.5*n),t.moveTo(.31*e,.27*n),t.lineTo(.56*e,.27*n),t.fb(!1),e=t.o,Jh.q(t),e},BpmnTaskUser:function(t,e,n){t=Jh.s(),ts(t,0,0,!1),ts(t,.335*e,(1-.555)*n,!0),t.lineTo(.335*e,.595*n),t.lineTo(.665*e,.595*n),t.lineTo(.665*e,(1-.555)*n),is(t,.88*e,.46*n,.98*e,.54*n,1*e,.68*n),t.lineTo(1*e,1*n),t.lineTo(0,1*n),t.lineTo(0,.68*n),is(t,.02*e,.54*n,.12*e,.46*n,.335*e,(1-.555)*n),t.lineTo(.365*e,.405*n);var i=.5-.285,r=Math.PI/4,o=4*(1-Math.cos(r))/(3*Math.sin(r)),r=o*i,o=o*i;return is(t,(.5-(r+i)/2)*e,(i+(i+o)/2)*n,.285*e,(i+o)*n,.285*e,i*n),is(t,.285*e,(i-o)*n,(.5-r)*e,0*n,.5*e,0*n),is(t,(.5+r)*e,0*n,(.5+i)*e,(i-o)*n,(.5+i)*e,i*n),is(t,(.5+i)*e,(i+o)*n,(.5+(r+i)/2)*e,(i+(i+o)/2)*n,.635*e,.405*n),t.lineTo(.635*e,.405*n),t.lineTo(.665*e,(1-.555)*n),t.lineTo(.665*e,.595*n),t.lineTo(.335*e,.595*n),ts(t,.2*e,1*n,!1),t.lineTo(.2*e,.8*n),ts(t,.8*e,1*n,!1),t.lineTo(.8*e,.8*n),e=t.o,Jh.q(t),e},BpmnEventConditional:function(t,e,n){return t=Jh.s(),ts(t,.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*n),t.lineTo(.1*e,1*n),es(t),ts(t,.2*e,.2*n,!1),t.lineTo(.8*e,.2*n),t.moveTo(.2*e,.4*n),t.lineTo(.8*e,.4*n),t.moveTo(.2*e,.6*n),t.lineTo(.8*e,.6*n),t.moveTo(.2*e,.8*n),t.lineTo(.8*e,.8*n),t.fb(!1),e=t.o,Jh.q(t),e},BpmnEventError:function(t,e,n){return t=Jh.s(),ts(t,0,1*n,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*n),t.lineTo(1*e,0),t.lineTo(.66*e,1*n),t.lineTo(.33*e,.5*n),es(t),e=t.o,Jh.q(t),e},BpmnEventEscalation:function(t,e,n){return t=Jh.s(),ts(t,0,0,!1),ts(t,1*e,1*n,!1),ts(t,.1*e,1*n,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*n),t.lineTo(.5*e,.5*n),es(t),e=t.o,Jh.q(t),e},BpmnEventTimer:function(t,e,n){t=Jh.s();var i=.5*Fl;return ts(t,1*e,.5*n,!0),is(t,1*e,(.5+i)*n,(.5+i)*e,1*n,.5*e,1*n),is(t,(.5-i)*e,1*n,0,(.5+i)*n,0,.5*n),is(t,0,(.5-i)*n,(.5-i)*e,0,.5*e,0),is(t,(.5+i)*e,0,1*e,(.5-i)*n,1*e,.5*n),ts(t,.5*e,0,!1),t.lineTo(.5*e,.15*n),t.moveTo(.5*e,1*n),t.lineTo(.5*e,.85*n),t.moveTo(0,.5*n),t.lineTo(.15*e,.5*n),t.moveTo(1*e,.5*n),t.lineTo(.85*e,.5*n),t.moveTo(.5*e,.5*n),t.lineTo(.58*e,.1*n),t.moveTo(.5*e,.5*n),t.lineTo(.78*e,.54*n),t.fb(!1),e=t.o,e.ae=qf,Jh.q(t),e}};for(Np in Ap)Ap[Np.toLowerCase()]=Np;var Op={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};Jh.La(ls,eo),Jh.ga("Part",ls),ls.prototype.cloneProtected=function(t){eo.prototype.cloneProtected.call(this,t),t.Q=-4097&this.Q|49152,t.Ci=this.Ci,t.zl=this.zl,t.js=this.js,t.mt=this.mt,t.at=this.at,t.dt=this.dt,t.ot=this.ot,t.nt=this.nt,t.Vr=this.Vr,t.Ai=null,t.ct=this.ct,t.bt=this.bt.S(),t.et=this.et,t.Ld=this.Ld,t.hr=this.hr,t.Xi.assign(this.Xi),t.os=this.os,t.ps=this.ps.S(),t.xs=this.xs.S(),t.qs=this.qs.S(),t.Br=this.Br,t.ks=this.ks,t.hn=this.hn.S(),t.gn=this.gn,t.Eg=this.Eg,t.Mt=this.Mt},ls.prototype.pi=function(t){eo.prototype.pi.call(this,t),t.Rk(),t.fn=null,t.np=null,t.op=null,t.Cl=null,t.Um=null},ls.prototype.toString=function(){var t=Jh.pf(Object.getPrototypeOf(this))+"#"+Jh.Pd(this);return null!==this.data&&(t+="("+Pc(this.data)+")"),t},ls.LayoutNone=0;var jp;ls.LayoutAdded=jp=1;var Ep;ls.LayoutRemoved=Ep=2,ls.LayoutShown=4,ls.LayoutHidden=8,ls.LayoutNodeSized=16;var Lp;ls.LayoutGroupLayout=Lp=32,ls.LayoutNodeReplaced=64;var Dp;ls.LayoutStandard=Dp=jp|Ep|28|Lp|64,ls.LayoutAll=16777215,ls.prototype.Zn=function(t,e,n,i,r,o,s){var a=this.g;null!==a&&(t===mc&&"elements"===e?r instanceof eo?lo(r,function(t){Oi(a,t),Ei(a,t)}):r instanceof Ko&&Li(a,r):t===bc&&"elements"===e&&(r instanceof eo?lo(r,function(t){ji(a,t),Di(a,t)}):r instanceof Ko&&Fi(a,r)),a.bd(t,e,n,i,r,o,s))},ls.prototype.updateTargetBindings=ls.prototype.Jb=function(t){if(eo.prototype.Jb.call(this,t),null!==this.data){t=this.xa.n;for(var e=t.length,n=0;n<e;n++){var i=t[n];i instanceof eo&&lo(i,function(t){null!==t.data&&t.Jb()})}}},ls.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.$;n instanceof Zt&&(t=n.Dn(t),null===(e=e.ZH(t))||e instanceof Aa)&&(this.Ca=e)}}},Jh.u(ls,{key:"key"},function(){var t=this.g;return null===t?void 0:t.$.qb(this.data)},{configurable:!0}),Jh.u(ls,{ex:"adornments"},function(){return null===this.Ai?Qh:this.Ai.MF}),ls.prototype.findAdornment=ls.prototype.Yp=function(t){var e=this.Ai;return null===e?null:e.ka(t)},ls.prototype.addAdornment=ls.prototype.Ol=function(t,e){if(null!==e){var n=null,i=this.Ai;if(null!==i&&(n=i.ka(t)),n!==e){if(null!==n){var r=n.g;null!==r&&r.remove(n)}null===i&&(this.Ai=i=new b("string",Es)),e.Ci!==t&&(e.kd=t),i.add(t,e),n=this.g,null!==n&&(n.add(e),e.data=this.data)}}},ls.prototype.removeAdornment=ls.prototype.Ij=function(t){var e=this.Ai;if(null!==e){var n=e.ka(t);if(null!==n){var i=n.g;null!==i&&i.remove(n)}e.remove(t),0===e.count&&(this.Ai=null)}},ls.prototype.clearAdornments=ls.prototype.Ut=function(){var t=this.Ai;if(null!==t){for(var e=Jh.Za(),t=t.i;t.next();)e.push(t.key);for(var t=e.length,n=0;n<t;n++)this.Ij(e[n]);Jh.ra(e)}},ls.prototype.updateAdornments=function(){var t=this.g;if(null!==t){t:{if(this.jb&&this.EJ){var e=this.Fq;if(null!==e&&this.U.I()&&this.isVisible()&&e.Cj()&&e.U.I()){var n=this.Yp("Selection");if(null===n){if(n=this.FJ,null===n&&(n=this instanceof Ys?t.OI:this instanceof Aa?t.mI:t.hJ),!(n instanceof Es))break t;xo(n),n=n.copy(),null!==n&&(this instanceof Ys&&this.Fq===this.path&&(n.type=ip),n.ub=e)}if(null!==n){var i=n.placeholder;if(null!==i){var r=e.vj(),o=0;e instanceof No&&(o=e.mb);var s=Jh.tm();s.m((e.Ja.width+o)*r,(e.Ja.height+o)*r),i.Da=s,Jh.Lk(s)}n.angle=e.bm(),n.type!==ip&&(i=Jh.K(),n.location=e.Ya(rl,i),Jh.v(i)),this.Ol("Selection",n);break t}}}this.Ij("Selection")}for(cs(this,t),t=this.ex;t.next();)e=t.value,e.Jb(),e.H()}},Jh.u(ls,{layer:"layer"},function(){return this.iw}),Jh.u(ls,{g:"diagram"},function(){var t=this.iw;return null!==t?t.g:null}),Jh.defineProperty(ls,{bg:"layerName"},function(){return this.zl},function(t){var e=this.zl;if(e!==t){Jh.j(t,"string",ls,"layerName");var n=this.g;if((null===n||null!==n.cu(t)&&!n.Sq)&&(this.zl=t,null!==n&&n.Gc(),this.h("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(n=e.g)&&null!==(t=n.cu(t))&&t!==e)){var i=e.rf(-1,this,!0);if(0<=i&&n.bd(bc,"parts",e,this,null,i,!0),i=t.eq(99999999,this,!0),e.visible!==t.visible&&this.Dd(t.visible),0<=i&&n.bd(mc,"parts",t,null,this,!0,i),null!==(i=this.Tx)){var r=n.Ua;n.Ua=!0,i(this,e,t),n.Ua=r}}}}),Jh.defineProperty(ls,{Tx:"layerChanged"},function(){return this.js},function(t){var e=this.js;e!==t&&(null!==t&&Jh.j(t,"function",ls,"layerChanged"),this.js=t,this.h("layerChanged",e,t))}),Jh.defineProperty(ls,{mo:"zOrder"},function(){return this.Mt},function(t){var e=this.Mt;if(e!==t){Jh.j(t,"number",ls,"zOrder"),this.Mt=t;var n=this.layer;null!==n&&Vn(n,-1,this),this.h("zOrder",e,t),t=this.g,null!==t&&t.oa()}}),ls.prototype.invalidateAdornments=ls.prototype.Sd=function(){var t=this.g;null!==t&&(mi(t),0!=(16384&this.Q)!=!0&&(Ps(this,!0),t.ye()))},Jh.u(ls,{cg:"locationObject"},function(){if(null===this.Cl){var t=this.cB;""!==t?(t=this.Cd(t),this.Cl=null!==t?t:this):this.Cl=this instanceof Es&&this.type!==ip&&null!==this.placeholder?this.placeholder:this}return this.Cl.visible?this.Cl:this}),Jh.defineProperty(ls,{$I:"minLocation"},function(){return this.xs},function(t){var e=this.xs;e.L(t)||(this.xs=t=t.S(),this.h("minLocation",e,t))}),Jh.defineProperty(ls,{UI:"maxLocation"},function(){return this.qs},function(t){var e=this.qs;e.L(t)||(this.qs=t=t.S(),this.h("maxLocation",e,t))}),Jh.defineProperty(ls,{cB:"locationObjectName"},function(){return this.os},function(t){var e=this.os;e!==t&&(this.os=t,this.Cl=null,this.H(),this.h("locationObjectName",e,t))}),Jh.defineProperty(ls,{Gf:"locationSpot"},function(){return this.ps},function(t){var e=this.ps;e.L(t)||(this.ps=t=t.S(),this.H(),this.h("locationSpot",e,t))}),ls.prototype.move=function(t){this.position=t},ls.prototype.moveTo=ls.prototype.moveTo=function(t,e){var n=Jh.wb(t,e);this.move(n),Jh.v(n)},ls.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return!(null!==t&&!t.visible)&&(!(null===(t=this.g)||(t=t.Ka,!t.df||null===(t=t.Wm.ka(this))||!t.ny))||!!(null===(t=this.Ca)||t.$c&&t.isVisible()))},ls.prototype.Dd=function(t){var e=this.g;t?(this.J(4),this.Sd(),null!==e&&e.vg.add(this)):(this.J(8),this.Ut()),this.Rk(),null!==e&&(e.Gc(),e.oa())},ls.prototype.findObject=ls.prototype.Cd=function(t){if(this.name===t)return this;var e=this.Um;if(null===e&&(this.Um=e=new r),void 0!==e[t])return e[t];for(var n=this.xa.n,i=n.length,o=0;o<i;o++){var s=n[o];if(s.name===t)return e[t]=s;if(s instanceof eo)if(null===s.hk&&null===s.xg){if(null!==(s=s.Cd(t)))return e[t]=s}else if(ko(s)&&null!==(s=s.xa.first())&&s.name===t)return e[t]=s}return e[t]=null},ls.prototype.ensureBounds=ls.prototype.Ne=function(){!0===Wr(this)&&(this instanceof Aa&&this.hc.each(function(t){t.Ne()}),jr(this,1/0,1/0)),this.jc()},ls.prototype.jc=function(){if(this.Ri(),!1===Yr(this))ps(this);else{var t=this.pc,e=Jh.vf();e.assign(t),t.Qa();var n=Ms(this);this.pj(0,0,this.ud.width,this.ud.height);var i=this.position;gs(this,i,this.location),t.x=i.x,t.y=i.y,t.freeze(),this.ey(e,t),Qr(this,!1),e.L(t)?this.If(n):!this.he()||W(e.width,t.width)&&W(e.height,t.height)||0<=this.uD&&this.J(16),Jh.Bb(e),Ss(this,!1)}},ls.prototype.ey=function(t,e){var n=this.g;if(null!==n){var i=!1;if(!1===n.ck&&t.I()){var r=Jh.vf();r.assign(n.Nd),r.BG(n.padding),t.x>r.x&&t.y>r.y&&t.right<r.right&&t.bottom<r.bottom&&e.x>r.x&&e.y>r.y&&e.right<r.right&&e.bottom<r.bottom&&(i=!0),Jh.Bb(r)}0!=(65536&this.Q)!=!0&&t.L(e)||ws(this,i,n),n.oa(),T(t,e)||(this instanceof Ls&&!n.ja.lb&&this.ag(),this.Rk())}},Jh.defineProperty(ls,{location:"location"},function(){return this.Xi},function(t){var e=t.x,n=t.y,i=this.Xi,r=i.x,o=i.y;(r===e||isNaN(r)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))||(t=t.S(),e=t,this instanceof Ys?e=!1:(this.Xi=e,this.Q|=2097152,!1===Yr(this)&&(fs(this),n=this.ab,n.I()&&(r=n.copy(),n.m(n.x+(e.x-i.x),n.y+(e.y-i.y)),vs(this,this.g,n,r),this.h("position",r,n))),e=!0),e&&this.h("location",i,t))}),Kh=ls.prototype,Kh.GB=function(t,e){if(this instanceof Ys||!t.I())return!1;var n=this.g;if(null!==n&&(vs(this,n,t,e),!0===n.ja.lb))return!0;if(this.ab=t,this.Q&=-2097153,n=this.Xi,n.I()){var i=n.copy();n.m(n.x+(t.x-e.x),n.y+(t.y-e.y)),this.h("location",i,n)}return!1===Cs(this)&&!1===Yr(this)&&(fs(this),ps(this)),!0},Kh.Ay=function(t,e){var n=this.Xi,i=this.ab;Cs(this)||Yr(this)?n.m(NaN,NaN):n.m(n.x+t-i.x,n.y+e-i.y),i.m(t,e),fs(this)},Kh.HB=function(){this.Q&=-2097153,fs(this)},Kh.im=function(){return!0},Kh.he=function(){return!0},Kh.yj=function(){return!0},Jh.defineProperty(ls,{kd:"category"},function(){return this.Ci},function(t){var e=this.Ci;if(e!==t){Jh.j(t,"string",ls,"category");var n=this.g,i=this.data,r=null;if(null!==n&&null!==i&&!(this instanceof Es)){var o=n.$.ja;o.isEnabled&&!o.lb&&(r=this.clone(),r.xa.Pc(this.xa))}this.Ci=t,this.h("category",e,t),null===n||null===i||this instanceof Es?this instanceof Es&&null!==(r=this.Ze)&&(t=r.Ai,null!==t&&t.remove(e),r.Ol(this.kd,this)):(o=n.$,o.ja.lb||(this instanceof Ys?(o instanceof Zt?o.sG(i,t):o instanceof ee&&o.IJ(i,t),null!==(n=Hi(n,t))&&(xo(n),null!==(n=n.copy())&&ks(this,n,e,t))):(null!==o&&o.xy(i,t),null!==(n=Ii(n,i,t))&&(xo(n),null===(n=n.copy())||n instanceof Ys||(n.location=this.location,ks(this,n,e,t)))),null!==r&&(e=this.clone(),e.xa.Pc(this.xa),this.h("self",r,e))))}}),Jh.defineProperty(ls,{self:"self"},function(){return this},function(t){ks(this,t,this.kd,t.kd)});var Fp=!1;ls.prototype.canCopy=function(){if(!this.LH)return!1;var t=this.layer;return null===t||!!t.Ck&&(null===(t=t.g)||!!t.Ck)},ls.prototype.canDelete=function(){if(!this.PH)return!1;var t=this.layer;return null===t||!!t.nn&&(null===(t=t.g)||!!t.nn)},ls.prototype.canEdit=function(){if(!this.QJ)return!1;var t=this.layer;return null===t||!!t.jx&&(null===(t=t.g)||!!t.jx)},ls.prototype.canGroup=function(){if(!this.nI)return!1;var t=this.layer;return null===t||!!t.gx&&(null===(t=t.g)||!!t.gx)},ls.prototype.canMove=function(){if(!this.eJ)return!1;var t=this.layer;return null===t||!!t.Rl&&(null===(t=t.g)||!!t.Rl)},ls.prototype.canReshape=function(){if(!this.sJ)return!1;var t=this.layer;return null===t||!!t.hx&&(null===(t=t.g)||!!t.hx)},ls.prototype.canResize=function(){if(!this.tJ)return!1;var t=this.layer;return null===t||!!t.Tt&&(null===(t=t.g)||!!t.Tt)},ls.prototype.canRotate=function(){if(!this.wJ)return!1;var t=this.layer;return null===t||!!t.ix&&(null===(t=t.g)||!!t.ix)},ls.prototype.canSelect=function(){if(!this.nm)return!1;var t=this.layer;return null===t||!!t.Bf&&(null===(t=t.g)||!!t.Bf)},Jh.defineProperty(ls,{LH:"copyable"},function(){return 0!=(1&this.Q)},function(t){var e=0!=(1&this.Q);e!==t&&(this.Q^=1,this.h("copyable",e,t))}),Jh.defineProperty(ls,{PH:"deletable"},function(){return 0!=(2&this.Q)},function(t){var e=0!=(2&this.Q);e!==t&&(this.Q^=2,this.h("deletable",e,t))}),Jh.defineProperty(ls,{QJ:"textEditable"},function(){return 0!=(4&this.Q)},function(t){var e=0!=(4&this.Q);e!==t&&(this.Q^=4,this.h("textEditable",e,t),this.Sd())}),Jh.defineProperty(ls,{nI:"groupable"},function(){return 0!=(8&this.Q)},function(t){var e=0!=(8&this.Q);e!==t&&(this.Q^=8,this.h("groupable",e,t))}),Jh.defineProperty(ls,{eJ:"movable"},function(){return 0!=(16&this.Q)},function(t){var e=0!=(16&this.Q);e!==t&&(this.Q^=16,this.h("movable",e,t))}),Jh.defineProperty(ls,{EJ:"selectionAdorned"},function(){return 0!=(32&this.Q)},function(t){var e=0!=(32&this.Q);e!==t&&(this.Q^=32,this.h("selectionAdorned",e,t),this.Sd())}),Jh.defineProperty(ls,{XA:"isInDocumentBounds"},function(){return 0!=(64&this.Q)},function(t){var e=0!=(64&this.Q);if(e!==t){this.Q^=64;var n=this.g;null!==n&&n.Gc(),this.h("isInDocumentBounds",e,t)}}),Jh.defineProperty(ls,{HF:"isLayoutPositioned"},function(){return 0!=(128&this.Q)},function(t){var e=0!=(128&this.Q);e!==t&&(this.Q^=128,this.h("isLayoutPositioned",e,t),this.J(t?4:8))}),Jh.defineProperty(ls,{nm:"selectable"},function(){return 0!=(256&this.Q)},function(t){var e=0!=(256&this.Q);e!==t&&(this.Q^=256,this.h("selectable",e,t),this.Sd())}),Jh.defineProperty(ls,{sJ:"reshapable"},function(){return 0!=(512&this.Q)},function(t){var e=0!=(512&this.Q);e!==t&&(this.Q^=512,this.h("reshapable",e,t),this.Sd())}),Jh.defineProperty(ls,{tJ:"resizable"},function(){return 0!=(1024&this.Q)},function(t){var e=0!=(1024&this.Q);e!==t&&(this.Q^=1024,this.h("resizable",e,t),this.Sd())}),Jh.defineProperty(ls,{wJ:"rotatable"},function(){return 0!=(2048&this.Q)},function(t){var e=0!=(2048&this.Q);e!==t&&(this.Q^=2048,this.h("rotatable",e,t),this.Sd())}),Jh.defineProperty(ls,{jb:"isSelected"},function(){return 0!=(4096&this.Q)},function(t){var e=0!=(4096&this.Q);if(e!==t){var n=this.g;if(!t||this.canSelect()&&!(null!==n&&n.selection.count>=n.VI)){this.Q^=4096;var i=!1;if(null!==n){i=n.gb,n.gb=!0;var r=n.selection;r.Qa(),t?r.add(this):r.remove(this),r.freeze()}this.h("isSelected",e,t),this.Sd(),t=this.GJ,null!==t&&t(this),null!==n&&(n.ye(),n.gb=i)}}}),Jh.defineProperty(ls,{Og:"isHighlighted"},function(){return 0!=(524288&this.Q)},function(t){var e=0!=(524288&this.Q);if(e!==t){this.Q^=524288;var n=this.g;null!==n&&(n=n.em,n.Qa(),t?n.add(this):n.remove(this),n.freeze()),this.h("isHighlighted",e,t),this.oa(),t=this.qI,null!==t&&t(this)}}),Jh.defineProperty(ls,{jm:"isShadowed"},function(){return 0!=(8192&this.Q)},function(t){var e=0!=(8192&this.Q);e!==t&&(this.Q^=8192,this.h("isShadowed",e,t),this.oa())}),ls.prototype.If=function(t){this.Q=t?131072|this.Q:-131073&this.Q},Jh.defineProperty(ls,{zF:"isAnimated"},function(){return 0!=(262144&this.Q)},function(t){var e=0!=(262144&this.Q);e!==t&&(this.Q^=262144,this.h("isAnimated",e,t))}),Jh.defineProperty(ls,{qI:"highlightedChanged"},function(){return this.Vr},function(t){var e=this.Vr;e!==t&&(null!==t&&Jh.j(t,"function",ls,"highlightedChanged"),this.Vr=t,this.h("highlightedChanged",e,t))}),Jh.defineProperty(ls,{BB:"selectionObjectName"},function(){return this.ot},function(t){var e=this.ot;e!==t&&(this.ot=t,this.fn=null,this.h("selectionObjectName",e,t))}),Jh.defineProperty(ls,{FJ:"selectionAdornmentTemplate"},function(){return this.mt},function(t){var e=this.mt;e!==t&&(this.mt=t,this.h("selectionAdornmentTemplate",e,t))}),Jh.u(ls,{Fq:"selectionObject"},function(){if(null===this.fn){var t=this.BB;null!==t&&""!==t?(t=this.Cd(t),this.fn=null!==t?t:this):this instanceof Ys?(t=this.path,this.fn=null!==t?t:this):this.fn=this}return this.fn}),Jh.defineProperty(ls,{GJ:"selectionChanged"},function(){return this.nt},function(t){var e=this.nt;e!==t&&(null!==t&&Jh.j(t,"function",ls,"selectionChanged"),this.nt=t,this.h("selectionChanged",e,t))}),Jh.defineProperty(ls,{iG:"resizeAdornmentTemplate"},function(){return this.at},function(t){var e=this.at;e!==t&&(this.at=t,this.h("resizeAdornmentTemplate",e,t))}),Jh.defineProperty(ls,{kG:"resizeObjectName"},function(){return this.ct},function(t){var e=this.ct;e!==t&&(this.ct=t,this.np=null,this.h("resizeObjectName",e,t))}),Jh.u(ls,{jG:"resizeObject"},function(){if(null===this.np){var t=this.kG;null!==t&&""!==t?(t=this.Cd(t),this.np=null!==t?t:this):this.np=this}return this.np}),Jh.defineProperty(ls,{uJ:"resizeCellSize"},function(){return this.bt},function(t){var e=this.bt;e.L(t)||(this.bt=t=t.S(),this.h("resizeCellSize",e,t))}),Jh.defineProperty(ls,{xJ:"rotateAdornmentTemplate"},function(){return this.dt},function(t){var e=this.dt;e!==t&&(this.dt=t,this.h("rotateAdornmentTemplate",e,t))}),Jh.defineProperty(ls,{yJ:"rotateObjectName"},function(){return this.et},function(t){var e=this.et;e!==t&&(this.et=t,this.op=null,this.h("rotateObjectName",e,t))}),Jh.u(ls,{xB:"rotateObject"},function(){if(null===this.op){var t=this.yJ;null!==t&&""!==t?(t=this.Cd(t),this.op=null!==t?t:this):this.op=this}return this.op}),Jh.defineProperty(ls,{text:"text"},function(){return this.Ld},function(t){var e=this.Ld;e!==t&&(this.Ld=t,this.h("text",e,t))}),Jh.defineProperty(ls,{Ca:"containingGroup"},function(){return this.kl},function(t){if(this.he()){var e=this.kl;if(e!==t){null===t||this!==t&&!t.qi(this)||(this===t&&Jh.k("Cannot make a Group a member of itself: "+this.toString()),Jh.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.J(Ep);var n=this.g;if(null!==e?ja(e,this):this instanceof Aa&&null!==n&&n.Ll.remove(this),this.kl=t,null!==t?Oa(t,this):this instanceof Aa&&null!==n&&n.Ll.add(this),this.J(jp),null!==n){var i=this.data,r=n.$;null!==i&&r instanceof Zt&&r.EB(i,r.qb(null!==t?t.data:null))}if(i=this.NE,null!==i&&(r=!0,null!==n&&(r=n.Ua,n.Ua=!0),i(this,e,t),null!==n&&(n.Ua=r)),this instanceof Aa)for(n=new p(ls),ue(n,this,!0,0,!0),n=n.i;n.next();)if((i=n.value)instanceof Ls)for(i=i.je;i.next();)Qs(i.value);if(this instanceof Ls){for(i=this.je;i.next();)Qs(i.value);n=this.Xb,null!==n&&Qs(n)}this.h("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&Vn(e,-1,t)}}else Jh.k("cannot set the Part.containingGroup of a Link or Adornment")}),Kh=ls.prototype,Kh.Rk=function(){var t=this.Ca;null!==t&&(t.H(),null!==t.Lb&&t.Lb.H(),t.ag())},Kh.oa=function(){var t=this.g;null!==t&&!Yr(this)&&!Cs(this)&&this.isVisible()&&this.pc.I()&&t.oa(ys(this,this.pc))},Kh.H=function(){eo.prototype.H.call(this);var t=this.g;null!==t&&(t.vg.add(this),this instanceof Ls&&null!==this.Xb&&Vr(this.Xb),t.ye(!0))},Kh.qu=function(t){t||null!==(t=this.kl)&&Oa(t,this)},Kh.ru=function(t){t||null!==(t=this.kl)&&ja(t,this)},Kh.zn=function(){var t=this.data;if(null!==t){var e=this.g;null!==e&&null!==(e=e.$)&&e.qy(t)}},Jh.defineProperty(ls,{NE:"containingGroupChanged"},function(){return this.hr},function(t){var e=this.hr;e!==t&&(null!==t&&Jh.j(t,"function",ls,"containingGroupChanged"),this.hr=t,this.h("containingGroupChanged",e,t))}),ls.prototype.findSubGraphLevel=function(){return Ns(this,this)},ls.prototype.findTopLevelPart=function(){return As(this,this)},Jh.u(ls,{jq:"isTopLevel"},function(){return!(null!==this.Ca||this instanceof Ls&&null!==this.Xb)}),ls.prototype.isMemberOf=ls.prototype.qi=function(t){return t instanceof Aa&&Os(this,this,t)},ls.prototype.findCommonContainingGroup=ls.prototype.XH=function(t){if(null===t)return null;if(this===t)return this.Ca;for(var e=this;null!==e;){if(e instanceof Aa&&_s(e,!0),e instanceof Ls){var n=e.Xb;null!==n&&(e=n)}e=e.Ca}for(var i=null,e=t;null!==e;){if(0!=(1048576&e.Q)){i=e;break}e instanceof Ls&&null!==(n=e.Xb)&&(e=n),e=e.Ca}for(e=this;null!==e;)e instanceof Aa&&_s(e,!1),e instanceof Ls&&null!==(n=e.Xb)&&(e=n),e=e.Ca;return i},Jh.defineProperty(ls,{KI:"layoutConditions"},function(){return this.ks},function(t){var e=this.ks;e!==t&&(this.ks=t,this.h("layoutConditions",e,t))}),ls.prototype.canLayout=function(){if(!this.HF||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.Hc||this instanceof Ls&&this.Df)},ls.prototype.invalidateLayout=ls.prototype.J=function(t){void 0===t&&(t=16777215);var e;if(this.HF&&0!=(t&this.KI)?(e=this.layer,null!==e&&e.Hc||this instanceof Ls&&this.Df?e=!1:(e=this.g,e=null===e||!e.ja.lb)):e=!1,e)if(null!==(e=this.kl)){var n=e.Ub;null!==n?n.J():e.J(t)}else null!==(t=this.g)&&null!==(n=t.Ub)&&n.J()},Jh.defineProperty(ls,{xx:"dragComputation"},function(){return this.Br},function(t){var e=this.Br;e!==t&&(null!==t&&Jh.j(t,"function",ls,"dragComputation"),this.Br=t,this.h("dragComputation",e,t))}),Jh.defineProperty(ls,{KJ:"shadowOffset"},function(){return this.hn},function(t){var e=this.hn;e.L(t)||(this.hn=t=t.S(),this.oa(),this.h("shadowOffset",e,t))}),Jh.defineProperty(ls,{shadowColor:"shadowColor"},function(){return this.gn},function(t){var e=this.gn;e!==t&&(this.gn=t,this.oa(),this.h("shadowColor",e,t))}),Jh.defineProperty(ls,{shadowBlur:"shadowBlur"},function(){return this.Eg},function(t){var e=this.Eg;e!==t&&(this.Eg=t,this.oa(),this.h("shadowBlur",e,t))}),Jh.La(Es,ls),Jh.ga("Adornment",Es),Es.prototype.toString=function(){var t=this.Ze;return"Adornment("+this.kd+")"+(null!==t?t.toString():"")},Es.prototype.updateRelationshipsFromData=function(){},Es.prototype.Hu=function(t){var e=this.ub.W,n=this.ub;if(e instanceof Ys&&n instanceof No){var i=e.path,n=i.of;for(e.Hu(t),n=i.of,t=this.xa.n,e=t.length,i=0;i<e;i++){var r=t[i];r.ff&&r instanceof No&&(r.Sa=n)}}},Jh.u(Es,{placeholder:"placeholder"},function(){return this.Lb}),Jh.defineProperty(Es,{ub:"adornedObject"},function(){return this.Kc},function(t){var e=this.Ze,n=null;null!==t&&(n=t.W),null===e||null!==t&&e===n||e.Ij(this.kd),this.Kc=t,null!==n&&n.Ol(this.kd,this)}),Jh.u(Es,{Ze:"adornedPart"},function(){var t=this.Kc;return null!==t?t.W:null}),Es.prototype.im=function(){var t=this.Kc;return null===t||(null===(t=t.W)||!Yr(t))},Es.prototype.he=function(){return!1},Jh.u(Es,{Ca:"containingGroup"},function(){return null}),Es.prototype.Zn=function(t,e,n,i,r,o,s){if(t===mc&&"elements"===e)if(r instanceof Da){var a=r;null===this.Lb?this.Lb=a:this.Lb!==a&&Jh.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else r instanceof eo&&(a=r.bu(function(t){return t instanceof Da}))instanceof Da&&(null===this.Lb?this.Lb=a:this.Lb!==a&&Jh.k("Cannot insert a second Placeholder into the visual tree of an Adornment."));else t===bc&&"elements"===e&&null!==this.Lb&&(i===this.Lb?this.Lb=null:i instanceof eo&&this.Lb.hm(i)&&(this.Lb=null));ls.prototype.Zn.call(this,t,e,n,i,r,o,s)},Es.prototype.updateAdornments=function(){},Es.prototype.zn=function(){},Jh.La(Ls,ls),Jh.ga("Node",Ls),Ls.prototype.cloneProtected=function(t){ls.prototype.cloneProtected.call(this,t),t.ya=this.ya,t.ya=-17&this.ya,t.ls=this.ls,t.ms=this.ms,t.Bl=this.Bl,t.Ht=this.Ht,t.ar=this.ar.S(),t.Xs=this.Xs},Ls.prototype.pi=function(t){ls.prototype.pi.call(this,t),t.ag(),t.Lh=this.Lh,t.Ie=null};var Rp;Ls.DirectionDefault=Rp=Jh.p(Ls,"DirectionDefault",0),Ls.DirectionAbsolute=Jh.p(Ls,"DirectionAbsolute",1);var Vp;Ls.DirectionRotatedNode=Vp=Jh.p(Ls,"DirectionRotatedNode",2);var Ip;Ls.DirectionRotatedNodeOrthogonal=Ip=Jh.p(Ls,"DirectionRotatedNodeOrthogonal",3),Ls.SpreadingNone=Jh.p(Ls,"SpreadingNone",10);var Bp;Ls.SpreadingEvenly=Bp=Jh.p(Ls,"SpreadingEvenly",11);var qp;Ls.SpreadingPacked=qp=Jh.p(Ls,"SpreadingPacked",12),Ls.prototype.invalidateLinkBundle=function(t,e,n){void 0!==e&&null!==e||(e=""),void 0!==n&&null!==n||(n=""),null!==(t=Fs(this,t,e,n))&&t.fq()},Ls.prototype.Zn=function(t,e,n,i,r,o,s){t===mc&&"elements"===e?this.Ie=null:t===bc&&"elements"===e&&(this.Ie=null),ls.prototype.Zn.call(this,t,e,n,i,r,o,s)},Ls.prototype.invalidateConnectedLinks=Ls.prototype.ag=function(t){void 0===t&&(t=null);for(var e=this.je;e.next();){var n=e.value;null!==t&&t.contains(n)||(Vs(this,n.gc),Vs(this,n.zc),n.Tb())}},Ls.prototype.im=function(){return!0},Jh.defineProperty(Ls,{lJ:"portSpreading"},function(){return this.Xs},function(t){var e=this.Xs;e!==t&&(this.Xs=t,this.h("portSpreading",e,t),null!==(t=this.g)&&t.ja.lb||this.ag())}),Jh.defineProperty(Ls,{lA:"avoidable"},function(){return 0!=(8&this.ya)},function(t){var e=0!=(8&this.ya);if(e!==t){this.ya^=8;var n=this.g;null!==n&&n.SA(this),this.h("avoidable",e,t)}}),Jh.defineProperty(Ls,{uH:"avoidableMargin"},function(){return this.ar},function(t){"number"==typeof t?t=new O(t):Jh.G(t,O,Ls,"avoidableMargin");var e=this.ar;if(!e.L(t)){this.ar=t=t.S();var n=this.g;null!==n&&n.SA(this),this.h("avoidableMargin",e,t)}}),Ls.prototype.getAvoidableRect=function(t){return t.set(this.U),t.bx(this.uH),t},Ls.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.Ca;return t},Ls.prototype.isVisible=function(){if(!ls.prototype.isVisible.call(this))return!1;var t=!0,e=ff,n=this.g;if(null!==n){if(t=n.Ka,t.df&&null!==(t=t.Wm.ka(this))&&t.ny)return!0;t=n.Vd,e=n.VB}if(e===ff){if(null!==(n=this.Kk())&&!n.wc)return!1}else if(e===pf){if(n=t?this.cF():this.dF(),0<n.count&&n.all(function(t){return!t.wc}))return!1}else if(e===df&&(n=t?this.cF():this.dF(),0<n.count&&n.any(function(t){return!t.wc})))return!1;return null===(n=this.Xb)||n.isVisible()},Ls.prototype.Dd=function(t){ls.prototype.Dd.call(this,t);for(var e=this.je;e.next();)e.value.Dd(t)},Jh.u(Ls,{je:"linksConnected"},function(){return this.rc.i}),Ls.prototype.findLinksConnected=Ls.prototype.aF=function(t){if(void 0===t&&(t=null),null===t)return this.rc.i;var e=new h(this.rc),n=this;return e.wq=function(e){return e.V===n&&e.Ng===t||e.Z===n&&e.Jh===t},e},Ls.prototype.findLinksOutOf=Ls.prototype.Ex=function(t){void 0===t&&(t=null);var e=new h(this.rc),n=this;return e.wq=function(e){return e.V===n&&(null===t||e.Ng===t)},e},Ls.prototype.findLinksInto=Ls.prototype.Mg=function(t){void 0===t&&(t=null);var e=new h(this.rc),n=this;return e.wq=function(e){return e.Z===n&&(null===t||e.Jh===t)},e},Ls.prototype.findNodesConnected=Ls.prototype.bF=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.rc.i;i.next();){var r=i.value;r.V===this?null!==t&&r.Ng!==t||(r=r.Z,null!==e?e.add(r):null!==n&&n!==r?(e=new p(Ls),e.add(n),e.add(r)):n=r):r.Z!==this||null!==t&&r.Jh!==t||(r=r.V,null!==e?e.add(r):null!==n&&n!==r?(e=new p(Ls),e.add(n),e.add(r)):n=r)}return null!==e?e.i:null!==n?new a(n):Qh},Ls.prototype.findNodesOutOf=Ls.prototype.dF=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.rc.i;i.next();){var r=i.value;r.V!==this||null!==t&&r.Ng!==t||(r=r.Z,null!==e?e.add(r):null!==n&&n!==r?(e=new p(Ls),e.add(n),e.add(r)):n=r)}return null!==e?e.i:null!==n?new a(n):Qh},Ls.prototype.findNodesInto=Ls.prototype.cF=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.rc.i;i.next();){var r=i.value;r.Z!==this||null!==t&&r.Jh!==t||(r=r.V,null!==e?e.add(r):null!==n&&n!==r?(e=new p(Ls),e.add(n),e.add(r)):n=r)}return null!==e?e.i:null!==n?new a(n):Qh},Ls.prototype.findLinksBetween=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new h(this.rc),r=this;return i.wq=function(i){return!(i.V!==r||i.Z!==t||null!==e&&i.Ng!==e||null!==n&&i.Jh!==n)||!(i.V!==t||i.Z!==r||null!==n&&i.Ng!==n||null!==e&&i.Jh!==e)},i},Ls.prototype.findLinksTo=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new h(this.rc),r=this;return i.wq=function(i){return!(i.V!==r||i.Z!==t||null!==e&&i.Ng!==e||null!==n&&i.Jh!==n)},i},Jh.defineProperty(Ls,{LI:"linkConnected"},function(){return this.ls},function(t){var e=this.ls;e!==t&&(null!==t&&Jh.j(t,"function",Ls,"linkConnected"),this.ls=t,this.h("linkConnected",e,t))}),Jh.defineProperty(Ls,{MI:"linkDisconnected"},function(){return this.ms},function(t){var e=this.ms;e!==t&&(null!==t&&Jh.j(t,"function",Ls,"linkDisconnected"),this.ms=t,this.h("linkDisconnected",e,t))}),Jh.defineProperty(Ls,{Xx:"linkValidation"},function(){return this.Bl},function(t){var e=this.Bl;e!==t&&(null!==t&&Jh.j(t,"function",Ls,"linkValidation"),this.Bl=t,this.h("linkValidation",e,t))}),Ls.prototype.updateRelationshipsFromData=function(){ls.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.$;n instanceof ee&&(t=n.Fn(t),t=e.Oe(t),n=this.Kk(),t!==n&&(n=this.Bn(),null!==t?null!==n?e.Vd?n.V=t:n.Z=t:qi(e,t,this):null!==n&&ki(e,n,!1)))}}},Ls.prototype.qu=function(t){ls.prototype.qu.call(this,t),t||(qs(this),null!==(t=this.Yo)&&Zs(t,this))},Ls.prototype.ru=function(t){ls.prototype.ru.call(this,t),t||null!==(t=this.Yo)&&null!==t.yf&&(t.yf.remove(this),t.H())},Ls.prototype.zn=function(){if(0<this.rc.count){var t=this.g;if(null!==t)for(var e=t.pb.WE,n=this.rc.copy().i;n.next();){var i=n.value;e?t.remove(i):(i.V===this&&(i.V=null),i.Z===this&&(i.Z=null))}}this.Xb=null,ls.prototype.zn.call(this)},Jh.u(Ls,{Df:"isLinkLabel"},function(){return null!==this.Yo}),Jh.defineProperty(Ls,{Xb:"labeledLink"},function(){return this.Yo},function(t){var e=this.Yo;if(e!==t){var n=this.g,i=this.data;if(null!==e){if(null!==e.yf&&(e.yf.remove(this),e.H()),null!==n&&null!==i&&!n.ja.lb){var r=e.data,o=n.$;if(null!==r&&o instanceof Zt){var s=o.qb(i);void 0!==s&&o.qJ(r,s)}}this.Ca=null}this.Yo=t,null!==t&&(Zs(t,this),null===n||null===i||n.ja.lb||(r=t.data,o=n.$,null!==r&&o instanceof Zt&&void 0!==(s=o.qb(i))&&o.yE(r,s)),this.Ca=t.Ca),Vr(this),this.h("labeledLink",e,t)}}),Ls.prototype.findPort=Ls.prototype.EA=function(t){if(null===this.Ie){if(""===t&&!1===this.Qk)return this;zs(this)}var e=this.Ie.ka(t);return null!==e||""!==t&&null!==(e=this.Ie.ka(""))?e:this},Jh.u(Ls,{port:"port"},function(){return this.EA("")}),Jh.u(Ls,{ports:"ports"},function(){return null===this.Ie&&zs(this),this.Ie.MF}),Ls.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,n=this.g;if(null!==n&&(e=n.Vd),n=this,e)for(;n!==t;){for(var e=null,i=n.rc.i;i.next();){var r=i.value;if(r.bc&&(e=r.V)!==n&&e!==this)break}if(e===this||null===e||e===n)return!1;n=e}else for(;n!==t;){for(e=null,i=n.rc.i;i.next()&&(r=i.value,!r.bc||(e=r.Z)===n||e===this););if(e===this||null===e||e===n)return!1;n=e}return!0},Ls.prototype.findTreeRoot=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Vd),e=this,t)for(;;){for(var t=null,n=e.rc.i;n.next();){var i=n.value;if(i.bc&&(t=i.V)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,n=e.rc.i;n.next()&&(i=n.value,!i.bc||(t=i.Z)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},Ls.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)_s(e,!0),e=e.Kk();for(var n=null,e=t;null!==e;){if(0!=(1048576&e.Q)){n=e;break}e=e.Kk()}for(e=this;null!==e;)_s(e,!1),e=e.Kk();return n},Ls.prototype.findTreeParentLink=Ls.prototype.Bn=function(){var t=!0,e=this.g;if(null!==e&&(t=e.Vd),e=this.rc.i,t){for(;e.next();)if(t=e.value,t.bc&&t.V!==this)return t}else for(;e.next();)if(t=e.value,t.bc&&t.Z!==this)return t;return null},Ls.prototype.findTreeParentNode=Ls.prototype.Kk=function(){var t=this.Ak;if(null===t)return null;if(t instanceof Ls)return t;var e=!0,t=this.g;if(null!==t&&(e=t.Vd),t=this.rc.i,e){for(;t.next();)if(e=t.value,e.bc&&(e=e.V)!==this)return this.Ak=e}else for(;t.next();)if(e=t.value,e.bc&&(e=e.Z)!==this)return this.Ak=e;return this.Ak=null},Ls.prototype.findTreeParentChain=function(){function t(e,n){if(null!==e){n.add(e);var i=e.Bn();null!==i&&(n.add(i),t(e.Kk(),n))}}var e=new p(ls);return t(this,e),e},Ls.prototype.findTreeLevel=function(){return Us(this,this)},Ls.prototype.findTreeChildrenLinks=Ls.prototype.Gx=function(){var t=!0,e=this.g;null!==e&&(t=e.Vd);var e=new h(this.rc),n=this;return e.wq=t?function(t){return!(!t.bc||t.V!==n)}:function(t){return!(!t.bc||t.Z!==n)},e},Ls.prototype.findTreeChildrenNodes=Ls.prototype.fF=function(){var t=!0,e=this.g;null!==e&&(t=e.Vd);var n=e=null,i=this.rc.i;if(t)for(;i.next();)t=i.value,t.bc&&t.V===this&&(t=t.Z,null!==e?e.add(t):null!==n&&n!==t?(e=new c(Ls),e.add(n),e.add(t)):n=t);else for(;i.next();)t=i.value,t.bc&&t.Z===this&&(t=t.V,null!==e?e.add(t):null!==n&&n!==t?(e=new c(Ls),e.add(n),e.add(t)):n=t);return null!==e?e.i:null!==n?new a(n):Qh},Ls.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),Jh.j(t,"number",Ls,"findTreeParts:level");var e=new p(ls);return ue(e,this,!1,t,!0),e},Ls.prototype.collapseTree=Ls.prototype.collapseTree=function(t){void 0===t&&(t=1),Jh.Ad(t,Ls,"collapseTree:level"),1>t&&(t=1);var e=this.g;if(null!==e&&!e.yh){e.yh=!0;var n=new p(Ls);n.add(this),Ks(this,n,e.Vd,t,e.Ka,this,e.VB===ff),e.yh=!1}},Ls.prototype.expandTree=Ls.prototype.expandTree=function(t){void 0===t&&(t=2),Jh.Ad(t,Ls,"expandTree:level"),2>t&&(t=2);var e=this.g;if(null!==e&&!e.yh){e.yh=!0;var n=new p(Ls);n.add(this),Js(this,n,e.Vd,t,e.Ka,this,e.VB===ff),e.yh=!1}},Jh.defineProperty(Ls,{wc:"isTreeExpanded"},function(){return 0!=(1&this.ya)},function(t){var e=0!=(1&this.ya);if(e!==t){this.ya^=1;var n=this.g;if(this.h("isTreeExpanded",e,t),null!==(e=this.XJ)){var i=!0;null!==n&&(i=n.Ua,n.Ua=!0),e(this),null!==n&&(n.Ua=i)}null!==n&&n.ja.lb?this.Dd(t):t?this.expandTree():this.collapseTree()}}),Jh.defineProperty(Ls,{Mq:"wasTreeExpanded"},function(){return 0!=(2&this.ya)},function(t){var e=0!=(2&this.ya);e!==t&&(this.ya^=2,this.h("wasTreeExpanded",e,t))}),Jh.defineProperty(Ls,{XJ:"treeExpandedChanged"},function(){return this.Ht},function(t){var e=this.Ht;e!==t&&(null!==t&&Jh.j(t,"function",Ls,"treeExpandedChanged"),this.Ht=t,this.h("treeExpandedChanged",e,t))}),Jh.defineProperty(Ls,{Bj:"isTreeLeaf"},function(){return 0!=(4&this.ya)},function(t){var e=0!=(4&this.ya);e!==t&&(this.ya^=4,this.h("isTreeLeaf",e,t))}),Jh.La(Ys,ls),Jh.ga("Link",Ys),Ys.prototype.cloneProtected=function(t){ls.prototype.cloneProtected.call(this,t),t.Zb=-113&this.Zb,t.Rh=this.Rh,t.Lr=this.Lr,t.li=this.li,t.Gt=this.Gt,t.Tq=this.Tq,t.nr=this.nr,t.qr=this.qr,t.rr=this.rr,t.an=this.an,t.vt=this.vt,null!==this.Y&&(t.Y=this.Y.copy())},Ys.prototype.pi=function(t){ls.prototype.pi.call(this,t),this.Rh=t.Rh,this.li=t.li,t.Xe=null,t.Tb(),t.Bi=this.Bi;var e=t.gc;null!==e&&Vs(t.V,e),null!==(e=t.zc)&&Vs(t.Z,e)},Ys.prototype.ic=function(t){t.Je===Ys?2==(2&t.value)?this.sy=t:t===Up||t===Kp||t===Wp?this.nf=t:t===Jp||t===Yp||t===Qp?this.Jp=t:t!==zp&&t!==Hp&&Jh.k("Unknown Link enum value for a Link property: "+t):ls.prototype.ic.call(this,t)};var zp;Ys.Normal=zp=Jh.p(Ys,"Normal",1),Ys.Orthogonal=Jh.p(Ys,"Orthogonal",2),Ys.AvoidsNodes=Jh.p(Ys,"AvoidsNodes",6);var Gp;Ys.AvoidsNodesStraight=Gp=Jh.p(Ys,"AvoidsNodesStraight",7);var Hp;Ys.None=Hp=Jh.p(Ys,"None",0);var Up;Ys.Bezier=Up=Jh.p(Ys,"Bezier",9);var Kp;Ys.JumpGap=Kp=Jh.p(Ys,"JumpGap",10);var Wp;Ys.JumpOver=Wp=Jh.p(Ys,"JumpOver",11);var Jp;Ys.End=Jp=Jh.p(Ys,"End",17);var Yp;Ys.Scale=Yp=Jh.p(Ys,"Scale",18);var Qp;Ys.Stretch=Qp=Jh.p(Ys,"Stretch",19);var Zp;Ys.OrientAlong=Zp=Jh.p(Ys,"OrientAlong",21);var Xp;Ys.OrientPlus90=Xp=Jh.p(Ys,"OrientPlus90",22);var $p;Ys.OrientMinus90=$p=Jh.p(Ys,"OrientMinus90",23);var td;Ys.OrientOpposite=td=Jh.p(Ys,"OrientOpposite",24);var ed;Ys.OrientUpright=ed=Jh.p(Ys,"OrientUpright",25);var nd;Ys.OrientPlus90Upright=nd=Jh.p(Ys,"OrientPlus90Upright",26);var id;Ys.OrientMinus90Upright=id=Jh.p(Ys,"OrientMinus90Upright",27);var rd;Ys.OrientUpright45=rd=Jh.p(Ys,"OrientUpright45",28),Kh=Ys.prototype,Kh.Qd=function(){null===this.Y&&(this.Y=new Na)},Kh.im=function(){var t=this.V;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Yr(t)||Cs(t))return!1}return null===(t=this.Z)||(e=t.findVisibleNode(),null!==e&&(t=e),!Yr(t)&&!Cs(t))},Kh.GB=function(){return!1},Kh.HB=function(){},Kh.he=function(){return!1},Ys.prototype.computeAngle=function(t,e,n){return Ys.computeAngle(e,n)},Ys.computeAngle=function(t,e){var n=0;switch(t){default:case Hp:n=0;break;case Zp:n=e;break;case Xp:n=e+90;break;case $p:n=e-90;break;case td:n=e+180;break;case ed:n=ft(e),90<n&&270>n&&(n-=180);break;case nd:n=ft(e+90),90<n&&270>n&&(n-=180);break;case id:n=ft(e-90),90<n&&270>n&&(n-=180);break;case rd:if(45<(n=ft(e))&&135>n||225<n&&315>n)return 0;90<n&&270>n&&(n-=180)}return ft(n)},Jh.defineProperty(Ys,{V:"fromNode"},function(){return this.rg},function(t){var e=this.rg;if(e!==t){var n=this.gc;null!==e&&(this.Hg!==e&&Bs(e,this,n),da(this),this.J(Ep)),this.rg=t,null!==t&&this.Dd(t.isVisible()),this.Oi=null,this.Tb();var i=this.g;if(null!==i){var r=this.data,o=i.$;if(null!==r)if(o instanceof Zt){var s=null!==t?t.data:null;o.CB(r,o.qb(s))}else o instanceof ee&&(s=null!==t?t.data:null,i.Vd?o.ti(r,o.qb(s)):(r=i.rk,i.rk=this,null!==e&&o.ti(e.data,void 0),o.ti(s,o.qb(null!==this.Hg?this.Hg.data:null)),i.rk=r))}o=this.gc,s=this.iF,null!==s&&(r=!0,null!==i&&(r=i.Ua,i.Ua=!0),s(this,n,o),null!==i&&(i.Ua=r)),null!==t&&(this.Hg!==t&&Is(t,this,o),pa(this),this.J(jp)),this.h("fromNode",e,t),Qs(this)}}),Jh.defineProperty(Ys,{Ng:"fromPortId"},function(){return this.Rh},function(t){var e=this.Rh;if(e!==t){var n=this.V,i=this.gc;null!==i&&Vs(n,i),da(this),this.Rh=t;var r=this.gc;if(null!==r&&Vs(n,r),null!==(n=this.g)){var o=this.data,s=n.$;null!==o&&s instanceof Zt&&s.DB(o,t)}i!==r&&(this.Oi=null,this.Tb(),null!==(o=this.iF)&&(s=!0,null!==n&&(s=n.Ua,n.Ua=!0),o(this,i,r),null!==n&&(n.Ua=s))),pa(this),this.h("fromPortId",e,t)}}),Jh.u(Ys,{gc:"fromPort"},function(){var t=this.rg;return null===t?null:t.EA(this.Rh)}),Jh.defineProperty(Ys,{iF:"fromPortChanged"},function(){return this.Lr},function(t){var e=this.Lr;e!==t&&(null!==t&&Jh.j(t,"function",Ys,"fromPortChanged"),this.Lr=t,this.h("fromPortChanged",e,t))}),Jh.defineProperty(Ys,{Z:"toNode"},function(){return this.Hg},function(t){var e=this.Hg;if(e!==t){var n=this.zc;null!==e&&(this.rg!==e&&Bs(e,this,n),da(this),this.J(Ep)),this.Hg=t,null!==t&&this.Dd(t.isVisible()),this.Oi=null,this.Tb();var i=this.g;if(null!==i){var r=this.data,o=i.$;if(null!==r)if(o instanceof Zt){var s=null!==t?t.data:null;o.IB(r,o.qb(s))}else o instanceof ee&&(s=null!==t?t.data:null,i.Vd?(r=i.rk,i.rk=this,null!==e&&o.ti(e.data,void 0),o.ti(s,o.qb(null!==this.rg?this.rg.data:null)),i.rk=r):o.ti(r,o.qb(s)))}o=this.zc,s=this.FG,null!==s&&(r=!0,null!==i&&(r=i.Ua,i.Ua=!0),s(this,n,o),null!==i&&(i.Ua=r)),null!==t&&(this.rg!==t&&Is(t,this,o),pa(this),this.J(jp)),this.h("toNode",e,t),Qs(this)}}),Jh.defineProperty(Ys,{Jh:"toPortId"},function(){return this.li},function(t){var e=this.li;if(e!==t){var n=this.Z,i=this.zc;null!==i&&Vs(n,i),da(this),this.li=t;var r=this.zc;if(null!==r&&Vs(n,r),null!==(n=this.g)){var o=this.data,s=n.$;null!==o&&s instanceof Zt&&s.JB(o,t)}i!==r&&(this.Oi=null,this.Tb(),null!==(o=this.FG)&&(s=!0,null!==n&&(s=n.Ua,n.Ua=!0),o(this,i,r),null!==n&&(n.Ua=s))),pa(this),this.h("toPortId",e,t)}}),Jh.u(Ys,{zc:"toPort"},function(){var t=this.Hg;return null===t?null:t.EA(this.li)}),Jh.defineProperty(Ys,{FG:"toPortChanged"},function(){return this.Gt},function(t){var e=this.Gt;e!==t&&(null!==t&&Jh.j(t,"function",Ys,"toPortChanged"),this.Gt=t,this.h("toPortChanged",e,t))}),Jh.defineProperty(Ys,{Mb:"fromSpot"},function(){return null!==this.Y?this.Y.$j:il},function(t){this.Qd();var e=this.Y.$j;e.L(t)||(t=t.S(),this.Y.$j=t,this.h("fromSpot",e,t),this.Tb())}),Jh.defineProperty(Ys,{am:"fromEndSegmentLength"},function(){return null!==this.Y?this.Y.Yj:NaN},function(t){this.Qd();var e=this.Y.Yj;e!==t&&(0>t&&Jh.Fa(t,">= 0",Ys,"fromEndSegmentLength"),this.Y.Yj=t,this.h("fromEndSegmentLength",e,t),this.Tb())}),Jh.defineProperty(Ys,{lu:"fromEndSegmentDirection"},function(){return null!==this.Y?this.Y.Xj:Rp},function(t){this.Qd();var e=this.Y.Xj;e!==t&&(Jh.Yt("Link.fromEndSegmentDirection","2.0"),this.Y.Xj=t,this.h("fromEndSegmentDirection",e,t),this.Tb())}),Jh.defineProperty(Ys,{mu:"fromShortLength"},function(){return null!==this.Y?this.Y.Zj:NaN},function(t){this.Qd();var e=this.Y.Zj;e!==t&&(this.Y.Zj=t,this.h("fromShortLength",e,t),this.Tb(),this.fe())}),Jh.defineProperty(Ys,{Nb:"toSpot"},function(){return null!==this.Y?this.Y.zk:il},function(t){this.Qd();var e=this.Y.zk;e.L(t)||(t=t.S(),this.Y.zk=t,this.h("toSpot",e,t),this.Tb())}),Jh.defineProperty(Ys,{um:"toEndSegmentLength"},function(){return null!==this.Y?this.Y.xk:NaN},function(t){this.Qd();var e=this.Y.xk;e!==t&&(0>t&&Jh.Fa(t,">= 0",Ys,"toEndSegmentLength"),this.Y.xk=t,this.h("toEndSegmentLength",e,t),this.Tb())}),Jh.defineProperty(Ys,{ev:"toEndSegmentDirection"},function(){return null!==this.Y?this.Y.wk:Rp},function(t){this.Qd();var e=this.Y.wk;e!==t&&(Jh.Yt("Link.toEndSegmentDirection","2.0"),this.Y.wk=t,this.h("toEndSegmentDirection",e,t),this.Tb())}),Jh.defineProperty(Ys,{fv:"toShortLength"},function(){return null!==this.Y?this.Y.yk:NaN},function(t){this.Qd();var e=this.Y.yk;e!==t&&(this.Y.yk=t,this.h("toShortLength",e,t),this.Tb(),this.fe())}),Ys.prototype.Rk=function(){var t=this.Ca;null!==t&&this.V!==t&&this.Z!==t&&t.nx&&ls.prototype.Rk.call(this)},Ys.prototype.getOtherNode=Ys.prototype.JA=function(t){var e=this.V;return t===e?this.Z:e},Ys.prototype.getOtherPort=function(t){var e=this.gc;return t===e?this.zc:e},Jh.u(Ys,{AI:"isLabeledLink"},function(){return null!==this.yf&&0<this.yf.count}),Jh.u(Ys,{Ff:"labelNodes"},function(){return null===this.yf?Qh:this.yf.i}),Ys.prototype.qu=function(t){if(ls.prototype.qu.call(this,t),ha(this)&&ca(this,this.U),!t){t=this.rg;var e=null;null!==t&&(e=this.gc,Is(t,this,e));var n=this.Hg,i=null;null!==n&&(i=this.zc,n===t&&i===e||Is(n,this,i)),pa(this)}},Ys.prototype.ru=function(t){if(ls.prototype.ru.call(this,t),ha(this)&&ca(this,this.U),!t){t=this.rg;var e=null;null!==t&&(e=this.gc,Bs(t,this,e));var n=this.Hg,i=null;null!==n&&(i=this.zc,n===t&&i===e||Bs(n,this,i)),da(this)}},Ys.prototype.zn=function(){if(this.Mf=!0,null!==this.yf){var t=this.g;if(null!==t)for(var e=this.yf.copy().i;e.next();)t.remove(e.value)}null!==(e=this.data)&&null!==(t=this.g)&&(t=t.$,t instanceof Zt?t.py(e):t instanceof ee&&t.ti(e,void 0))},Ys.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.g;if(null!==e){var n=e.$;if(n instanceof Zt){var i=n.cm(t);if(this.V=i=e.Oe(i),i=n.dm(t),this.Z=i=e.Oe(i),t=n.Nk(t),0<t.length||0<this.Ff.count){if(1===t.length&&1===this.Ff.count){var i=t[0],r=this.Ff.first();if(n.qb(r.data)===i)return}var i=(new p).Pc(t),o=new p;if(this.Ff.each(function(t){null!==t.data&&void 0!==(t=n.qb(t.data))&&o.add(t)}),t=o.copy(),t.oy(i),i=i.copy(),i.oy(o),0<t.count||0<i.count){var s=this;t.each(function(t){null!==(t=e.Oe(t))&&t.Xb===s&&(t.Xb=null)}),i.each(function(t){null!==(t=e.Oe(t))&&t.Xb!==s&&(t.Xb=s)})}}}}}},Ys.prototype.move=function(t){var e=this.position,n=e.x;for(isNaN(n)&&(n=0),e=e.y,isNaN(e)&&(e=0),n=t.x-n,e=t.y-e,ls.prototype.move.call(this,t),this.Ej(n,e),t=this.Ff;t.next();){var i=t.value,r=i.position;i.moveTo(r.x+n,r.y+e)}},Jh.defineProperty(Ys,{oJ:"relinkableFrom"},function(){return 0!=(1&this.Zb)},function(t){var e=0!=(1&this.Zb);e!==t&&(this.Zb^=1,this.h("relinkableFrom",e,t),this.Sd())}),Jh.defineProperty(Ys,{pJ:"relinkableTo"},function(){return 0!=(2&this.Zb)},function(t){var e=0!=(2&this.Zb);e!==t&&(this.Zb^=2,this.h("relinkableTo",e,t),this.Sd())}),Ys.prototype.canRelinkFrom=function(){if(!this.oJ)return!1;var t=this.layer;return null===t||!!t.on&&!(null!==(t=t.g)&&!t.on)},Ys.prototype.canRelinkTo=function(){if(!this.pJ)return!1;var t=this.layer;return null===t||!!t.on&&!(null!==(t=t.g)&&!t.on)},Jh.defineProperty(Ys,{Vu:"resegmentable"},function(){return 0!=(4&this.Zb)},function(t){var e=0!=(4&this.Zb);e!==t&&(this.Zb^=4,this.h("resegmentable",e,t),this.Sd())}),Jh.defineProperty(Ys,{bc:"isTreeLink"},function(){return 0!=(8&this.Zb)},function(t){var e=0!=(8&this.Zb);e!==t&&(this.Zb^=8,this.h("isTreeLink",e,t),null!==this.V&&qs(this.V),null!==this.Z&&qs(this.Z))}),Jh.u(Ys,{path:"path"},function(){var t=this.Bd();return t instanceof No?t:null}),Jh.u(Ys,{$n:"routeBounds"},function(){this.jo();var t=new C,e=1/0,n=1/0,i=this.qa;if(0===i)t.m(NaN,NaN,0,0);else{if(1===i)i=this.l(0),e=Math.min(i.x,e),n=Math.min(i.y,n),t.m(i.x,i.y,0,0);else if(2===i){var r=this.l(0),o=this.l(1),e=Math.min(r.x,o.x),n=Math.min(r.y,o.y);t.m(r.x,r.y,0,0),t.yi(o)}else if(this.computeCurve()===Up&&3<=i&&!this.ac)if(r=this.l(0),e=r.x,n=r.y,t.m(e,n,0,0),3===i)i=this.l(1),e=Math.min(i.x,e),n=Math.min(i.y,n),o=this.l(2),e=Math.min(o.x,e),n=Math.min(o.y,n),Z(r.x,r.y,i.x,i.y,i.x,i.y,o.x,o.y,.5,t);else for(var s=3;s<i;s+=3){var a=this.l(s-2);s+3>=i&&(s=i-1);var u=this.l(s-1),o=this.l(s);Z(r.x,r.y,a.x,a.y,u.x,u.y,o.x,o.y,.5,t),e=Math.min(o.x,e),n=Math.min(o.y,n),r=o}else for(r=this.l(0),o=this.l(1),e=Math.min(r.x,o.x),n=Math.min(r.y,o.y),t.m(r.x,r.y,0,0),t.yi(o),s=2;s<i;s++)r=this.l(s),e=Math.min(r.x,e),n=Math.min(r.y,n),t.yi(r);this.Yz.m(e-t.x,n-t.y)}return this.Dw=t}),Jh.u(Ys,{SF:"midPoint"},function(){return this.jo(),this.computeMidPoint(new w)}),Ys.prototype.computeMidPoint=function(t){var e=this.qa;if(0===e)return t.assign(Ql),t;if(1===e)return t.assign(this.l(0)),t;if(2===e){var n=this.l(0),i=this.l(1);return t.m((n.x+i.x)/2,(n.y+i.y)/2),t}if(this.computeCurve()===Up&&3<=e&&!this.ac){if(3===e)return this.l(1);var n=(e-1)/3|0,r=3*(n/2|0);if(1==n%2){var n=this.l(r),i=this.l(r+1),o=this.l(r+2),r=this.l(r+3),e=i.x,s=i.y,i=o.x,a=o.y,o=(e+i)/2,u=(s+a)/2,s=((n.y+s)/2+u)/2,a=(u+(a+r.y)/2)/2;t.x=(((n.x+e)/2+o)/2+(o+(i+r.x)/2)/2)/2,t.y=(s+a)/2}else t.assign(this.l(r));return t}for(r=0,o=Jh.Za(),s=0;s<e-1;s++)n=0,n=this.l(s),i=this.l(s+1),J(n.x,i.x)?0>(n=i.y-n.y)&&(n=-n):J(n.y,i.y)?0>(n=i.x-n.x)&&(n=-n):n=Math.sqrt(n.Cf(i)),o.push(n),r+=n;for(i=s=n=0;n<r/2&&s<e&&(i=o[s],!(n+i>r/2));)n+=i,s++;return Jh.ra(o),e=this.l(s),o=this.l(s+1),e.x===o.x?e.y>o.y?t.m(e.x,e.y-(r/2-n)):t.m(e.x,e.y+(r/2-n)):e.y===o.y?e.x>o.x?t.m(e.x-(r/2-n),e.y):t.m(e.x+(r/2-n),e.y):(n=(r/2-n)/i,t.m(e.x+n*(o.x-e.x),e.y+n*(o.y-e.y))),t},Jh.u(Ys,{RF:"midAngle"},function(){return this.jo(),this.computeMidAngle()}),Ys.prototype.computeMidAngle=function(){var t=this.qa;if(2>t)return NaN;if(this.computeCurve()===Up&&4<=t&&!this.ac){var e=(t-1)/3|0,n=3*(e/2|0);if(1==e%2){var n=Math.floor(n),e=this.l(n),i=this.l(n+1),t=this.l(n+2),n=this.l(n+3),r=i.x,i=i.y,o=t.x,t=t.y,s=(r+o)/2,a=(i+t)/2;return $h(((e.x+r)/2+s)/2,((e.y+i)/2+a)/2,(s+(o+n.x)/2)/2,(a+(t+n.y)/2)/2)}if(0<n&&n+1<t)return e=this.l(n-1),i=this.l(n+1),e.Qb(i)}return n=t/2|0,0==t%2?(e=this.l(n-1),i=this.l(n),4<=t&&e.Qc(i)?(e=this.l(n-2),t=this.l(n+1),n=e.Cf(i),r=i.Cf(t),n>r+10?e.Qb(i):r>n+10?i.Qb(t):e.Qb(t)):null===this.Sa||this.ac?e.Qb(i):this.Sa.jF(.5)):null===this.Sa||this.ac?(e=this.l(n-1),i=this.l(n),t=this.l(n+1),n=e.Cf(i),r=i.Cf(t),n>r+10?e.Qb(i):r>n+10?i.Qb(t):e.Qb(t)):this.Sa.jF(.5)},Jh.defineProperty(Ys,{points:"points"},function(){return this.gd},function(t){var e=this.gd;if(e!==t){var n=null;if(Array.isArray(t)){var i=0==t.length%2;if(i)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){i=!1;break}if(i)for(n=new c(w),i=0;i<t.length/2;i++)r=new w(t[2*i],t[2*i+1]).freeze(),n.add(r);else{for(r=!0,i=0;i<t.length;i++){var o=t[i];if(!Jh.Pa(o)||"number"!=typeof o.x||isNaN(o.x)||"number"!=typeof o.y||isNaN(o.y)){r=!1;break}}if(r)for(n=new c(w),i=0;i<t.length;i++)r=t[i],n.add(new w(r.x,r.y).freeze());else Jh.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof c)for(n=t.copy(),t=n.i;t.next();)t.value.freeze();else Jh.k("Link.points value is not an instance of List or Array: "+t);n.freeze(),this.gd=n,this.fe(),this.H(),Xs(this),t=this.g,null!==t&&(t.Kn||t.ja.lb||t.Yx.add(this),t.Ka.sc&&(this.pp=n)),this.h("points",e,n)}}),Jh.u(Ys,{qa:"pointsCount"},function(){return this.gd.count}),Ys.prototype.getPoint=Ys.prototype.l=function(t){return this.gd.n[t]},Ys.prototype.setPoint=Ys.prototype.Vg=function(t,e){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.kg(t,e)},Ys.prototype.setPointAt=Ys.prototype.ca=function(t,e,n){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.kg(t,new w(e,n))},Ys.prototype.insertPoint=function(t,e){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.Rd(t,e)},Ys.prototype.insertPointAt=Ys.prototype.w=function(t,e,n){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.Rd(t,new w(e,n))},Ys.prototype.addPoint=Ys.prototype.mi=function(t){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.add(t)},Ys.prototype.addPointAt=Ys.prototype.oj=function(t,e){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.add(new w(t,e))},Ys.prototype.removePoint=Ys.prototype.eG=function(t){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.cd(t)},Ys.prototype.clearPoints=Ys.prototype.Pp=function(){null===this.Xe&&Jh.k("Call Link.startRoute before modifying the points of the route."),this.gd.clear()},Ys.prototype.movePoints=Ys.prototype.Ej=function(t,e){if(0!==t||0!==e){for(var n=this.Mf,i=new c(w),r=this.gd.i;r.next();){var o=r.value;i.add(new w(o.x+t,o.y+e).freeze())}i.freeze(),r=this.gd,this.gd=i,this.H(),n&&Xs(this),n=this.g,null!==n&&n.Ka.sc&&(this.pp=i),this.h("points",r,i)}},Ys.prototype.startRoute=Ys.prototype.qm=function(){null===this.Xe&&(this.Xe=this.gd,this.gd=this.gd.copy())},Ys.prototype.commitRoute=Ys.prototype.qj=function(){if(null!==this.Xe){for(var t=this.Xe,e=this.gd,n=1/0,i=1/0,r=t.n,o=r.length,s=0;s<o;s++)var a=r[s],n=Math.min(a.x,n),i=Math.min(a.y,i);for(var u=1/0,h=1/0,l=e.n,c=l.length,s=0;s<c;s++)a=l[s],u=Math.min(a.x,u),h=Math.min(a.y,h),a.freeze();if(e.freeze(),c===o){for(s=0;s<c;s++)if(o=r[s],a=l[s],o.x-n!=a.x-u||o.y-i!=a.y-h){this.H(),this.fe();break}}else this.H(),this.fe();this.Xe=null,n=this.g,null!==n&&n.Ka.sc&&(this.pp=e),Xs(this),this.h("points",t,e)}},Ys.prototype.rollbackRoute=Ys.prototype.vJ=function(){null!==this.Xe&&(this.gd=this.Xe,this.Xe=null)},Ys.prototype.invalidateRoute=Ys.prototype.Tb=function(){if(!this.vi){var t=this.g;t&&(t.Yx.contains(this)||t.ja.lb||t.Ka.FI&&!t.Ka.df)||null!==(t=this.path)&&(this.Mf=!1,this.H(),t.H())}},Jh.defineProperty(Ys,{Mf:null},function(){return 0!=(16&this.Zb)},function(t){0!=(16&this.Zb)!==t&&(this.Zb^=16)}),Jh.defineProperty(Ys,{vi:"suspendsRouting"},function(){return 0!=(32&this.Zb)},function(t){0!=(32&this.Zb)!==t&&(this.Zb^=32)}),Jh.defineProperty(Ys,{qA:null},function(){return 0!=(64&this.Zb)},function(t){0!=(64&this.Zb)!==t&&(this.Zb^=64)}),Jh.defineProperty(Ys,{Up:"defaultFromPoint"},function(){return this.KC},function(t){this.KC=t.copy()}),Jh.defineProperty(Ys,{Vp:"defaultToPoint"},function(){return this.QC},function(t){this.QC=t.copy()}),Ys.prototype.updateRoute=Ys.prototype.jo=function(){if(!this.Mf&&!this.qA){var t=!0;try{this.qA=!0,this.qm(),t=this.computePoints()}finally{this.qA=!1,t?this.qj():this.vJ()}}},Ys.prototype.computePoints=function(){var t=this.g;if(null===t)return!1;var e=this.V,n=null;if(null===e?(t.Gl||(t.ft=new No,t.ft.Da=Hl,t.ft.mb=0,t.Gl=new Ls,t.Gl.add(t.ft),t.Gl.Ne()),this.Up&&(t.Gl.position=t.Gl.location=this.Up,t.Gl.Ne(),e=t.Gl,n=t.ft)):n=this.gc,null!==n&&!e.isVisible()){var i=e.findVisibleNode();null!==i&&i!==e?(e=i,n=i.port):e=i}if(this.dE=e,null===e||!e.location.I())return!1;for(;!(null===n||n.U.I()&&n.Cj());)n=n.R;if(null===n)return!1;var r=this.Z,o=null;if(null===r?(t.Hl||(t.gt=new No,t.gt.Da=Hl,t.gt.mb=0,t.Hl=new Ls,t.Hl.add(t.gt),t.Hl.Ne()),this.Vp&&(t.Hl.position=t.Hl.location=this.Vp,t.Hl.Ne(),r=t.Hl,o=t.gt)):o=this.zc,null===o||r.isVisible()||(t=r.findVisibleNode(),null!==t&&t!==r?(r=t,o=t.port):r=t),this.eE=r,null===r||!r.location.I())return!1;for(;!(null===o||o.U.I()&&o.Cj());)o=o.R;if(null===o)return!1;var s=this.qa,i=this.computeSpot(!0,n),t=this.computeSpot(!1,o),a=i===nl,u=t===nl,h=n===o&&null!==n,l=this.ac,c=this.nf===Up;this.Oi=!(!h||l)&&(c=!0);var f=this.Jp===Hp||h;if(!l&&!h&&a&&u){if(a=!1,!f&&3<=s&&(f=this.getLinkPoint(e,n,i,!0,!1,r,o),u=this.getLinkPoint(r,o,t,!1,!1,e,n),a=this.adjustPoints(0,f,s-1,u))&&(f=this.getLinkPoint(e,n,i,!0,!1,r,o),u=this.getLinkPoint(r,o,t,!1,!1,e,n),this.adjustPoints(0,f,s-1,u)),!a)if(this.Pp(),c){var s=this.getLinkPoint(e,n,i,!0,!1,r,o),f=this.getLinkPoint(r,o,t,!1,!1,e,n),a=f.x-s.x,u=f.y-s.y,h=this.computeCurviness(),c=l=0,p=s.x+a/3,d=s.y+u/3,y=p,v=d;W(u,0)?v=0<a?v-h:v+h:(l=-a/u,c=Math.sqrt(h*h/(l*l+1)),0>h&&(c=-c),y=(0>u?-1:1)*c+p,v=l*(y-p)+d);var p=s.x+2*a/3,d=s.y+2*u/3,g=p,m=d;W(u,0)?m=0<a?m-h:m+h:(g=(0>u?-1:1)*c+p,m=l*(g-p)+d),this.Pp(),this.mi(s),this.oj(y,v),this.oj(g,m),this.mi(f),this.Vg(0,this.getLinkPoint(e,n,i,!0,!1,r,o)),this.Vg(3,this.getLinkPoint(r,o,t,!1,!1,e,n))}else i=this.getLinkPoint(e,n,i,!0,!1,r,o),t=this.getLinkPoint(r,o,t,!1,!1,e,n),this.hasCurviness()?(f=t.x-i.x,r=t.y-i.y,o=this.computeCurviness(),e=i.x+f/2,n=i.y+r/2,s=e,a=n,W(r,0)?a=0<f?a-o:a+o:(f=-f/r,s=Math.sqrt(o*o/(f*f+1)),0>o&&(s=-s),s=(0>r?-1:1)*s+e,a=f*(s-e)+n),this.mi(i),this.oj(s,a)):this.mi(i),this.mi(t)}else{c=this.fm,f&&(l&&c||h)&&this.Pp();var b=h?this.computeCurviness():0,c=this.getLinkPoint(e,n,i,!0,l,r,o),p=y=d=0;if((l||!a||h)&&(v=this.computeEndSegmentLength(e,n,i,!0),p=this.getLinkDirection(e,n,c,i,!0,l,r,o),h&&(a||i.L(t)||!l&&1===i.x+t.x&&1===i.y+t.y)&&(p-=l?90:30,0>b&&(p-=180)),0>p?p+=360:360<=p&&(p-=360),h&&(v+=Math.abs(b)*(l?1:2)),0===p?d=v:90===p?y=v:180===p?d=-v:270===p?y=-v:(d=v*Math.cos(p*Math.PI/180),y=v*Math.sin(p*Math.PI/180)),i.Ud()&&h)){var x=n.Ya(ul,Jh.K()),k=Jh.wb(x.x+1e3*d,x.y+1e3*y);this.getLinkPointFromPoint(e,n,x,k,!0,c),Jh.v(x),Jh.v(k)}var v=this.getLinkPoint(r,o,t,!1,l,e,n),P=m=g=0;(l||!u||h)&&(x=this.computeEndSegmentLength(r,o,t,!1),P=this.getLinkDirection(r,o,v,t,!1,l,e,n),h&&(u||i.L(t)||!l&&1===i.x+t.x&&1===i.y+t.y)&&(P+=l?0:30,0>b&&(P+=180)),0>P?P+=360:360<=P&&(P-=360),h&&(x+=Math.abs(b)*(l?1:2)),0===P?g=x:90===P?m=x:180===P?g=-x:270===P?m=-x:(g=x*Math.cos(P*Math.PI/180),m=x*Math.sin(P*Math.PI/180)),t.Ud()&&h&&(x=o.Ya(ul,Jh.K()),k=Jh.wb(x.x+1e3*g,x.y+1e3*m),this.getLinkPointFromPoint(r,o,x,k,!1,v),Jh.v(x),Jh.v(k))),t=c,(l||!a||h)&&(t=new w(c.x+d,c.y+y)),i=v,(l||!u||h)&&(i=new w(v.x+g,v.y+m)),!f&&!l&&a&&3<s&&this.adjustPoints(0,c,s-2,i)?this.Vg(s-1,v):!f&&!l&&u&&3<s&&this.adjustPoints(1,t,s-1,v)?this.Vg(0,c):!f&&(l?6<=s:4<s)&&this.adjustPoints(1,t,s-2,i)?(this.Vg(0,c),this.Vg(s-1,v)):(this.Pp(),this.mi(c),(l||!a||h)&&this.mi(t),l&&this.addOrthoPoints(t,p,i,P,e,r),(l||!u||h)&&this.mi(i),this.mi(v))}return!0},Ys.prototype.getLinkPointFromPoint=function(t,e,n,i,r,o){if(void 0===o&&(o=new w),null===t||null===e)return o.assign(n),o;t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port);var s=r=0,a=0,u=0;if(t=null,r=e.R,null===r||r.Yg()||(r=r.R),null===r)r=i.x,s=i.y,a=n.x,u=n.y;else{t=r.rh,r=1/(t.m11*t.m22-t.m12*t.m21);var a=t.m22*r,u=-t.m12*r,h=-t.m21*r,l=t.m11*r,c=r*(t.m21*t.dy-t.m22*t.dx),f=r*(t.m12*t.dx-t.m11*t.dy);r=i.x*a+i.y*h+c,s=i.x*u+i.y*l+f,a=n.x*a+n.y*h+c,u=n.x*u+n.y*l+f}return e.En(r,s,a,u,o),null!==t&&o.transform(t),o},Ys.prototype.getLinkPoint=function(t,e,n,i,r,o,s,a){if(void 0===a&&(a=new w),n.Zc())return e.Ya(n,a),a;if(n.zj()){var u=ta(this,e);if(null!==u){if(a.assign(u.nq),r&&this.sy===Gp){var h=ta(this,s);if(null!==h&&u.xn<h.xn){var u=Jh.K(),h=Jh.K(),l=new C(e.Ya(rl,u),e.Ya(fl,h)),c=this.computeSpot(!i,s);t=this.getLinkPoint(o,s,c,!i,r,t,e,h),(n.xj(kl)||n.xj(Pl))&&t.y>=l.y&&t.y<=l.y+l.height?a.y=t.y:(n.xj(xl)||n.xj(Cl))&&t.x>=l.x&&t.x<=l.x+l.width&&(a.x=t.x),Jh.v(u),Jh.v(h)}}return a}}return n=e.Ya(ul,Jh.K()),u=o=null,this.qa>(r?6:2)?(u=i?this.l(1):this.l(this.qa-2),r&&(u=$s(n,u.copy()))):(o=Jh.K(),u=s.Ya(ul,o),r&&(u=$s(n,u)),Jh.v(o)),this.getLinkPointFromPoint(t,e,n,u,i,a),Jh.v(n),a},Ys.prototype.getLinkDirection=function(t,e,n,i,r,o,s,a){t:if(i.Zc())n=i.x>i.y?i.x>1-i.y?0:i.x<1-i.y?270:315:i.x<i.y?i.x>1-i.y?90:i.x<1-i.y?180:135:.5>i.x?225:.5<i.x?45:0;else{if(i.zj()){var u=ta(this,e);if(null!==u)switch(u.ze){case Jh.od:n=270;break t;case Jh.Uc:n=180;break t;default:case Jh.ed:n=0;break t;case Jh.dd:n=90;break t}}var u=e.Ya(ul,Jh.K()),h=null,l=null;this.qa>(o?6:2)?(l=r?this.l(1):this.l(this.qa-2),l=o?$s(u,l.copy()):n):(h=Jh.K(),l=a.Ya(ul,h),Jh.v(h)),n=0,n=Math.abs(l.x-u.x)>Math.abs(l.y-u.y)?l.x>=u.x?0:180:l.y>=u.y?90:270,Jh.v(u)}switch(i.Ud()&&s.qi(t)&&360<=(n+=180)&&(n-=360),t=Rp,t=r?this.lu:this.ev,t===Rp&&(t=r?e.lu:e.ev),t){case Vp:e=e.bm(),n+=e,360<=n&&(n-=360);break;case Rp:case Ip:if(i.ZA())break;if(0===(e=e.bm()))break;45<=e&&135>e?n+=90:135<=e&&225>e?n+=180:225<=e&&315>e&&(n+=270),360<=n&&(n-=360)}return n},Ys.prototype.computeEndSegmentLength=function(t,e,n,i){return null!==e&&n.zj()&&null!==(t=ta(this,e))?t.Ax:(t=NaN,t=i?this.am:this.um,null!==e&&isNaN(t)&&(t=i?e.am:e.um),isNaN(t)&&(t=10),t)},Ys.prototype.computeSpot=function(t,e){var n;if(t)if(null===(n=e||this.gc))n=ul;else{var i=this.Mb;i.ge()&&null!==n&&(i=n.Mb),n=i===il?nl:i}else n=e||this.zc,null===n?n=ul:(i=this.Nb,i.ge()&&null!==n&&(i=n.Nb),n=i===il?nl:i);return n},Ys.prototype.computeOtherPoint=function(t,e){var n,i=e.Ya(ul);return n=e.Ws,n=null!==n?Ma(n,this):null,null!==n&&(i=n.nq),i},Ys.prototype.computeShortLength=function(t){if(t){if(t=this.mu,isNaN(t)){var e=this.gc;null!==e&&(t=e.mu)}}else t=this.fv,isNaN(t)&&null!==(e=this.zc)&&(t=e.fv);return isNaN(t)?0:t},Ys.prototype.Jk=function(t,e,n,i,r,o){if(!1===this.Ug)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var s=o;if(void 0===o&&(s=Jh.Wg(),s.reset()),s.multiply(this.transform),this.un(t,s))return vo(this,e,n,r),void 0===o&&Jh.bf(s),!0;if(this.$f(t,s)){var a=!1;if(!this.Jn)for(var u=this.xa.n,h=u.length;h--;){var l=u[h];if(l.visible||l===this.cg){var f=l.U,d=this.Ja;if(!(f.x>d.width||f.y>d.height||0>f.x+f.width||0>f.y+f.height)){if(f=Jh.Wg(),f.set(s),l instanceof eo)a=l.Jk(t,e,n,i,r,f);else if(this.path===l){if(l instanceof No){var a=l,y=t,v=i,d=f;if(!1===a.Ug)a=!1;else if(d.multiply(a.transform),v)t:{var g=y,m=d;if(a.un(g,m))a=!0;else{if(void 0===m&&(m=a.transform,g.Fk(a.U))){a=!0;break t}var d=g.left,y=g.right,v=g.top,g=g.bottom,b=Jh.K(),w=Jh.K(),x=Jh.K(),k=Jh.Wg();k.set(m),k.UF(a.transform),k.TA(),w.x=y,w.y=v,w.transform(k),b.x=d,b.y=v,b.transform(k),m=!1,Fo(a,b,w,x)?m=!0:(b.x=y,b.y=g,b.transform(k),Fo(a,b,w,x)?m=!0:(w.x=d,w.y=g,w.transform(k),Fo(a,b,w,x)?m=!0:(b.x=d,b.y=v,b.transform(k),Fo(a,b,w,x)&&(m=!0)))),Jh.bf(k),Jh.v(b),Jh.v(w),Jh.v(x),a=m}}else a=a.un(y,d)}}else a=Or(l,t,i,f);a&&(null!==e&&(l=e(l)),l&&(null===n||n(l))&&(r instanceof p&&r.add(l),r instanceof c&&r.add(l))),Jh.bf(f)}}}return void 0===o&&Jh.bf(s),a||null!==this.background||null!==this.pn}return void 0===o&&Jh.bf(s),!1},Jh.u(Ys,{ac:"isOrthogonal"},function(){return 2==(2&this.an.value)}),Jh.u(Ys,{fm:"isAvoiding"},function(){return 4==(4&this.an.value)}),Ys.prototype.computeCurve=function(){if(null===this.Oi){var t=this.gc,e=this.ac;this.Oi=null!==t&&t===this.zc&&!e}return this.Oi?Up:this.nf},Ys.prototype.computeCorner=function(){if(this.nf===Up)return 0;var t=this.wA;return(isNaN(t)||0>t)&&(t=10),t},Ys.prototype.findMidLabel=function(){for(var t=this.path,e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];if(r!==t&&!r.ff&&(-1/0===r.Qe||isNaN(r.Qe)))return r}for(t=this.Ff;t.next();)if(e=t.value,-1/0===e.Qe||isNaN(e.Qe))return e;return null},Ys.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t;t=Math.max(14,this.computeThickness());var e=this.gc,n=this.zc;if(null!==e&&null!==n){var i=this.findMidLabel();if(null!==i){var r=i.Ja,o=i.margin,s=isNaN(r.width)?30:r.width*i.scale+o.left+o.right,r=isNaN(r.height)?14:r.height*i.scale+o.top+o.bottom,i=i.Eq;i===Zp||i===ed||i===td?t=Math.max(t,r):i===$p||i===id||i===Xp||i===nd?t=Math.max(t,s):(e=e.Ya(ul).Qb(n.Ya(ul))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*s)+Math.abs(Math.cos(e)*r)+1)),this.nf===Up&&(t*=1.333)}}return t},Ys.prototype.arrangeBundledLinks=function(t,e){if(e)for(var n=0;n<t.length;n++){var i=t[n];i.Jp===Hp&&i.Tb()}},Ys.prototype.computeCurviness=function(){var t=this.sx;if(isNaN(t)){var t=16,e=this.Bi;if(null!==e){for(var n=Jh.Za(),i=0,r=e.links,o=0;o<r.length;o++){var s=r[o],s=s.computeSpacing();n.push(s),i+=s}for(i=-i/2,o=0;o<r.length;o++){if((s=r[o])===this){t=i+n[o]/2;break}i+=n[o]}e.qq===this.V&&(t=-t),Jh.ra(n)}}return t},Ys.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.mb,1):1},Ys.prototype.hasCurviness=function(){return!isNaN(this.sx)||null!==this.Bi},Ys.prototype.adjustPoints=function(t,e,n,i){var r=this.Jp;if(this.ac){if(r===Yp)return!1;r===Qp&&(r=Jp)}switch(r){case Yp:var o=this.l(t),s=this.l(n);if(!o.Qc(e)||!s.Qc(i)){var r=o.x,o=o.y,a=s.x-r,u=s.y-o,h=Math.sqrt(a*a+u*u);if(!J(h,0)){var l=0;J(a,0)?l=0>u?-Math.PI/2:Math.PI/2:(l=Math.atan(u/Math.abs(a)),0>a&&(l=Math.PI-l));var s=e.x,c=e.y,u=i.x-s,f=i.y-c,p=Math.sqrt(u*u+f*f),a=0;for(J(u,0)?a=0>f?-Math.PI/2:Math.PI/2:(a=Math.atan(f/Math.abs(u)),0>u&&(a=Math.PI-a)),h=p/h,l=a-l,this.Vg(t,e),t+=1;t<n;t++)e=this.l(t),a=e.x-r,u=e.y-o,e=Math.sqrt(a*a+u*u),J(e,0)||(f=0,J(a,0)?f=0>u?-Math.PI/2:Math.PI/2:(f=Math.atan(u/Math.abs(a)),0>a&&(f=Math.PI-f)),a=f+l,e*=h,this.ca(t,s+e*Math.cos(a),c+e*Math.sin(a)));this.Vg(n,i)}}return!0;case Qp:if(o=this.l(t),c=this.l(n),!o.Qc(e)||!c.Qc(i)){var r=o.x,o=o.y,s=c.x,c=c.y,h=(s-r)*(s-r)+(c-o)*(c-o),a=e.x,l=e.y,u=i.x,f=i.y,p=0,d=1;for(0!=u-a?(p=(f-l)/(u-a),d=Math.sqrt(1+1/(p*p))):p=9e9,this.Vg(t,e),t+=1;t<n;t++){e=this.l(t);var y=e.x,v=e.y,g=.5;0!==h&&(g=((r-y)*(r-s)+(o-v)*(o-c))/h);var m=r+g*(s-r),b=o+g*(c-o);e=Math.sqrt((y-m)*(y-m)+(v-b)*(v-b)),v<p*(y-m)+b&&(e=-e),0<p&&(e=-e),y=a+g*(u-a),g=l+g*(f-l),0!==p?(e=y+e/d,this.ca(t,e,g-(e-y)/p)):this.ca(t,y,g+e)}this.Vg(n,i)}return!0;case Jp:return this.ac&&(r=this.l(t),o=this.l(t+1),s=this.l(t+2),a=o.x,l=o.y,c=a,h=l,W(r.y,o.y)?W(o.x,s.x)?l=e.y:W(o.y,s.y)&&(a=e.x):W(r.x,o.x)&&(W(o.y,s.y)?a=e.x:W(o.x,s.x)&&(l=e.y)),this.ca(t+1,a,l),r=this.l(n),o=this.l(n-1),s=this.l(n-2),a=o.x,l=o.y,u=a,f=l,W(r.y,o.y)?W(o.x,s.x)?l=i.y:W(o.y,s.y)&&(a=i.x):W(r.x,o.x)&&(W(o.y,s.y)?a=i.x:W(o.x,s.x)&&(l=i.y)),this.ca(n-1,a,l),ea(this))?(this.ca(t+1,c,h),this.ca(n-1,u,f),n=!1):(this.Vg(t,e),this.Vg(n,i),n=!0),n;default:return!1}},Ys.prototype.addOrthoPoints=function(t,e,n,i,r,o){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,i=-45<=i&&45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270;var s=r.U.copy(),a=o.U.copy();if(s.I()&&a.I()){s.Zf(8,8),a.Zf(8,8),s.yi(t),a.yi(n);var u,h;0===e?n.x>t.x||270===i&&n.y<t.y&&a.right>t.x||90===i&&n.y>t.y&&a.right>t.x?(u=new w(n.x,t.y),h=new w(n.x,(t.y+n.y)/2),180===i?(u.x=this.computeMidOrthoPosition(t.x,n.x,!1),h.x=u.x,h.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(u.x=t.x<a.left?this.computeMidOrthoPosition(t.x,a.left,!1):t.x<a.right&&(270===i&&t.y<a.top||90===i&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,n.x,!1):a.right,h.x=u.x,h.y=n.y):0===i&&t.x<a.left&&t.y>a.top&&t.y<a.bottom&&(u.x=t.x,u.y=t.y<n.y?Math.min(n.y,a.top):Math.max(n.y,a.bottom),h.y=u.y)):(u=new w(t.x,n.y),h=new w((t.x+n.x)/2,n.y),(180===i||90===i&&n.y<s.top||270===i&&n.y>s.bottom)&&(180===i&&(a.Ia(t)||s.Ia(n))?u.y=this.computeMidOrthoPosition(t.y,n.y,!0):n.y<t.y&&(180===i||90===i)?u.y=this.computeMidOrthoPosition(s.top,Math.max(n.y,a.bottom),!0):n.y>t.y&&(180===i||270===i)&&(u.y=this.computeMidOrthoPosition(s.bottom,Math.min(n.y,a.top),!0)),h.x=n.x,h.y=u.y),u.y>s.top&&u.y<s.bottom&&(n.x>=s.left&&n.x<=t.x||t.x<=a.right&&t.x>=n.x?90!==i&&270!==i||(u=new w(Math.max((t.x+n.x)/2,t.x),t.y),h=new w(u.x,n.y)):(u.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,0===i?s.top:Math.min(s.top,a.top)):Math.max(n.y,0===i?s.bottom:Math.max(s.bottom,a.bottom)),h.x=n.x,h.y=u.y))):180===e?n.x<t.x||270===i&&n.y<t.y&&a.left<t.x||90===i&&n.y>t.y&&a.left<t.x?(u=new w(n.x,t.y),h=new w(n.x,(t.y+n.y)/2),0===i?(u.x=this.computeMidOrthoPosition(t.x,n.x,!1),h.x=u.x,h.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(u.x=t.x>a.right?this.computeMidOrthoPosition(t.x,a.right,!1):t.x>a.left&&(270===i&&t.y<a.top||90===i&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,n.x,!1):a.left,h.x=u.x,h.y=n.y):180===i&&t.x>a.right&&t.y>a.top&&t.y<a.bottom&&(u.x=t.x,u.y=t.y<n.y?Math.min(n.y,a.top):Math.max(n.y,a.bottom),h.y=u.y)):(u=new w(t.x,n.y),h=new w((t.x+n.x)/2,n.y),(0===i||90===i&&n.y<s.top||270===i&&n.y>s.bottom)&&(0===i&&(a.Ia(t)||s.Ia(n))?u.y=this.computeMidOrthoPosition(t.y,n.y,!0):n.y<t.y&&(0===i||90===i)?u.y=this.computeMidOrthoPosition(s.top,Math.max(n.y,a.bottom),!0):n.y>t.y&&(0===i||270===i)&&(u.y=this.computeMidOrthoPosition(s.bottom,Math.min(n.y,a.top),!0)),h.x=n.x,h.y=u.y),u.y>s.top&&u.y<s.bottom&&(n.x<=s.right&&n.x>=t.x||t.x>=a.left&&t.x<=n.x?90!==i&&270!==i||(u=new w(Math.min((t.x+n.x)/2,t.x),t.y),h=new w(u.x,n.y)):(u.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,180===i?s.top:Math.min(s.top,a.top)):Math.max(n.y,180===i?s.bottom:Math.max(s.bottom,a.bottom)),h.x=n.x,h.y=u.y))):90===e?n.y>t.y||180===i&&n.x<t.x&&a.bottom>t.y||0===i&&n.x>t.x&&a.bottom>t.y?(u=new w(t.x,n.y),h=new w((t.x+n.x)/2,n.y),270===i?(u.y=this.computeMidOrthoPosition(t.y,n.y,!0),h.x=n.x,h.y=u.y):180===i&&n.x<t.x||0===i&&n.x>t.x?(u.y=t.y<a.top?this.computeMidOrthoPosition(t.y,a.top,!0):t.y<a.bottom&&(180===i&&t.x<a.left||0===i&&t.x>a.right)?this.computeMidOrthoPosition(t.y,n.y,!0):a.bottom,h.x=n.x,h.y=u.y):90===i&&t.y<a.top&&t.x>a.left&&t.x<a.right&&(u.x=t.x<n.x?Math.min(n.x,a.left):Math.max(n.x,a.right),u.y=t.y,h.x=u.x)):(u=new w(n.x,t.y),h=new w(n.x,(t.y+n.y)/2),(270===i||0===i&&n.x<s.left||180===i&&n.x>s.right)&&(270===i&&(a.Ia(t)||s.Ia(n))?u.x=this.computeMidOrthoPosition(t.x,n.x,!1):n.x<t.x&&(270===i||0===i)?u.x=this.computeMidOrthoPosition(s.left,Math.max(n.x,a.right),!1):n.x>t.x&&(270===i||180===i)&&(u.x=this.computeMidOrthoPosition(s.right,Math.min(n.x,a.left),!1)),h.x=u.x,h.y=n.y),u.x>s.left&&u.x<s.right&&(n.y>=s.top&&n.y<=t.y||t.y<=a.bottom&&t.y>=n.y?0!==i&&180!==i||(u=new w(t.x,Math.max((t.y+n.y)/2,t.y)),h=new w(n.x,u.y)):(u.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,90===i?s.left:Math.min(s.left,a.left)):Math.max(n.x,90===i?s.right:Math.max(s.right,a.right)),h.x=u.x,h.y=n.y))):n.y<t.y||180===i&&n.x<t.x&&a.top<t.y||0===i&&n.x>t.x&&a.top<t.y?(u=new w(t.x,n.y),h=new w((t.x+n.x)/2,n.y),90===i?(u.y=this.computeMidOrthoPosition(t.y,n.y,!0),h.x=n.x,h.y=u.y):180===i&&n.x<t.x||0===i&&n.x>=t.x?(u.y=t.y>a.bottom?this.computeMidOrthoPosition(t.y,a.bottom,!0):t.y>a.top&&(180===i&&t.x<a.left||0===i&&t.x>a.right)?this.computeMidOrthoPosition(t.y,n.y,!0):a.top,h.x=n.x,h.y=u.y):270===i&&t.y>a.bottom&&t.x>a.left&&t.x<a.right&&(u.x=t.x<n.x?Math.min(n.x,a.left):Math.max(n.x,a.right),u.y=t.y,h.x=u.x)):(u=new w(n.x,t.y),h=new w(n.x,(t.y+n.y)/2),(90===i||0===i&&n.x<s.left||180===i&&n.x>s.right)&&(90===i&&(a.Ia(t)||s.Ia(n))?u.x=this.computeMidOrthoPosition(t.x,n.x,!1):n.x<t.x&&(90===i||0===i)?u.x=this.computeMidOrthoPosition(s.left,Math.max(n.x,a.right),!1):n.x>t.x&&(90===i||180===i)&&(u.x=this.computeMidOrthoPosition(s.right,Math.min(n.x,a.left),!1)),h.x=u.x,h.y=n.y),u.x>s.left&&u.x<s.right&&(n.y<=s.bottom&&n.y>=t.y||t.y>=a.top&&t.y<=n.y?0!==i&&180!==i||(u=new w(t.x,Math.min((t.y+n.y)/2,t.y)),h=new w(n.x,u.y)):(u.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,270===i?s.left:Math.min(s.left,a.left)):Math.max(n.x,270===i?s.right:Math.max(s.right,a.right)),h.x=u.x,h.y=n.y)));var l=u,c=h,f=n;if(this.fm){var p=this.g;if(null===p||!ir(p)||s.Ia(f)&&!o.qi(r)||a.Ia(t)&&!r.qi(o)||r===o||this.layer.Hc)e=!1;else{var d=rr(p,!0,this.Ca,null);if(d.lq(Math.min(t.x,l.x),Math.min(t.y,l.y),Math.abs(t.x-l.x),Math.abs(t.y-l.y))&&d.lq(Math.min(l.x,c.x),Math.min(l.y,c.y),Math.abs(l.x-c.x),Math.abs(l.y-c.y))&&d.lq(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y)))e=!1;else{r=t,o=f;var y=n=null;if(p.$A){p=d.eb.copy(),p.Zf(-d.Op,-d.Mp);var v=Jh.K();ga(d,t.x,t.y)||(at(p.x,p.y,p.x+p.width,p.y+p.height,t.x,t.y,l.x,l.y,v)?(n=t=v.copy(),e=v.Qb(l)):at(p.x,p.y,p.x+p.width,p.y+p.height,l.x,l.y,c.x,c.y,v)?(n=t=v.copy(),e=v.Qb(c)):at(p.x,p.y,p.x+p.width,p.y+p.height,c.x,c.y,f.x,f.y,v)&&(n=t=v.copy(),e=v.Qb(f))),ga(d,f.x,f.y)||(at(p.x,p.y,p.x+p.width,p.y+p.height,f.x,f.y,c.x,c.y,v)?(y=f=v.copy(),i=c.Qb(v)):at(p.x,p.y,p.x+p.width,p.y+p.height,c.x,c.y,l.x,l.y,v)?(y=f=v.copy(),i=l.Qb(v)):at(p.x,p.y,p.x+p.width,p.y+p.height,l.x,l.y,t.x,t.y,v)&&(y=f=v.copy(),i=t.Qb(v))),Jh.v(v)}s=s.copy().Zg(a),a=d.wG,s.Zf(d.Op*a,d.Mp*a),Ca(d,t,e,f,i,s),a=ma(d,f.x,f.y),!d.abort&&999999<=a&&(wa(d),a=d.NF,s.Zf(d.Op*a,d.Mp*a),Ca(d,t,e,f,i,s),a=ma(d,f.x,f.y)),!d.abort&&999999<=a&&d.NG&&(wa(d),Ca(d,t,e,f,i,d.eb),a=ma(d,f.x,f.y)),!d.abort&&999999>a&&0!==ma(d,f.x,f.y)?(na(this,d,f.x,f.y,i,!0),s=this.l(2),4>this.qa?(0===e||180===e?(s.x=t.x,s.y=f.y):(s.x=f.x,s.y=t.y),this.ca(2,s.x,s.y),this.w(3,s.x,s.y)):(f=this.l(3),0===e||180===e?W(s.x,f.x)?(s=0===e?Math.max(s.x,t.x):Math.min(s.x,t.x),this.ca(2,s,t.y),this.ca(3,s,f.y)):W(s.y,f.y)?(Math.abs(t.y-s.y)<=d.Mp/2&&(this.ca(2,s.x,t.y),this.ca(3,f.x,t.y)),this.w(2,s.x,t.y)):this.ca(2,t.x,s.y):90!==e&&270!==e||(W(s.y,f.y)?(s=90===e?Math.max(s.y,t.y):Math.min(s.y,t.y),this.ca(2,t.x,s),this.ca(3,f.x,s)):W(s.x,f.x)?(Math.abs(t.x-s.x)<=d.Op/2&&(this.ca(2,t.x,s.y),this.ca(3,t.x,f.y)),this.w(2,t.x,s.y)):this.ca(2,s.x,t.y))),null!==n&&(t=this.l(1),f=this.l(2),t.x!==f.x&&t.y!==f.y?0===e||180===e?this.w(2,t.x,f.y):this.w(2,f.x,t.y):0===e||180===e?this.w(2,r.x,n.y):this.w(2,n.x,r.y)),null!==y&&(0===i||180===i?this.oj(o.x,y.y):this.oj(y.x,o.y)),e=!0):e=!1}}}else e=!1;e||(this.mi(u),this.mi(h))}},Ys.prototype.computeMidOrthoPosition=function(t,e){if(this.hasCurviness()){return(t+e)/2+this.computeCurviness()}return(t+e)/2},Ys.prototype.findClosestSegment=function(t){var e=t.x;t=t.y;for(var n=this.l(0),i=this.l(1),r=Zh(e,t,n.x,n.y,i.x,i.y),o=0,s=1;s<this.qa-1;s++){var n=this.l(s+1),a=Zh(e,t,i.x,i.y,n.x,n.y),i=n;a<r&&(o=s,r=a)}return o},Ys.prototype.fe=function(){this.Sa=null},Jh.u(Ys,{of:"geometry"},function(){return null===this.Sa&&(this.jo(),this.Sa=this.makeGeometry()),this.Sa}),Ys.prototype.Hu=function(t){if(!t){if(!1===this.Mf)return;if(t=this.Bd(),null!==this.Sa&&(null===t||null!==t.of))return}if(this.Sa=this.makeGeometry(),null!==(t=this.path)){t.Sa=this.Sa;for(var e=this.xa.n,n=e.length,i=0;i<n;i++){var r=e[i];r!==t&&r.ff&&r instanceof No&&(r.Sa=this.Sa)}}},Ys.prototype.makeGeometry=function(){var t=this.qa;if(2>t)return new gt(rc);var e=!1,n=this.g;null!==n&&ha(this)&&n.ol.contains(this)&&null!==this.Dw&&(e=!0);var i=n=0,r=this.l(0).copy(),o=r.copy(),n=this.gd.n,s=this.computeCurve();if(s===Up&&3<=t&&!J(this.Iq,0))if(3===t)var a=this.l(1),n=Math.min(r.x,a.x),i=Math.min(r.y,a.y),a=this.l(2),n=Math.min(n,a.x),i=Math.min(i,a.y);else{if(this.ac)for(a=0;a<t;a++)i=n[a],o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);else for(a=3;a<t;a+=3)a+3>=t&&(a=t-1),n=this.l(a),o.x=Math.min(n.x,o.x),o.y=Math.min(n.y,o.y);n=o.x,i=o.y}else{for(a=0;a<t;a++)i=n[a],o.x=Math.min(i.x,o.x),o.y=Math.min(i.y,o.y);n=o.x,i=o.y}if(n-=this.Yz.x,i-=this.Yz.y,r.x-=n,r.y-=i,2!==t||ha(this)){var u=Jh.s();if(0!==this.computeShortLength(!0)&&(r=ra(this,r,!0,o)),ts(u,r.x,r.y,!1,!1),s===Up&&3<=t&&!J(this.Iq,0))if(3===t)a=this.l(1),t=a.x-n,e=a.y-i,a=this.l(2).copy(),a.x-=n,a.y-=i,0!==this.computeShortLength(!1)&&(a=ra(this,a,!1,o)),is(u,t,e,t,e,a.x,a.y);else if(this.ac){for(var o=new w(n,i),r=this.l(1).copy(),s=new w(n,i),t=new w(n,i),e=this.l(0),h=null,l=this.Iq/3,a=1;a<this.qa-1;a++){var h=this.l(a),c=e,f=h,p=this.l(oa(this,h,a,!1));if(!(J(c.x,f.x)&&J(f.x,p.x)||J(c.y,f.y)&&J(f.y,p.y))){var d=l,y=s,v=t;isNaN(d)&&(d=this.Iq/3);var g=c.x,c=c.y,m=f.x,f=f.y,b=p.x,p=p.y,x=d*ia(g,c,m,f),d=d*ia(m,f,b,p);J(c,f)&&J(m,b)&&(m>g?p>f?(y.x=m-x,y.y=f-x,v.x=m+d,v.y=f+d):(y.x=m-x,y.y=f+x,v.x=m+d,v.y=f-d):p>f?(y.x=m+x,y.y=f-x,v.x=m-d,v.y=f+d):(y.x=m+x,y.y=f+x,v.x=m-d,v.y=f-d)),J(g,m)&&J(f,p)&&(f>c?(b>m?(y.x=m-x,y.y=f-x,v.x=m+d):(y.x=m+x,y.y=f-x,v.x=m-d),v.y=f+d):(b>m?(y.x=m-x,y.y=f+x,v.x=m+d):(y.x=m+x,y.y=f+x,v.x=m-d),v.y=f-d)),(J(g,m)&&J(m,b)||J(c,f)&&J(f,p))&&(g=.5*(g+b),c=.5*(c+p),y.x=g,y.y=c,v.x=g,v.y=c),1===a?(r.x=.5*(e.x+h.x),r.y=.5*(e.y+h.y)):2===a&&J(e.x,this.l(0).x)&&J(e.y,this.l(0).y)&&(r.x=.5*(e.x+h.x),r.y=.5*(e.y+h.y)),is(u,r.x-n,r.y-i,s.x-n,s.y-i,h.x-n,h.y-i),o.set(s),r.set(t),e=h}}a=e.x,e=e.y,o=this.l(this.qa-1),0!==this.computeShortLength(!1)&&(o=ra(this,o.copy(),!1,Rl)),a=.5*(a+o.x),e=.5*(e+o.y),is(u,t.x-n,t.y-i,a-n,e-i,o.x-n,o.y-i)}else for(a=3;a<t;a+=3)e=this.l(a-2),a+3>=t&&(a=t-1),o=this.l(a-1),r=this.l(a),a===t-1&&0!==this.computeShortLength(!1)&&(r=ra(this,r.copy(),!1,Rl)),is(u,e.x-n,e.y-i,o.x-n,o.y-i,r.x-n,r.y-i);else{for(o=Jh.K(),o.assign(this.l(0)),a=1,r=0;a<t;){if(a=oa(this,o,a,1<a),y=this.l(a),a>=t-1){if(o.L(y)){if(0===r)for(a=1;a<t;)y=this.l(a++),sa(this,u,-n,-i,o,y,e),o.assign(y)}else 0!==this.computeShortLength(!1)&&(y=ra(this,y.copy(),!1,Rl)),sa(this,u,-n,-i,o,y,e);break}r=oa(this,y,a+1,a<t-3),a=u,s=-n,h=-i,l=o,v=this.l(r),g=o,c=e,W(l.y,y.y)&&W(y.x,v.x)?(d=this.computeCorner(),d=Math.min(d,Math.abs(y.x-l.x)/2),d=m=Math.min(d,Math.abs(v.y-y.y)/2),W(d,0)?(sa(this,a,s,h,l,y,c),g.assign(y)):(f=y.x,b=y.y,p=f,x=b,f=y.x>l.x?y.x-d:y.x+d,x=v.y>y.y?y.y+m:y.y-m,sa(this,a,s,h,l,new w(f,b),c),rs(a,y.x+s,y.y+h,p+s,x+h),g.m(p,x))):W(l.x,y.x)&&W(y.y,v.y)?(d=this.computeCorner(),m=Math.min(d,Math.abs(y.y-l.y)/2),m=d=Math.min(m,Math.abs(v.x-y.x)/2),W(d,0)?(sa(this,a,s,h,l,y,c),g.assign(y)):(f=y.x,x=b=y.y,b=y.y>l.y?y.y-m:y.y+m,p=v.x>y.x?y.x+d:y.x-d,sa(this,a,s,h,l,new w(f,b),c),rs(a,y.x+s,y.y+h,p+s,x+h),g.m(p,x))):(sa(this,a,s,h,l,y,c),g.assign(y)),a=r}Jh.v(o)}n=u.o,Jh.q(u)}else u=this.l(1).copy(),u.x-=n,u.y-=i,0!==this.computeShortLength(!0)&&(r=ra(this,r,!0,o)),0!==this.computeShortLength(!1)&&(u=ra(this,u,!1,o)),n=new gt(rc),n.ha=r.x,n.da=r.y,n.C=u.x,n.D=u.y;return n},Jh.u(Ys,{fu:"firstPickIndex"},function(){var t;return 2>=this.qa?t=0:((t=this.ac)||(t=this.computeSpot(!0)!==nl),t=t?1:0),t}),Jh.u(Ys,{Sx:"lastPickIndex"},function(){var t=this.qa;if(0===t)t=0;else if(2>=t)t-=1;else{var e;(e=this.ac)||(e=this.computeSpot(!1)!==nl),t=e?t-2:t-1}return t}),Ys.prototype.usesSamePort=function(t){var e=this.qa,n=t.qa;if(0<e&&0<n){var i=this.l(0),r=t.l(0);if(i.Qc(r))return!0;if(e=this.l(e-1),t=t.l(n-1),e.Qc(t)||i.Qc(t)||e.Qc(r))return!0}else if(this.V===t.V||this.Z===t.Z||this.V===t.Z||this.Z===t.V)return!0;return!1},Ys.prototype.isVisible=function(){if(!ls.prototype.isVisible.call(this))return!1;var t=this.Ca,e=!0,n=this.g;null!==n&&(e=n.Vd);var i=this.V;if(null!==i){if(this.bc&&e&&!i.wc)return!1;if(i===t)return!0;for(n=i;null!==n;){if(n.Xb===this)return!0;n=n.Ca}if(null===(n=i.findVisibleNode())||n===t)return!1}if(null!==(i=this.Z)){if(this.bc&&!e&&!i.wc)return!1;if(i===t)return!0;for(n=i;null!==n;){if(n.Xb===this)return!0;n=n.Ca}if(null===(e=i.findVisibleNode())||e===t)return!1}return!0},Ys.prototype.Dd=function(t){if(ls.prototype.Dd.call(this,t),null!==this.Bi&&this.Bi.fq(),null!==this.yf)for(var e=this.yf.i;e.next();)e.value.Dd(t)},Jh.defineProperty(Ys,{Jp:"adjusting"},function(){return this.Tq},function(t){var e=this.Tq;e!==t&&(this.Tq=t,this.h("adjusting",e,t))}),Jh.defineProperty(Ys,{wA:"corner"},function(){return this.nr},function(t){var e=this.nr;e!==t&&(this.nr=t,this.fe(),this.h("corner",e,t))}),Jh.defineProperty(Ys,{nf:"curve"},function(){return this.qr},function(t){var e=this.qr;e!==t&&(this.qr=t,this.Tb(),this.fe(),la(this,e===Kp||e===Wp||t===Kp||t===Wp),this.h("curve",e,t))}),Jh.defineProperty(Ys,{sx:"curviness"},function(){return this.rr},function(t){var e=this.rr;e!==t&&(this.rr=t,this.Tb(),this.fe(),this.h("curviness",e,t))}),Jh.defineProperty(Ys,{sy:"routing"},function(){return this.an},function(t){var e=this.an;e!==t&&(this.an=t,this.Oi=null,this.Tb(),la(this,2==(2&e.value)||2==(2&t.value)),this.h("routing",e,t))}),Jh.defineProperty(Ys,{Iq:"smoothness"},function(){return this.vt},function(t){var e=this.vt;e!==t&&(this.vt=t,this.fe(),this.h("smoothness",e,t))}),Jh.u(Ys,{key:"key"},function(){var t=this.g;return null!==t&&t.$ instanceof Zt?t.$.cf(this.data):void 0},{configurable:!0}),ya.prototype.fq=function(){if(!this.aw){var t=this.links;0<t.length&&null!==(t=t[0].g)&&(t.fD.add(this),this.gh=t.ja.lb)}this.aw=!0},ya.prototype.XB=function(){if(this.aw){this.aw=!1;var t=this.links;if(0<t.length){var e=t[0],n=e.g,n=null===n||n.Kn&&!this.gh;this.gh=!1,e.arrangeBundledLinks(t,n),1===t.length&&(e.Bi=null,t.length=0)}0===t.length&&(t=this.qq,null!==this&&null!==t.Lh&&t.Lh.remove(this),t=this.Mu,null!==this&&null!==t.Lh&&t.Lh.remove(this))}},Jh.be(ya,{qq:!0,iy:!0,Mu:!0,jy:!0,links:!0,spacing:!0}),Jh.be(va,{group:!0,LB:!0,su:!0,abort:!0,NG:!0,wG:!0,NF:!0}),va.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,n=t.x+t.width,i=t.y+t.height;if(this.Ag=Math.floor((t.x-this.De)/this.De)*this.De,this.Bg=Math.floor((e-this.Ee)/this.Ee)*this.Ee,this.rs=Math.ceil((n+2*this.De)/this.De)*this.De,this.ss=Math.ceil((i+2*this.Ee)/this.Ee)*this.Ee,t=1+(0|Math.ceil((this.rs-this.Ag)/this.De)),e=1+(0|Math.ceil((this.ss-this.Bg)/this.Ee)),null===this.qd||this.Fp<t-1||this.Gp<e-1){for(n=[],i=0;i<=t;i++)n[i]=[];this.qd=n,this.Fp=t-1,this.Gp=e-1}if(null!==this.qd)for(t=0;t<=this.Fp;t++)for(e=0;e<=this.Gp;e++)this.qd[t][e]=1e6}},Jh.u(va,{eb:null},function(){return new C(this.Ag,this.Bg,this.rs-this.Ag,this.ss-this.Bg)}),Jh.defineProperty(va,{Op:null},function(){return this.De},function(t){0<t&&t!==this.De&&(this.De=t,this.initialize(this.eb))}),Jh.defineProperty(va,{Mp:null},function(){return this.Ee},function(t){0<t&&t!==this.Ee&&(this.Ee=t,this.initialize(this.eb))}),va.prototype.lq=function(t,e,n,i){if(t>this.rs||t+n<this.Ag||e>this.ss||e+i<this.Bg)return!0;t=(t-this.Ag)/this.De|0,e=(e-this.Bg)/this.Ee|0,n=Math.max(0,n)/this.De+1|0;var r=Math.max(0,i)/this.Ee+1|0;if(0>t&&(n+=t,t=0),0>e&&(r+=e,e=0),0>n||0>r)return!0;for(i=0|Math.min(t+n-1,this.Fp),n=0|Math.min(e+r-1,this.Gp);t<=i;t++)for(r=e;r<=n;r++)if(0===this.qd[t][r])return!1;return!0},Jh.be(Sa,{Rc:!0,port:!0,gg:!0,pq:!0}),Sa.prototype.toString=function(){for(var t=this.gg,e=this.Rc.toString()+" "+t.length.toString()+":",n=0;n<t.length;n++){var i=t[n];null!==i&&(e+="\n  "+i.toString())}return e},Sa.prototype.fq=function(){this.gg.length=0},Sa.prototype.gJ=function(t,e){return t===e?0:null===t?-1:null===e?1:t.ze<e.ze?-1:t.ze>e.ze?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Sa.prototype.computeEndSegmentLength=function(t){var e=t.link,n=e.computeEndSegmentLength(this.Rc,this.port,nl,e.gc===this.port),i=t.dq;if(0>i)return n;var r=t.xn;if(1>=r||!e.ac)return n;var e=t.gy,o=t.nq;return t.ze!==Jh.Uc&&t.ze!==Jh.dd||(i=r-1-i),((t=t.ze===Jh.Uc||t.ze===Jh.ed)?e.y<o.y:e.x<o.x)?n+8*i:(t?e.y===o.y:e.x===o.x)?n:n+8*(r-1-i)},Jh.be(_a,{link:!0,angle:!0,ze:!0,gy:!0,dq:!0,xn:!0,nq:!0,Ax:!0}),_a.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ze.toString()+":"+this.dq.toString()+"/"+this.xn.toString()+" "+this.nq.toString()+" "+this.Ax.toString()+" "+this.gy.toString()},Na.prototype.copy=function(){var t=new Na;return t.$j=this.$j.S(),t.zk=this.zk.S(),t.Yj=this.Yj,t.xk=this.xk,t.Xj=this.Xj,t.wk=this.wk,t.Zj=this.Zj,t.yk=this.yk,t.Jr=this.Jr,t.Et=this.Et,t.Kr=this.Kr,t.Ft=this.Ft,t},Jh.La(Aa,Ls),Jh.ga("Group",Aa),Aa.prototype.cloneProtected=function(t){Ls.prototype.cloneProtected.call(this,t),this.ya&=-32769,t.ts=this.ts,t.vs=this.vs,t.Dl=this.Dl,t.zt=this.zt;var e=t.bu(function(t){return t instanceof Da});t.Lb=e instanceof Da?e:null,null!==this.oe?(t.oe=this.oe.copy(),t.oe.group=t):(null!==t.oe&&(t.oe.group=null),t.oe=null)},Aa.prototype.pi=function(t){Ls.prototype.pi.call(this,t);var e=t.$p();for(t=t.hc;t.next();){var n=t.value;if(n.H(),n.J(8),n.Ut(),n instanceof Ls)n.ag(e);else if(n instanceof Ys)for(n=n.Ff;n.next();)n.value.ag(e)}},Aa.prototype.Zn=function(t,e,n,i,r,o,s){if(t===mc&&"elements"===e)if(r instanceof Da){var a=r;null===this.Lb?this.Lb=a:this.Lb!==a&&Jh.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else r instanceof eo&&(a=r.bu(function(t){return t instanceof Da}))instanceof Da&&(null===this.Lb?this.Lb=a:this.Lb!==a&&Jh.k("Cannot insert a second Placeholder into the visual tree of a Group."));else t===bc&&"elements"===e&&null!==this.Lb&&(i===this.Lb?this.Lb=null:i instanceof eo&&this.Lb.hm(i)&&(this.Lb=null));Ls.prototype.Zn.call(this,t,e,n,i,r,o,s)},Aa.prototype.pj=function(t,e,n,i){this.Cl=this.Lb,eo.prototype.pj.call(this,t,e,n,i)},Aa.prototype.im=function(){if(!Ls.prototype.im.call(this))return!1;for(var t=this.hc;t.next();){var e=t.value;if(e instanceof Ls){if(e.isVisible()&&Yr(e))return!1}else if(e instanceof Ys&&e.isVisible()&&Yr(e)&&e.V!==this&&e.Z!==this)return!1}return!0},Jh.u(Aa,{placeholder:"placeholder"},function(){return this.Lb}),Jh.defineProperty(Aa,{EH:"computesBoundsAfterDrag"},function(){return 0!=(2048&this.ya)},function(t){var e=0!=(2048&this.ya);e!==t&&(Jh.j(t,"boolean",Aa,"computesBoundsAfterDrag"),this.ya^=2048,this.h("computesBoundsAfterDrag",e,t))}),Jh.defineProperty(Aa,{nx:"computesBoundsIncludingLinks"},function(){return 0!=(4096&this.ya)},function(t){Jh.j(t,"boolean",Aa,"computesBoundsIncludingLinks");var e=0!=(4096&this.ya);e!==t&&(this.ya^=4096,this.h("computesBoundsIncludingLinks",e,t))}),Jh.defineProperty(Aa,{FH:"computesBoundsIncludingLocation"},function(){return 0!=(8192&this.ya)},function(t){Jh.j(t,"boolean",Aa,"computesBoundsIncludingLocation");var e=0!=(8192&this.ya);e!==t&&(this.ya^=8192,this.h("computesBoundsIncludingLocation",e,t))}),Jh.defineProperty(Aa,{oI:"handlesDragDropForMembers"},function(){return 0!=(16384&this.ya)},function(t){Jh.j(t,"boolean",Aa,"handlesDragDropForMembers");var e=0!=(16384&this.ya);e!==t&&(this.ya^=16384,this.h("handlesDragDropForMembers",e,t))}),Jh.u(Aa,{hc:"memberParts"},function(){return this.us.i}),Aa.prototype.zn=function(){if(0<this.us.count){var t=this.g;if(null!==t)for(var e=this.us.copy().i;e.next();)t.remove(e.value)}Ls.prototype.zn.call(this)},Jh.defineProperty(Aa,{Ub:"layout"},function(){return this.oe},function(t){var e=this.oe;if(e!==t){null!==t&&Jh.G(t,Fa,Aa,"layout"),null!==e&&(e.g=null,e.group=null),this.oe=t;var n=this.g;null!==t&&(t.g=n,t.group=this),null!==n&&(n.Pj=!0),this.h("layout",e,t),null!==n&&n.ye()}}),Jh.defineProperty(Aa,{XI:"memberAdded"},function(){return this.ts},function(t){var e=this.ts;e!==t&&(null!==t&&Jh.j(t,"function",Aa,"memberAdded"),this.ts=t,this.h("memberAdded",e,t))}),Jh.defineProperty(Aa,{YI:"memberRemoved"},function(){return this.vs},function(t){var e=this.vs;e!==t&&(null!==t&&Jh.j(t,"function",Aa,"memberRemoved"),this.vs=t,this.h("memberRemoved",e,t))}),Jh.defineProperty(Aa,{gB:"memberValidation"},function(){return this.Dl},function(t){var e=this.Dl;e!==t&&(null!==t&&Jh.j(t,"function",Aa,"memberValidation"),this.Dl=t,this.h("memberValidation",e,t))}),Aa.prototype.canAddMembers=function(t){var e=this.g;if(null===e)return!1;for(e=e.pb,t=ce(t).i;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Aa.prototype.addMembers=function(t,e){var n=this.g;if(null===n)return!1;for(var n=n.pb,i=!0,r=ce(t).i;r.next();){var o=r.value;!e||n.isValidMember(this,o)?o.Ca=this:i=!1}return i},Jh.defineProperty(Aa,{ZJ:"ungroupable"},function(){return 0!=(256&this.ya)},function(t){var e=0!=(256&this.ya);e!==t&&(Jh.j(t,"boolean",Aa,"ungroupable"),this.ya^=256,this.h("ungroupable",e,t))}),Aa.prototype.canUngroup=function(){if(!this.ZJ)return!1;var t=this.layer;return!(null!==t&&!t.kx)&&!(null!==(t=t.g)&&!t.kx)},Aa.prototype.ag=function(t){void 0===t&&(t=null);var e=0!=(65536&this.ya);if(Ls.prototype.ag.call(this,t),!e)for(0!=(65536&this.ya)!=!0&&(this.ya^=65536),e=this.$E();e.next();){var n=e.value;if(null===t||!t.contains(n)){var i=n.V;null!==i&&i!==this&&i.qi(this)&&!i.isVisible()?(Vs(i,n.gc),Vs(i,n.zc),n.Tb()):null!==(i=n.Z)&&i!==this&&i.qi(this)&&!i.isVisible()&&(Vs(i,n.gc),Vs(i,n.zc),n.Tb())}}},Aa.prototype.findExternalLinksConnected=Aa.prototype.$E=function(){var t=this.$p();t.add(this);for(var e=new p(Ys),n=t.i;n.next();){var i=n.value;if(i instanceof Ls)for(i=i.je;i.next();){var r=i.value;t.contains(r)||e.add(r)}}return e.i},Aa.prototype.findExternalNodesConnected=function(){var t=this.$p();t.add(this);for(var e=new p(Ls),n=t.i;n.next();){var i=n.value;if(i instanceof Ls)for(i=i.je;i.next();){var r=i.value,o=r.V;t.contains(o)&&o!==this||e.add(o),r=r.Z,t.contains(r)&&r!==this||e.add(r)}}return e.i},Aa.prototype.findContainingGroupChain=function(){function t(e,n){null!==e&&(n.add(e),t(e.Ca,n))}var e=new p(Aa);return t(this,e),e},Aa.prototype.findSubGraphParts=Aa.prototype.$p=function(){var t=new p(ls);return ue(t,this,!0,0,!0),t.remove(this),t},Aa.prototype.Dd=function(t){Ls.prototype.Dd.call(this,t);for(var e=this.hc;e.next();)e.value.Dd(t)},Aa.prototype.collapseSubGraph=Aa.prototype.collapseSubGraph=function(){var t=this.g;if(null!==t&&!t.yh){t.yh=!0;Ea(this,this.$p(),t.Ka,this),t.yh=!1}},Aa.prototype.expandSubGraph=Aa.prototype.expandSubGraph=function(){var t=this.g;if(null!==t&&!t.yh){t.yh=!0;La(this,this.$p(),t.Ka,this),t.yh=!1}},Jh.defineProperty(Aa,{$c:"isSubGraphExpanded"},function(){return 0!=(512&this.ya)},function(t){var e=0!=(512&this.ya);if(e!==t){Jh.j(t,"boolean",Aa,"isSubGraphExpanded"),this.ya^=512;var n=this.g;if(this.h("isSubGraphExpanded",e,t),null!==(e=this.PJ)){var i=!0;null!==n&&(i=n.Ua,n.Ua=!0),e(this),null!==n&&(n.Ua=i)}null!==n&&n.ja.lb?(null!==this.Lb&&this.Lb.H(),this.hc.each(function(t){t.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}),Jh.defineProperty(Aa,{Gy:"wasSubGraphExpanded"},function(){return 0!=(1024&this.ya)},function(t){var e=0!=(1024&this.ya);e!==t&&(Jh.j(t,"boolean",Aa,"wasSubGraphExpanded"),this.ya^=1024,this.h("wasSubGraphExpanded",e,t))}),Jh.defineProperty(Aa,{PJ:"subGraphExpandedChanged"},function(){return this.zt},function(t){var e=this.zt;e!==t&&(null!==t&&Jh.j(t,"function",Aa,"subGraphExpandedChanged"),this.zt=t,this.h("subGraphExpandedChanged",e,t))}),Aa.prototype.move=function(t){var e=this.position,n=e.x;isNaN(n)&&(n=0),e=e.y,isNaN(e)&&(e=0);var n=t.x-n,e=t.y-e,i=Jh.wb(n,e);Ls.prototype.move.call(this,t),t=new p(Ys);for(var r=this.$p().i;r.next();){var o=r.value;o instanceof Ys&&(o.vi&&t.add(o),o.vi=!0)}for(r.reset();r.next();)if(!((o=r.value)instanceof Ys||o instanceof Ls&&o.Df)){var s=o.position,a=o.location;s.I()?(i.x=s.x+n,i.y=s.y+e,o.position=i):a.I()&&(i.x=a.x+n,i.y=a.y+e,o.location=i)}for(r.reset();r.next();)(o=r.value)instanceof Ys&&(o.vi=t.contains(o),o.Mf||o.V!==this&&o.Z!==this)&&(s=o.position,i.x=s.x+n,i.y=s.y+e,i.I()?o.move(i):o.Tb(),ea(o)&&o.Tb());Jh.v(i)},Jh.defineProperty(Aa,{Wn:null},function(){return 0!=(32768&this.ya)},function(t){0!=(32768&this.ya)!==t&&(this.ya^=32768)}),Jh.La(Da,Tr),Jh.ga("Placeholder",Da),Da.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.lf=this.lf.S(),t.jt=this.jt.copy()},Da.prototype.Ek=function(t){if(null===this.background&&null===this.pn)return!1;var e=this.Ja;return tl(0,0,e.width,e.height,t.x,t.y)},Da.prototype.Qn=function(){var t=this.W;if(null!==t&&(t instanceof Aa||t instanceof Es)||Jh.k("Placeholder is not inside a Group or Adornment."),t instanceof Aa){var e=this.computeBorder(this.jt),n=this.Nc;S(n,e.width||0,e.height||0),Ar(this,0,0,n.width,n.height);for(var i=t.hc,n=!1;i.next();)if(i.value.isVisible()){n=!0;break}i=t.g,!n||null===i||i.Ka.df||isNaN(e.x)||isNaN(e.y)||(n=Jh.K(),n.ao(e,t.Gf),t.location=new w(n.x,n.y),Jh.v(n))}else{var e=this.Da,n=this.Nc,i=this.padding,r=i.left+i.right,o=i.top+i.bottom;if(e.I())S(n,e.width+r||0,e.height+o||0),Ar(this,-i.left,-i.top,n.width,n.height);else{var s=t.ub,a=s.Ya(rl,Jh.K()),e=Jh.lg(a.x,a.y,0,0);e.yi(s.Ya(fl,a)),e.yi(s.Ya(sl,a)),e.yi(s.Ya(ll,a)),t.Xi.m(e.x,e.y),S(n,e.width+r||0,e.height+o||0),Ar(this,-i.left,-i.top,n.width,n.height),Jh.v(a),Jh.Bb(e)}}},Da.prototype.pj=function(t,e,n,i){var r=this.U;r.x=t,r.y=e,r.width=n,r.height=i},Da.prototype.computeBorder=function(t){var e=this.W;if(e instanceof Aa){var n=e;if(n.EH&&this.jt.I()){var i=n.g;if(null!==i&&!n.layer.Hc&&(i=i.Xa)instanceof de&&!i.Dr&&null!==i.$b&&!i.$b.contains(n))return t.assign(this.jt),t}}var n=Jh.vf(),i=this.computeMemberBounds(n),r=this.padding;return t.m(i.x-r.left,i.y-r.top,Math.max(i.width+r.left+r.right,0),Math.max(i.height+r.top+r.bottom,0)),Jh.Bb(n),e instanceof Aa&&(n=e,n.FH&&n.location.I()&&t.yi(n.location)),t},Da.prototype.computeMemberBounds=function(t){if(!(this.W instanceof Aa))return t.m(0,0,0,0),t;for(var e=this.W,n=1/0,i=1/0,r=-1/0,o=-1/0,s=e.hc;s.next();){var a=s.value;if(a.isVisible()){if(a instanceof Ys){var u=a;if(!e.nx)continue;if(Wr(u))continue;if(u.V===e||u.Z===e)continue}a=a.U,a.left<n&&(n=a.left),a.top<i&&(i=a.top),a.right>r&&(r=a.right),a.bottom>o&&(o=a.bottom)}}return isFinite(n)&&isFinite(i)?t.m(n,i,r-n,o-i):(e=e.location,n=this.padding,t.m(e.x+n.left,e.y+n.top,0,0)),t},Jh.defineProperty(Da,{padding:"padding"},function(){return this.lf},function(t){"number"==typeof t?t=new O(t):Jh.G(t,O,Da,"padding");var e=this.lf;e.L(t)||(this.lf=t=t.S(),this.h("padding",e,t))}),Jh.ga("Layout",Fa),Fa.prototype.cloneProtected=function(t){t.$r=this.$r,t.wl=this.wl,t.fs=this.fs,t.Xq.assign(this.Xq),t.cs=this.cs,t.bs=this.bs,t.TC=this.TC,t.es=!0},Fa.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Fa.prototype.ic=function(t){Jh.Lj(this,t)},Fa.prototype.toString=function(){var t=Jh.pf(Object.getPrototypeOf(this)),t=t+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.g&&(t+=" for "+this.g),t+")"},Jh.defineProperty(Fa,{g:"diagram"},function(){return this.aa},function(t){null!==t&&Jh.G(t,Bn,Fa,"diagram"),this.aa=t}),Jh.defineProperty(Fa,{group:"group"},function(){return this.yz},function(t){this.yz!==t&&(null!==t&&Jh.G(t,Aa,Fa,"group"),this.yz=t,null!==t&&(this.aa=t.g))}),Jh.defineProperty(Fa,{DI:"isOngoing"},function(){return this.$r},function(t){this.$r!==t&&(Jh.j(t,"boolean",Fa,"isOngoing"),this.$r=t)}),Jh.defineProperty(Fa,{GF:"isInitial"},function(){return this.wl},function(t){Jh.j(t,"boolean",Fa,"isInitial"),this.wl=t,t||(this.es=!0)}),Jh.defineProperty(Fa,{Qx:"isViewportSized"},function(){return this.fs},function(t){this.fs!==t&&(Jh.j(t,"boolean",Fa,"isViewportSized"),(this.fs=t)&&this.J())}),Jh.defineProperty(Fa,{Au:"isRouting"},function(){return this.cs},function(t){this.cs!==t&&(Jh.j(t,"boolean",Fa,"isRouting"),this.cs=t)}),Jh.defineProperty(Fa,{JF:"isRealtime"},function(){return this.bs},function(t){this.bs!==t&&(Jh.j(t,"boolean",Fa,"isRealtime"),this.bs=t)}),Jh.defineProperty(Fa,{sf:"isValidLayout"},function(){return this.es},function(t){this.es!==t&&(Jh.j(t,"boolean",Fa,"isValidLayout"),this.es=t,t||null!==(t=this.g)&&(t.Pj=!0))}),Fa.prototype.invalidateLayout=Fa.prototype.J=function(){if(this.sf){var t=this.g;if(null!==t&&!t.ja.lb){var e=t.Ka;!e.Wo&&(e.df&&e.Ih(),this.DI&&t.Kn||this.GF&&!t.Kn)&&(this.sf=!1,t.ye())}}},Jh.defineProperty(Fa,{network:"network"},function(){return this.Kz},function(t){var e=this.Kz;e!==t&&(null!==t&&Jh.G(t,Ia,Fa,"network"),null!==e&&(e.Ub=null),this.Kz=t,null!==t&&(t.Ub=this))}),Fa.prototype.createNetwork=function(){return new Ia},Fa.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Ub=this,t instanceof Bn?(e.Bk(t.ig,!0),e.Bk(t.links,!0)):t instanceof Aa?e.Bk(t.hc):e.Bk(t.i),e},Fa.prototype.updateParts=function(){var t=this.g;if(null===t&&null!==this.network)for(var e=this.network.vertexes.i;e.next();){var n=e.value.Rc;if(null!==n&&null!==(t=n.g))break}this.sf=!0;try{null!==t&&t.Ib("Layout"),this.commitLayout()}finally{null!==t&&t.Yc("Layout")}},Fa.prototype.commitLayout=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();if(this.Au)for(t=this.network.edges.i;t.next();)t.value.commit()},Fa.prototype.doLayout=function(t){null===t&&Jh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new p(ls);t instanceof Bn?(Ra(this,e,t.ig,!0,this.Wn,!0,!1,!0),Ra(this,e,t.Hj,!0,this.Wn,!0,!1,!0)):t instanceof Aa?Ra(this,e,t.hc,!1,this.Wn,!0,!1,!0):e.Pc(t.i);var n=e.count;if(0<n){t=this.g,null!==t&&t.Ib("Layout"),n=Math.ceil(Math.sqrt(n)),this.Md=this.initialOrigin(this.Md);for(var i=this.Md.x,r=i,o=this.Md.y,s=0,a=0,e=e.i;e.next();){var u=e.value;u.Ne();var h=u.za,l=h.width,h=h.height;u.moveTo(r,o),u instanceof Aa&&(u.Wn=!1),r+=Math.max(l,50)+20,a=Math.max(a,Math.max(h,50)),s>=n-1?(s=0,r=i,o+=a+20,a=0):s++}null!==t&&t.Yc("Layout")}this.sf=!0},Fa.prototype.Wn=function(t){return!(t.location.I()&&!(t instanceof Aa&&t.Wn))},Fa.prototype.collectParts=Fa.prototype.zH=function(t){var e=new p(ls);return t instanceof Bn?(Ra(this,e,t.ig,!0,null,!0,!0,!0),Ra(this,e,t.links,!0,null,!0,!0,!0),Ra(this,e,t.Hj,!0,null,!0,!0,!0)):t instanceof Aa?Ra(this,e,t.hc,!1,null,!0,!0,!0):Ra(this,e,t.i,!1,null,!0,!0,!0),e},Jh.defineProperty(Fa,{Md:"arrangementOrigin"},function(){return this.Xq},function(t){Jh.G(t,w,Fa,"arrangementOrigin"),this.Xq.L(t)||(this.Xq.assign(t),this.J())}),Fa.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),e=e.placeholder,null!==e&&(n=e.Ya(rl),(isNaN(n.x)||isNaN(n.y))&&n.set(t),n.x+=e.padding.left,n.y+=e.padding.top),n}return t},Jh.ga("LayoutNetwork",Ia),Ia.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.i;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.i;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new p(Ha),this.edges=new p(Ua),this.ay=new b(Ls,Ha),this.Wx=new b(Ys,Ua)},Ia.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Ub?"("+this.Ub.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,1<t){for(var n=this.vertexes.i;n.next();)e+="\n    "+n.value.toString(t-1);for(n=this.edges.i;n.next();)e+="\n    "+n.value.toString(t-1)}return e},Jh.defineProperty(Ia,{Ub:"layout"},function(){return this.oe},function(t){this.oe=t}),Ia.prototype.createVertex=function(){return new Ha},Ia.prototype.createEdge=function(){return new Ua},Ia.prototype.addParts=Ia.prototype.Bk=function(t,e,n){if(null!==t){for(void 0===e&&(e=!1),Jh.j(e,"boolean",Ia,"addParts:toplevelonly"),void 0===n&&(n=null),null===n&&(n=function(t){if(t instanceof Ls)return!t.Df;if(t instanceof Ys){var e=t.V;return null!==e&&!e.Df&&(null!==(t=t.Z)&&!t.Df)}return!1}),t=t.i;t.next();){var i=t.value;if(i instanceof Ls&&(!e||i.jq)&&i.canLayout()&&n(i))if(i instanceof Aa&&null===i.Ub)this.Bk(i.hc,!1);else if(null===this.Cn(i)){var r=this.createVertex();r.Rc=i,this.Ql(r)}}for(t.reset();t.next();)if((i=t.value)instanceof Ys&&(!e||i.jq)&&i.canLayout()&&n(i)&&null===this.Cx(i)){var o=i.V,r=i.Z;null!==o&&null!==r&&o!==r&&(o=this.findGroupVertex(o),r=this.findGroupVertex(r),null!==o&&null!==r&&this.oq(o,r,i))}}};Ia.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.Cn(e)))return t;for(e=e.Ca;null!==e;){if(null!==(t=this.Cn(e)))return t;e=e.Ca}return null},Ia.prototype.addVertex=Ia.prototype.Ql=function(t){if(null!==t){this.vertexes.add(t);var e=t.Rc;null!==e&&this.ay.add(e,t),t.network=this}},Ia.prototype.addNode=Ia.prototype.Pt=function(t){if(null===t)return null;var e=this.Cn(t);return null===e&&(e=this.createVertex(),e.Rc=t,this.Ql(e)),e},Ia.prototype.deleteVertex=Ia.prototype.VE=function(t){if(null!==t&&Ba(this,t)){for(var e=t.Se,n=e.count-1;0<=n;n--){var i=e.fa(n);this.Wp(i)}for(e=t.Me,n=e.count-1;0<=n;n--)i=e.fa(n),this.Wp(i)}},Ia.prototype.deleteNode=function(t){null!==t&&null!==(t=this.Cn(t))&&this.VE(t)},Ia.prototype.findVertex=Ia.prototype.Cn=function(t){return null===t?null:this.ay.ka(t)},Ia.prototype.addEdge=Ia.prototype.Ip=function(t){if(null!==t){this.edges.add(t);var e=t.link;null!==e&&null===this.Cx(e)&&this.Wx.add(e,t),e=t.toVertex,null!==e&&e.zE(t),e=t.fromVertex,null!==e&&e.xE(t),t.network=this}},Ia.prototype.addLink=function(t){if(null===t)return null;var e=t.V,n=t.Z,i=this.Cx(t);return null===i?(i=this.createEdge(),i.link=t,null!==e&&(i.fromVertex=this.Pt(e)),null!==n&&(i.toVertex=this.Pt(n)),this.Ip(i)):(i.fromVertex=null!==e?this.Pt(e):null,i.toVertex=null!==n?this.Pt(n):null),i},Ia.prototype.deleteEdge=Ia.prototype.Wp=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.UE(t),e=t.fromVertex,null!==e&&e.TE(t),qa(this,t)}},Ia.prototype.deleteLink=function(t){null!==t&&null!==(t=this.Cx(t))&&this.Wp(t)},Ia.prototype.findEdge=Ia.prototype.Cx=function(t){return null===t?null:this.Wx.ka(t)},Ia.prototype.linkVertexes=Ia.prototype.oq=function(t,e,n){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var i=this.createEdge();return i.link=n,i.fromVertex=t,i.toVertex=e,this.Ip(i),i}return null},Ia.prototype.reverseEdge=Ia.prototype.Wu=function(t){if(null!==t){var e=t.fromVertex,n=t.toVertex;null!==e&&null!==n&&(e.TE(t),n.UE(t),t.Wu(),e.zE(t),n.xE(t))}},Ia.prototype.deleteSelfEdges=Ia.prototype.ux=function(){for(var t=Jh.Za(),e=this.edges.i;e.next();){var n=e.value;n.fromVertex===n.toVertex&&t.push(n)}for(e=t.length,n=0;n<e;n++)this.Wp(t[n]);Jh.ra(t)},Ia.prototype.deleteArtificialVertexes=function(){for(var t=Jh.Za(),e=this.vertexes.i;e.next();){var n=e.value;null===n.Rc&&t.push(n)}for(var n=t.length,i=0;i<n;i++)this.VE(t[i]);for(e=Jh.Za(),n=this.edges.i;n.next();)i=n.value,null===i.link&&e.push(i);for(n=e.length,i=0;i<n;i++)this.Wp(e[i]);Jh.ra(t),Jh.ra(e)},Ia.prototype.splitIntoSubNetworks=Ia.prototype.OJ=function(){this.deleteArtificialVertexes(),za(this),this.ux();for(var t=new c(Ia),e=!0;e;)for(var e=!1,n=this.vertexes.i;n.next();){var i=n.value;if(0<i.Se.count||0<i.Me.count){e=this.Ub.createNetwork(),t.add(e),Ga(this,e,i),e=!0;break}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Ia.prototype.findAllParts=function(){for(var t=new p(ls),e=this.vertexes.i;e.next();)t.add(e.value.Rc);for(e=this.edges.i;e.next();)t.add(e.value.link);return t},Jh.ga("LayoutVertex",Ha),Ha.prototype.clear=function(){this.vd=this.Zd=null,this.Se=new c(Ua),this.Me=new c(Ua)},Ha.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Jh.Pd(this);if(0<t&&(e+=null!==this.Rc?"("+this.Rc.toString()+")":"",1<t)){t="";for(var n=!0,i=this.Se.i;i.next();){var r=i.value;n?n=!1:t+=",",t+=r.toString(0)}for(r="",n=!0,i=this.Me.i;i.next();){var o=i.value;n?n=!1:r+=",",r+=o.toString(0)}e+=" sources: "+t+" destinations: "+r}return e},Jh.defineProperty(Ha,{data:"data"},function(){return this.Zd},function(t){if(this.Zd=t,null!==t){var e=t.bounds;t=e.x;var n=e.y,i=e.width,e=e.height;this.T.m(i/2,e/2),this.O.m(t,n,i,e)}}),Jh.defineProperty(Ha,{Rc:"node"},function(){return this.vd},function(t){if(this.vd!==t){this.vd=t,t.Ne();var e=t.U,n=e.x,i=e.y,r=e.width,e=e.height;if(isNaN(n)&&(n=0),isNaN(i)&&(i=0),this.O.m(n,i,r,e),!(t instanceof Aa)&&(t=t.cg.Ya(ul),t.I()))return void this.T.m(t.x-n,t.y-i);this.T.m(r/2,e/2)}}),Jh.defineProperty(Ha,{eb:"bounds"},function(){return this.O},function(t){this.O.L(t)||this.O.assign(t)}),Jh.defineProperty(Ha,{focus:"focus"},function(){return this.T},function(t){this.T.L(t)||this.T.assign(t)}),Jh.defineProperty(Ha,{la:"centerX"},function(){return this.O.x+this.T.x},function(t){var e=this.O;e.x+this.T.x!==t&&(e.Qa(),e.x=t-this.T.x,e.freeze())}),Jh.defineProperty(Ha,{sa:"centerY"},function(){return this.O.y+this.T.y},function(t){var e=this.O;e.y+this.T.y!==t&&(e.Qa(),e.y=t-this.T.y,e.freeze())}),Jh.defineProperty(Ha,{ju:"focusX"},function(){return this.T.x},function(t){var e=this.T;e.x!==t&&(e.Qa(),e.x=t,e.freeze())}),Jh.defineProperty(Ha,{ku:"focusY"},function(){return this.T.y},function(t){var e=this.T;e.y!==t&&(e.Qa(),e.y=t,e.freeze())}),Jh.defineProperty(Ha,{x:"x"},function(){return this.O.x},function(t){var e=this.O;e.x!==t&&(e.Qa(),e.x=t,e.freeze())}),Jh.defineProperty(Ha,{y:"y"},function(){return this.O.y},function(t){var e=this.O;e.y!==t&&(e.Qa(),e.y=t,e.freeze())}),Jh.defineProperty(Ha,{width:"width"},function(){return this.O.width},function(t){var e=this.O;e.width!==t&&(e.Qa(),e.width=t,e.freeze())}),Jh.defineProperty(Ha,{height:"height"},function(){return this.O.height},function(t){var e=this.O;e.height!==t&&(e.Qa(),e.height=t,e.freeze())}),Ha.prototype.commit=function(){var t=this.Zd;if(null!==t){var e=this.eb,n=t.bounds;Jh.Pa(n)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.Rc)){if(e=this.eb,!(t instanceof Aa)){var n=t.U,i=t.cg.Ya(ul);if(n.I()&&i.I())return void t.moveTo(e.x+this.ju-(i.x-n.x),e.y+this.ku-(i.y-n.y))}t.moveTo(e.x,e.y)}},Ha.prototype.addSourceEdge=Ha.prototype.zE=function(t){null!==t&&(this.Se.contains(t)||this.Se.add(t))},Ha.prototype.deleteSourceEdge=Ha.prototype.UE=function(t){null!==t&&this.Se.remove(t)},Ha.prototype.addDestinationEdge=Ha.prototype.xE=function(t){null!==t&&(this.Me.contains(t)||this.Me.add(t))},Ha.prototype.deleteDestinationEdge=Ha.prototype.TE=function(t){null!==t&&this.Me.remove(t)},Jh.u(Ha,{NJ:"sourceVertexes"},function(){for(var t=new p(Ha),e=this.nc;e.next();)t.add(e.value.fromVertex);return t.i}),Jh.u(Ha,{RH:"destinationVertexes"},function(){for(var t=new p(Ha),e=this.lc;e.next();)t.add(e.value.toVertex);return t.i}),Jh.u(Ha,{vertexes:"vertexes"},function(){for(var t=new p(Ha),e=this.nc;e.next();)t.add(e.value.fromVertex);for(e=this.lc;e.next();)t.add(e.value.toVertex);return t.i}),Jh.u(Ha,{nc:"sourceEdges"},function(){return this.Se.i}),Jh.u(Ha,{lc:"destinationEdges"},function(){return this.Me.i}),Jh.u(Ha,{edges:"edges"},function(){for(var t=new c(Ua),e=this.nc;e.next();)t.add(e.value);for(e=this.lc;e.next();)t.add(e.value);return t.i}),Jh.u(Ha,{WH:"edgesCount"},function(){return this.Se.count+this.Me.count});var od;Ha.standardComparer=od=function(t,e){var n=t.vd,i=e.vd;return n?i?(n=n.text,i=i.text,n<i?-1:n>i?1:0):1:null!==i?-1:0},Ha.smartComparer=function(t,e){if(null!==t){if(null!==e){var n=t.vd,i=e.vd;if(null!==n){if(null!==i){for(var n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<n.length;r++)if(""!==i[r]&&void 0!==i[r]){var o=parseFloat(n[r]),s=parseFloat(i[r]);if(isNaN(o)){if(!isNaN(s))return 1;if(0!==n[r].localeCompare(i[r]))return n[r].localeCompare(i[r])}else{if(isNaN(s))return-1;if(0!=o-s)return o-s}}else if(""!==n[r])return 1;return""!==i[r]&&void 0!==i[r]?-1:0}return 1}return null!==i?-1:0}return 1}return null!==e?-1:0},Jh.ga("LayoutEdge",Ua),Ua.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},Ua.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Jh.Pd(this);return 0<t&&(e+=null!==this.link?"("+this.link.toString()+")":"",1<t&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --\x3e "+(this.toVertex?this.toVertex.toString():"null"))),e},Ua.prototype.Wu=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},Ua.prototype.commit=function(){},Ua.prototype.getOtherVertex=Ua.prototype.fI=function(t){return this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},Jh.La(Ka,Fa),Jh.ga("GridLayout",Ka),Ka.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Lt=this.Lt,t.Kt=this.Kt,t.Rj.assign(this.Rj),t.ei.assign(this.ei),t.me=this.me,t.pd=this.pd,t.di=this.di,t.Nh=this.Nh},Ka.prototype.ic=function(t){t.Je===Ka?t===pd||t===dd||t===cd||t===fd?this.sorting=t:t===hd||t===ld?this.Vf=t:t===ud||t===ad?this.alignment=t:Jh.k("Unknown enum value: "+t):Fa.prototype.ic.call(this,t)},Ka.prototype.doLayout=function(t){null===t&&Jh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.Md=this.initialOrigin(this.Md);var e=this.g;t=this.zH(t);for(var n=t.copy().i;n.next();){var i=n.value;if(i instanceof Ys){var r=i;if(null!==r.V||null!==r.Z){t.remove(r);continue}}if(i.Ne(),i instanceof Aa)for(i=i.hc;i.next();)t.remove(i.value)}if(r=t.yc(),0!==r.length){switch(this.sorting){case fd:r.reverse();break;case pd:r.sort(this.comparer);break;case dd:r.sort(this.comparer),r.reverse()}var o=this.cK;isNaN(o)&&(o=0);var s=this.PG,s=isNaN(s)&&null!==e?Math.max(e.sb.width-e.padding.left-e.padding.right,0):Math.max(this.PG,0);switch(0>=o&&0>=s&&(o=1),t=this.spacing.width,isFinite(t)||(t=0),n=this.spacing.height,isFinite(n)||(n=0),null!==e&&e.Ib("Layout"),i=[],this.alignment){case ad:var a=t,u=n,h=Math.max(this.Np.width,1);if(!isFinite(h))for(var l=h=0;l<r.length;l++)var c=r[l],f=c.za,h=Math.max(h,f.width);var h=Math.max(h+a,1),p=Math.max(this.Np.height,1);if(!isFinite(p))for(l=p=0;l<r.length;l++)c=r[l],f=c.za,p=Math.max(p,f.height);for(var p=Math.max(p+u,1),d=this.Vf,y=this.Md.x,v=y,g=this.Md.y,m=0,b=0,l=0;l<r.length;l++){var c=r[l],f=c.za,x=Math.ceil((f.width+a)/h)*h,k=Math.ceil((f.height+u)/p)*p,P=0;switch(d){case ld:P=Math.abs(v-f.width);break;default:P=v+f.width}switch((0<o&&m>o-1||0<s&&0<m&&P>s)&&(i.push(new C(0,g,s+a,b)),m=0,v=y,g+=b,b=0),b=Math.max(b,k),k=0,d){case ld:k=-f.width;break;default:k=0}switch(c.moveTo(v+k,g),d){case ld:v-=x;break;default:v+=x}m++}i.push(new C(0,g,s+a,b));break;case ud:for(a=o,u=t,h=n,l=Math.max(this.Np.width,1),c=g=x=0,f=Jh.K(),o=0;o<r.length;o++)p=r[o],d=p.za,y=ds(p,p.cg,p.Gf,f),x=Math.max(x,y.x),g=Math.max(g,d.width-y.x),c=Math.max(c,y.y);switch(v=this.Vf){case ld:x+=u;break;default:g+=u}var l=isFinite(l)?Math.max(l+u,1):Math.max(x+g,1),S=g=this.Md.x,m=this.Md.y,b=0;s>=x&&(s-=x);for(var x=k=0,P=Math.max(this.Np.height,1),T=c=0,M=!0,_=Jh.K(),o=0;o<r.length;o++){if(p=r[o],d=p.za,y=ds(p,p.cg,p.Gf,f),0<b)switch(v){case ld:S=(S-g-(d.width-y.x))/l,S=J(Math.round(S),S)?Math.round(S):Math.floor(S),S=S*l+g;break;default:S=(S-g+y.x)/l,S=J(Math.round(S),S)?Math.round(S):Math.ceil(S),S=S*l+g}else switch(v){case ld:k=S+y.x+d.width;break;default:k=S-y.x}var N=0;switch(v){case ld:N=-(S+y.x)+k;break;default:N=S+d.width-y.x-k}if(0<a&&b>a-1||0<s&&0<b&&N>s){for(i.push(new C(0,M?m-c:m,s+u,T+c+h)),S=0;S<b&&o!==b;S++){var N=r[o-b+S],A=ds(N,N.cg,N.Gf,_);N.moveTo(N.position.x,N.position.y+c-A.y)}T+=h,m=M?m+T:m+(T+c),b=T=c=0,S=g,M=!1}switch(S===g&&(x=v===ld?Math.max(x,d.width-y.x):Math.min(x,-y.x)),c=Math.max(c,y.y),T=Math.max(T,d.height-y.y),isFinite(P)&&(T=Math.max(T,Math.max(d.height,P)-y.y)),M?p.moveTo(S-y.x,m-y.y):p.moveTo(S-y.x,m),v){case ld:S-=y.x+u;break;default:S+=d.width-y.x+u}b++}for(i.push(new C(0,m,s+u,(M?T:T+c)+h)),S=0;S<b&&o!==b;S++)N=r[o-b+S],A=ds(N,N.cg,N.Gf,f),N.moveTo(N.position.x,N.position.y+c-A.y);if(Jh.v(f),Jh.v(_),v===ld)for(o=0;o<i.length;o++)r=i[o],r.width+=x,r.x-=x;else for(o=0;o<i.length;o++)r=i[o],r.x>x&&(r.width+=r.x-x,r.x=x)}for(a=o=s=r=0;a<i.length;a++)u=i[a],r=Math.min(r,u.x),s=Math.min(s,u.y),o=Math.max(o,u.x+u.width);this.Vf===ld?this.commitLayers(i,new w(r+t/2-(o+r),s-n/2)):this.commitLayers(i,new w(r-t/2,s-n/2)),null!==e&&e.Yc("Layout"),this.sf=!0}},Ka.prototype.commitLayers=function(){},Jh.defineProperty(Ka,{PG:"wrappingWidth"},function(){return this.Lt},function(t){this.Lt!==t&&(Jh.j(t,"number",Ka,"wrappingWidth"),0<t||isNaN(t))&&(this.Lt=t,this.Qx=isNaN(t),this.J())}),Jh.defineProperty(Ka,{cK:"wrappingColumn"},function(){return this.Kt},function(t){this.Kt!==t&&(Jh.j(t,"number",Ka,"wrappingColumn"),0<t||isNaN(t))&&(this.Kt=t,this.J())}),Jh.defineProperty(Ka,{Np:"cellSize"},function(){return this.Rj},function(t){Jh.G(t,P,Ka,"cellSize"),this.Rj.L(t)||(this.Rj.assign(t),this.J())}),Jh.defineProperty(Ka,{spacing:"spacing"},function(){return this.ei},function(t){Jh.G(t,P,Ka,"spacing"),this.ei.L(t)||(this.ei.assign(t),this.J())}),Jh.defineProperty(Ka,{alignment:"alignment"},function(){return this.me},function(t){this.me!==t&&(Jh.ob(t,Ka,Ka,"alignment"),t===ud||t===ad)&&(this.me=t,this.J())}),Jh.defineProperty(Ka,{Vf:"arrangement"},function(){return this.pd},function(t){this.pd!==t&&(Jh.ob(t,Ka,Ka,"arrangement"),t===hd||t===ld)&&(this.pd=t,this.J())}),Jh.defineProperty(Ka,{sorting:"sorting"},function(){return this.di},function(t){this.di!==t&&(Jh.ob(t,Ka,Ka,"sorting"),t===cd||t===fd||t===pd||t===dd)&&(this.di=t,this.J())}),Jh.defineProperty(Ka,{comparer:"comparer"},function(){return this.Nh},function(t){this.Nh!==t&&(Jh.j(t,"function",Ka,"comparer"),this.Nh=t,this.J())});var sd;Ka.standardComparer=sd=function(t,e){var n=t.text,i=e.text;return n<i?-1:n>i?1:0},Ka.smartComparer=function(t,e){if(null!==t){if(null!==e){for(var n=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),r=0;r<n.length;r++)if(""!==i[r]&&void 0!==i[r]){var o=parseFloat(n[r]),s=parseFloat(i[r]);if(isNaN(o)){if(!isNaN(s))return 1;if(0!==n[r].localeCompare(i[r]))return n[r].localeCompare(i[r])}else{if(isNaN(s))return-1;if(0!=o-s)return o-s}}else if(""!==n[r])return 1;return""!==i[r]&&void 0!==i[r]?-1:0}return 1}return null!==e?-1:0};var ad;Ka.Position=ad=Jh.p(Ka,"Position",0);var ud;Ka.Location=ud=Jh.p(Ka,"Location",1);var hd;Ka.LeftToRight=hd=Jh.p(Ka,"LeftToRight",2);var ld;Ka.RightToLeft=ld=Jh.p(Ka,"RightToLeft",3);var cd;Ka.Forward=cd=Jh.p(Ka,"Forward",4);var fd;Ka.Reverse=fd=Jh.p(Ka,"Reverse",5);var pd;Ka.Ascending=pd=Jh.p(Ka,"Ascending",6);var dd;Ka.Descending=dd=Jh.p(Ka,"Descending",7),Jh.La(Wa,Fa),Jh.ga("CircularLayout",Wa),Wa.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Ys=this.Ys,t.Zq=this.Zq,t.yt=this.yt,t.At=this.At,t.pd=this.pd,t.ba=this.ba,t.di=this.di,t.Nh=this.Nh,t.ei=this.ei,t.Js=this.Js},Wa.prototype.ic=function(t){t.Je===Wa?t===Sd||t===Td||t===Pd||t===Cd||t===Md?this.sorting=t:t===xd||t===kd||t===bd||t===wd?this.direction=t:t===gd||t===vd||t===yd||t===md?this.Vf=t:t!==Nd&&t!==_d||(this.$x=t):Fa.prototype.ic.call(this,t)},Wa.prototype.createNetwork=function(){return new su},Wa.prototype.doLayout=function(t){if(null===t&&Jh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Md=this.initialOrigin(this.Md),t=this.network.vertexes,1>=t.count)1===t.count&&(t=t.first(),t.la=0,t.sa=0);else{var e=new c(au);e.Pc(t.i),t=new c(au);var n,i=new c(au);n=this.sort(e);var r=this.nz,o=this.ZC,s=this.Gd,a=this.Io,u=this.oz,h=this.Er,e=this.pl,l=this.mE,f=this.Uf,p=this.Av,r=this.Vf,o=this.$x,s=this.mJ;if((!isFinite(s)||0>=s)&&(s=NaN),a=this.tH,(!isFinite(a)||0>=a)&&(a=1),u=this.Ae,isFinite(u)||(u=0),h=this.uf,(!isFinite(h)||360<h||1>h)&&(h=360),e=this.spacing,isFinite(e)||(e=NaN),r===md&&o===Nd?r=yd:r===md&&o!==Nd&&(o=Nd,r=this.Vf),(this.direction===xd||this.direction===kd)&&this.sorting!==Md){for(var d=0;!(d>=n.length)&&(t.add(n.fa(d)),!(d+1>=n.length));d+=2)i.add(n.fa(d+1));this.direction===xd?(this.Vf===md&&t.reverse(),n=new c(au),n.Pc(t),n.Pc(i)):(this.Vf===md&&i.reverse(),n=new c(au),n.Pc(i),n.Pc(t))}for(var y=n.length,v=l=0,d=0;d<n.length;d++){var f=u+h*v*(this.direction===bd?1:-1)/y,g=n.fa(d).diameter;isNaN(g)&&(g=uu(n.fa(d),f)),360>h&&(0===d||d===n.length-1)&&(g/=2),l+=g,v++}if(isNaN(s)||r===md){if(isNaN(e)&&(e=6),r!==yd&&r!==md){for(g=-1/0,d=0;d<y;d++){var p=n.fa(d),m=n.fa(d===y-1?0:d+1);isNaN(p.diameter)&&uu(p,0),isNaN(m.diameter)&&uu(m,0),g=Math.max(g,(p.diameter+m.diameter)/2)}p=g+e,r===gd?(f=2*Math.PI/y,s=(g+e)/f):s=iu(this,p*(360<=h?y:y-1),a,u*Math.PI/180,h*Math.PI/180)}else s=iu(this,l+(360<=h?y:y-1)*(r!==md?e:1.6*e),a,u*Math.PI/180,h*Math.PI/180);f=s*a}else if(f=s*a,v=nu(this,s,f,u*Math.PI/180,h*Math.PI/180),isNaN(e))r!==yd&&r!==md||(e=(v-l)/(360<=h?y:y-1));else if(r===yd||r===md)d=(v-l)/(360<=h?y:y-1),d<e?(s=iu(this,l+e*(360<=h?y:y-1),a,u*Math.PI/180,h*Math.PI/180),f=s*a):e=d;else{for(g=-1/0,d=0;d<y;d++)p=n.fa(d),m=n.fa(d===y-1?0:d+1),isNaN(p.diameter)&&uu(p,0),isNaN(m.diameter)&&uu(m,0),g=Math.max(g,(p.diameter+m.diameter)/2);p=g+e,d=iu(this,p*(360<=h?y:y-1),a,u*Math.PI/180,h*Math.PI/180),d>s?(s=d,f=s*a):p=v/(360<=h?y:y-1)}if(this.nz=r,this.ZC=o,this.Gd=s,this.Io=a,this.oz=u,this.Er=h,this.pl=e,this.mE=l,this.Uf=f,this.Av=p,e=n,n=this.nz,r=this.Gd,o=this.oz,a=this.Er,u=this.pl,h=this.Uf,l=this.Av,this.direction!==xd&&this.direction!==kd||n!==md)if(this.direction===xd||this.direction===kd){switch(s=0,n){case vd:s=180*ru(this,r,h,o,l)/Math.PI;break;case yd:l=e=0,s=t.first(),null!==s&&(e=uu(s,Math.PI/2)),s=i.first(),null!==s&&(l=uu(s,Math.PI/2)),s=180*ru(this,r,h,o,u+(e+l)/2)/Math.PI;break;case gd:s=a/e.length}if(this.direction===xd){switch(n){case vd:Qa(this,t,o,wd);break;case yd:Ya(this,t,o,wd);break;case gd:Ja(this,t,a/2,o,wd)}switch(n){case vd:Qa(this,i,o+s,bd);break;case yd:Ya(this,i,o+s,bd);break;case gd:Ja(this,i,a/2,o+s,bd)}}else{switch(n){case vd:Qa(this,i,o,wd);break;case yd:Ya(this,i,o,wd);break;case gd:Ja(this,i,a/2,o,wd)}switch(n){case vd:Qa(this,t,o+s,bd);break;case yd:Ya(this,t,o+s,bd);break;case gd:Ja(this,t,a/2,o+s,bd)}}}else switch(n){case vd:Qa(this,e,o,this.direction);break;case yd:Ya(this,e,o,this.direction);break;case gd:Ja(this,e,a,o,this.direction);break;case md:Za(this,e,a,o,this.direction)}else Za(this,e,a,o-a/2,bd)}this.updateParts(),this.network=null,this.sf=!0},Wa.prototype.commitLayout=function(){this.commitNodes(),this.Au&&this.commitLinks()},Wa.prototype.commitNodes=function(){var t=this.lH,e=null!==this.group&&null!==this.group.placeholder&&this.group.$c,n=e?this.group.location.copy():null;e?t=new w(0,0):(t.x=this.Md.x+this.Gd,t.y=this.Md.y+this.Uf);for(var i=this.network.vertexes.i;i.next();){var r=i.value;r.x+=t.x,r.y+=t.y,r.commit()}e&&(this.group.Ne(),t=this.group.position.copy(),e=this.group.location.copy(),n=n.ui(e.ui(t)),this.group.move(n),this.jC=n.ui(t))},Wa.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},Wa.prototype.sort=function(t){switch(this.sorting){case Pd:break;case Cd:t.reverse();break;case Sd:t.sort(this.comparer);break;case Td:t.sort(this.comparer),t.reverse();break;case Md:for(var e=[],n=0;n<t.length;n++)e.push(0);for(var i=new c(au),n=0;n<t.length;n++){var r=-1,o=-1;if(0===n)for(var s=0;s<t.length;s++){var a=t.fa(s).WH;a>r&&(r=a,o=s)}else for(s=0;s<t.length;s++)(a=e[s])>r&&(r=a,o=s);for(i.add(t.fa(o)),e[o]=-1,o=t.fa(o),r=0,s=o.nc;s.next();)0>(r=t.indexOf(s.value.fromVertex))||0<=e[r]&&e[r]++;for(o=o.lc;o.next();)0>(r=t.indexOf(o.value.toVertex))||0<=e[r]&&e[r]++}for(t=[],o=0;o<i.length;o++){e=i.fa(o),t[o]=[];for(var u=0,n=e.lc;n.next();)(u=i.indexOf(n.value.toVertex))!==o&&0>t[o].indexOf(u)&&t[o].push(u);for(e=e.nc;e.next();)(u=i.indexOf(e.value.fromVertex))!==o&&0>t[o].indexOf(u)&&t[o].push(u)}for(s=[],o=0;o<t.length;o++)s[o]=0;for(var e=[],a=[],h=[],n=[],r=new c(au),l=0,o=0;o<t.length;o++){var f=t[o].length;if(1===f)n.push(o);else if(0===f)r.add(i.fa(o));else{if(0===l)e.push(o);else{for(var p=1/0,d=1/0,y=-1,v=[],f=0;f<e.length;f++)0>t[e[f]].indexOf(e[f===e.length-1?0:f+1])&&v.push(f===e.length-1?0:f+1);if(0===v.length)for(f=0;f<e.length;f++)v.push(f);for(f=0;f<v.length;f++){var g,m=v[f],u=t[o];g=a;for(var b=h,w=s,x=m,k=e,P=0,C=0;C<g.length;C++){var S=w[g[C]],T=w[b[C]],M=0,_=0;if(S<T?(M=S,_=T):(M=T,_=S),M<x&&x<=_)for(S=0;S<u.length;S++)T=u[S],0>k.indexOf(T)||M<w[T]&&w[T]<_||M===w[T]||_===w[T]||P++;else for(S=0;S<u.length;S++)T=u[S],0>k.indexOf(T)||M<w[T]&&w[T]<_&&M!==w[T]&&_!==w[T]&&P++}for(g=P,w=b=0;w<t[o].length;w++)0<=(u=e.indexOf(t[o][w]))&&(u=Math.abs(m-(u>=m?u+1:u)),b+=u<e.length+1-u?u:e.length+1-u);for(w=0;w<a.length;w++)u=s[a[w]],x=s[h[w]],u>=m&&u++,x>=m&&x++,u>x&&(k=x,x=u,u=k),x-u<(e.length+2)/2==(u<m&&m<=x)&&b++;(g<p||g===p&&b<d)&&(p=g,d=b,y=m)}for(e.splice(y,0,o),f=0;f<e.length;f++)s[e[f]]=f;for(f=0;f<t[o].length;f++)p=t[o][f],0<=e.indexOf(p)&&(a.push(o),h.push(p))}l++}}for(o=!1,s=e.length;;){for(o=!0,a=0;a<n.length;a++)if(h=n[a],l=t[h][0],0<=(u=e.indexOf(l))){for(d=f=0;d<t[l].length;d++)p=t[l][d],0>(p=e.indexOf(p))||p===u||(y=p>u?p-u:u-p,f+=p<u!=y>s-y?1:-1);e.splice(0>f?u:u+1,0,h),n.splice(a,1),a--}else o=!1;if(o)break;e.push(n[0]),n.splice(0,1)}for(o=0;o<e.length;o++)r.add(i.fa(e[o]));return r;default:Jh.k("Invalid sorting type.")}return t},Jh.defineProperty(Wa,{mJ:"radius"},function(){return this.Ys},function(t){this.Ys!==t&&(Jh.j(t,"number",Wa,"radius"),0<t||isNaN(t))&&(this.Ys=t,this.J())}),Jh.defineProperty(Wa,{tH:"aspectRatio"},function(){return this.Zq},function(t){this.Zq!==t&&(Jh.j(t,"number",Wa,"aspectRatio"),0<t&&(this.Zq=t,this.J()))}),Jh.defineProperty(Wa,{Ae:"startAngle"},function(){return this.yt},function(t){this.yt!==t&&(Jh.j(t,"number",Wa,"startAngle"),this.yt=t,this.J())}),Jh.defineProperty(Wa,{uf:"sweepAngle"},function(){return this.At},function(t){this.At!==t&&(Jh.j(t,"number",Wa,"sweepAngle"),this.At=0<t&&360>=t?t:360,this.J())}),Jh.defineProperty(Wa,{Vf:"arrangement"},function(){return this.pd},function(t){this.pd!==t&&(Jh.ob(t,Wa,Wa,"arrangement"),t===md||t===yd||t===vd||t===gd)&&(this.pd=t,this.J())}),Jh.defineProperty(Wa,{direction:"direction"},function(){return this.ba},function(t){this.ba!==t&&(Jh.ob(t,Wa,Wa,"direction"),t===bd||t===wd||t===xd||t===kd)&&(this.ba=t,this.J())}),Jh.defineProperty(Wa,{sorting:"sorting"},function(){return this.di},function(t){this.di!==t&&(Jh.ob(t,Wa,Wa,"sorting"),t===Pd||t===Cd||t===Sd||Td||t===Md)&&(this.di=t,this.J())}),Jh.defineProperty(Wa,{comparer:"comparer"},function(){return this.Nh},function(t){this.Nh!==t&&(Jh.j(t,"function",Wa,"comparer"),this.Nh=t,this.J())}),Jh.defineProperty(Wa,{spacing:"spacing"},function(){return this.ei},function(t){this.ei!==t&&(Jh.j(t,"number",Wa,"spacing"),this.ei=t,this.J())}),Jh.defineProperty(Wa,{$x:"nodeDiameterFormula"},function(){return this.Js},function(t){this.Js!==t&&(Jh.ob(t,Wa,Wa,"nodeDiameterFormula"),t===_d||t===Nd)&&(this.Js=t,this.J())}),Jh.u(Wa,{fK:"actualXRadius"},function(){return this.Gd}),Jh.u(Wa,{gK:"actualYRadius"},function(){return this.Uf}),Jh.u(Wa,{eK:"actualSpacing"},function(){return this.pl}),Jh.u(Wa,{lH:"actualCenter"},function(){return this.jC});var yd;Wa.ConstantSpacing=yd=Jh.p(Wa,"ConstantSpacing",0);var vd;Wa.ConstantDistance=vd=Jh.p(Wa,"ConstantDistance",1);var gd;Wa.ConstantAngle=gd=Jh.p(Wa,"ConstantAngle",2);var md;Wa.Packed=md=Jh.p(Wa,"Packed",3);var bd;Wa.Clockwise=bd=Jh.p(Wa,"Clockwise",4);var wd;Wa.Counterclockwise=wd=Jh.p(Wa,"Counterclockwise",5);var xd;Wa.BidirectionalLeft=xd=Jh.p(Wa,"BidirectionalLeft",6);var kd;Wa.BidirectionalRight=kd=Jh.p(Wa,"BidirectionalRight",7);var Pd;Wa.Forwards=Pd=Jh.p(Wa,"Forwards",8);var Cd;Wa.Reverse=Cd=Jh.p(Wa,"Reverse",9);var Sd;Wa.Ascending=Sd=Jh.p(Wa,"Ascending",10);var Td;Wa.Descending=Td=Jh.p(Wa,"Descending",11);var Md;Wa.Optimized=Md=Jh.p(Wa,"Optimized",12);var _d;Wa.Pythagorean=_d=Jh.p(Wa,"Pythagorean",13);var Nd;Wa.Circular=Nd=Jh.p(Wa,"Circular",14),ou.prototype.compare=function(t,e){if(0<t&&0>this.aq||Math.abs(t)<Math.abs(this.aq)&&!(0>t&&0<this.aq)){this.aq=t,this.lo=[],this.Nq=[];for(var n=0;n<e.length;n++)this.lo[n]=e[n].eb.x,this.Nq[n]=e[n].eb.y}},ou.prototype.commit=function(t){if(null!==this.lo&&null!==this.Nq)for(var e=0;e<this.lo.length;e++){var n=t.fa(e);n.x=this.lo[e],n.y=this.Nq[e]}},Jh.La(su,Ia),Jh.ga("CircularNetwork",su),su.prototype.createVertex=function(){return new au},su.prototype.createEdge=function(){return new hu},Jh.La(au,Ha),Jh.ga("CircularVertex",au),Jh.La(hu,Ua),Jh.ga("CircularEdge",hu),Jh.La(lu,Fa),Jh.ga("ForceDirectedLayout",lu),lu.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.ng.assign(this.ng),t.Yq=this.Yq,t.ci=this.ci,t.Mh=this.Mh,t.ep=this.ep,t.Hr=this.Hr,t.Qi=this.Qi,t.Ds=this.Ds,t.Zs=this.Zs,t.Eo=this.Eo,t.Do=this.Do,t.Bo=this.Bo,t.Co=this.Co,t.vr=this.vr,t.ur=this.ur},lu.prototype.createNetwork=function(){return new xu},lu.prototype.doLayout=function(t){if(null===t&&Jh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.fB,0<this.network.vertexes.count){this.network.ux();for(var e=this.network.vertexes.i;e.next();){var n=e.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(e=this.network.edges.i;e.next();)n=e.value,n.stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.jA(),this.hs=0,this.needsClusterLayout()){for(e=this.network,n=e.OJ().i;n.next();){this.network=n.value;for(var i=this.network.vertexes.i;i.next();){var r=i.value;r.jg=r.vertexes.count,r.Uk=1,r.tn=null,r.Hh=null}cu(this,0,t)}this.network=e,n.reset();for(var i=this.FE,o=n.count,s=!0,a=r=0,u=Jh.Za(),h=0;h<o+e.vertexes.count+2;h++)u[h]=null;o=0,n.reset();for(var l=Jh.vf();n.next();)if(h=n.value,this.computeBounds(h,l),s)s=!1,r=l.x+l.width/2,a=l.y+l.height/2,u[0]=new w(l.x+l.width+i.width,l.y),u[1]=new w(l.x,l.y+l.height+i.height),o=2;else{var c=vu(u,o,r,a,l.width,l.height,i),f=u[c],p=new w(f.x+l.width+i.width,f.y),d=new w(f.x,f.y+l.height+i.height);for(c+1<o&&u.splice(c+1,0,null),u[c]=p,u[c+1]=d,o++,c=f.x-l.x,f=f.y-l.y,h=h.vertexes.i;h.next();)p=h.value,p.la+=c,p.sa+=f}for(Jh.Bb(l),h=e.vertexes.i;h.next();)s=h.value,l=s.eb,2>o?(r=l.x+l.width/2,a=l.y+l.height/2,u[0]=new w(l.x+l.width+i.width,l.y),u[1]=new w(l.x,l.y+l.height+i.height),o=2):(c=vu(u,o,r,a,l.width,l.height,i),f=u[c],p=new w(f.x+l.width+i.width,f.y),d=new w(f.x,f.y+l.height+i.height),c+1<o&&u.splice(c+1,0,null),u[c]=p,u[c+1]=d,o++,s.la=f.x+s.width/2,s.sa=f.y+s.height/2);for(Jh.ra(u),n.reset();n.next();){for(i=n.value,r=i.vertexes.i;r.next();)e.Ql(r.value);for(i=i.edges.i;i.next();)e.Ip(i.value)}}mu(this,t),this.updateParts()}this.ep=t,this.network=null,this.sf=!0},lu.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,n=this.network.vertexes.first().eb,i=this.network.vertexes.i;i.next();){if(i.value.eb.$f(n)&&2<++t)return!0;if(10<e)break;e++}return!1},lu.prototype.computeBounds=function(t,e){for(var n=!0,i=t.vertexes.i;i.next();){var r=i.value;n?(n=!1,e.set(r.eb)):e.Zg(r.eb)}return e},lu.prototype.jA=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},lu.prototype.addComments=function(t){var e=t.Rc;if(null!==e)for(e=e.bF();e.next();){var n=e.value;if("Comment"===n.kd&&n.isVisible()){var i=this.network.Cn(n);null===i&&(i=this.network.Pt(n)),i.charge=this.MH;for(var n=null,r=i.lc;r.next();){var o=r.value;if(o.toVertex===t){n=o;break}}if(null===n)for(r=i.nc;r.next();)if(o=r.value,o.fromVertex===t){n=o;break}null===n&&(n=this.network.oq(t,i,null)),n.length=this.NH}}},lu.prototype.moveFixedVertex=function(){},lu.prototype.commitLayout=function(){this.FB(),this.commitNodes(),this.Au&&this.commitLinks()},lu.prototype.FB=function(){if(this.bo)for(var t=this.network.edges.i;t.next();){var e=t.value.link;null!==e&&(e.Mb=il,e.Nb=il)}},lu.prototype.commitNodes=function(){var t=0,e=0;if(this.sH){var n=Jh.vf();this.computeBounds(this.network,n),e=this.Md,t=e.x-n.x,e=e.y-n.y,Jh.Bb(n)}for(var n=Jh.vf(),i=this.network.vertexes.i;i.next();){var r=i.value;0===t&&0===e||(n.assign(r.eb),n.x+=t,n.y+=e,r.eb=n),r.commit()}Jh.Bb(n)},lu.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},lu.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Eo:t},lu.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Do:t},lu.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Bo:t},lu.prototype.electricalFieldX=function(){return 0},lu.prototype.electricalFieldY=function(){return 0},lu.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Co:t},lu.prototype.gravitationalFieldX=function(){return 0},lu.prototype.gravitationalFieldY=function(){return 0},lu.prototype.isFixed=function(t){return t.isFixed},Jh.u(lu,{NK:"currentIteration"},function(){return this.hs}),Jh.defineProperty(lu,{FE:"arrangementSpacing"},function(){return this.ng},function(t){Jh.G(t,P,lu,"arrangementSpacing"),this.ng.L(t)||(this.ng.assign(t),this.J())}),Jh.defineProperty(lu,{sH:"arrangesToOrigin"},function(){return this.Yq},function(t){this.Yq!==t&&(Jh.j(t,"boolean",lu,"arrangesToOrigin"),this.Yq=t,this.J())}),Jh.defineProperty(lu,{bo:"setsPortSpots"},function(){return this.ci},function(t){this.ci!==t&&(Jh.j(t,"boolean",lu,"setsPortSpots"),this.ci=t,this.J())}),Jh.defineProperty(lu,{comments:"comments"},function(){return this.Mh},function(t){this.Mh!==t&&(Jh.j(t,"boolean",lu,"comments"),this.Mh=t,this.J())}),Jh.defineProperty(lu,{fB:"maxIterations"},function(){return this.ep},function(t){this.ep!==t&&(Jh.j(t,"number",lu,"maxIterations"),0<=t&&(this.ep=t,this.J()))}),Jh.defineProperty(lu,{ZE:"epsilonDistance"},function(){return this.Hr},function(t){this.Hr!==t&&(Jh.j(t,"number",lu,"epsilonDistance"),0<t&&(this.Hr=t,this.J()))}),Jh.defineProperty(lu,{gL:"infinityDistance"},function(){return this.Qi},function(t){this.Qi!==t&&(Jh.j(t,"number",lu,"infinityDistance"),1<t&&(this.Qi=t,this.J()))}),Jh.defineProperty(lu,{fJ:"moveLimit"},function(){return this.Ds},function(t){this.Ds!==t&&(Jh.j(t,"number",lu,"moveLimit"),1<t&&(this.Ds=t,this.J()))}),Jh.defineProperty(lu,{ly:"randomNumberGenerator"},function(){return this.Zs},function(t){this.Zs!==t&&(null!==t&&"function"!=typeof t.random&&Jh.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Zs=t)}),Jh.defineProperty(lu,{ZK:"defaultSpringStiffness"},function(){return this.Eo},function(t){this.Eo!==t&&(Jh.j(t,"number",lu,"defaultSpringStiffness"),this.Eo=t,this.J())}),Jh.defineProperty(lu,{YK:"defaultSpringLength"},function(){return this.Do},function(t){this.Do!==t&&(Jh.j(t,"number",lu,"defaultSpringLength"),this.Do=t,this.J())}),Jh.defineProperty(lu,{SK:"defaultElectricalCharge"},function(){return this.Bo},function(t){this.Bo!==t&&(Jh.j(t,"number",lu,"defaultElectricalCharge"),this.Bo=t,this.J())}),Jh.defineProperty(lu,{TK:"defaultGravitationalMass"},function(){return this.Co},function(t){this.Co!==t&&(Jh.j(t,"number",lu,"defaultGravitationalMass"),this.Co=t,this.J())}),Jh.defineProperty(lu,{NH:"defaultCommentSpringLength"},function(){return this.vr},function(t){this.vr!==t&&(Jh.j(t,"number",lu,"defaultCommentSpringLength"),this.vr=t,this.J())}),Jh.defineProperty(lu,{MH:"defaultCommentElectricalCharge"},function(){return this.ur},function(t){this.ur!==t&&(Jh.j(t,"number",lu,"defaultCommentElectricalCharge"),this.ur=t,this.J())}),Jh.La(xu,Ia),Jh.ga("ForceDirectedNetwork",xu),xu.prototype.createVertex=function(){return new ku},xu.prototype.createEdge=function(){return new Pu},Jh.La(ku,Ha),Jh.ga("ForceDirectedVertex",ku),Jh.La(Pu,Ua),Jh.ga("ForceDirectedEdge",Pu),Jh.La(Cu,Fa),Jh.ga("LayeredDigraphLayout",Cu),Cu.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Om=this.Om,t.Yd=this.Yd,t.ba=this.ba,t.Ao=this.Ao,t.ap=this.ap,t.Ro=this.Ro,t.Nm=this.Nm,t.po=this.po,t.dj=this.dj,t.ci=this.ci,t.ns=this.ns},Cu.prototype.ic=function(t){t.Je===Cu?0===t.name.indexOf("Aggressive")?this.rH=t:0===t.name.indexOf("Cycle")?this.yA=t:0===t.name.indexOf("Init")?this.xI=t:0===t.name.indexOf("Layer")?this.JI=t:Jh.k("Unknown enum value: "+t):Fa.prototype.ic.call(this,t)},Cu.prototype.createNetwork=function(){return new sh},Cu.prototype.doLayout=function(t){for(null===t&&Jh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Md=this.initialOrigin(this.Md),this.mw=-1,this.Rf=this.ws=0,this.Gs=this.Es=this.Tm=null,t=0;t<this.kh.length;t++)this.kh[t]=null;if(0<this.network.vertexes.count){for(this.network.ux(),this.yA!==jd&&Lu(this),t=this.network.vertexes.i;t.next();)t.value.layer=-1;for(this.tb=-1,this.assignLayers(),t.reset();t.next();)this.tb=Math.max(this.tb,t.value.layer);this.yA===jd&&Lu(this),t=this.network;for(var e=[],n=t.edges.i;n.next();){var i=n.value;i.valid=!1,e.push(i)}for(n=0;n<e.length;n++){var i=e[n],r=i.fromVertex,o=i.toVertex;if(!i.valid&&(null!==r.vd&&null!==o.vd||r.layer!==o.layer)){var s=0,a=0,u=0,h=0;if(null!==i.link){if(null===(a=i.link))continue;var l=r.vd,s=o.vd;if(null===l||null===s)continue;var c=a.V,u=a.Z,f=a.gc,a=a.zc;if(i.rev)var h=c,p=f,c=u,f=a,u=h,a=p;var d=r.T,h=o.T,y=i.rev?o.O:r.O,p=Jh.K();l!==c?y.I()&&c.isVisible()&&c.U.I()?(ds(c,f,ul,p),p.x+=c.U.x-y.x,p.y+=c.U.y-y.y):p.assign(d):y.I()?(ds(c,f,ul,p),p.I()||p.assign(d)):p.assign(d),c=i.rev?r.O:o.O,l=Jh.K(),s!==u?c.I()&&u.isVisible()&&u.U.I()?(ds(u,a,ul,l),l.x+=u.U.x-c.x,l.y+=u.U.y-c.y):l.assign(h):c.I()?(ds(u,a,ul,l),l.I()||l.assign(h)):l.assign(h),90===this.ba||270===this.ba?(s=Math.round((p.x-d.x)/this.Yd),u=p.x,a=Math.round((l.x-h.x)/this.Yd),h=l.x):(s=Math.round((p.y-d.y)/this.Yd),u=p.y,a=Math.round((l.y-h.y)/this.Yd),h=l.y),Jh.v(p),Jh.v(l),i.portFromColOffset=s,i.portFromPos=u,i.portToColOffset=a,i.portToPos=h}else i.portFromColOffset=0,i.portFromPos=0,i.portToColOffset=0,i.portToPos=0;p=r.layer,l=o.layer;t:{var c=i,f=0,v=c.link;if(null!==v){var g=v.gc,m=v.zc;if(null!==g&&null!==m){var b=v.V,d=v.Z;if(null!==b&&null!==d){var w=eh(this,!0),x=eh(this,!1),k=this.bo?w:v.computeSpot(!0,g),y=this.bo?x:v.computeSpot(!1,m),P=v.ac;if(k.zj()&&k.xj(x)&&y.zj()&&y.xj(w)){f=0;break t}w=v.getLinkPoint(b,g,k,!0,P,d,m,Jh.K()),x=v.getLinkDirection(b,g,w,k,!0,P,d,m),Jh.v(w),k.ZA()||x!==Gu(this,c,!0)?this.bo&&null!==b&&1===b.ports.count&&c.rev&&(f+=1):f+=1,k=v.getLinkPoint(d,m,y,!1,P,b,g,Jh.K()),v=v.getLinkDirection(d,m,k,y,!1,P,b,g),Jh.v(k),y.ZA()||v!==Gu(this,c,!1)?this.bo&&null!==d&&1===d.ports.count&&c.rev&&(f+=2):f+=2}}}}if(c=1===f||3===f,(f=2===f||3===f)&&(d=t.createVertex(),d.vd=null,d.qn=1,d.layer=p,d.near=r,t.Ql(d),r=t.oq(r,d,i.link),r.valid=!1,r.rev=i.rev,r.portFromColOffset=s,r.portToColOffset=0,r.portFromPos=u,r.portToPos=0,r=d),y=1,c&&y--,p-l>y&&0<p){for(i.valid=!1,d=t.createVertex(),d.vd=null,d.qn=2,d.layer=p-1,t.Ql(d),r=t.oq(r,d,i.link),r.valid=!0,r.rev=i.rev,r.portFromColOffset=f?0:s,r.portToColOffset=0,r.portFromPos=f?0:u,r.portToPos=0,r=d,p--;p-l>y&&0<p;)d=t.createVertex(),d.vd=null,d.qn=3,d.layer=p-1,t.Ql(d),r=t.oq(r,d,i.link),r.valid=!0,r.rev=i.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=d,p--;r=t.oq(d,o,i.link),r.valid=!c,c&&(d.near=o),r.rev=i.rev,r.portFromColOffset=0,r.portToColOffset=a,r.portFromPos=0,r.portToPos=h}else i.valid=!0}}for(e=this.ne=[],i=0;i<=this.tb;i++)e[i]=0;for(t=this.network.vertexes.i;t.next();)t.value.index=-1;for(this.initializeIndices(),this.mw=-1,i=this.Rf=this.ws=0;i<=this.tb;i++)e[i]>e[this.Rf]&&(this.mw=e[i]-1,this.Rf=i),e[i]<e[this.ws]&&(this.ws=i);for(this.Gs=[],i=0;i<e.length;i++)this.Gs[i]=[];for(t.reset();t.next();)e=t.value,this.Gs[e.layer][e.index]=e;for(this.Kb=-1,t=0;t<=this.tb;t++){for(e=ih(this,t),i=0,n=this.ne[t],o=0;o<n;o++)r=e[o],i+=this.nodeMinColumnSpace(r,!0),r.column=i,i+=1,i+=this.nodeMinColumnSpace(r,!1);this.Kb=Math.max(this.Kb,i-1),rh(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.sf=!0},Cu.prototype.linkMinLength=function(){return 1},Cu.prototype.nodeMinLayerSpace=function(t,e){return null===t.vd?0:90===this.ba||270===this.ba?e?t.T.y+10:t.O.height-t.T.y+10:e?t.T.x+10:t.O.width-t.T.x+10},Cu.prototype.nodeMinColumnSpace=function(t,e){if(null===t.vd)return 0;var n=e?t.mB:t.lB;return null!==n?n:(n=this.ba,90===n||270===n?e?t.mB=t.T.x/this.Yd+1|0:t.lB=(t.O.width-t.T.x)/this.Yd+1|0:e?t.mB=t.T.y/this.Yd+1|0:t.lB=(t.O.height-t.T.y)/this.Yd+1|0)},Cu.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.tb;e++)for(var n=_u(this,e,1),i=this.ne[e],r=0;r<i;r++)for(var o=r;o<i;o++)t+=n[r*i+o];return t},Cu.prototype.normalize=function(){var t=1/0;this.Kb=-1;for(var e=this.network.vertexes.i;e.next();){var n=e.value,t=Math.min(t,n.column-this.nodeMinColumnSpace(n,!0));this.Kb=Math.max(this.Kb,n.column+this.nodeMinColumnSpace(n,!1))}for(e.reset();e.next();)e.value.column-=t;this.Kb-=t},Cu.prototype.assignLayers=function(){switch(this.ap){case Ld:Iu(this);break;case Dd:for(var t=0,e=this.network.vertexes.i;e.next();)t=qu(this,e.value),this.tb=Math.max(t,this.tb);for(e.reset();e.next();)t=e.value,t.layer=this.tb-t.layer;break;default:case Ed:for(Iu(this),e=this.network.vertexes.i;e.next();)e.value.valid=!1;for(e.reset();e.next();)t=e.value,0===t.nc.count&&zu(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.tb=-1,e.reset();e.next();){var n=e.value;n.layer-=t,this.tb=Math.max(this.tb,n.layer)}}},Cu.prototype.initializeIndices=function(){switch(this.Ro){default:case Vd:for(var t=this.network.vertexes.i;t.next();){var e=t.value,n=e.layer;e.index=this.ne[n],this.ne[n]++}break;case Fd:for(t=this.network.vertexes.i,e=this.tb;0<=e;e--)for(t.reset();t.next();)n=t.value,n.layer===e&&-1===n.index&&Hu(this,n);break;case Rd:for(t=this.network.vertexes.i,e=0;e<=this.tb;e++)for(t.reset();t.next();)n=t.value,n.layer===e&&-1===n.index&&Uu(this,n)}},Cu.prototype.reduceCrossings=function(){for(var t=this.countCrossings(),e=Tu(this),n=0,i=0,r=0,n=0;n<this.Nm;n++){for(i=0;i<=this.tb;i++)Ku(this,i,1),Wu(this,i,1);for(r=this.countCrossings(),r<t&&(t=r,e=Tu(this)),i=this.tb;0<=i;i--)Ku(this,i,-1),Wu(this,i,-1);r=this.countCrossings(),r<t&&(t=r,e=Tu(this))}for(Mu(this,e),n=0;n<this.Nm;n++){for(i=0;i<=this.tb;i++)Ku(this,i,0),Wu(this,i,0);for(r=this.countCrossings(),r<t&&(t=r,e=Tu(this)),i=this.tb;0<=i;i--)Ku(this,i,0),Wu(this,i,0);r=this.countCrossings(),r<t&&(t=r,e=Tu(this))}Mu(this,e);var o=!1,s=n=0,a=0,i=0;switch(this.po){case Id:break;case qd:for(a=t+1;(i=this.countCrossings())<a;)for(a=i,n=this.tb;0<=n;n--)for(s=0;s<=n;s++){for(o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Wu(this,i,-1)||o;for(r=this.countCrossings(),r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Wu(this,i,1)||o;for(r=this.countCrossings(),r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Wu(this,i,1)||o;for(r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Wu(this,i,-1)||o;for(r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Wu(this,i,0)||o;for(r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Wu(this,i,0)||o;r>=t?Mu(this,e):(t=r,e=Tu(this))}break;default:case Bd:for(n=this.tb,s=0,a=t+1;(i=this.countCrossings())<a;){for(a=i,o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Wu(this,i,-1)||o;for(r=this.countCrossings(),r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Wu(this,i,1)||o;for(r=this.countCrossings(),r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Wu(this,i,1)||o;for(r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Wu(this,i,-1)||o;for(r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=n;i>=s;i--)o=Wu(this,i,0)||o;for(r>=t?Mu(this,e):(t=r,e=Tu(this)),o=!0;o;)for(o=!1,i=s;i<=n;i++)o=Wu(this,i,0)||o;r>=t?Mu(this,e):(t=r,e=Tu(this))}}Mu(this,e)},Cu.prototype.straightenAndPack=function(){var t=0,e=!1,n=0!=(this.dj&zd),t=this.dj===Ud;if(1e3<this.network.edges.count&&!t&&(n=!1),n){for(e=[],t=t=0;t<=this.tb;t++)e[t]=0;for(var i=0,r=this.network.vertexes.i;r.next();){var o=r.value,t=o.layer,i=o.column,o=this.nodeMinColumnSpace(o,!1);e[t]=Math.max(e[t],i+o)}for(r.reset();r.next();)o=r.value,t=o.layer,i=o.column,o.column=(8*(this.Kb-e[t])>>1)+8*i;this.Kb*=8}if(0!=(this.dj&Gd))for(e=!0;e;){for(e=!1,t=this.Rf+1;t<=this.tb;t++)e=Ju(this,t,1)||e;for(t=this.Rf-1;0<=t;t--)e=Ju(this,t,-1)||e;e=Ju(this,this.Rf,0)||e}if(0!=(this.dj&Hd)){for(t=this.Rf+1;t<=this.tb;t++)Qu(this,t,1);for(t=this.Rf-1;0<=t;t--)Qu(this,t,-1);Qu(this,this.Rf,0)}if(n&&($u(this,-1),$u(this,1)),0!=(this.dj&Gd))for(e=!0;e;){for(e=!1,e=Ju(this,this.Rf,0)||e,t=this.Rf+1;t<=this.tb;t++)e=Ju(this,t,0)||e;for(t=this.Rf-1;0<=t;t--)e=Ju(this,t,0)||e}},Cu.prototype.commitLayout=function(){if(this.bo)for(var t=eh(this,!0),e=eh(this,!1),n=this.network.edges.i;n.next();){var i=n.value.link;null!==i&&(i.Mb=t,i.Nb=e)}this.commitNodes(),this.pA(),this.Au&&this.commitLinks()},Cu.prototype.commitNodes=function(){this.yg=[],this.Qf=[],this.Pf=[],this.Pb=[];for(var t=0;t<=this.tb;t++)this.yg[t]=0,this.Qf[t]=0,this.Pf[t]=0,this.Pb[t]=0;for(t=this.network.vertexes.i;t.next();){var e=t.value,n=e.layer;this.yg[n]=Math.max(this.yg[n],this.nodeMinLayerSpace(e,!0)),this.Qf[n]=Math.max(this.Qf[n],this.nodeMinLayerSpace(e,!1))}for(var e=0,i=this.Om,n=0;n<=this.tb;n++){var r=i;0>=this.yg[n]+this.Qf[n]&&(r=0),0<n&&(e+=r/2),90===this.ba||0===this.ba?(e+=this.Qf[n],this.Pf[n]=e,e+=this.yg[n]):(e+=this.yg[n],this.Pf[n]=e,e+=this.Qf[n]),n<this.tb&&(e+=r/2),this.Pb[n]=e}for(i=e,e=this.Md,n=0;n<=this.tb;n++)270===this.ba?this.Pf[n]=e.y+this.Pf[n]:90===this.ba?(this.Pf[n]=e.y+i-this.Pf[n],this.Pb[n]=i-this.Pb[n]):180===this.ba?this.Pf[n]=e.x+this.Pf[n]:(this.Pf[n]=e.x+i-this.Pf[n],this.Pb[n]=i-this.Pb[n]);for(t.reset(),i=r=1/0;t.next();){var n=t.value,o=n.layer,s=0|n.column,a=0,u=0;270===this.ba||90===this.ba?(a=e.x+this.Yd*s,u=this.Pf[o]):(a=this.Pf[o],u=e.y+this.Yd*s),n.la=a,n.sa=u,r=Math.min(n.x,r),i=Math.min(n.y,i)}for(r=e.x-r,e=e.y-i,this.pC=new w(r,e),t.reset();t.next();)n=t.value,n.x+=r,n.y+=e,n.commit()},Cu.prototype.pA=function(){for(var t=0,e=this.Om,n=0;n<=this.tb;n++)t+=this.yg[n],t+=this.Qf[n];for(var t=t+this.tb*e,e=[],n=this.Yd*this.Kb,i=this.SI;0<=i;i--)270===this.ba?0===i?e.push(new C(0,0,n,Math.abs(this.Pb[0]))):e.push(new C(0,this.Pb[i-1],n,Math.abs(this.Pb[i-1]-this.Pb[i]))):90===this.ba?0===i?e.push(new C(0,this.Pb[0],n,Math.abs(this.Pb[0]-t))):e.push(new C(0,this.Pb[i],n,Math.abs(this.Pb[i-1]-this.Pb[i]))):180===this.ba?0===i?e.push(new C(0,0,Math.abs(this.Pb[0]),n)):e.push(new C(this.Pb[i-1],0,Math.abs(this.Pb[i-1]-this.Pb[i]),n)):0===i?e.push(new C(this.Pb[0],0,Math.abs(this.Pb[0]-t),n)):e.push(new C(this.Pb[i],0,Math.abs(this.Pb[i-1]-this.Pb[i]),n));this.commitLayers(e,this.pC)},Cu.prototype.commitLayers=function(){},Cu.prototype.commitLinks=function(){for(var t,e=this.network.edges.i;e.next();)null!==(t=e.value.link)&&(t.qm(),t.Pp(),t.qj());for(e.reset();e.next();)null!==(t=e.value.link)&&t.jo();for(e.reset();e.next();){var n=e.value;if(null!==(t=n.link)){t.qm();var i=t,r=i.V,o=i.Z,s=i.gc,a=i.zc;if(null!==r){var u=r.findVisibleNode();null!==u&&u!==r&&(r=u,s=u.port)}if(null!==o){var h=o.findVisibleNode();null!==h&&h!==o&&(o=h,a=h.port)}var l=t.computeSpot(!0,s),f=t.computeSpot(!1,a),p=n.fromVertex,d=n.toVertex;if(n.valid){if(t.nf===Up&&4===t.qa)if(p.column===d.column){var y=t.getLinkPoint(r,s,l,!0,!1,o,a),v=t.getLinkPoint(o,a,f,!1,!1,r,s);y.I()||y.set(r.U.Ul),v.I()||v.set(o.U.Ul),t.Pp(),t.oj(y.x,y.y),t.oj((2*y.x+v.x)/3,(2*y.y+v.y)/3),t.oj((y.x+2*v.x)/3,(y.y+2*v.y)/3),t.oj(v.x,v.y)}else{var g=!1,m=!1;if(null!==s&&l===nl&&(g=!0),null!==a&&f===nl&&(m=!0),g||m){var b=t.l(0).x,w=t.l(0).y,x=t.l(1).x,k=t.l(1).y,P=t.l(2).x,C=t.l(2).y,S=t.l(3).x,T=t.l(3).y;if(g){90===this.ba||270===this.ba?(x=b,k=(w+T)/2):(x=(b+S)/2,k=w),t.ca(1,x,k);var M=t.getLinkPoint(r,s,l,!0,!1,o,a);M.I()||M.set(r.U.Ul),t.ca(0,M.x,M.y)}m&&(90===this.ba||270===this.ba?(P=S,C=(w+T)/2):(P=(b+S)/2,C=T),t.ca(2,P,C),M=t.getLinkPoint(o,a,f,!1,!1,r,s),M.I()||M.set(o.U.Ul),t.ca(3,M.x,M.y))}}t.qj()}else if(p.layer===d.layer)t.qj();else{var _=!1,N=!1,A=0,O=t.fu+1;if(t.ac)N=!0,4<(A=t.qa)&&t.points.removeRange(2,A-3);else if(t.nf===Up)_=!0,A=t.qa,4<A&&t.points.removeRange(2,A-3),O=2;else{var A=t.qa,j=l===nl,E=f===nl;2<A&&j&&E?t.points.removeRange(1,A-2):3<A&&j&&!E?t.points.removeRange(1,A-3):3<A&&!j&&E?t.points.removeRange(2,A-2):4<A&&!j&&!E&&t.points.removeRange(2,A-3)}var L,D;if(n.rev){for(var F=0;null!==d&&p!==d;){D=L=null;for(var R=d.nc.i;R.next();){var V=R.value;if(V.link===n.link&&(L=V.fromVertex,D=V.toVertex,null===L.vd))break}if(L!==p)if(H=t.l(O-1).x,U=t.l(O-1).y,K=L.la,W=L.sa,N)180===this.ba||0===this.ba?2===O?(t.w(O++,H,U),t.w(O++,H,W)):(Z=null!==D?D.sa:U)!==W&&(J=this.Pb[L.layer-1],t.w(O++,J,U),t.w(O++,J,W)):2===O?(t.w(O++,H,U),t.w(O++,K,U)):(X=null!==D?D.la:H)!==K&&(J=this.Pb[L.layer-1],t.w(O++,H,J),t.w(O++,K,J));else if(2===O)if(Y=Math.max(10,this.yg[d.layer]),Q=Math.max(10,this.Qf[d.layer]),_)180===this.ba?K<=d.O.x?(F=d.O.x,t.w(O++,F-Y,W),t.w(O++,F,W),t.w(O++,F+Q,W)):(t.w(O++,K-Y,W),t.w(O++,K,W),t.w(O++,K+Q,W)):90===this.ba?W>=d.O.bottom?(F=d.O.y+d.O.height,t.w(O++,K,F+Q),t.w(O++,K,F),t.w(O++,K,F-Y)):(t.w(O++,K,W+Q),t.w(O++,K,W),t.w(O++,K,W-Y)):270===this.ba?W<=d.O.y?(F=d.O.y,t.w(O++,K,F-Y),t.w(O++,K,F),t.w(O++,K,F+Q)):(t.w(O++,K,W-Y),t.w(O++,K,W),t.w(O++,K,W+Q)):0===this.ba&&(K>=d.O.right?(F=d.O.x+d.O.width,t.w(O++,F+Q,W),t.w(O++,F,W),t.w(O++,F-Y,W)):(t.w(O++,K+Q,W),t.w(O++,K,W),t.w(O++,K-Y,W)));else{t.w(O++,H,U);var I=0;180===this.ba||0===this.ba?((180===this.ba?K>=d.O.right:K<=d.O.x)&&(I=(0===this.ba?-Y:Q)/2),t.w(O++,H+I,W)):((270===this.ba?W>=d.O.bottom:W<=d.O.y)&&(I=(90===this.ba?-Y:Q)/2),t.w(O++,K,U+I)),t.w(O++,K,W)}else Y=Math.max(10,this.yg[L.layer]),Q=Math.max(10,this.Qf[L.layer]),180===this.ba?(_&&t.w(O++,K-Y,W),t.w(O++,K,W),_&&t.w(O++,K+Q,W)):90===this.ba?(_&&t.w(O++,K,W+Q),t.w(O++,K,W),_&&t.w(O++,K,W-Y)):270===this.ba?(_&&t.w(O++,K,W-Y),t.w(O++,K,W),_&&t.w(O++,K,W+Q)):(_&&t.w(O++,K+Q,W),t.w(O++,K,W),_&&t.w(O++,K-Y,W));d=L}if(null===a||l!==nl||N)if(H=t.l(O-1).x,U=t.l(O-1).y,K=t.l(O).x,W=t.l(O).y,N){var B=this.Qf[p.layer],q=0;180===this.ba||0===this.ba?(q=U,q>=p.O.y&&q<=p.O.bottom&&(180===this.ba?K>=p.O.x:K<=p.O.right)&&(F=p.la+(180===this.ba?-B:B),q=q<p.O.y+p.O.height/2?p.O.y-this.Yd/2:p.O.bottom+this.Yd/2,t.w(O++,F,U),t.w(O++,F,q)),t.w(O++,K,q)):(q=H,q>=p.O.x&&q<=p.O.right&&(270===this.ba?W>=p.O.y:W<=p.O.bottom)&&(F=p.sa+(270===this.ba?-B:B),q=q<p.O.x+p.O.width/2?p.O.x-this.Yd/2:p.O.right+this.Yd/2,t.w(O++,H,F),t.w(O++,q,F)),t.w(O++,q,W)),t.w(O++,K,W)}else _?(Y=Math.max(10,this.yg[p.layer]),Q=Math.max(10,this.Qf[p.layer]),180===this.ba&&K>=p.O.x?(F=p.O.x+p.O.width,t.ca(O-2,F,U),t.ca(O-1,F+Q,U)):90===this.ba&&W<=p.O.bottom?(F=p.O.y,t.ca(O-2,H,F),t.ca(O-1,H,F-Y)):270===this.ba&&W>=p.O.y?(F=p.O.y+p.O.height,t.ca(O-2,H,F),t.ca(O-1,H,F+Q)):0===this.ba&&K<=p.O.right&&(F=p.O.x,t.ca(O-2,F,U),t.ca(O-1,F-Y,U))):(Y=Math.max(10,this.yg[p.layer]),Q=Math.max(10,this.Qf[p.layer]),I=0,180===this.ba||0===this.ba?((180===this.ba?K<=p.O.x:K>=p.O.right)&&(I=(0===this.ba?Q:-Y)/2),t.w(O++,K+I,U)):((270===this.ba?W<=p.O.y:W>=p.O.bottom)&&(I=(90===this.ba?Q:-Y)/2),t.w(O++,H,W+I)),t.w(O++,K,W))}else{for(;null!==p&&p!==d;){D=L=null;for(var z=p.lc.i;z.next();){var G=z.value;if(G.link===n.link&&(L=G.toVertex,D=G.fromVertex,null!==D.vd&&(D=null),null===L.vd))break}var H=0,U=0,K=0,W=0,J=0,Y=0,Q=0;if(L!==d)if(H=t.l(O-1).x,U=t.l(O-1).y,K=L.la,W=L.sa,N)if(180===this.ba||0===this.ba){var Z=null!==D?D.sa:U;Z!==W&&(J=this.Pb[L.layer],2===O&&(J=0===this.ba?Math.max(J,H):Math.min(J,H)),t.w(O++,J,U),t.w(O++,J,W))}else{var X=null!==D?D.la:H;X!==K&&(J=this.Pb[L.layer],2===O&&(J=90===this.ba?Math.max(J,U):Math.min(J,U)),t.w(O++,H,J),t.w(O++,K,J))}else Y=Math.max(10,this.yg[L.layer]),Q=Math.max(10,this.Qf[L.layer]),180===this.ba?(t.w(O++,K+Q,W),_&&t.w(O++,K,W),t.w(O++,K-Y,W)):90===this.ba?(t.w(O++,K,W-Y),_&&t.w(O++,K,W),t.w(O++,K,W+Q)):270===this.ba?(t.w(O++,K,W+Q),_&&t.w(O++,K,W),t.w(O++,K,W-Y)):(t.w(O++,K-Y,W),_&&t.w(O++,K,W),t.w(O++,K+Q,W));p=L}N&&(H=t.l(O-1).x,U=t.l(O-1).y,K=t.l(O).x,W=t.l(O).y,180===this.ba||0===this.ba?U!==W&&(J=0===this.ba?Math.min(Math.max((K+H)/2,this.Pb[d.layer]),K):Math.max(Math.min((K+H)/2,this.Pb[d.layer]),K),t.w(O++,J,U),t.w(O++,J,W)):H!==K&&(J=90===this.ba?Math.min(Math.max((W+U)/2,this.Pb[d.layer]),W):Math.max(Math.min((W+U)/2,this.Pb[d.layer]),W),t.w(O++,H,J),t.w(O++,K,J)))}if(null!==i&&_){if(null!==s){if(l===nl){var $=t.l(0),tt=t.l(2);$.L(tt)||t.ca(1,($.x+tt.x)/2,($.y+tt.y)/2)}M=t.getLinkPoint(r,s,nl,!0,!1,o,a),M.I()||M.set(r.U.Ul),t.ca(0,M.x,M.y)}null!==a&&(f===nl&&($=t.l(t.qa-1),tt=t.l(t.qa-3),$.L(tt)||t.ca(t.qa-2,($.x+tt.x)/2,($.y+tt.y)/2)),M=t.getLinkPoint(o,a,nl,!1,!1,r,s),M.I()||M.set(o.U.Ul),t.ca(t.qa-1,M.x,M.y))}t.qj(),n.commit()}}}for(var et=new c(Ys),nt=this.network.edges.i;nt.next();){var it=nt.value.link;null!==it&&it.ac&&!et.contains(it)&&et.add(it)}if(0<et.count)if(90===this.ba||270===this.ba){for(var rt,ot,st=0,at=new c(oh),ut=et.i;ut.next();){var ht=ut.value;if(null!==ht&&ht.ac)for(var lt=2;lt<ht.qa-3;lt++)if(rt=ht.l(lt),ot=ht.l(lt+1),nh(rt.y,ot.y)&&!nh(rt.x,ot.x)){var ct=new oh;ct.layer=Math.floor(rt.y/2);var ft=ht.l(0),pt=ht.l(ht.qa-1);if(ct.first=ft.x*ft.x+ft.y,ct.ie=pt.x*pt.x+pt.y,ct.$e=Math.min(rt.x,ot.x),ct.ue=Math.max(rt.x,ot.x),ct.index=lt,ct.link=ht,lt+2<ht.qa){var dt=ht.l(lt-1),yt=ht.l(lt+2),vt=0;dt.y<rt.y?vt=yt.y<rt.y?3:rt.x<ot.x?2:1:dt.y>rt.y&&(vt=yt.y>rt.y?0:ot.x<rt.x?2:1),ct.xi=vt}at.add(ct)}}if(1<at.count){at.sort(this.pG);for(var gt=0;gt<at.count;){for(var mt=at.n[gt].layer,bt=gt+1;bt<at.count&&at.n[bt].layer===mt;)bt++;if(1<bt-gt)for(var wt=gt;wt<bt;){for(var xt=at.n[wt].ue,kt=gt+1;kt<bt&&at.n[kt].$e<xt;)xt=Math.max(xt,at.n[kt].ue),kt++;var Pt=kt-wt;if(1<Pt){at.Jq(this.vy,wt,wt+Pt);for(var Ct=1,St=at.n[wt].ie,lt=wt;lt<kt;lt++){var Tt=at.n[lt];Tt.ie!==St&&(Ct++,St=Tt.ie)}at.Jq(this.oG,wt,wt+Pt);for(var Mt=1,St=at.n[wt].first,lt=wt;lt<kt;lt++)Tt=at.n[lt],Tt.first!==St&&(Mt++,St=Tt.first);var _t=!0,Nt=Mt;Ct<Mt?(_t=!1,Nt=Ct,St=at.n[wt].ie,at.Jq(this.vy,wt,wt+Pt)):St=at.n[wt].first;for(var At=0,lt=wt;lt<kt;lt++){Tt=at.n[lt],(_t?Tt.first:Tt.ie)!==St&&(At++,St=_t?Tt.first:Tt.ie),ht=Tt.link,rt=ht.l(Tt.index),ot=ht.l(Tt.index+1);var Ot=this.OF*(At-(Nt-1)/2);st++,ht.qm(),ht.ca(Tt.index,rt.x,rt.y+Ot),ht.ca(Tt.index+1,ot.x,ot.y+Ot),ht.qj()}}wt=kt}gt=bt}}}else{for(var jt,Et,Lt=0,Dt=new c(oh),Ft=et.i;Ft.next();){var Rt=Ft.value;if(null!==Rt&&Rt.ac)for(var Vt=2;Vt<Rt.qa-3;Vt++)if(jt=Rt.l(Vt),Et=Rt.l(Vt+1),nh(jt.x,Et.x)&&!nh(jt.y,Et.y)){var It=new oh;It.layer=Math.floor(jt.x/2);var Bt=Rt.l(0),qt=Rt.l(Rt.qa-1);if(It.first=Bt.x+Bt.y*Bt.y,It.ie=qt.x+qt.y*qt.y,It.$e=Math.min(jt.y,Et.y),It.ue=Math.max(jt.y,Et.y),It.index=Vt,It.link=Rt,Vt+2<Rt.qa){var zt=Rt.l(Vt-1),Gt=Rt.l(Vt+2),Ht=0;zt.x<jt.x?Ht=Gt.x<jt.x?3:jt.y<Et.y?2:1:zt.x>jt.x&&(Ht=Gt.x>jt.x?0:Et.y<jt.y?2:1),It.xi=Ht}Dt.add(It)}}if(1<Dt.count){Dt.sort(this.pG);for(var Ut=0;Ut<Dt.count;){for(var Kt=Dt.n[Ut].layer,Wt=Ut+1;Wt<Dt.count&&Dt.n[Wt].layer===Kt;)Wt++;if(1<Wt-Ut)for(var Jt=Ut;Jt<Wt;){for(var Yt=Dt.n[Jt].ue,Qt=Ut+1;Qt<Wt&&Dt.n[Qt].$e<Yt;)Yt=Math.max(Yt,Dt.n[Qt].ue),Qt++;var Zt=Qt-Jt;if(1<Zt){Dt.Jq(this.vy,Jt,Jt+Zt);for(var Xt=1,$t=Dt.n[Jt].ie,Vt=Jt;Vt<Qt;Vt++){var te=Dt.n[Vt];te.ie!==$t&&(Xt++,$t=te.ie)}Dt.Jq(this.oG,Jt,Jt+Zt);for(var ee=1,$t=Dt.n[Jt].first,Vt=Jt;Vt<Qt;Vt++)te=Dt.n[Vt],te.first!==$t&&(ee++,$t=te.first);var ne=!0,ie=ee;Xt<ee?(ne=!1,ie=Xt,$t=Dt.n[Jt].ie,Dt.Jq(this.vy,Jt,Jt+Zt)):$t=Dt.n[Jt].first;for(var re=0,Vt=Jt;Vt<Qt;Vt++){te=Dt.n[Vt],(ne?te.first:te.ie)!==$t&&(re++,$t=ne?te.first:te.ie),Rt=te.link,jt=Rt.l(te.index),Et=Rt.l(te.index+1);var oe=this.OF*(re-(ie-1)/2);Lt++,Rt.qm(),Rt.ca(te.index,jt.x+oe,jt.y),Rt.ca(te.index+1,Et.x+oe,Et.y),Rt.qj()}}Jt=Qt}Ut=Wt}}}},Cu.prototype.pG=function(t,e){return t instanceof oh&&e instanceof oh&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.$e<e.$e?-1:t.$e>e.$e?1:t.ue<e.ue?-1:t.ue>e.ue?1:0:0},Cu.prototype.oG=function(t,e){return t instanceof oh&&e instanceof oh&&t!==e?t.first<e.first?-1:t.first>e.first||t.xi<e.xi?1:t.xi>e.xi||t.$e<e.$e?-1:t.$e>e.$e?1:t.ue<e.ue?-1:t.ue>e.ue?1:0:0},Cu.prototype.vy=function(t,e){return t instanceof oh&&e instanceof oh&&t!==e?t.ie<e.ie?-1:t.ie>e.ie||t.xi<e.xi?1:t.xi>e.xi||t.$e<e.$e?-1:t.$e>e.$e?1:t.ue<e.ue?-1:t.ue>e.ue?1:0:0},Jh.defineProperty(Cu,{layerSpacing:"layerSpacing"},function(){return this.Om},function(t){this.Om!==t&&(Jh.j(t,"number",Cu,"layerSpacing"),0<=t&&(this.Om=t,this.J()))}),Jh.defineProperty(Cu,{KK:"columnSpacing"},function(){return this.Yd},function(t){this.Yd!==t&&(Jh.j(t,"number",Cu,"columnSpacing"),0<t&&(this.Yd=t,this.J()))}),Jh.defineProperty(Cu,{direction:"direction"},function(){return this.ba},function(t){this.ba!==t&&(Jh.j(t,"number",Cu,"direction"),0===t||90===t||180===t||270===t?(this.ba=t,this.J()):Jh.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}),Jh.defineProperty(Cu,{angle:"angle"},function(){return this.direction},function(t){this.direction=t}),Jh.defineProperty(Cu,{yA:"cycleRemoveOption"},function(){return this.Ao},function(t){this.Ao!==t&&(Jh.ob(t,Cu,Cu,"cycleRemoveOption"),t===Od||t===Ad||t===jd)&&(this.Ao=t,this.J())}),Jh.defineProperty(Cu,{JI:"layeringOption"},function(){return this.ap},function(t){this.ap!==t&&(Jh.ob(t,Cu,Cu,"layeringOption"),t===Ed||t===Ld||t===Dd)&&(this.ap=t,this.J())}),Jh.defineProperty(Cu,{xI:"initializeOption"},function(){return this.Ro},function(t){this.Ro!==t&&(Jh.ob(t,Cu,Cu,"initializeOption"),t===Fd||t===Rd||t===Vd)&&(this.Ro=t,this.J())}),Jh.defineProperty(Cu,{nL:"iterations"},function(){return this.Nm},function(t){this.Nm!==t&&(Jh.Ad(t,sh,"iterations"),0<=t&&(this.Nm=t,this.J()))}),Jh.defineProperty(Cu,{rH:"aggressiveOption"},function(){return this.po},function(t){this.po!==t&&(Jh.ob(t,Cu,Cu,"aggressiveOption"),t===Id||t===Bd||t===qd)&&(this.po=t,this.J())}),Jh.defineProperty(Cu,{HL:"packOption"},function(){return this.dj},function(t){this.dj!==t&&(Jh.j(t,"number",Cu,"packOption"),0<=t&&8>t&&(this.dj=t,this.J()))}),Jh.defineProperty(Cu,{bo:"setsPortSpots"},function(){return this.ci},function(t){this.ci!==t&&(Jh.j(t,"boolean",Cu,"setsPortSpots"),this.ci=t,this.J())}),Jh.defineProperty(Cu,{OF:"linkSpacing"},function(){return this.ns},function(t){this.ns!==t&&(Jh.j(t,"number",Cu,"linkSpacing"),0<=t&&(this.ns=t,this.J()))}),Jh.u(Cu,{SI:"maxLayer"},function(){return this.tb}),Jh.u(Cu,{tL:"maxIndex"},function(){return this.mw}),Jh.u(Cu,{sL:"maxColumn"},function(){return this.Kb}),Jh.u(Cu,{yL:"minIndexLayer"},function(){return this.ws}),Jh.u(Cu,{uL:"maxIndexLayer"},function(){return this.Rf});var Ad;Cu.CycleDepthFirst=Ad=Jh.p(Cu,"CycleDepthFirst",0);var Od;Cu.CycleGreedy=Od=Jh.p(Cu,"CycleGreedy",1);var jd;Cu.CycleFromLayers=jd=Jh.p(Cu,"CycleFromLayers",2);var Ed;Cu.LayerOptimalLinkLength=Ed=Jh.p(Cu,"LayerOptimalLinkLength",0);var Ld;Cu.LayerLongestPathSink=Ld=Jh.p(Cu,"LayerLongestPathSink",1);var Dd;Cu.LayerLongestPathSource=Dd=Jh.p(Cu,"LayerLongestPathSource",2);var Fd;Cu.InitDepthFirstOut=Fd=Jh.p(Cu,"InitDepthFirstOut",0);var Rd;Cu.InitDepthFirstIn=Rd=Jh.p(Cu,"InitDepthFirstIn",1);var Vd;Cu.InitNaive=Vd=Jh.p(Cu,"InitNaive",2);var Id;Cu.AggressiveNone=Id=Jh.p(Cu,"AggressiveNone",0);var Bd;Cu.AggressiveLess=Bd=Jh.p(Cu,"AggressiveLess",1);var qd;Cu.AggressiveMore=qd=Jh.p(Cu,"AggressiveMore",2),Cu.PackNone=0;var zd;Cu.PackExpand=zd=1;var Gd;Cu.PackStraighten=Gd=2;var Hd;Cu.PackMedian=Hd=4;var Ud;Cu.PackAll=Ud=7,Jh.be(oh,{layer:!0,first:!0,ie:!0,$e:!0,ue:!0,index:!0,link:!0,xi:!0}),Jh.La(sh,Ia),Jh.ga("LayeredDigraphNetwork",sh),sh.prototype.createVertex=function(){return new ah},sh.prototype.createEdge=function(){return new uh},Jh.La(ah,Ha),Jh.ga("LayeredDigraphVertex",ah),Jh.La(uh,Ua),Jh.ga("LayeredDigraphEdge",uh),Jh.La(hh,Fa),Jh.ga("TreeLayout",hh),hh.prototype.cloneProtected=function(t){Fa.prototype.cloneProtected.call(this,t),t.Ts=this.Ts,t.It=this.It,t.jw=this.jw,t.Mh=this.Mh,t.pd=this.pd,t.ng.assign(this.ng),t.va.copyInheritedPropertiesFrom(this.va),t.wa.copyInheritedPropertiesFrom(this.wa)},hh.prototype.ic=function(t){t.Je===hh?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.Vf=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.YJ=t:Jh.k("Unknown enum value: "+t):Fa.prototype.ic.call(this,t)},hh.prototype.createNetwork=function(){return new zh},hh.prototype.makeNetwork=function(t){function e(t){if(t instanceof Ls)return!t.Df&&"Comment"!==t.kd;if(t instanceof Ys){var e=t.V;return null!==e&&!e.Df&&"Comment"!==e.kd&&(null!==(t=t.Z)&&!t.Df&&"Comment"!==t.kd)}return!1}var n=this.createNetwork();return n.Ub=this,t instanceof Bn?(n.Bk(t.ig,!0,e),n.Bk(t.links,!0,e)):t instanceof Aa?n.Bk(t.hc,!1,e):n.Bk(t.i,!1,e),n},hh.prototype.doLayout=function(t){null===t&&Jh.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Vf!==yy&&(this.Md=this.initialOrigin(this.Md));var e=this.g;if(null===e&&t instanceof Bn&&(e=t),this.Of=this.path===Kd&&null!==e?e.Vd?Wd:Jd:this.path===Kd?Wd:this.path,0<this.network.vertexes.count){for(this.network.ux(),t=this.network.vertexes.i;t.next();)e=t.value,e.initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.yd.count){for(t=new p(Gh),e=this.yd.i;e.next();){var n=e.value;n instanceof Ls?null!==(n=this.network.Cn(n))&&t.add(n):n instanceof Gh&&t.add(n)}this.yd=t}for(0===this.yd.count&&this.findRoots(),t=this.yd.copy().i;t.next();)e=t.value,e.initialized||(e.initialized=!0,fh(this,e));for(e=this.network.vertexes,t=null;t=lh(e),0<t.count;)e=ch(this,t),null!==e&&this.yd.add(e),e.initialized=!0,fh(this,e),e=t;for(t=this.yd.i;t.next();)(e=t.value)instanceof Gh&&dh(this,e);for(t=this.yd.i;t.next();)(e=t.value)instanceof Gh&&vh(this,e);for(t=this.yd.i;t.next();)(e=t.value)instanceof Gh&&gh(this,e);if(this.jA(),this.aB===my){for(n=[],t=this.network.vertexes.i;t.next();){var i=t.value,e=i.parent;null===e&&(e=i);var e=0===e.angle||180===e.angle,r=n[i.level];void 0===r&&(r=0),n[i.level]=Math.max(r,e?i.width:i.height)}for(i=0;i<n.length;i++)void 0===n[i]&&(n[i]=0);for(this.kC=n,t=this.network.vertexes.i;t.next();)i=t.value,e=i.parent,null===e&&(e=i),0===e.angle||180===e.angle?(180===e.angle&&(i.ju+=n[i.level]-i.width),i.width=n[i.level]):(270===e.angle&&(i.ku+=n[i.level]-i.height),i.height=n[i.level])}else if(this.aB===gy)for(t=this.network.vertexes.i;t.next();){for(n=t.value,e=0===n.angle||180===n.angle,r=-1,i=0;i<n.children.length;i++)var o=n.children[i],r=Math.max(r,e?o.width:o.height);if(0<=r)for(i=0;i<n.children.length;i++)o=n.children[i],e?(180===n.angle&&(o.ju+=r-o.width),o.width=r):(270===n.angle&&(o.ku+=r-o.height),o.height=r)}for(t=this.yd.i;t.next();)(e=t.value)instanceof Gh&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.yd=new p(Object),this.sf=!0},hh.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.i;e.next();){var n=e.value;switch(this.Of){case Wd:0===n.nc.count&&this.yd.add(n);break;case Jd:0===n.lc.count&&this.yd.add(n);break;default:Jh.k("Unhandled path value "+this.Of.toString())}}0===this.yd.count&&null!==(t=ch(this,t))&&this.yd.add(t)},hh.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var n=t.children,i=0,r=0;r<n.length;r++)n[r]===e&&i++;if(0<i){for(var i=Array(n.length-i),o=0,r=0;r<n.length;r++)n[r]!==e&&(i[o++]=n[r]);t.children=i}}},hh.prototype.initializeTreeVertexValues=function(t){var e=yh(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===ry){for(var e=t.angle,n=t.parent.children,i=0;i<n.length&&t!==n[i];)i++;0==i%2?i!==n.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},hh.prototype.assignTreeVertexValues=function(){},hh.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Yd:break;case Qd:t.children.reverse();break;case Zd:t.children.sort(t.comparer);break;case Xd:t.children.sort(t.comparer),t.children.reverse();break;default:Jh.k("Unhandled sorting value "+t.sorting.toString())}},hh.prototype.jA=function(){if(this.comments)for(var t=this.network.vertexes.i;t.next();)this.addComments(t.value)},hh.prototype.addComments=function(t){var e=t.angle,n=t.parent,i=0,r=ty,r=!1;null!==n&&(i=n.angle,r=n.alignment,r=mh(r));var e=90===e||270===e,i=90===i||270===i,n=0===t.sn,o=0,s=0,a=0,u=t.commentSpacing;if(null!==t.Rc)for(var h=t.Rc.bF();h.next();){var l=h.value;"Comment"===l.kd&&l.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(l),l.Ne(),l=l.za,e&&!n||!r&&!i&&n||r&&i&&n?(o=Math.max(o,l.width),s+=l.height+Math.abs(a)):(o+=l.width+Math.abs(a),s=Math.max(s,l.height)),a=u)}null!==t.comments&&(e&&!n||!r&&!i&&n||r&&i&&n?(o+=Math.abs(t.commentMargin),s=Math.max(0,s-t.height)):(s+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),r=Jh.lg(0,0,t.O.width+o,t.O.height+s),t.eb=r,Jh.Bb(r))},hh.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.Rc.za,n=t.parent,i=t.angle,r=0,o=ty,o=!1;null!==n&&(r=n.angle,o=n.alignment,o=mh(o));for(var n=90===i||270===i,i=90===r||270===r,s=0===t.sn,a=wh(t),u=0,h=t.comments,l=h.length,c=Jh.K(),f=0;f<l;f++){var p=h[f],d=p.za;if(n&&!s||!o&&!i&&s||o&&i&&s){if(135<r&&!o||i&&a)if(0<=t.commentMargin)for(c.m(t.O.x-t.commentMargin-d.width,t.O.y+u),p.move(c),p=p.Mg();p.next();){var y=p.value;y.Mb=dl,y.Nb=yl}else for(c.m(t.O.x+2*t.T.x-t.commentMargin,t.O.y+u),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=yl,y.Nb=dl;else if(0<=t.commentMargin)for(c.m(t.O.x+2*t.T.x+t.commentMargin,t.O.y+u),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=yl,y.Nb=dl;else for(c.m(t.O.x+t.commentMargin-d.width,t.O.y+u),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=dl,y.Nb=yl;u=0<=t.commentSpacing?u+(d.height+t.commentSpacing):u+(t.commentSpacing-d.height)}else{if(135<r&&!o||!i&&a)if(0<=t.commentMargin)for(c.m(t.O.x+u,t.O.y-t.commentMargin-d.height),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=pl,y.Nb=vl;else for(c.m(t.O.x+u,t.O.y+2*t.T.y-t.commentMargin),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=vl,y.Nb=pl;else if(0<=t.commentMargin)for(c.m(t.O.x+u,t.O.y+2*t.T.y+t.commentMargin),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=vl,y.Nb=pl;else for(c.m(t.O.x+u,t.O.y+t.commentMargin-d.height),p.move(c),p=p.Mg();p.next();)y=p.value,y.Mb=pl,y.Nb=vl;u=0<=t.commentSpacing?u+(d.width+t.commentSpacing):u+(t.commentSpacing-d.width)}}if(Jh.v(c),e=u-t.commentSpacing-(n?e.height:e.width),this.Of===Wd)for(r=t.lc;r.next();)null===(t=r.value.link)||t.fm||(t.am=0<e?e:NaN);else for(r=t.nc;r.next();)null===(t=r.value.link)||t.fm||(t.um=0<e?e:NaN)}},hh.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,n=e.length,i=0;i<n;i++)this.layoutTree(e[i]);switch(t.compaction){case ay:xh(this,t);break;case uy:if(t.alignment===ry)xh(this,t);else if(0===t.sn){var i=t.parent,e=!1,n=0,r=ty;null!==i&&(n=i.angle,r=i.alignment,e=mh(r)),i=wh(t),t.pa.m(0,0),t.kb.m(t.width,t.height),null===t.parent||null===t.comments||(180!==n&&270!==n||e)&&!i?t.Oa.m(0,0):180===n&&!e||(90===n||270===n)&&i?t.Oa.m(t.width-2*t.T.x,0):t.Oa.m(0,t.height-2*t.T.y),t.Cu=null,t.Xu=null}else{for(var o=Ih(t),e=90===o||270===o,s=0,a=t.children,u=a.length,h=0;h<u;h++)var l=a[h],s=Math.max(s,e?l.kb.width:l.kb.height);var c=t.alignment,i=c===ey,f=c===ny,p=mh(c),d=Math.max(0,t.breadthLimit),n=Bh(t),y=t.nodeSpacing,v=qh(t),g=t.rowSpacing,m=0;(i||f||t.Bq||t.Cq&&1===t.maxGenerationCount)&&(m=Math.max(0,t.rowIndent));var i=t.width,r=t.height,b=0,w=0,x=0,k=null,P=null,C=0,S=0,T=0,M=0,_=0,N=0,A=0,O=0,l=0;if(p&&!bh(c)&&135<o&&a.reverse(),bh(c))if(1<u)for(h=0;h<u;h++)0==h%2&&h!==u-1?O=Math.max(O,e?a[h].kb.width:a[h].kb.height):0!=h%2&&(l=Math.max(l,e?a[h].kb.width:a[h].kb.height));else 1===u&&(O=e?a[0].kb.width:a[0].kb.height);if(p){switch(c){case iy:w=135>o?kh(t,a,O,b,w):Ph(t,a,O,b,w),O=w.x,b=w.width,w=w.height;break;case oy:for(h=0;h<u;h++){var l=a[h],j=l.kb,k=0===N?0:g;e?(l.pa.m(s-j.width,M+k),b=Math.max(b,j.width),w=Math.max(w,M+k+j.height),M+=k+j.height):(l.pa.m(T+k,s-j.height),b=Math.max(b,T+k+j.width),w=Math.max(w,j.height),T+=k+j.width),N++}break;case sy:for(h=0;h<u;h++)l=a[h],j=l.kb,k=0===N?0:g,e?(l.pa.m(y/2+t.T.x,M+k),b=Math.max(b,j.width),w=Math.max(w,M+k+j.height),M+=k+j.height):(l.pa.m(T+k,y/2+t.T.y),b=Math.max(b,T+k+j.width),w=Math.max(w,j.height),T+=k+j.width),N++}k=Dh(this,2),P=Dh(this,2),e?(k[0].m(0,0),k[1].m(0,w),P[0].m(b,0)):(k[0].m(0,0),k[1].m(b,0),P[0].m(0,w)),P[1].m(b,w)}else for(h=0;h<u;h++){if(l=a[h],j=l.kb,e){0<d&&0<N&&T+y+j.width>d&&(T<s&&Ah(t,c,s-T,0,A,h-1),_++,N=0,A=h,x=w,T=0,M=135<o?-w-g:w+g),jh(this,l,0,M);var E=0;if(0===N)k=l.Cu,P=l.Xu,C=j.width,S=j.height,(null===k||null===P||o!==Ih(l))&&(k=Dh(this,2),P=Dh(this,2),k[0].m(0,0),k[1].m(0,S),P[0].m(C,0),P[1].m(C,S));else{var L=Jh.Za(),S=Lh(this,t,l,k,P,C,S,L),E=S.x,k=L[0],P=L[1],C=S.width,S=S.height;Jh.ra(L),T<j.width&&0>E&&(Oh(t,-E,0,A,h-1),Eh(k,-E,0),Eh(P,-E,0),E=0)}l.pa.m(E,M),b=Math.max(b,C),w=Math.max(w,x+(0===_?0:g)+j.height),T=C}else 0<d&&0<N&&M+y+j.height>d&&(M<s&&Ah(t,c,0,s-M,A,h-1),_++,N=0,A=h,x=b,M=0,T=135<o?-b-g:b+g),jh(this,l,T,0),E=0,0===N?(k=l.Cu,P=l.Xu,C=j.width,S=j.height,(null===k||null===P||o!==Ih(l))&&(k=Dh(this,2),P=Dh(this,2),k[0].m(0,0),k[1].m(C,0),P[0].m(0,S),P[1].m(C,S))):(L=Jh.Za(),S=Lh(this,t,l,k,P,C,S,L),E=S.x,k=L[0],P=L[1],C=S.width,S=S.height,Jh.ra(L),M<j.height&&0>E&&(Oh(t,0,-E,A,h-1),Eh(k,0,-E),Eh(P,0,-E),E=0)),l.pa.m(T,E),w=Math.max(w,S),b=Math.max(b,x+(0===_?0:g)+j.width),M=S;N++}switch(0<_&&(e?(w+=Math.max(0,n),T<b&&Ah(t,c,b-T,0,A,u-1),0<m&&(f||Oh(t,m,0,0,u-1),b+=m)):(b+=Math.max(0,n),M<w&&Ah(t,c,0,w-M,A,u-1),0<m&&(f||Oh(t,0,m,0,u-1),w+=m))),m=f=0,c){case $d:e?f+=b/2-t.T.x-v/2:m+=w/2-t.T.y-v/2;break;case ty:0<_?e?f+=b/2-t.T.x-v/2:m+=w/2-t.T.y-v/2:e?(O=a[0].pa.x+a[0].Oa.x,h=a[u-1].pa.x+a[u-1].Oa.x+2*a[u-1].T.x,f+=O+(h-O)/2-t.T.x-v/2):(O=a[0].pa.y+a[0].Oa.y,h=a[u-1].pa.y+a[u-1].Oa.y+2*a[u-1].T.y,m+=O+(h-O)/2-t.T.y-v/2);break;case ey:e?(f-=v,b+=v):(m-=v,w+=v);break;case ny:e?(f+=b-t.width+v,b+=v):(m+=w-t.height+v,w+=v);break;case iy:e?f=1<u?f+(O+y/2-t.T.x):f+(a[0].T.x-t.T.x+a[0].Oa.x):m=1<u?m+(O+y/2-t.T.y):m+(a[0].T.y-t.T.y+a[0].Oa.y);break;case oy:e?f+=b+y/2-t.T.x:m+=w+y/2-t.T.y;break;case sy:break;default:Jh.k("Unhandled alignment value "+c.toString())}for(h=0;h<u;h++)l=a[h],e?l.pa.m(l.pa.x+l.Oa.x-f,l.pa.y+(135<o?(p?-w:-l.kb.height)+l.Oa.y-n:r+n+l.Oa.y)):l.pa.m(l.pa.x+(135<o?(p?-b:-l.kb.width)+l.Oa.x-n:i+n+l.Oa.x),l.pa.y+l.Oa.y-m);if(u=a=0,p?e?(b=Mh(t,b,f),0>f&&(f=0),135<o&&(m+=w+n),w+=r+n,c===sy&&(a+=y/2+t.T.x),u+=r+n):(135<o&&(f+=b+n),b+=i+n,w=_h(t,w,m),0>m&&(m=0),c===sy&&(u+=y/2+t.T.y),a+=i+n):e?(null===t.comments?i>b&&(c=Nh(c,i-b,0),a=c.x,u=c.y,b=i,f=0):b=Mh(t,b,f),0>f&&(a-=f,f=0),135<o&&(m+=w+n),w=Math.max(Math.max(w,r),w+r+n),u+=r+n):(135<o&&(f+=b+n),b=Math.max(Math.max(b,i),b+i+n),null===t.comments?r>w&&(c=Nh(c,0,r-w),a=c.x,u=c.y,w=r,m=0):w=_h(t,w,m),0>m&&(u-=m,m=0),a+=i+n),0<_)o=Dh(this,4),c=Dh(this,4),e?(o[2].m(0,r+n),o[3].m(o[2].x,w),c[2].m(b,o[2].y),c[3].m(c[2].x,o[3].y)):(o[2].m(i+n,0),o[3].m(b,o[2].y),c[2].m(o[2].x,w),c[3].m(o[3].x,c[2].y));else{for(o=Dh(this,k.length+2),c=Dh(this,P.length+2),h=0;h<k.length;h++)p=k[h],o[h+2].m(p.x+a,p.y+u);for(h=0;h<P.length;h++)p=P[h],c[h+2].m(p.x+a,p.y+u)}e?(o[0].m(f,0),o[1].m(o[0].x,r),o[2].y<o[1].y&&(o[2].x>o[0].x?o[2].assign(o[1]):o[1].assign(o[2])),o[3].y<o[2].y&&(o[3].x>o[0].x?o[3].assign(o[2]):o[2].assign(o[3])),c[0].m(f+i,0),c[1].m(c[0].x,r),c[2].y<c[1].y&&(c[2].x<c[0].x?c[2].assign(c[1]):c[1].assign(c[2])),c[3].y<c[2].y&&(c[3].x<c[0].x?c[3].assign(c[2]):c[2].assign(c[3])),o[2].y-=n/2,c[2].y-=n/2):(o[0].m(0,m),o[1].m(i,o[0].y),o[2].x<o[1].x&&(o[2].y>o[0].y?o[2].assign(o[1]):o[1].assign(o[2])),o[3].x<o[2].x&&(o[3].y>o[0].y?o[3].assign(o[2]):o[2].assign(o[3])),c[0].m(0,m+r),c[1].m(i,c[0].y),c[2].x<c[1].x&&(c[2].y<c[0].y?c[2].assign(c[1]):c[1].assign(c[2])),c[3].x<c[2].x&&(c[3].y<c[0].y?c[3].assign(c[2]):c[2].assign(c[3])),o[2].x-=n/2,c[2].x-=n/2),Fh(this,k),Fh(this,P),t.Cu=o,t.Xu=c,t.Oa.m(f,m),t.kb.m(b,w)}break;default:Jh.k("Unhandled compaction value "+t.compaction.toString())}}},hh.prototype.arrangeTrees=function(){if(this.pd===yy)for(var t=this.yd.i;t.next();){var e=t.value;if(e instanceof Gh){var n=e.Rc;if(null!==n){var i=n.position,n=i.x,i=i.y;isFinite(n)||(n=0),isFinite(i)||(i=0),Rh(this,e,n,i)}}}else{for(n=[],t=this.yd.i;t.next();)(e=t.value)instanceof Gh&&n.push(e);switch(this.sorting){case Yd:break;case Qd:n.reverse();break;case Zd:n.sort(this.comparer);break;case Xd:n.sort(this.comparer),n.reverse();break;default:Jh.k("Unhandled sorting value "+this.sorting.toString())}for(e=this.Md,t=e.x,e=e.y,i=0;i<n.length;i++){var r=n[i];switch(Rh(this,r,t+r.Oa.x,e+r.Oa.y),this.pd){case py:e+=r.kb.height+this.ng.height;break;case dy:t+=r.kb.width+this.ng.width;break;default:Jh.k("Unhandled arrangement value "+this.pd.toString())}}}},hh.prototype.commitLayout=function(){this.FB(),this.commitNodes(),this.pA(),this.Au&&this.commitLinks()},hh.prototype.commitNodes=function(){for(var t=this.network.vertexes.i;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},hh.prototype.pA=function(){if(this.aB===my){for(var t=this.kC,e=[],n=null,i=this.network.vertexes.i;i.next();){var r=i.value;null===n?n=r.eb.copy():n.Zg(r.eb);var o=e[r.level],o=void 0===o?Bh(r):Math.max(o,Bh(r));e[r.level]=o}for(i=0;i<e.length;i++)void 0===e[i]&&(e[i]=0);90===this.angle||270===this.angle?(n.Zf(this.nodeSpacing/2,this.layerSpacing),r=new w(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.Zf(this.layerSpacing,this.nodeSpacing/2),r=new w(-this.layerSpacing/2,-this.nodeSpacing/2));var o=[],n=90===this.angle||270===this.angle?n.width:n.height,s=0;if(180===this.angle||270===this.angle)for(i=0;i<t.length;i++)s+=t[i]+e[i];for(i=0;i<t.length;i++){var a=t[i]+e[i];270===this.angle?(s-=a,o.push(new C(0,s,n,a))):90===this.angle?(o.push(new C(0,s,n,a)),s+=a):180===this.angle?(s-=a,o.push(new C(s,0,a,n))):(o.push(new C(s,0,a,n)),s+=a)}this.commitLayers(o,r)}},hh.prototype.commitLayers=function(){},hh.prototype.commitLinks=function(){for(var t=this.network.edges.i;t.next();)t.value.commit()},hh.prototype.FB=function(){for(var t=this.yd.i;t.next();){var e=t.value;e instanceof Gh&&Vh(this,e)}},hh.prototype.setPortSpots=function(t){var e=t.alignment;if(mh(e)){var n,i=this.Of===Wd,r=Ih(t);switch(r){case 0:n=yl;break;case 90:n=vl;break;case 180:n=dl;break;default:n=pl}var o=t.children,s=o.length;switch(e){case iy:case ry:for(e=0;e<s;e++){var a=o[e],a=(i?a.nc:a.lc).first();if(null!==a&&null!==(a=a.link)){var u=90===r||270===r?dl:pl;if(1===s||e===s-1&&1==s%2)switch(r){case 0:u=dl;break;case 90:u=pl;break;case 180:u=yl;break;default:u=vl}else 0==e%2&&(u=90===r||270===r?yl:vl);i?(t.setsPortSpot&&(a.Mb=n),t.setsChildPortSpot&&(a.Nb=u)):(t.setsPortSpot&&(a.Mb=u),t.setsChildPortSpot&&(a.Nb=n))}}break;case oy:for(u=90===r||270===r?yl:vl,r=i?t.lc:t.nc;r.next();)null!==(a=r.value.link)&&(i?(t.setsPortSpot&&(a.Mb=n),t.setsChildPortSpot&&(a.Nb=u)):(t.setsPortSpot&&(a.Mb=u),t.setsChildPortSpot&&(a.Nb=n)));break;case sy:for(u=90===r||270===r?dl:pl,r=i?t.lc:t.nc;r.next();)null!==(a=r.value.link)&&(i?(t.setsPortSpot&&(a.Mb=n),t.setsChildPortSpot&&(a.Nb=u)):(t.setsPortSpot&&(a.Mb=u),t.setsChildPortSpot&&(a.Nb=n)))}}else if(i=Ih(t),this.Of===Wd){for(n=t.lc;n.next();)if(null!==(r=n.value.link)){if(t.setsPortSpot)if(t.portSpot.ge())switch(i){case 0:r.Mb=yl;break;case 90:r.Mb=vl;break;case 180:r.Mb=dl;break;default:r.Mb=pl}else r.Mb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.ge())switch(i){case 0:r.Nb=dl;break;case 90:r.Nb=pl;break;case 180:r.Nb=yl;break;default:r.Nb=vl}else r.Nb=t.childPortSpot}}else for(n=t.nc;n.next();)if(null!==(r=n.value.link)){if(t.setsPortSpot)if(t.portSpot.ge())switch(i){case 0:r.Nb=yl;break;case 90:r.Nb=vl;break;case 180:r.Nb=dl;break;default:r.Nb=pl}else r.Nb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.ge())switch(i){case 0:r.Mb=dl;break;case 90:r.Mb=pl;break;case 180:r.Mb=yl;break;default:r.Mb=vl}else r.Mb=t.childPortSpot}},Jh.defineProperty(hh,{OL:"roots"},function(){return this.yd},function(t){this.yd!==t&&(Jh.G(t,p,hh,"roots"),this.yd=t,this.J())}),Jh.defineProperty(hh,{path:"path"},function(){return this.Ts},function(t){this.Ts!==t&&(Jh.ob(t,hh,hh,"path"),this.Ts=t,this.J())}),Jh.defineProperty(hh,{YJ:"treeStyle"},function(){return this.It},function(t){this.pd!==t&&(Jh.ob(t,hh,hh,"treeStyle"),t===hy||t===cy||t===ly||t===fy)&&(this.It=t,this.J())}),Jh.defineProperty(hh,{aB:"layerStyle"},function(){return this.jw},function(t){this.pd!==t&&(Jh.ob(t,hh,hh,"layerStyle"),t===vy||t===gy||t===my)&&(this.jw=t,this.J())}),Jh.defineProperty(hh,{comments:"comments"},function(){return this.Mh},function(t){this.Mh!==t&&(Jh.j(t,"boolean",hh,"comments"),this.Mh=t,this.J())}),Jh.defineProperty(hh,{Vf:"arrangement"},function(){return this.pd},function(t){this.pd!==t&&(Jh.ob(t,hh,hh,"arrangement"),t===py||t===dy||t===yy)&&(this.pd=t,this.J())}),Jh.defineProperty(hh,{FE:"arrangementSpacing"},function(){return this.ng},function(t){Jh.G(t,P,hh,"arrangementSpacing"),this.ng.L(t)||(this.ng.assign(t),this.J())}),Jh.defineProperty(hh,{NL:"rootDefaults"},function(){return this.va},function(t){this.va!==t&&(Jh.G(t,Gh,hh,"rootDefaults"),this.va=t,this.J())}),Jh.defineProperty(hh,{qK:"alternateDefaults"},function(){return this.wa},function(t){this.wa!==t&&(Jh.G(t,Gh,hh,"alternateDefaults"),this.wa=t,this.J())}),Jh.defineProperty(hh,{sorting:"sorting"},function(){return this.va.sorting},function(t){this.va.sorting!==t&&(Jh.ob(t,hh,hh,"sorting"),t===Yd||t===Qd||t===Zd||Xd)&&(this.va.sorting=t,this.J())}),Jh.defineProperty(hh,{comparer:"comparer"},function(){return this.va.comparer},function(t){this.va.comparer!==t&&(Jh.j(t,"function",hh,"comparer"),this.va.comparer=t,this.J())}),Jh.defineProperty(hh,{angle:"angle"},function(){return this.va.angle},function(t){this.va.angle!==t&&(Jh.j(t,"number",hh,"angle"),0===t||90===t||180===t||270===t?(this.va.angle=t,this.J()):Jh.k("TreeLayout.angle must be 0, 90, 180, or 270"))}),Jh.defineProperty(hh,{alignment:"alignment"},function(){return this.va.alignment},function(t){this.va.alignment!==t&&(Jh.ob(t,hh,hh,"alignment"),this.va.alignment=t,this.J())}),Jh.defineProperty(hh,{nodeIndent:"nodeIndent"},function(){return this.va.nodeIndent},function(t){this.va.nodeIndent!==t&&(Jh.j(t,"number",hh,"nodeIndent"),0<=t&&(this.va.nodeIndent=t,this.J()))}),Jh.defineProperty(hh,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.va.nodeIndentPastParent},function(t){this.va.nodeIndentPastParent!==t&&(Jh.j(t,"number",hh,"nodeIndentPastParent"),0<=t&&1>=t&&(this.va.nodeIndentPastParent=t,this.J()))}),Jh.defineProperty(hh,{nodeSpacing:"nodeSpacing"},function(){return this.va.nodeSpacing},function(t){this.va.nodeSpacing!==t&&(Jh.j(t,"number",hh,"nodeSpacing"),this.va.nodeSpacing=t,this.J())}),Jh.defineProperty(hh,{layerSpacing:"layerSpacing"},function(){return this.va.layerSpacing},function(t){this.va.layerSpacing!==t&&(Jh.j(t,"number",hh,"layerSpacing"),this.va.layerSpacing=t,this.J())}),Jh.defineProperty(hh,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.va.layerSpacingParentOverlap},function(t){this.va.layerSpacingParentOverlap!==t&&(Jh.j(t,"number",hh,"layerSpacingParentOverlap"),0<=t&&1>=t&&(this.va.layerSpacingParentOverlap=t,this.J()))}),Jh.defineProperty(hh,{compaction:"compaction"},function(){return this.va.compaction},function(t){this.va.compaction!==t&&(Jh.ob(t,hh,hh,"compaction"),t===ay||t===uy)&&(this.va.compaction=t,this.J())}),Jh.defineProperty(hh,{breadthLimit:"breadthLimit"},function(){return this.va.breadthLimit},function(t){this.va.breadthLimit!==t&&(Jh.j(t,"number",hh,"breadthLimit"),0<=t&&(this.va.breadthLimit=t,this.J()))}),Jh.defineProperty(hh,{rowSpacing:"rowSpacing"},function(){return this.va.rowSpacing},function(t){this.va.rowSpacing!==t&&(Jh.j(t,"number",hh,"rowSpacing"),this.va.rowSpacing=t,this.J())}),Jh.defineProperty(hh,{rowIndent:"rowIndent"},function(){return this.va.rowIndent},function(t){this.va.rowIndent!==t&&(Jh.j(t,"number",hh,"rowIndent"),0<=t&&(this.va.rowIndent=t,this.J()))}),Jh.defineProperty(hh,{commentSpacing:"commentSpacing"},function(){return this.va.commentSpacing},function(t){this.va.commentSpacing!==t&&(Jh.j(t,"number",hh,"commentSpacing"),this.va.commentSpacing=t,this.J())}),Jh.defineProperty(hh,{commentMargin:"commentMargin"},function(){return this.va.commentMargin},function(t){this.va.commentMargin!==t&&(Jh.j(t,"number",hh,"commentMargin"),this.va.commentMargin=t,this.J())}),Jh.defineProperty(hh,{setsPortSpot:"setsPortSpot"},function(){return this.va.setsPortSpot},function(t){this.va.setsPortSpot!==t&&(Jh.j(t,"boolean",hh,"setsPortSpot"),this.va.setsPortSpot=t,this.J())}),Jh.defineProperty(hh,{portSpot:"portSpot"},function(){return this.va.portSpot},function(t){Jh.G(t,E,hh,"portSpot"),this.va.portSpot.L(t)||(this.va.portSpot=t,this.J())}),Jh.defineProperty(hh,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.va.setsChildPortSpot},function(t){this.va.setsChildPortSpot!==t&&(Jh.j(t,"boolean",hh,"setsChildPortSpot"),this.va.setsChildPortSpot=t,this.J())}),Jh.defineProperty(hh,{childPortSpot:"childPortSpot"},function(){return this.va.childPortSpot},function(t){Jh.G(t,E,hh,"childPortSpot"),this.va.childPortSpot.L(t)||(this.va.childPortSpot=t,this.J())}),Jh.defineProperty(hh,{BK:"alternateSorting"},function(){return this.wa.sorting},function(t){this.wa.sorting!==t&&(Jh.ob(t,hh,hh,"alternateSorting"),t===Yd||t===Qd||t===Zd||Xd)&&(this.wa.sorting=t,this.J())}),Jh.defineProperty(hh,{pK:"alternateComparer"},function(){return this.wa.comparer},function(t){this.wa.comparer!==t&&(Jh.j(t,"function",hh,"alternateComparer"),this.wa.comparer=t,this.J())}),Jh.defineProperty(hh,{jK:"alternateAngle"},function(){return this.wa.angle},function(t){this.wa.angle!==t&&(Jh.j(t,"number",hh,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.wa.angle=t,this.J())}),Jh.defineProperty(hh,{iK:"alternateAlignment"},function(){return this.wa.alignment},function(t){this.wa.alignment!==t&&(Jh.ob(t,hh,hh,"alternateAlignment"),this.wa.alignment=t,this.J())}),Jh.defineProperty(hh,{tK:"alternateNodeIndent"},function(){return this.wa.nodeIndent},function(t){this.wa.nodeIndent!==t&&(Jh.j(t,"number",hh,"alternateNodeIndent"),0<=t&&(this.wa.nodeIndent=t,this.J()))}),Jh.defineProperty(hh,{uK:"alternateNodeIndentPastParent"},function(){return this.wa.nodeIndentPastParent},function(t){this.wa.nodeIndentPastParent!==t&&(Jh.j(t,"number",hh,"alternateNodeIndentPastParent"),0<=t&&1>=t&&(this.wa.nodeIndentPastParent=t,this.J()))}),Jh.defineProperty(hh,{vK:"alternateNodeSpacing"},function(){return this.wa.nodeSpacing},function(t){this.wa.nodeSpacing!==t&&(Jh.j(t,"number",hh,"alternateNodeSpacing"),this.wa.nodeSpacing=t,this.J())}),Jh.defineProperty(hh,{rK:"alternateLayerSpacing"},function(){return this.wa.layerSpacing},function(t){this.wa.layerSpacing!==t&&(Jh.j(t,"number",hh,"alternateLayerSpacing"),this.wa.layerSpacing=t,this.J())}),Jh.defineProperty(hh,{sK:"alternateLayerSpacingParentOverlap"},function(){return this.wa.layerSpacingParentOverlap},function(t){this.wa.layerSpacingParentOverlap!==t&&(Jh.j(t,"number",hh,"alternateLayerSpacingParentOverlap"),0<=t&&1>=t&&(this.wa.layerSpacingParentOverlap=t,this.J()))}),Jh.defineProperty(hh,{oK:"alternateCompaction"},function(){return this.wa.compaction},function(t){this.wa.compaction!==t&&(Jh.ob(t,hh,hh,"alternateCompaction"),t===ay||t===uy)&&(this.wa.compaction=t,this.J())}),Jh.defineProperty(hh,{kK:"alternateBreadthLimit"},function(){return this.wa.breadthLimit},function(t){this.wa.breadthLimit!==t&&(Jh.j(t,"number",hh,"alternateBreadthLimit"),0<=t&&(this.wa.breadthLimit=t,this.J()))}),Jh.defineProperty(hh,{yK:"alternateRowSpacing"},function(){return this.wa.rowSpacing},function(t){this.wa.rowSpacing!==t&&(Jh.j(t,"number",hh,"alternateRowSpacing"),this.wa.rowSpacing=t,this.J())}),Jh.defineProperty(hh,{xK:"alternateRowIndent"},function(){return this.wa.rowIndent},function(t){this.wa.rowIndent!==t&&(Jh.j(t,"number",hh,"alternateRowIndent"),0<=t&&(this.wa.rowIndent=t,this.J()))}),Jh.defineProperty(hh,{nK:"alternateCommentSpacing"},function(){return this.wa.commentSpacing},function(t){this.wa.commentSpacing!==t&&(Jh.j(t,"number",hh,"alternateCommentSpacing"),this.wa.commentSpacing=t,this.J())}),Jh.defineProperty(hh,{mK:"alternateCommentMargin"},function(){return this.wa.commentMargin},function(t){this.wa.commentMargin!==t&&(Jh.j(t,"number",hh,"alternateCommentMargin"),this.wa.commentMargin=t,this.J())}),Jh.defineProperty(hh,{AK:"alternateSetsPortSpot"},function(){return this.wa.setsPortSpot},function(t){this.wa.setsPortSpot!==t&&(Jh.j(t,"boolean",hh,"alternateSetsPortSpot"),this.wa.setsPortSpot=t,this.J())}),Jh.defineProperty(hh,{wK:"alternatePortSpot"},function(){return this.wa.portSpot},function(t){Jh.G(t,E,hh,"alternatePortSpot"),this.wa.portSpot.L(t)||(this.wa.portSpot=t,this.J())}),Jh.defineProperty(hh,{zK:"alternateSetsChildPortSpot"},function(){return this.wa.setsChildPortSpot},function(t){this.wa.setsChildPortSpot!==t&&(Jh.j(t,"boolean",hh,"alternateSetsChildPortSpot"),this.wa.setsChildPortSpot=t,this.J())}),Jh.defineProperty(hh,{lK:"alternateChildPortSpot"},function(){return this.wa.childPortSpot},function(t){Jh.G(t,E,hh,"alternateChildPortSpot"),this.wa.childPortSpot.L(t)||(this.wa.childPortSpot=t,this.J())});var Kd;hh.PathDefault=Kd=Jh.p(hh,"PathDefault",-1);var Wd;hh.PathDestination=Wd=Jh.p(hh,"PathDestination",0);var Jd;hh.PathSource=Jd=Jh.p(hh,"PathSource",1);var Yd;hh.SortingForwards=Yd=Jh.p(hh,"SortingForwards",10);var Qd;hh.SortingReverse=Qd=Jh.p(hh,"SortingReverse",11);var Zd;hh.SortingAscending=Zd=Jh.p(hh,"SortingAscending",12);var Xd;hh.SortingDescending=Xd=Jh.p(hh,"SortingDescending",13);var $d;hh.AlignmentCenterSubtrees=$d=Jh.p(hh,"AlignmentCenterSubtrees",20);var ty;hh.AlignmentCenterChildren=ty=Jh.p(hh,"AlignmentCenterChildren",21);var ey;hh.AlignmentStart=ey=Jh.p(hh,"AlignmentStart",22);var ny;hh.AlignmentEnd=ny=Jh.p(hh,"AlignmentEnd",23);var iy;hh.AlignmentBus=iy=Jh.p(hh,"AlignmentBus",24);var ry;hh.AlignmentBusBranching=ry=Jh.p(hh,"AlignmentBusBranching",25);var oy;hh.AlignmentTopLeftBus=oy=Jh.p(hh,"AlignmentTopLeftBus",26);var sy;hh.AlignmentBottomRightBus=sy=Jh.p(hh,"AlignmentBottomRightBus",27);var ay;hh.CompactionNone=ay=Jh.p(hh,"CompactionNone",30);var uy;hh.CompactionBlock=uy=Jh.p(hh,"CompactionBlock",31);var hy;hh.StyleLayered=hy=Jh.p(hh,"StyleLayered",40);var ly;hh.StyleLastParents=ly=Jh.p(hh,"StyleLastParents",41);var cy;hh.StyleAlternating=cy=Jh.p(hh,"StyleAlternating",42);var fy;hh.StyleRootOnly=fy=Jh.p(hh,"StyleRootOnly",43);var py;hh.ArrangementVertical=py=Jh.p(hh,"ArrangementVertical",50);var dy;hh.ArrangementHorizontal=dy=Jh.p(hh,"ArrangementHorizontal",51);var yy;hh.ArrangementFixedRoots=yy=Jh.p(hh,"ArrangementFixedRoots",52);var vy;hh.LayerIndividual=vy=Jh.p(hh,"LayerIndividual",60);var gy;hh.LayerSiblings=gy=Jh.p(hh,"LayerSiblings",61);var my;hh.LayerUniform=my=Jh.p(hh,"LayerUniform",62),Jh.La(zh,Ia),Jh.ga("TreeNetwork",zh),zh.prototype.createVertex=function(){return new Gh},zh.prototype.createEdge=function(){return new Hh},Jh.La(Gh,Ha),Jh.ga("TreeVertex",Gh),Gh.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},Jh.u(Gh,{sn:"childrenCount"},function(){return this.children.length}),Jh.defineProperty(Gh,{ML:"relativePosition"},function(){return this.pa},function(t){this.pa.set(t)}),Jh.defineProperty(Gh,{YL:"subtreeSize"},function(){return this.kb},function(t){this.kb.set(t)}),Jh.defineProperty(Gh,{XL:"subtreeOffset"},function(){return this.Oa},function(t){this.Oa.set(t)}),Jh.La(Hh,Ua),Jh.ga("TreeEdge",Hh),Hh.prototype.commit=function(){var t=this.link;if(null!==t&&!t.fm){var e=this.network.Ub,n=null,i=null;switch(e.Of){case Wd:n=this.fromVertex,i=this.toVertex;break;case Jd:n=this.toVertex,i=this.fromVertex;break;default:Jh.k("Unhandled path value "+e.Of.toString())}if(null!==n&&null!==i)if(e=this.$s,0!==e.x||0!==e.y||n.AJ){var i=n.eb,r=Ih(n),o=Bh(n),s=n.rowSpacing;t.jo();var a,u,h=t.nf===Up,l=t.ac,c=0;if(t.qm(),l||h){for(c=2;4<t.qa;)t.eG(2);a=t.l(1),u=t.l(2)}else{for(c=1;3<t.qa;)t.eG(1);a=t.l(0),u=t.l(t.qa-1)}var f=t.l(t.qa-1),p=0;0===r?(n.alignment===ny?(p=i.bottom+e.y,0===e.y&&a.y>f.y+n.rowIndent&&(p=Math.min(p,Math.max(a.y,p-qh(n))))):n.alignment===ey?(p=i.top+e.y,0===e.y&&a.y<f.y-n.rowIndent&&(p=Math.max(p,Math.min(a.y,p+qh(n))))):p=n.Bq||n.Cq&&1===n.maxGenerationCount?i.top-n.Oa.y+e.y:i.y+i.height/2+e.y,h?(t.w(c,a.x,p),c++,t.w(c,i.right+o,p),c++,t.w(c,i.right+o+(e.x-s)/3,p),c++,t.w(c,i.right+o+2*(e.x-s)/3,p),c++,t.w(c,i.right+o+(e.x-s),p),c++,t.w(c,u.x,p)):(l&&(t.w(c,i.right+o/2,a.y),c++),t.w(c,i.right+o/2,p),c++,t.w(c,i.right+o+e.x-(l?s/2:s),p),c++,l&&t.w(c,t.l(c-1).x,u.y))):90===r?(n.alignment===ny?(p=i.right+e.x,0===e.x&&a.x>f.x+n.rowIndent&&(p=Math.min(p,Math.max(a.x,p-qh(n))))):n.alignment===ey?(p=i.left+e.x,0===e.x&&a.x<f.x-n.rowIndent&&(p=Math.max(p,Math.min(a.x,p+qh(n))))):p=n.Bq||n.Cq&&1===n.maxGenerationCount?i.left-n.Oa.x+e.x:i.x+i.width/2+e.x,h?(t.w(c,p,a.y),c++,t.w(c,p,i.bottom+o),c++,t.w(c,p,i.bottom+o+(e.y-s)/3),c++,t.w(c,p,i.bottom+o+2*(e.y-s)/3),c++,t.w(c,p,i.bottom+o+(e.y-s)),c++,t.w(c,p,u.y)):(l&&(t.w(c,a.x,i.bottom+o/2),c++),t.w(c,p,i.bottom+o/2),c++,t.w(c,p,i.bottom+o+e.y-(l?s/2:s)),c++,l&&t.w(c,u.x,t.l(c-1).y))):180===r?(n.alignment===ny?(p=i.bottom+e.y,0===e.y&&a.y>f.y+n.rowIndent&&(p=Math.min(p,Math.max(a.y,p-qh(n))))):n.alignment===ey?(p=i.top+e.y,0===e.y&&a.y<f.y-n.rowIndent&&(p=Math.max(p,Math.min(a.y,p+qh(n))))):p=n.Bq||n.Cq&&1===n.maxGenerationCount?i.top-n.Oa.y+e.y:i.y+i.height/2+e.y,h?(t.w(c,a.x,p),c++,t.w(c,i.left-o,p),c++,t.w(c,i.left-o+(e.x+s)/3,p),c++,t.w(c,i.left-o+2*(e.x+s)/3,p),c++,t.w(c,i.left-o+(e.x+s),p),c++,t.w(c,u.x,p)):(l&&(t.w(c,i.left-o/2,a.y),c++),t.w(c,i.left-o/2,p),c++,t.w(c,i.left-o+e.x+(l?s/2:s),p),c++,l&&t.w(c,t.l(c-1).x,u.y))):270===r?(n.alignment===ny?(p=i.right+e.x,0===e.x&&a.x>f.x+n.rowIndent&&(p=Math.min(p,Math.max(a.x,p-qh(n))))):n.alignment===ey?(p=i.left+e.x,0===e.x&&a.x<f.x-n.rowIndent&&(p=Math.max(p,Math.min(a.x,p+qh(n))))):p=n.Bq||n.Cq&&1===n.maxGenerationCount?i.left-n.Oa.x+e.x:i.x+i.width/2+e.x,h?(t.w(c,p,a.y),c++,t.w(c,p,i.top-o),c++,t.w(c,p,i.top-o+(e.y+s)/3),c++,t.w(c,p,i.top-o+2*(e.y+s)/3),c++,t.w(c,p,i.top-o+(e.y+s)),c++,t.w(c,p,u.y)):(l&&(t.w(c,a.x,i.top-o/2),c++),t.w(c,p,i.top-o/2),c++,t.w(c,p,i.top-o+e.y+(l?s/2:s)),c++,l&&t.w(c,u.x,t.l(c-1).y))):Jh.k("Invalid angle "+r),t.qj()}else r=n,o=i,t=this.link,(n=Ih(r))!==Ih(o)&&(e=Bh(r),i=r.eb,r=o.eb,0===n&&r.left-i.right<e+1||90===n&&r.top-i.bottom<e+1||180===n&&i.left-r.right<e+1||270===n&&i.top-r.bottom<e+1||(t.jo(),r=t.nf===Up,o=t.ac,s=mh(this.fromVertex.alignment),t.qm(),0===n?(n=i.right+e/2,r?4===t.qa&&(e=t.l(3).y,t.ca(1,n-20,t.l(1).y),t.w(2,n-20,e),t.w(3,n,e),t.w(4,n+20,e),t.ca(5,t.l(5).x,e)):o?s?t.ca(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ca(2,n,t.l(2).y),t.ca(3,n,t.l(3).y)):4===t.qa?t.w(2,n,t.l(2).y):3===t.qa?t.ca(1,n,t.l(2).y):2===t.qa&&t.w(1,n,t.l(1).y)):90===n?(e=i.bottom+e/2,r?4===t.qa&&(n=t.l(3).x,t.ca(1,t.l(1).x,e-20),t.w(2,n,e-20),t.w(3,n,e),t.w(4,n,e+20),t.ca(5,n,t.l(5).y)):o?s?t.ca(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ca(2,t.l(2).x,e),t.ca(3,t.l(3).x,e)):4===t.qa?t.w(2,t.l(2).x,e):3===t.qa?t.ca(1,t.l(2).x,e):2===t.qa&&t.w(1,t.l(1).x,e)):180===n?(n=i.left-e/2,r?4===t.qa&&(e=t.l(3).y,t.ca(1,n+20,t.l(1).y),t.w(2,n+20,e),t.w(3,n,e),t.w(4,n-20,e),t.ca(5,t.l(5).x,e)):o?s?t.ca(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ca(2,n,t.l(2).y),t.ca(3,n,t.l(3).y)):4===t.qa?t.w(2,n,t.l(2).y):3===t.qa?t.ca(1,n,t.l(2).y):2===t.qa&&t.w(1,n,t.l(1).y)):270===n&&(e=i.top-e/2,r?4===t.qa&&(n=t.l(3).x,t.ca(1,t.l(1).x,e+20),t.w(2,n,e+20),t.w(3,n,e),t.w(4,n,e-20),t.ca(5,n,t.l(5).y)):o?s?t.ca(3,t.l(2).x,t.l(4).y):6===t.qa&&(t.ca(2,t.l(2).x,e),t.ca(3,t.l(3).x,e)):4===t.qa?t.w(2,t.l(2).x,e):3===t.qa?t.ca(1,t.l(2).x,e):2===t.qa&&t.w(1,t.l(1).x,e)),t.qj()))}},Jh.defineProperty(Hh,{LL:"relativePoint"},function(){return this.$s},function(t){this.$s.set(t)}),Jh.La(Uh,Tr),Uh.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.element=this.Ve.cloneNode(!0)},Uh.prototype.toString=function(){return"HTMLHost("+this.Ve.toString()+")#"+Jh.Pd(this)},Uh.prototype.Ik=function(t,e){var n=this.Ve;if(null!==n){var i=this.Ya(ul);i.x-=this.U.width/2,i.y-=this.U.height/2,i.x-=this.U.x,i.y-=this.U.y;var i=e.Dy(i),r=e.tj;null===r||r.contains(n)||r.appendChild(n),r=this.transform,n.style.transform="matrix("+r.m11+","+r.m12+","+r.m21+","+r.m22+","+r.dx+","+r.dy+")",n.style.transformOrigin="0 0",r=i.y,n.style.left=i.x+"px",n.style.top=r+"px"}},Uh.prototype.Qn=function(t,e,n,i){var r=this.Da;isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height);var r=this.Hf,o=this.si;n=Math.max(n,o.width),i=Math.max(i,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(n,t),e=Math.max(i,e),n=this.Ve,null!==n&&(e=n.getBoundingClientRect(),t=e.width,e=e.height),S(this.Nc,t,e),Ar(this,0,0,t,e)},Uh.prototype.pj=function(t,e,n,i){Er(this,t,e,n,i)},Jh.u(Uh,{Ja:"naturalBounds"},function(){return this.Nc}),Jh.defineProperty(Uh,{element:"element"},function(){return this.Ve},function(t){var e=this.Ve;e!==t&&(t instanceof HTMLElement||Jh.k("HTMLHost.element must be an instance of Element."),this.Ve=t,t.className="HTMLHost",this.h("element",e,t),this.oa())}),Wh.version="1.8.36",e&&(e.module&&"object"==typeof e.module&&"object"==typeof e.module.exports?e.module.exports=Wh:e.define&&"function"==typeof e.define&&e.define.amd?(e.go=Wh,e.define(Wh)):e.go=Wh),void 0!==t&&"object"==typeof t.exports&&(t.exports=Wh)}(window)},a3e3:function(t,e,n){"use strict";var i=n("bKpL"),r=(n.n(i),n("/oeL"));n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(){function t(){}return t}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTranslation=function(t){return i.Observable.of({})},e}(s);a.decorators=[{type:r.O}],a.ctorParameters=function(){return[]}},aOKN:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return i(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,i=t.subscriber;if(e)return void i.complete();i.next(n),i.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(r.Observable);e.ScalarObservable=o},ansA:function(t,e,n){"use strict";function i(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,o,s=typeof t,a=typeof e;if(s==a&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;o=Object.create(null);for(r in t){if(!i(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!(r in o)&&void 0!==e[r])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!i(t[r],e[r]))return!1;return!0}}return!1}function r(t){return void 0!==t&&null!==t}e.b=i,e.a=r},bKpL:function(t,e,n){"use strict";var i=n("zijX"),r=n("rf3q"),o=n("DP67"),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,o=r.toSubscriber(t,e,n);if(i?i.call(o,this.source):o.add(this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var r;r=n.subscribe(function(e){if(r)try{t(e)}catch(t){i(t),r.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},becc:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},bm2B:function(t,e,n){"use strict";function i(t){return null==t||0===t.length}function r(t){return null!=t}function o(t){var e=n.i(E._3)(t)?n.i(D.fromPromise)(t):t;if(!n.i(E._4)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function s(t,e){return e.map(function(e){return e(t)})}function a(t,e){return e.map(function(e){return e(t)})}function u(t){var e=t.reduce(function(t,e){return null!=e?q({},t,e):t},{});return 0===Object.keys(e).length?null:e}function h(){return/android (\d+)/.test((n.i(R.u)()?n.i(R.u)().getUserAgent():"").toLowerCase())}function l(t){return t.validate?function(e){return t.validate(e)}:t}function c(t){return t.validate?function(e){return t.validate(e)}:t}function f(){throw new Error("unimplemented")}function p(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function d(t){return t.split(":")[0]}function y(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function v(t){return t.split(":")[0]}function g(t,e){return e.path.concat([t])}function m(t,e){t||k(e,"Cannot find control with"),e.valueAccessor||k(e,"No value accessor for form control with"),t.validator=U.compose([t.validator,e.validator]),t.asyncValidator=U.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function b(t,e){e.valueAccessor.registerOnChange(function(){return x(e)}),e.valueAccessor.registerOnTouched(function(){return x(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}function w(t,e){null==t&&k(e,"Cannot find control with"),t.validator=U.compose([t.validator,e.validator]),t.asyncValidator=U.composeAsync([t.asyncValidator,e.asyncValidator])}function x(t){return k(t,"There is no FormControl instance attached to form control element with")}function k(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function P(t){return null!=t?U.compose(t.map(l)):null}function C(t){return null!=t?U.composeAsync(t.map(c)):null}function S(t,e){if(!t.hasOwnProperty("model"))return!1;var i=t.model;return!!i.isFirstChange()||!n.i(E._20)(e,i.currentValue)}function T(t){return ft.some(function(e){return t.constructor===e})}function M(t,e){if(!e)return null;var n=void 0,i=void 0,r=void 0;return e.forEach(function(e){e.constructor===Z?n=e:T(e)?(i&&k(t,"More than one built-in value accessor matches form control with"),i=e):(r&&k(t,"More than one custom value accessor matches form control with"),r=e)}),r||(i||(n||(k(t,"No valid value accessor for form control with"),null)))}function _(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof wt?t.controls[e]||null:t instanceof xt?t.at(e)||null:null},t))}function N(t){return Array.isArray(t)?P(t):t||null}function A(t){return Array.isArray(t)?C(t):t||null}function O(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function j(t){return!(t instanceof Vt||t instanceof Ft||t instanceof Bt)}var E=n("/oeL"),L=n("Fhmd"),D=(n.n(L),n("QU9E")),F=(n.n(D),n("lx+J")),R=(n.n(F),n("fc+i"));n.d(e,"h",function(){return K}),n.d(e,"g",function(){return Q}),n.d(e,"f",function(){return Z}),n.d(e,"j",function(){return tt}),n.d(e,"k",function(){return vt}),n.d(e,"i",function(){return Ot}),n.d(e,"n",function(){return it}),n.d(e,"d",function(){return ut}),n.d(e,"l",function(){return Xt}),n.d(e,"m",function(){return z}),n.d(e,"c",function(){return ae}),n.d(e,"b",function(){return se}),n.d(e,"a",function(){return nt}),n.d(e,"e",function(){return ct});var V=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},I=function(){function t(){}return t.prototype.control=function(){},Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(I),q=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},z=new E.M("NgValidators"),G=new E.M("NgAsyncValidators"),H=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,U=function(){function t(){}return t.required=function(t){return i(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return H.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(i(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,r;return"string"==typeof e?(r="^"+e+"$",n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(i(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(r);return 0==e.length?null:function(t){return u(s(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(r);return 0==e.length?null:function(t){var i=a(t,e).map(o);return F.map.call(n.i(L.forkJoin)(i),u)}},t}(),K=new E.M("NgValueAccessor"),W={provide:K,useExisting:n.i(E._18)(function(){return J}),multi:!0},J=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t}();J.decorators=[{type:E.T,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[W]}]}],J.ctorParameters=function(){return[{type:E.V},{type:E.U}]};var Y={provide:K,useExisting:n.i(E._18)(function(){return Z}),multi:!0},Q=new E.M("CompositionEventMode"),Z=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!h())}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();Z.decorators=[{type:E.T,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[Y]}]}],Z.ctorParameters=function(){return[{type:E.V},{type:E.U},{type:void 0,decorators:[{type:E.P},{type:E.Q,args:[Q]}]}]};var X={provide:K,useExisting:n.i(E._18)(function(){return $}),multi:!0},$=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t}();$.decorators=[{type:E.T,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[X]}]}],$.ctorParameters=function(){return[{type:E.V},{type:E.U}]};var tt=function(t){function e(){var e=t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return V(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return f()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return f()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(I),et={provide:K,useExisting:n.i(E._18)(function(){return it}),multi:!0},nt=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}();nt.decorators=[{type:E.O}],nt.ctorParameters=function(){return[]};var it=function(){function t(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(tt),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}();it.decorators=[{type:E.T,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[et]}]}],it.ctorParameters=function(){return[{type:E.V},{type:E.U},{type:nt},{type:E._19}]},it.propDecorators={name:[{type:E.W}],formControlName:[{type:E.W}],value:[{type:E.W}]};var rt={provide:K,useExisting:n.i(E._18)(function(){return ot}),multi:!0},ot=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t}();ot.decorators=[{type:E.T,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[rt]}]}],ot.ctorParameters=function(){return[{type:E.V},{type:E.U}]};var st={provide:K,useExisting:n.i(E._18)(function(){return at}),multi:!0},at=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=E._20}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setElementProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=p(e,t);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=n,t(e._getOptionValue(n))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null},t.prototype._getOptionValue=function(t){var e=d(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}();at.decorators=[{type:E.T,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[st]}]}],at.ctorParameters=function(){return[{type:E.V},{type:E.U}]},at.propDecorators={compareWith:[{type:E.W}]};var ut=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(p(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();ut.decorators=[{type:E.T,args:[{selector:"option"}]}],ut.ctorParameters=function(){return[{type:E.U},{type:E.V},{type:at,decorators:[{type:E.P},{type:E._0}]}]},ut.propDecorators={ngValue:[{type:E.W,args:["ngValue"]}],value:[{type:E.W,args:["value"]}]};var ht={provide:K,useExisting:n.i(E._18)(function(){return lt}),multi:!0},lt=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=E._20}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var i=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=e._getOptionValue(s.value);i.push(a)}else for(var r=n.options,o=0;o<r.length;o++){var s=r.item(o);if(s.selected){var a=e._getOptionValue(s.value);i.push(a)}}e.value=i,t(i)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null},t.prototype._getOptionValue=function(t){var e=v(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}();lt.decorators=[{type:E.T,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ht]}]}],lt.ctorParameters=function(){return[{type:E.V},{type:E.U}]},lt.propDecorators={compareWith:[{type:E.W}]};var ct=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(y(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(y(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setElementProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();ct.decorators=[{type:E.T,args:[{selector:"option"}]}],ct.ctorParameters=function(){return[{type:E.U},{type:E.V},{type:lt,decorators:[{type:E.P},{type:E._0}]}]},ct.propDecorators={ngValue:[{type:E.W,args:["ngValue"]}],value:[{type:E.W,args:["value"]}]};var ft=[J,ot,$,at,lt,it],pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return g(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return P(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return C(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(B),dt=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),yt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},vt=function(t){function e(e){return t.call(this,e)||this}return V(e,t),e}(dt);vt.decorators=[{type:E.T,args:[{selector:"[formControlName],[ngModel],[formControl]",host:yt}]}],vt.ctorParameters=function(){return[{type:tt,decorators:[{type:E._21}]}]};var gt=function(t){function e(e){return t.call(this,e)||this}return V(e,t),e}(dt);gt.decorators=[{type:E.T,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:yt}]}],gt.ctorParameters=function(){return[{type:B,decorators:[{type:E._21}]}]};var mt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=N(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=A(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!0,this._parent&&!e&&this._parent.markAsTouched({onlySelf:e})},t.prototype.markAsUntouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!1,this._parent&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;this._status="PENDING",this._parent&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.disable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,i=e.emitEvent;this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==i&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(!!n),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,i=e.emitEvent;this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i}),this._updateAncestors(!!n),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,i=e.emitEvent;this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(i)),!1!==i&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:i})},t.prototype._updateTreeValidity=function(t){var e=(void 0===t?{emitEvent:!0}:t).emitEvent;this._forEachChild(function(t){return t._updateTreeValidity({emitEvent:e})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING";var n=o(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;this._errors=t,this._updateControlsErrors(!1!==n)},t.prototype.get=function(t){return _(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new E.N,this._statusChanges=new E.N},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!this._anyControlsDirty(),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype._updateTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=this._anyControlsTouched(),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),bt=function(t){function e(e,n,i){void 0===e&&(e=null);var r=t.call(this,N(n),A(i))||this;return r._onChange=[],r._applyFormState(e),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return V(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._value=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n._value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this._value,e)},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(mt),wt=function(t){function e(e,n,i){var r=t.call(this,n||null,i||null)||this;return r.controls=e,r._initObservables(),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return V(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){n._throwIfControlMissing(i),n.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(i){n.controls[i]&&n.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof bt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(i,r){n=n||e.contains(r)&&t(i)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(mt),xt=function(t){function e(e,n,i){var r=t.call(this,n||null,i||null)||this;return r.controls=e,r._initObservables(),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return V(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,i){n._throwIfControlMissing(i),n.at(i).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,i){n.at(i)&&n.at(i).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof bt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(mt),kt={provide:B,useExisting:n.i(E._18)(function(){return Ct})},Pt=Promise.resolve(null),Ct=function(t){function e(e,n){var i=t.call(this)||this;return i._submitted=!1,i.ngSubmit=new E.N,i.form=new wt({},P(e),C(n)),i}return V(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),m(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path),i=new wt({});w(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Pt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Pt.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(B);Ct.decorators=[{type:E.T,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[kt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Ct.ctorParameters=function(){return[{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]}]};var St={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},Tt=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+St.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+St.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+St.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+St.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+St.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+St.ngModelGroup)},t}(),Mt={provide:B,useExisting:n.i(E._18)(function(){return _t})},_t=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return V(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Ct||Tt.modelGroupParentException()},e}(pt);_t.decorators=[{type:E.T,args:[{selector:"[ngModelGroup]",providers:[Mt],exportAs:"ngModelGroup"}]}],_t.ctorParameters=function(){return[{type:B,decorators:[{type:E._0},{type:E._22}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]}]},_t.propDecorators={name:[{type:E.W,args:["ngModelGroup"]}]};var Nt={provide:tt,useExisting:n.i(E._18)(function(){return Ot})},At=Promise.resolve(null),Ot=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._control=new bt,o._registered=!1,o.update=new E.N,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=M(o,r),o}return V(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),S(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?g(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return P(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return C(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){m(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof _t)&&this._parent instanceof pt?Tt.formGroupNameException():this._parent instanceof _t||this._parent instanceof Ct||Tt.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Tt.missingNameException()},e.prototype._updateValue=function(t){var e=this;At.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;At.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})},e}(tt);Ot.decorators=[{type:E.T,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Nt],exportAs:"ngModel"}]}],Ot.ctorParameters=function(){return[{type:B,decorators:[{type:E.P},{type:E._0}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[K]}]}]},Ot.propDecorators={name:[{type:E.W}],isDisabled:[{type:E.W,args:["disabled"]}],model:[{type:E.W,args:["ngModel"]}],options:[{type:E.W,args:["ngModelOptions"]}],update:[{type:E._23,args:["ngModelChange"]}]};var jt=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+St.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+St.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+St.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+St.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+St.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+St.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),Et={provide:tt,useExisting:n.i(E._18)(function(){return Lt})},Lt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.update=new E.N,r._rawValidators=e||[],r._rawAsyncValidators=n||[],r.valueAccessor=M(r,i),r}return V(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){jt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(m(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),S(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return P(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return C(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}(tt);Lt.decorators=[{type:E.T,args:[{selector:"[formControl]",providers:[Et],exportAs:"ngForm"}]}],Lt.ctorParameters=function(){return[{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[K]}]}]},Lt.propDecorators={form:[{type:E.W,args:["formControl"]}],model:[{type:E.W,args:["ngModel"]}],update:[{type:E._23,args:["ngModelChange"]}],isDisabled:[{type:E.W,args:["disabled"]}]};var Dt={provide:B,useExisting:n.i(E._18)(function(){return Ft})},Ft=function(t){function e(e,n){var i=t.call(this)||this;return i._validators=e,i._asyncValidators=n,i._submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new E.N,i}return V(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return m(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){O(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);w(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);w(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e._control!==n&&(b(e._control,e),n&&m(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=P(this._validators);this.form.validator=U.compose([this.form.validator,t]);var e=C(this._asyncValidators);this.form.asyncValidator=U.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||jt.missingFormException()},e}(B);Ft.decorators=[{type:E.T,args:[{selector:"[formGroup]",providers:[Dt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Ft.ctorParameters=function(){return[{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]}]},Ft.propDecorators={form:[{type:E.W,args:["formGroup"]}],ngSubmit:[{type:E._23}]};var Rt={provide:B,useExisting:n.i(E._18)(function(){return Vt})},Vt=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return V(e,t),e.prototype._checkParentType=function(){j(this._parent)&&jt.groupParentException()},e}(pt);Vt.decorators=[{type:E.T,args:[{selector:"[formGroupName]",providers:[Rt]}]}],Vt.ctorParameters=function(){return[{type:B,decorators:[{type:E.P},{type:E._0},{type:E._22}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]}]},Vt.propDecorators={name:[{type:E.W,args:["formGroupName"]}]};var It={provide:B,useExisting:n.i(E._18)(function(){return Bt})},Bt=function(t){function e(e,n,i){var r=t.call(this)||this;return r._parent=e,r._validators=n,r._asyncValidators=i,r}return V(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return g(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return P(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return C(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){j(this._parent)&&jt.arrayParentException()},e}(B);Bt.decorators=[{type:E.T,args:[{selector:"[formArrayName]",providers:[It]}]}],Bt.ctorParameters=function(){return[{type:B,decorators:[{type:E.P},{type:E._0},{type:E._22}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]}]},Bt.propDecorators={name:[{type:E.W,args:["formArrayName"]}]};var qt={provide:tt,useExisting:n.i(E._18)(function(){return zt})},zt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._added=!1,o.update=new E.N,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=M(o,r),o}return V(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){jt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),S(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return g(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return P(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return C(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Vt)&&this._parent instanceof pt?jt.ngModelGroupException():this._parent instanceof Vt||this._parent instanceof Ft||this._parent instanceof Bt||jt.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}(tt);zt.decorators=[{type:E.T,args:[{selector:"[formControlName]",providers:[qt]}]}],zt.ctorParameters=function(){return[{type:B,decorators:[{type:E.P},{type:E._0},{type:E._22}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[z]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[G]}]},{type:Array,decorators:[{type:E.P},{type:E._21},{type:E.Q,args:[K]}]}]},zt.propDecorators={name:[{type:E.W,args:["formControlName"]}],model:[{type:E.W,args:["ngModel"]}],update:[{type:E._23,args:["ngModelChange"]}],isDisabled:[{type:E.W,args:["disabled"]}]};var Gt={provide:z,useExisting:n.i(E._18)(function(){return Ut}),multi:!0},Ht={provide:z,useExisting:n.i(E._18)(function(){return Kt}),multi:!0},Ut=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?U.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Ut.decorators=[{type:E.T,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Gt],host:{"[attr.required]":'required ? "" : null'}}]}],Ut.ctorParameters=function(){return[]},Ut.propDecorators={required:[{type:E.W}]};var Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.validate=function(t){return this.required?U.requiredTrue(t):null},e}(Ut);Kt.decorators=[{type:E.T,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[Ht],host:{"[attr.required]":'required ? "" : null'}}]}],Kt.ctorParameters=function(){return[]};var Wt={provide:z,useExisting:n.i(E._18)(function(){return Jt}),multi:!0},Jt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?U.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Jt.decorators=[{type:E.T,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[Wt]}]}],Jt.ctorParameters=function(){return[]},Jt.propDecorators={email:[{type:E.W}]};var Yt={provide:z,useExisting:n.i(E._18)(function(){return Qt}),multi:!0},Qt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=U.minLength(parseInt(this.minlength,10))},t}();Qt.decorators=[{type:E.T,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[Yt],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],Qt.ctorParameters=function(){return[]},Qt.propDecorators={minlength:[{type:E.W}]};var Zt={provide:z,useExisting:n.i(E._18)(function(){return Xt}),multi:!0},Xt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=U.maxLength(parseInt(this.maxlength,10))},t}();Xt.decorators=[{type:E.T,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Zt],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],Xt.ctorParameters=function(){return[]},Xt.propDecorators={maxlength:[{type:E.W}]};var $t={provide:z,useExisting:n.i(E._18)(function(){return te}),multi:!0},te=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=U.pattern(this.pattern)},t}();te.decorators=[{type:E.T,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[$t],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],te.ctorParameters=function(){return[]},te.propDecorators={pattern:[{type:E.W}]};var ee=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),i=null!=e?e.validator:null,r=null!=e?e.asyncValidator:null;return new wt(n,i,r)},t.prototype.control=function(t,e,n){return new bt(t,e,n)},t.prototype.array=function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new xt(r,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n},t.prototype._createControl=function(t){if(t instanceof bt||t instanceof wt||t instanceof xt)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(e,n,i)}return this.control(t)},t}();ee.decorators=[{type:E.O}],ee.ctorParameters=function(){return[]};var ne=(new E._8("4.1.3"),function(){function t(){}return t}());ne.decorators=[{type:E.T,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],ne.ctorParameters=function(){return[]};var ie=[ne,ut,ct,Z,$,ot,J,at,lt,it,vt,gt,Ut,Qt,Xt,te,Kt,Jt],re=[Ot,_t,Ct],oe=[Lt,Ft,zt,Vt,Bt],se=function(){function t(){}return t}();se.decorators=[{type:E._7,args:[{declarations:ie,exports:ie}]}],se.ctorParameters=function(){return[]};var ae=function(){function t(){}return t}();ae.decorators=[{type:E._7,args:[{declarations:re,providers:[nt],exports:[se,re]}]}],ae.ctorParameters=function(){return[]};var ue=function(){function t(){}return t}();ue.decorators=[{type:E._7,args:[{declarations:[oe],providers:[ee,nt],exports:[se,oe]}]}],ue.ctorParameters=function(){return[]}},cPhF:function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("ktfo"),s=n("yW9Z");e.mergeMap=i;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var u=function(t){function e(e,n,i,r){void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=i,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){this.resultSelector?this._notifyResultSelector(t,e,n,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,i){var r;try{r=this.resultSelector(t,e,n,i)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u},dkwD:function(t,e,n){"use strict";var i=n("zijX"),r=i.root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},f9zQ:function(t,e,n){"use strict";function i(t,e){var n,i=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r=0,o=null;if("string"==typeof t){var s=t.match(i);if(null===s)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:null};var a=parseFloat(s[1]);"s"==s[2]&&(a*=B),n=Math.floor(a);var u=s[3],h=s[4];if(null!=u){var l=parseFloat(u);null!=h&&"s"==h&&(l*=B),r=Math.floor(l)}var c=s[5];c&&(o=c)}else n=t;return{duration:n,delay:r,easing:o}}function r(t){var e={};return Array.isArray(t)?t.forEach(function(t){return o(t,!1,e)}):o(t,!1,e),e}function o(t,e,n){if(void 0===n&&(n={}),e)for(var i in t)n[i]=t[i];else Object.keys(t).forEach(function(e){return n[e]=t[e]});return n}function s(t,e){t.style&&Object.keys(e).forEach(function(n){return t.style[n]=e[n]})}function a(t,e){t.style&&Object.keys(e).forEach(function(e){t.style[e]=""})}function u(t,e,n){switch(e.type){case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframeSequence(e,n);case 6:return t.visitStyle(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function h(t,e){var n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(t){return l(t,n,e)}):n.push(t),n}function l(t,e,n){":"==t[0]&&(t=c(t,n));var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var r=i[1],o=i[2],s=i[3];e.push(f(r,s));var a=r==q&&s==q;"<"!=o[0]||a||e.push(f(s,r))}function c(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}function f(t,e){return function(n,i){var r=t==q||t==n,o=e==q||e==i;return r&&o}}function p(t,e,n,i){return{type:1,keyframes:t,duration:e,delay:n,totalTime:e+n,easing:i}}function d(t,e,i){void 0===e&&(e={}),void 0===i&&(i={});var r=Array.isArray(t)?n.i(D.b)(t):t;return(new G).buildKeyframes(r,e,i)}function y(t){var e=t.offset;if(null==e){var n=t.styles;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i].offset;if(null!=r){e=r;break}}else e=n.offset}return e}function v(t,e,n,i,r,o,s){return{type:0,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:r,toState:n,toStyles:o,timelines:s}}function g(t,e,n){return t.some(function(t){return t(e,n)})}function m(t){var e=Array.isArray(t)?n.i(D.b)(t):t;return(new K).validate(e)}function b(t,e){return(new Q).buildTrigger(t,e)}function w(t,e,n){var i=t.get(e);return i||t.set(e,i=n),i}function x(t,e,n){var i=t.get(e);if(i){var r=i.indexOf(n);r>=0&&(i.splice(r,1),0==i.length&&t.delete(e))}}function k(t){switch(t.length){case 0:return new D.a;case 1:return t[0];default:return new D.e(t)}}function P(t){return t?t.splice(0):[]}function C(t,e){switch(e){case"start":case"done":return;default:throw new Error('The provided animation trigger event "'+e+'" for the animation trigger "'+t+'" is not supported!')}}function S(t,e,n,i){switch(e){case"start":t.onStart(function(){var t=T(n);t.phaseName="start",i(t)});break;case"done":t.onDone(function(){var t=T(n);t.phaseName="done",i(t)})}}function T(t){return M(t.element,t.triggerName,t.fromState,t.toState,t.phaseName,t.totalTime)}function M(t,e,n,i,r,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o}}function _(t){switch(typeof t){case"boolean":return t?"1":"0";default:return t?t.toString():null}}function N(t){return t.replace(et,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function A(t,e,n,i,r,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o}}function O(t){return"_@_"+t}function j(t,e){return window.getComputedStyle(t)[e]}function E(t){var e={};return Object.keys(t).forEach(function(n){"offset"!=n&&(e[n]=t[n])}),e}function L(){return"undefined"!=typeof Element&&"function"==typeof Element.prototype.animate}var D=n("EyWH");n.d(e,"a",function(){return V}),n.d(e,"c",function(){return I}),n.d(e,"b",function(){return X}),n.d(e,"h",function(){return $}),n.d(e,"g",function(){return R}),n.d(e,"d",function(){return Z}),n.d(e,"i",function(){return nt}),n.d(e,"f",function(){return rt}),n.d(e,"e",function(){return L});var F=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},R=function(){function t(){}return t.prototype.animate=function(t,e,n,i,r,o){return void 0===o&&(o=[]),new D.a},t}(),V=function(){function t(){}return t}();V.NOOP=new R;var I=function(){function t(){}return t.prototype.registerTrigger=function(t,e){},t.prototype.onInsert=function(t,e){},t.prototype.onRemove=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.listen=function(t,e,n,i){},t.prototype.flush=function(){},Object.defineProperty(t.prototype,"activePlayers",{get:function(){throw new Error("...")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){throw new Error("...")},enumerable:!0,configurable:!0}),t}(),B=1e3,q="*",z=function(){function t(t,e,n){this.errors=t,this.timelines=e,this.previousNode={},this.subContextCount=0,this.currentTimeline=n||new H(0),e.push(this.currentTimeline)}return t.prototype.createSubContext=function(){var e=new t(this.errors,this.timelines,this.currentTimeline.fork());return e.previousNode=this.previousNode,e.currentAnimateTimings=this.currentAnimateTimings,this.subContextCount++,e},t.prototype.transformIntoNewTimeline=function(t){return void 0===t&&(t=0),this.currentTimeline=this.currentTimeline.fork(t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t}(),G=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n){var i=new z([],[]);i.currentTimeline.setStyles(e),u(this,t,i);var r=i.timelines.filter(function(t){return t.hasStyling()});if(r.length&&Object.keys(n).length){var o=r[r.length-1];o.allowOnlyTimelineStyles()||o.setStyles(n)}return r.length?r.map(function(t){return t.buildKeyframes()}):[p([],0,0,"")]},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitSequence=function(t,e){var n=this,i=e.subContextCount;6==e.previousNode.type&&(e.currentTimeline.forwardFrame(),e.currentTimeline.snapshotCurrentStyles()),t.steps.forEach(function(t){return u(n,t,e)}),e.subContextCount>i&&e.transformIntoNewTimeline(),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime;t.steps.forEach(function(t){var o=e.createSubContext();u(n,t,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t},t.prototype.visitAnimate=function(t,e){var r=t.timings.hasOwnProperty("duration")?t.timings:i(t.timings,e.errors);if(e.currentAnimateTimings=r,r.delay&&(e.incrementTime(r.delay),e.currentTimeline.snapshotCurrentStyles()),5==(t.styles?t.styles.type:-1))this.visitKeyframeSequence(t.styles,e);else{var o=t.styles;if(!o){var s={};r.easing&&(s.easing=r.easing),o=n.i(D.c)(s),o.treatAsEmptyStep=!0}e.incrementTime(r.duration),o&&this.visitStyle(o,e)}e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){e.currentAnimateTimings||4!=e.previousNode.type||e.currentTimeline.forwardFrame();var n=r(t.styles),i=e.currentAnimateTimings&&e.currentAnimateTimings.easing;this._applyStyles(n,i,!!t.treatAsEmptyStep,e),e.previousNode=t},t.prototype._applyStyles=function(t,e,n,i){t.hasOwnProperty("easing")&&(e=e||t.easing,delete t.easing),i.currentTimeline.setStyles(t,e,n)},t.prototype.visitKeyframeSequence=function(t,e){var n=this,i=t.steps.length-1,o=t.steps[0],s=0,a=null!=y(o);a||(s=1/i);var u=e.currentTimeline.duration,h=e.currentAnimateTimings.duration,l=e.createSubContext(),c=l.currentTimeline;c.easing=e.currentAnimateTimings.easing,t.steps.forEach(function(t,e){var o=r(t.styles),u=a?null!=t.offset?t.offset:parseFloat(o.offset):e==i?1:e*s;c.forwardTime(u*h),n._applyStyles(o,null,!1,l)}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(u+h),e.previousNode=t},t}(),H=function(){function t(t,e){this.startTime=t,this.duration=0,this.easing="",this._previousKeyframe={},this._keyframes=new Map,this._styleSummary={},this._backFill={},this._currentEmptyStepKeyframe=null,this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=e||this._localTimelineStyles,this._loadKeyframe()}return t.prototype.hasStyling=function(){return this._keyframes.size>1},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.fork=function(e){return void 0===e&&(e=0),new t(e||this.currentTime,this._globalTimelineStyles)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration++,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.setStyles=function(t,e,n){var i=this;void 0===e&&(e=null),void 0===n&&(n=!1),e&&(this._previousKeyframe.easing=e),n?(Object.keys(this._globalTimelineStyles).forEach(function(t){i._backFill[t]=i._globalTimelineStyles[t]||D.d,i._currentKeyframe[t]=D.d}),this._currentEmptyStepKeyframe=this._currentKeyframe):(Object.keys(t).forEach(function(e){if("offset"!==e){var n=t[e];i._currentKeyframe[e]=n,i._localTimelineStyles[e]||(i._backFill[e]=i._globalTimelineStyles[e]||D.d),i._updateStyle(e,n)}}),Object.keys(this._localTimelineStyles).forEach(function(t){i._currentKeyframe.hasOwnProperty(t)||(i._currentKeyframe[t]=i._localTimelineStyles[t])}))},t.prototype.snapshotCurrentStyles=function(){o(this._localTimelineStyles,!1,this._currentKeyframe)},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})},t.prototype.buildKeyframes=function(){var t=this,e=[];if(0==this.duration){var n=this.getFinalKeyframe(),i=o(n,!0);i.offset=0,e.push(i);var r=o(n,!0);r.offset=1,e.push(r)}else this._keyframes.forEach(function(n,i){var r=o(n,!0);r.offset=i/t.duration,e.push(r)});return p(e,this.duration,this.startTime,this.easing)},t}(),U=function(){function t(t,e,i,r){this._triggerName=t,this.matchFns=i,this._stateStyles=r;var o=Array.isArray(e.animation)?n.i(D.b)(e.animation):e.animation;this._animationAst=o}return t.prototype.match=function(t,e){if(g(this.matchFns,t,e)){var n=this._stateStyles["*"]||{},i=this._stateStyles[t]||n,r=this._stateStyles[e]||n,o=d(this._animationAst,i,r);return v(this._triggerName,t,e,"void"===e,i,r,o)}},t}(),K=function(){function t(){}return t.prototype.validate=function(t){var e=new W;return u(this,t,e),e.errors},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitSequence=function(t,e){var n=this;t.steps.forEach(function(t){return u(n,t,e)})},t.prototype.visitGroup=function(t,e){var n=this,i=e.currentTime,r=0;t.steps.forEach(function(t){e.currentTime=i,u(n,t,e),r=Math.max(r,e.currentTime)}),e.currentTime=r},t.prototype.visitAnimate=function(t,e){e.currentAnimateTimings=t.timings=i(t.timings,e.errors);var n=t.styles&&t.styles.type;5==n?this.visitKeyframeSequence(t.styles,e):(e.currentTime+=e.currentAnimateTimings.duration+e.currentAnimateTimings.delay,6==n&&this.visitStyle(t.styles,e)),e.currentAnimateTimings=null},t.prototype.visitStyle=function(t,e){var n=r(t.styles),i=e.currentAnimateTimings,o=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),Object.keys(n).forEach(function(t){var n=e.collectedStyles[t],i=!0;n&&(s!=o&&s>=n.startTime&&o<=n.endTime&&(e.errors.push('The CSS property "'+t+'" that exists between the times of "'+n.startTime+'ms" and "'+n.endTime+'ms" is also being animated in a parallel animation between the times of "'+s+'ms" and "'+o+'ms"'),i=!1),s=n.startTime),i&&(e.collectedStyles[t]={startTime:s,endTime:o})})},t.prototype.visitKeyframeSequence=function(t,e){var n=this,i=0,o=[],s=!1,a=!1,u=0;t.steps.forEach(function(t){var e=r(t.styles),n=0;e.hasOwnProperty("offset")&&(i++,n=e.offset),a=a||n<0||n>1,s=s||n<u,u=n,o.push(n)}),a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var h=t.steps.length,l=0;i>0&&i<h?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(l=1/h);var c=h-1,f=e.currentTime,p=e.currentAnimateTimings.duration;t.steps.forEach(function(t,i){var r=l>0?i==c?1:l*i:o[i],s=r*p;e.currentTime=f+e.currentAnimateTimings.delay+s,e.currentAnimateTimings.duration=s,n.visitStyle(t,e)})},t}(),W=function(){function t(){this.errors=[],this.currentTime=0,this.collectedStyles={}}return t}(),J=function(){function t(t,e,n){var i=this;this.name=t,this._transitionAsts=n,this.transitionFactories=[],this.states={},Object.keys(e).forEach(function(t){i.states[t]=o(e[t],!1)});var r=[];if(n.forEach(function(t){var n=h(t.expr,r),o=m(t);o.length?r.push.apply(r,o):i.transitionFactories.push(new U(i.name,t,n,e))}),r.length){throw new Error("Animation parsing for the "+t+" trigger have failed:\n - "+r.join("\n - "))}}return t.prototype.createFallbackInstruction=function(t,e){var n=this.states["*"]||{},i=this.states[t]||n,r=this.states[e]||n;return v(this.name,t,e,"void"==e,i,r,[])},t.prototype.matchTransition=function(t,e){for(var n=0;n<this.transitionFactories.length;n++){var i=this.transitionFactories[n].match(t,e);if(i)return i}return null},t}(),Y=function(){function t(){this.errors=[],this.states={},this.transitions=[]}return t}(),Q=function(){function t(){}return t.prototype.buildTrigger=function(t,e){var n=this,i=new Y;return e.forEach(function(t){return u(n,t,i)}),new J(t,i.states,i.transitions)},t.prototype.visitState=function(t,e){var n=r(t.styles.styles);t.name.split(/\s*,\s*/).forEach(function(t){e.states[t]=n})},t.prototype.visitTransition=function(t,e){e.transitions.push(t)},t.prototype.visitSequence=function(t,e){},t.prototype.visitGroup=function(t,e){},t.prototype.visitAnimate=function(t,e){},t.prototype.visitStyle=function(t,e){},t.prototype.visitKeyframeSequence=function(t,e){},t}(),Z=function(){function t(t,e){this._driver=t,this._normalizer=e,this._flaggedInserts=new Set,this._queuedRemovals=new Map,this._queuedTransitionAnimations=[],this._activeTransitionAnimations=new Map,this._activeElementAnimations=new Map,this._elementTriggerStates=new Map,this._triggers=Object.create(null),this._triggerListeners=new Map,this._pendingListenerRemovals=new Map}return Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){return this._queuedTransitionAnimations.map(function(t){return t.player})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activePlayers",{get:function(){var t=[];return this._activeElementAnimations.forEach(function(e){return t.push.apply(t,e)}),t},enumerable:!0,configurable:!0}),t.prototype.registerTrigger=function(t,e){e=e||t.name,this._triggers[e]||(this._triggers[e]=b(e,t.definitions))},t.prototype.onInsert=function(t,e){1==t.nodeType&&this._flaggedInserts.add(t),e()},t.prototype.onRemove=function(t,e){var n=this;if(1!=t.nodeType)return void e();var i=this._elementTriggerStates.get(t);if(i){if(Object.keys(i).some(function(t){var e=i[t];return!!n._triggers[t].matchTransition(e,"void")}))return t.$$ngRemove=!0,void this._queuedRemovals.set(t,e)}this._triggerListeners.has(t)&&(t.$$ngRemove=!0,this._queuedRemovals.set(t,function(){})),this._onRemovalTransition(t).forEach(function(t){return t.destroy()}),e()},t.prototype.setProperty=function(t,e,n){var i=this._triggers[e];if(!i)throw new Error('The provided animation trigger "'+e+'" has not been registered!');var r=this._elementTriggerStates.get(t);r||this._elementTriggerStates.set(t,r={});var o=r.hasOwnProperty(e)?r[e]:"void";if(o!==n){n=_(n);var s=i.matchTransition(o,n);s||(s=i.createFallbackInstruction(o,n)),this.animateTransition(t,s),r[e]=n}},t.prototype.listen=function(t,e,n,i){var r=this;if(!n)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if(!this._triggers[e])throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");var o=this._triggerListeners.get(t);o||this._triggerListeners.set(t,o=[]),C(e,n);var s={triggerName:e,phase:n,callback:i};return o.push(s),function(){w(r._pendingListenerRemovals,t,[]).push(s)}},t.prototype._clearPendingListenerRemovals=function(){var t=this;this._pendingListenerRemovals.forEach(function(e,n){var i=t._triggerListeners.get(n);i&&e.forEach(function(t){var e=i.indexOf(t);e>=0&&i.splice(e,1)})}),this._pendingListenerRemovals.clear()},t.prototype._onRemovalTransition=function(t){for(var e=t.querySelectorAll(".ng-animating"),n=this,i=0;i<e.length;i++)!function(t){var i=e[t],r=n._activeElementAnimations.get(i);r&&r.forEach(function(t){return t.destroy()});var o=n._activeTransitionAnimations.get(i);o&&Object.keys(o).forEach(function(t){var e=o[t];e&&e.destroy()})}(i);return P(this._activeElementAnimations.get(t))},t.prototype.animateTransition=function(t,e){var n,i=this,r=e.triggerName;if(e.isRemovalTransition)n=this._onRemovalTransition(t);else{n=[];var o=this._activeTransitionAnimations.get(t),u=o?o[r]:null;u&&n.push(u)}a(t,e.fromStyles);var h=0,l=e.timelines.map(function(e,r){return h=Math.max(h,e.totalTime),i._buildPlayer(t,e,n,r)});n.forEach(function(t){return t.destroy()});var c=k(l);return c.onDone(function(){c.destroy();var n=i._activeTransitionAnimations.get(t);n&&(delete n[r],0==Object.keys(n).length&&i._activeTransitionAnimations.delete(t)),x(i._activeElementAnimations,t,c),s(t,e.toStyles)}),w(this._activeTransitionAnimations,t,{})[r]=c,this._queuePlayer(t,r,c,M(t,r,e.fromState,e.toState,null,h)),c},t.prototype.animateTimeline=function(t,e,n){var i=this;return void 0===n&&(n=[]),k(e.map(function(e,r){var o=i._buildPlayer(t,e,n,r);return o.onDestroy(function(){x(i._activeElementAnimations,t,o)}),i._markPlayerAsActive(t,o),o}))},t.prototype._buildPlayer=function(t,e,n,i){return void 0===i&&(i=0),i&&n.length&&(n=[]),this._driver.animate(t,this._normalizeKeyframes(e.keyframes),e.duration,e.delay,e.easing,n)},t.prototype._normalizeKeyframes=function(t){var e=this,n=[],i=[];if(t.forEach(function(t){var r={};Object.keys(t).forEach(function(i){var o=i,s=t[i];"offset"!=i&&(o=e._normalizer.normalizePropertyName(i,n),s=e._normalizer.normalizeStyleValue(i,o,t[i],n)),r[o]=s}),i.push(r)}),n.length){throw new Error("Unable to animate due to the following errors:\n - "+n.join("\n - "))}return i},t.prototype._markPlayerAsActive=function(t,e){w(this._activeElementAnimations,t,[]).push(e)},t.prototype._queuePlayer=function(t,e,n,i){var r={element:t,player:n,triggerName:e,event:i};this._queuedTransitionAnimations.push(r),n.init(),t.classList.add("ng-animating"),n.onDone(function(){t.classList.remove("ng-animating")})},t.prototype._flushQueuedAnimations=function(){var t=this;t:for(;this._queuedTransitionAnimations.length;){var e=function(){for(var e=t._queuedTransitionAnimations.shift(),n=e.player,i=e.element,r=e.triggerName,o=e.event,s=i;s=s.parentNode;)if(s.$$ngRemove)return"continue-parentLoop";var a=t._triggerListeners.get(i);if(a&&a.forEach(function(t){t.triggerName==r&&S(n,t.phase,o,t.callback)}),t._queuedRemovals.has(i))return n.destroy(),"continue";t._markPlayerAsActive(i,n),n.init(),n.hasStarted()||n.play()}();switch(e){case"continue-parentLoop":continue t}}},t.prototype.flush=function(){var t=this,e=new Map;this._queuedRemovals.forEach(function(n,i){var r=t._pendingListenerRemovals.get(i);r&&(e.set(i,r),t._pendingListenerRemovals.delete(i))}),this._clearPendingListenerRemovals(),this._pendingListenerRemovals=e,this._flushQueuedAnimations();var n=!1;this._queuedRemovals.forEach(function(e,i){if(!t._flaggedInserts.has(i)){for(var r=i,o=[];r=r.parentNode;){if(r.$$ngRemove)return void e();var s=t._activeElementAnimations.get(r);if(s){o.push.apply(o,s);break}}if(0==o.length){var a=t._elementTriggerStates.get(i);a&&Object.keys(a).forEach(function(e){n=!0;var r=a[e],s=t._triggers[e].matchTransition(r,"void");if(s)o.push(t.animateTransition(i,s));else{var u=M(i,e,r,"void","",0),h=new D.a;t._queuePlayer(i,e,h,u)}})}o.length?k(o).onDone(e):e()}}),this._queuedRemovals.clear(),this._flaggedInserts.clear(),n&&(this._flushQueuedAnimations(),this._clearPendingListenerRemovals())},t}(),X=function(){function t(){}return t.prototype.normalizePropertyName=function(t,e){},t.prototype.normalizeStyleValue=function(t,e,n,i){},t}(),$=(function(){function t(){}t.prototype.normalizePropertyName=function(t,e){return t},t.prototype.normalizeStyleValue=function(t,e,n,i){return n}}(),function(){function t(t){var e=Array.isArray(t)?n.i(D.b)(t):t,i=m(e);if(i.length){var r="animation validation failed:\n"+i.join("\n");throw new Error(r)}this._animationAst=e}t.prototype.buildTimelines=function(t,e){var n=Array.isArray(t)?r(t):t,i=Array.isArray(e)?r(e):e;return d(this._animationAst,n,i)},t.prototype.create=function(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i={});var r=this.buildTimelines(n,i),o=t.get(V),s=t.get(X);return new Z(o,s).animateTimeline(e,r)}}(),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.normalizePropertyName=function(t,e){return N(t)},e.prototype.normalizeStyleValue=function(t,e,n,i){var r="",o=n.toString().trim();if(tt[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push("Please provide a CSS unit value for "+t+":"+n)}return o+r},e}(X)),tt=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent".split(",")),et=/-+([a-z0-9])/g,nt=function(t){function e(){var e=t.apply(this,arguments)||this;return e._listeners=new Map,e._changes=[],e._flaggedRemovals=new Set,e._onDoneFns=[],e._triggerStyles=Object.create(null),e}return F(e,t),e.prototype.registerTrigger=function(t,e){if(e=e||t.name,!this._triggerStyles[e]){var n={};t.definitions.forEach(function(t){if(0===t.type){var e=t;n[e.name]=r(e.styles.styles)}}),this._triggerStyles[e]=n}},e.prototype.onInsert=function(t,e){e()},e.prototype.onRemove=function(t,e){e(),1==t.nodeType&&this._flaggedRemovals.add(t)},e.prototype.setProperty=function(t,e,n){var i=O(e),r=t[i]||"void";this._changes.push({element:t,oldValue:r,newValue:n,triggerName:e});var o=this._triggerStyles[e]||{},u=o[r]||o["*"];u&&a(t,u),t[i]=n,this._onDoneFns.push(function(){var e=o[n]||o["*"];e&&s(t,e)})},e.prototype.listen=function(t,e,n,i){var r=this._listeners.get(t);r||this._listeners.set(t,r=[]);var o={triggerName:e,eventPhase:n,callback:i};return r.push(o),function(){return o.doRemove=!0}},e.prototype.flush=function(){function t(t,e){var r=t.eventPhase,o=A(e.element,e.triggerName,e.oldValue,e.newValue,r,0);"start"==r?n.push(function(){return t.callback(o)}):"done"==r&&i.push(function(){return t.callback(o)})}var e=this,n=[],i=[];this._changes.forEach(function(n){var i=n.element,r=e._listeners.get(i);r&&r.forEach(function(e){e.triggerName==n.triggerName&&t(e,n)})}),this._flaggedRemovals.forEach(function(n){var i=e._listeners.get(n);i&&i.forEach(function(e){var i=e.triggerName,r=O(i);t(e,{element:n,triggerName:i,oldValue:n[r]||"void",newValue:"void"})})}),Array.from(this._listeners.keys()).forEach(function(t){var n=e._listeners.get(t).filter(function(t){return!t.doRemove});n.length?e._listeners.set(t,n):e._listeners.delete(t)}),n.forEach(function(t){return t()}),i.forEach(function(t){return t()}),this._flaggedRemovals.clear(),this._changes=[],this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},Object.defineProperty(e.prototype,"activePlayers",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queuedPlayers",{get:function(){return[]},enumerable:!0,configurable:!0}),e}(I),it=function(){function t(t,e,n,i){void 0===i&&(i=[]);var r=this;this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay,this.previousStyles={},i.forEach(function(t){var e=t._captureStyles();Object.keys(e).forEach(function(t){return r.previousStyles[t]=e[t]})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes.map(function(e){var n={};return Object.keys(e).forEach(function(i,r){var o=e[i];o==D.d&&(o=j(t.element,i)),void 0!=o&&(n[i]=o)}),n}),n=Object.keys(this.previousStyles);if(n.length){var i=e[0],r=[];if(n.forEach(function(e){i.hasOwnProperty(e)||r.push(e),i[e]=t.previousStyles[e]}),r.length)for(var o=this,s=1;s<e.length;s++)!function(){var t=e[s];r.forEach(function(e){t[e]=j(o.element,e)})}()}this._player=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?E(e[e.length-1]):{},this._resetDomPlayerState(),this._player.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},Object.defineProperty(t.prototype,"domPlayer",{get:function(){return this._player},enumerable:!0,configurable:!0}),t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this.init(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this._player.play()},t.prototype.pause=function(){this.init(),this._player.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this._player&&this._player.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._resetDomPlayerState(),this._onFinish(),this._destroyed=!0,this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this._player.currentTime=t*this.time},t.prototype.getPosition=function(){return this._player.currentTime/this.time},t.prototype._captureStyles=function(){var t=this,e={};return this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:j(t.element,n))}),e},t}(),rt=function(){function t(){}return t.prototype.animate=function(t,e,n,i,r,o){void 0===o&&(o=[]);var s={duration:n,delay:i,fill:"forwards"};r&&(s.easing=r);var a=o.filter(function(t){return t instanceof it});return new it(t,e,s,a)},t}()},fL27:function(t,e,n){"use strict";function i(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function r(t){var e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}function o(t,e){return t+"#"+e}function s(t,e){return e.replace(t+"#","")}function a(){return n.i(f.e)()?new f.f:new f.g}function u(){return new f.h}function h(t,e,n){return new d(t,e,n)}var l=n("/oeL"),c=n("fc+i"),f=n("f9zQ");n.d(e,"e",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"a",function(){return a});var p=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},d=function(){function t(t,e,n){this.delegate=t,this._engine=e,this._zone=n}return t.prototype.createRenderer=function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation))return i;var r=e.id;return e.data.animation.forEach(function(t){return n._engine.registerTrigger(t,o(r,t.name))}),new y(i,this._engine,this._zone,r)},t}();d.decorators=[{type:l.O}],d.ctorParameters=function(){return[{type:l.z},{type:f.c},{type:l.g}]};var y=function(){function t(t,e,n,i){this.delegate=t,this._engine=e,this._zone=n,this._namespaceId=i,this.destroyNode=null,this._flushPromise=null,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.appendChild=function(t,e){var n=this;this._engine.onInsert(e,function(){return n.delegate.appendChild(t,e)}),this._queueFlush()},t.prototype.insertBefore=function(t,e,n){var i=this;this._engine.onInsert(e,function(){return i.delegate.insertBefore(t,e,n)}),this._queueFlush()},t.prototype.removeChild=function(t,e){var n=this;this._engine.onRemove(e,function(){n.delegate.parentNode(e)&&n.delegate.removeChild(t,e)}),this._queueFlush()},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?(this._engine.setProperty(t,o(this._namespaceId,e.substr(1)),n),this._queueFlush()):this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){var a=this;if("@"==e.charAt(0)){var u=i(t),h=r(e.substr(1)),l=h[0],c=h[1];return this._engine.listen(u,o(this._namespaceId,l),c,function(t){var e=t;e.triggerName&&(e.triggerName=s(a._namespaceId,e.triggerName)),a._zone.run(function(){return n(t)})})}return this.delegate.listen(t,e,n)},t.prototype._queueFlush=function(){var t=this;this._flushPromise||this._zone.runOutsideAngular(function(){t._flushPromise=Promise.resolve(null).then(function(){t._flushPromise=null,t._engine.flush()})})},t}(),v=function(t){function e(e,n){return t.call(this,e,n)||this}return p(e,t),e}(f.d);v.decorators=[{type:l.O}],v.ctorParameters=function(){return[{type:f.a},{type:f.b}]};var g=[{provide:f.a,useFactory:a},{provide:f.b,useFactory:u},{provide:f.c,useClass:v},{provide:l.z,useFactory:h,deps:[c.j,f.c,l.g]}],m=[{provide:f.c,useClass:f.i},{provide:l.z,useFactory:h,deps:[c.j,f.c,l.g]}],b=function(){function t(){}return t}();b.decorators=[{type:l._7,args:[{imports:[c.p],providers:g}]}],b.ctorParameters=function(){return[]};var w=function(){function t(){}return t}();w.decorators=[{type:l._7,args:[{imports:[c.p],providers:m}]}],w.ctorParameters=function(){return[]}},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"fc+i":function(t,e,n){"use strict";function i(){return R}function r(t){R||(R=t)}function o(){return U||(U=document.querySelector("base"))?U.getAttribute("href"):null}function s(t){return G||(G=document.createElement("a")),G.setAttribute("href",t),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname}function a(t,e){e=encodeURIComponent(e);for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],o=r.indexOf("="),s=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}return null}function u(t,e,n){for(var i=e.split("."),r=t;i.length>1;){var o=i.shift();r=r.hasOwnProperty(o)&&null!=r[o]?r[o]:r[o]={}}void 0!==r&&null!==r||(r={}),r[i.shift()]=n}function h(){return!!window.history.pushState}function l(t,e,n){return function(){n.get(L.j).donePromise.then(function(){var n=i();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}function c(t){return n.i(L._26)(t)}function f(t,e){var n=(t||[]).concat(e||[]);return i().setGlobalVar(et,c),i().setGlobalVar(nt,$({},tt,p(n||[]))),function(){return c}}function p(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function d(t){return pt.replace(ct,t)}function y(t){return ft.replace(ct,t)}function v(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?v(t,r,n):(r=r.replace(ct,t),n.push(r))}return n}function g(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function m(t,e){if(t.charCodeAt(0)===vt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function b(t){return t=String(t),t.match(Mt)||t.match(_t)?t:(n.i(L.Z)()&&i().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function w(t){return t=String(t),t.split(",").map(function(t){return b(t.trim())}).join(", ")}function x(){if(Nt)return Nt;At=i();var t=At.createElement("template");if("content"in t)return t;var e=At.createHtmlDocument();if(null==(Nt=At.querySelector(e,"body"))){var n=At.createElement("html",e);Nt=At.createElement("body",e),At.appendChild(n,Nt),At.appendChild(e,n)}return Nt}function k(t){for(var e={},n=0,i=t.split(",");n<i.length;n++){e[i[n]]=!0}return e}function P(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}function C(t,e){if(e&&At.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+At.getOuterHTML(t));return e}function S(t){return t.replace(/&/g,"&amp;").replace(Gt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ht,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T(t){At.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||At.removeAttribute(t,n)});for(var e=0,n=At.childNodesAsList(t);e<n.length;e++){var i=n[e];At.isElementNode(i)&&T(i)}}function M(t,e){try{var i=x(),r=e?String(e):"",o=5,s=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=s,At.setInnerHTML(i,r),t.documentMode&&T(i),s=At.getInnerHTML(i)}while(r!==s);for(var a=new zt,u=a.sanitizeChildren(At.getTemplateContent(i)||i),h=At.getTemplateContent(i)||i,l=0,c=At.childNodesAsList(h);l<c.length;l++){var f=c[l];At.removeChild(h,f)}return n.i(L.Z)()&&a.sanitizedSomething&&At.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}catch(t){throw Nt=null,t}}function _(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}function N(t){if(!(t=String(t).trim()))return"";var e=t.match(Kt);return e&&b(e[1])===e[1]||t.match(Ut)&&_(t)?t:(n.i(L.Z)()&&i().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function A(){H.makeCurrent(),Z.init()}function O(){return new L.q}function j(){return document}var E=n("qbdv"),L=n("/oeL");n.d(e,"p",function(){return re}),n.d(e,"a",function(){return ie}),n.d(e,"k",function(){return J}),n.d(e,"l",function(){return X}),n.d(e,"o",function(){return it}),n.d(e,"c",function(){return K}),n.d(e,"s",function(){return ot}),n.d(e,"h",function(){return st}),n.d(e,"r",function(){return xt}),n.d(e,"d",function(){return kt}),n.d(e,"q",function(){return Wt}),n.d(e,"u",function(){return i}),n.d(e,"j",function(){return dt}),n.d(e,"e",function(){return bt}),n.d(e,"g",function(){return Pt}),n.d(e,"f",function(){return Tt}),n.d(e,"i",function(){return ht}),n.d(e,"t",function(){return ut}),n.d(e,"m",function(){return O}),n.d(e,"n",function(){return f}),n.d(e,"b",function(){return Jt});var D,F=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},R=null,V=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,i){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.setGlobalVar=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),I=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=e.getStyle(n,i[r]+"AnimationName")){e._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return F(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(V),B={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},q={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};L._24.Node&&(D=L._24.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var G,H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){r(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return B},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return D.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var i=n.createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n[i];e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&z.hasOwnProperty(e)&&(e=z[e]))}return q[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=o();return null==e?null:s(e)},e.prototype.resetBaseElement=function(){U=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){u(L._24,t,e)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return a(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(I),U=null,K=new L.M("DocumentToken"),W=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return F(e,t),e.prototype._init=function(){this._location=i().getLocation(),this._history=i().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return i().getBaseHref(this._doc)},e.prototype.onPopState=function(t){i().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){i().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){h()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){h()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(E.d);W.decorators=[{type:L.O}],W.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var J=function(){function t(t){this._doc=t,this._dom=i()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,i){return i&&t.push(n._getOrCreateElement(i,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),i=this.getTag(n);if(i&&this._containsAttributes(t,i))return i}var r=this._dom.createElement("meta");this._setMetaElementAttributes(t,r);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,r),r},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(i){return n._dom.setAttribute(e,i,t[i])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(i){return n._dom.getAttribute(e,i)===t[i]})},t}();J.decorators=[{type:L.O}],J.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var Y=new L.M("TRANSITION_ID"),Q=[{provide:L.s,useFactory:l,deps:[Y,K,L._19],multi:!0}],Z=function(){function t(){}return t.init=function(){n.i(L._25)(new t)},t.prototype.addToWindow=function(t){L._24.getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},L._24.getAllAngularTestabilities=function(){return t.getAllTestabilities()},L._24.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=L._24.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})};L._24.frameworkStabilizers||(L._24.frameworkStabilizers=[]),L._24.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?i().isShadowRoot(e)?this.findTestabilityInTree(t,i().getHost(e),!0):this.findTestabilityInTree(t,i().parentElement(e),!0):null},t}(),X=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return i().getTitle(this._doc)},t.prototype.setTitle=function(t){i().setTitle(this._doc,t)},t}();X.decorators=[{type:L.O}],X.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var $=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},tt={ApplicationRef:L.t,NgZone:L.g},et="ng.probe",nt="ng.coreTokens",it=function(){function t(t,e){this.name=t,this.token=e}return t}(),rt=[{provide:L.s,useFactory:f,deps:[[it,new L.P],[L.r,new L.P]],multi:!0}],ot=new L.M("EventManagerPlugins"),st=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}();st.decorators=[{type:L.O}],st.ctorParameters=function(){return[{type:Array,decorators:[{type:L.Q,args:[ot]}]},{type:L.g}]};var at=function(){function t(t){this._doc=t}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var r=i().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),ut=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();ut.decorators=[{type:L.O}],ut.ctorParameters=function(){return[]};var ht=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return F(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return i().remove(t)})},e}(ut);ht.decorators=[{type:L.O}],ht.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=/%COMP%/g,ft="_nghost-%COMP%",pt="_ngcontent-%COMP%",dt=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new yt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case L._27.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new gt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case L._27.Native:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t}();dt.decorators=[{type:L.O}],dt.ctorParameters=function(){return[{type:st},{type:ht}]};var yt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(lt[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var r=lt[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=lt[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&L._28.DashCase?t.style.setProperty(e,n,i&L._28.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&L._28.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){m(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return m(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,g(n)):this.eventManager.addEventListener(t,e,g(n))},t}(),vt="@".charCodeAt(0),gt=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.component=i;var o=v(i.id,i.styles,[]);return n.addStyles(o),r.contentAttr=d(i.id),r.hostAttr=y(i.id),r}return F(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(yt),mt=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=v(r.id,r.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return F(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(yt),bt=function(t){function e(e){return t.call(this,e)||this}return F(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e}(at);bt.decorators=[{type:L.O}],bt.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var wt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},xt=new L.M("HammerGestureConfig"),kt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();kt.decorators=[{type:L.O}],kt.ctorParameters=function(){return[]};var Pt=function(t){function e(e,n){var i=t.call(this,e)||this;return i._config=n,i}return F(e,t),e.prototype.supports=function(t){if(!wt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var i=this,r=this.manager.getZone();return e=e.toLowerCase(),r.runOutsideAngular(function(){var o=i._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(at);Pt.decorators=[{type:L.O}],Pt.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]},{type:kt,decorators:[{type:L.Q,args:[xt]}]}]};var Ct=["alt","control","meta","shift"],St={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Tt=function(t){function e(e){return t.call(this,e)||this}return F(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var o=e.parseEventName(n),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return i().onAndCancel(t,o.domEventName,s)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),o="";if(Ct.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=i().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ct.forEach(function(i){if(i!=n){(0,St[i])(t)&&(e+=i+".")}}),e+=n},e.eventCallback=function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded(function(){return n(r)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(at);Tt.decorators=[{type:L.O}],Tt.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var Mt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,_t=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Nt=null,At=null,Ot=k("area,br,col,hr,img,wbr"),jt=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Et=k("rp,rt"),Lt=P(Et,jt),Dt=P(jt,k("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ft=P(Et,k("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rt=P(Ot,Dt,Ft,Lt),Vt=k("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),It=k("srcset"),Bt=k("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qt=P(Vt,It,Bt),zt=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(At.isElementNode(e)?this.startElement(e):At.isTextNode(e)?this.chars(At.nodeValue(e)):this.sanitizedSomething=!0,At.firstChild(e))e=At.firstChild(e);else for(;e;){At.isElementNode(e)&&this.endElement(e);var n=C(e,At.nextSibling(e));if(n){e=n;break}e=C(e,At.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=At.nodeName(t).toLowerCase();if(!Rt.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),At.attributeMap(t).forEach(function(t,n){var i=n.toLowerCase();if(!qt.hasOwnProperty(i))return void(e.sanitizedSomething=!0);Vt[i]&&(t=b(t)),It[i]&&(t=w(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(S(t)),e.buf.push('"')}),this.buf.push(">")},t.prototype.endElement=function(t){var e=At.nodeName(t).toLowerCase();Rt.hasOwnProperty(e)&&!Ot.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(S(t))},t}(),Gt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ht=/([^\#-~ |!])/g,Ut=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Kt=/^url\(([^)]+)\)$/,Wt=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),Jt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return F(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case L._29.NONE:return e;case L._29.HTML:return e instanceof Qt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),M(this._doc,String(e)));case L._29.STYLE:return e instanceof Zt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),N(e));case L._29.SCRIPT:if(e instanceof Xt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case L._29.URL:return e instanceof te||e instanceof $t?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),b(String(e)));case L._29.RESOURCE_URL:if(e instanceof te)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Yt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Qt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Zt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Xt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new $t(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new te(t)},e}(Wt);Jt.decorators=[{type:L.O}],Jt.ctorParameters=function(){return[{type:void 0,decorators:[{type:L.Q,args:[K]}]}]};var Yt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Yt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Yt),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Yt),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Yt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Yt),ee=[{provide:L._30,useValue:E.l},{provide:L._31,useValue:A,multi:!0},{provide:E.d,useClass:W},{provide:K,useFactory:j,deps:[]}],ne=[{provide:L.y,useExisting:Wt},{provide:Wt,useClass:Jt}],ie=n.i(L._32)(L._33,"browser",ee),re=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:L.v,useValue:e.appId},{provide:Y,useExisting:L.v},Q]}},t}();re.decorators=[{type:L._7,args:[{providers:[ne,{provide:L.q,useFactory:O,deps:[]},{provide:ot,useClass:bt,multi:!0},{provide:ot,useClass:Tt,multi:!0},{provide:ot,useClass:Pt,multi:!0},{provide:xt,useClass:kt},dt,{provide:L.z,useExisting:dt},{provide:ut,useExisting:ht},ht,L.h,st,rt,J,X],exports:[E.b,L.m]}]}],re.ctorParameters=function(){return[{type:re,decorators:[{type:L.P},{type:L._22}]}]};var oe="undefined"!=typeof window&&window||{},se=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}();(function(){function t(t){this.appRef=t.injector.get(L.t)}t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=oe.console.profile;e&&n&&oe.console.profile("Change Detection");for(var r=i().performanceNow(),o=0;o<5||i().performanceNow()-r<500;)this.appRef.tick(),o++;var s=i().performanceNow();e&&n&&oe.console.profileEnd("Change Detection");var a=(s-r)/o;return oe.console.log("ran "+o+" change detection cycles"),oe.console.log(a.toFixed(2)+" ms per check"),new se(a,o)}})(),function(){function t(){}t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&i().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}}}(),new L._8("4.1.3")},fclq:function(t,e,n){"use strict";function i(t){return"function"==typeof t}e.isFunction=i},fcnB:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=function(t){function e(e){t.call(this),this.scheduler=e}return i(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(r.Observable);e.EmptyObservable=o},g0Kb:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("xFbG"),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(r.Subscription);e.SubjectSubscription=o},gonN:function(t,e,n){"use strict";function i(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(n,e));var i=Object.create(this,r.connectableObservableDescriptor);return i.source=this,i.subjectFactory=n,i}var r=n("xKl2");e.multicast=i;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r},t}();e.MulticastOperator=o},gsSp:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},gvep:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("rlar"),o=n("Lhvy"),s=function(t){function e(e){t.call(this),this._value=e}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject);e.BehaviorSubject=s},i3x4:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},jUlM:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("fcnB"),s=n("NSJx"),a=n("ktfo"),u=n("yW9Z"),h=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return i(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new o.EmptyObservable;var i=null;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,i)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(r.Observable);e.ForkJoinObservable=h;var l=function(t){function e(e,n,i){t.call(this,e),this.sources=n,this.resultSelector=i,this.completed=0,this.haveValues=0;var r=n.length;this.total=r,this.values=new Array(r);for(var o=0;o<r;o++){var s=n[o],u=a.subscribeToResult(this,s,null,o);u&&(u.outerIndex=o,this.add(u))}}return i(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,i=n.haveValues,r=n.resultSelector,o=n.values,s=o.length;if(!t._hasValue)return void e.complete();if(++this.completed===s){if(i===s){var a=r?r.apply(this,o):o;e.next(a)}e.complete()}},e}(u.OuterSubscriber)},kWk1:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("T14+"),o=function(t){function e(e,n,i){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r.Subscriber);e.InnerSubscriber=o},ktfo:function(t,e,n){"use strict";function i(t,e,n,i){var f=new l.InnerSubscriber(t,n,i);if(f.closed)return null;if(e instanceof u.Observable)return e._isScalar?(f.next(e.value),f.complete(),null):e.subscribe(f);if(o.isArrayLike(e)){for(var p=0,d=e.length;p<d&&!f.closed;p++)f.next(e[p]);f.closed||f.complete()}else{if(s.isPromise(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){r.root.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[h.iterator])for(var y=e[h.iterator]();;){var v=y.next();if(v.done){f.complete();break}if(f.next(v.value),f.closed)break}else if(e&&"function"==typeof e[c.observable]){var g=e[c.observable]();if("function"==typeof g.subscribe)return g.subscribe(new l.InnerSubscriber(t,n,i));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m=a.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+m+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(b))}}return null}var r=n("zijX"),o=n("lhZu"),s=n("mUVF"),a=n("H6Sg"),u=n("bKpL"),h=n("2B7B"),l=n("kWk1"),c=n("DP67");e.subscribeToResult=i},lhZu:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},"lx+J":function(t,e,n){"use strict";function i(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("T14+");e.map=i;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;var a=function(t){function e(e,n,i){t.call(this,e),this.project=n,this.count=0,this.thisArg=i||this}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},mUVF:function(t,e,n){"use strict";function i(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=i},maBJ:function(t,e,n){"use strict";var i=n("/oeL");n.d(e,"a",function(){return r});var r=function(){function t(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.N,this.onLangChange=new i.N,this.onDefaultLangChange=new i.N}return t}()},mihg:function(t,e,n){"use strict";function i(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function r(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("zijX"),a=n("bKpL"),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(i,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(i,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(r,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=u},nskO:function(t,e,n){"use strict";function i(t){var e=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}var r=n("zijX");e.toPromise=i},qbdv:function(t,e,n){"use strict";function i(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function r(t){return t.replace(/\/index.html$/,"")}function o(t,e,n){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function s(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,i=n.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(n)),o=i.length,s=parseInt(i,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?I.One:I.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?I.One:I.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===n?I.One:I.Other;case"ar":return 0===n?I.Zero:1===n?I.One:2===n?I.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?I.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?I.Many:I.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===o?I.One:I.Other;case"be":return n%10==1&&n%100!=11?I.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?I.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?I.Many:I.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?I.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?I.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?I.Few:0!==n&&n%1e6==0?I.Many:I.Other;case"bs":case"hr":case"sr":return 0===o&&r%10==1&&r%100!=11||s%10==1&&s%100!=11?I.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?I.Few:I.Other;case"cs":case"sk":return 1===r&&0===o?I.One:r===Math.floor(r)&&r>=2&&r<=4&&0===o?I.Few:0!==o?I.Many:I.Other;case"cy":return 0===n?I.Zero:1===n?I.One:2===n?I.Two:3===n?I.Few:6===n?I.Many:I.Other;case"da":return 1===n||0!==a&&(0===r||1===r)?I.One:I.Other;case"dsb":case"hsb":return 0===o&&r%100==1||s%100==1?I.One:0===o&&r%100==2||s%100==2?I.Two:0===o&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?I.Few:I.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?I.One:I.Other;case"fil":return 0===o&&(1===r||2===r||3===r)||0===o&&r%10!=4&&r%10!=6&&r%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?I.One:I.Other;case"ga":return 1===n?I.One:2===n?I.Two:n===Math.floor(n)&&n>=3&&n<=6?I.Few:n===Math.floor(n)&&n>=7&&n<=10?I.Many:I.Other;case"gd":return 1===n||11===n?I.One:2===n||12===n?I.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?I.Few:I.Other;case"gv":return 0===o&&r%10==1?I.One:0===o&&r%10==2?I.Two:0!==o||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==o?I.Many:I.Other:I.Few;case"he":return 1===r&&0===o?I.One:2===r&&0===o?I.Two:0!==o||n>=0&&n<=10||n%10!=0?I.Other:I.Many;case"is":return 0===a&&r%10==1&&r%100!=11||0!==a?I.One:I.Other;case"ksh":return 0===n?I.Zero:1===n?I.One:I.Other;case"kw":case"naq":case"se":case"smn":return 1===n?I.One:2===n?I.Two:I.Other;case"lag":return 0===n?I.Zero:0!==r&&1!==r||0===n?I.Other:I.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?I.Few:0!==s?I.Many:I.Other:I.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?I.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?I.One:I.Other;case"mk":return 0===o&&r%10==1||s%10==1?I.One:I.Other;case"mt":return 1===n?I.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?I.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?I.Many:I.Other;case"pl":return 1===r&&0===o?I.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?I.Few:0===o&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===o&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===o&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?I.Many:I.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?I.One:I.Other;case"ro":return 1===r&&0===o?I.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?I.Few:I.Other;case"ru":case"uk":return 0===o&&r%10==1&&r%100!=11?I.One:0===o&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?I.Few:0===o&&r%10==0||0===o&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===o&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?I.Many:I.Other;case"shi":return 0===r||1===n?I.One:n===Math.floor(n)&&n>=2&&n<=10?I.Few:I.Other;case"si":return 0===n||1===n||0===r&&1===s?I.One:I.Other;case"sl":return 0===o&&r%100==1?I.One:0===o&&r%100==2?I.Two:0===o&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==o?I.Few:I.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?I.One:I.Other;default:return I.Other}}function a(t){return t.name||typeof t}function u(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+n.i(_.S)(t)+"'")}function h(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}function l(t){return function(e,n){var i=t(e,n);return 1==i.length?"0"+i:i}}function c(t){return function(e,n){return t(e,n).split(" ")[0]}}function f(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function p(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var i=f(t,n,e);return i?i.substring(3):""}}function d(t,e){return t.hour12=e,t}function y(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function v(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function g(t){return Object.assign.apply(Object,[{}].concat(t))}function m(t){return function(e,n){return f(e,n,t)}}function b(t,e,n){var i=pt[t];if(i)return i(e,n);var r=t,o=yt.get(r);if(!o){o=[];var s=void 0;ft.exec(t);for(var a=t;a;)s=ft.exec(a),s?(o=o.concat(s.slice(1)),a=o.pop()):(o.push(a),a=null);yt.set(r,o)}return o.reduce(function(t,i){var r=dt[i];return t+(r?r(e,n):w(i))},"")}function w(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function x(t,e,n,i,r,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&P(n)?+n:n))throw u(t,n);var a=void 0,h=void 0,l=void 0;if(i!==lt.Currency&&(a=1,h=0,l=3),r){var c=r.match(gt);if(null===c)throw new Error(r+" is not a valid digit info for number pipes");null!=c[1]&&(a=k(c[1])),null!=c[3]&&(h=k(c[3])),null!=c[5]&&(l=k(c[5]))}return ct.format(n,e,i,{minimumIntegerDigits:a,minimumFractionDigits:h,maximumFractionDigits:l,currency:o,currencyAsSymbol:s})}function k(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function P(t){return!isNaN(t-parseFloat(t))}function C(t){return null==t||""===t}function S(t){return t instanceof Date&&!isNaN(t.valueOf())}function T(t){var e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=M(t[9]+t[10]),i=M(t[9]+t[11])),r.call(e,M(t[1]),M(t[2])-1,M(t[3]));var s=M(t[4]||"0")-n,a=M(t[5]||"0")-i,u=M(t[6]||"0"),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,h),e}function M(t){return parseInt(t,10)}var _=n("/oeL");n.d(e,"a",function(){return V}),n.d(e,"h",function(){return R}),n.d(e,"b",function(){return Nt}),n.d(e,"j",function(){return B}),n.d(e,"k",function(){return G}),n.d(e,"i",function(){return U}),n.d(e,"l",function(){return At}),n.d(e,"d",function(){return A}),n.d(e,"n",function(){return O}),n.d(e,"g",function(){return j}),n.d(e,"e",function(){return E}),n.d(e,"c",function(){return D}),n.d(e,"m",function(){return F}),n.d(e,"f",function(){return L});var N=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},A=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},t.prototype.pathname=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),O=new _.M("Location Initialized"),j=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,i){},t.prototype.replaceState=function(t,e,n,i){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),E=new _.M("appBaseHref"),L=function(){function t(e){var n=this;this._subject=new _.N,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(r(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(i(this._baseHref,r(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){return t.replace(/\/$/,"")},t}();L.decorators=[{type:_.O}],L.ctorParameters=function(){return[{type:j}]};var D=function(t){function e(e,n){var i=t.call(this)||this;return i._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return N(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=L.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(j);D.decorators=[{type:_.O}],D.ctorParameters=function(){return[{type:A},{type:void 0,decorators:[{type:_.P},{type:_.Q,args:[E]}]}]};var F=function(t){function e(e,n){var i=t.call(this)||this;if(i._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return N(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return L.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+L.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+L.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(j);F.decorators=[{type:_.O}],F.ctorParameters=function(){return[{type:A},{type:void 0,decorators:[{type:_.P},{type:_.Q,args:[E]}]}]};var R=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),V=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return N(e,t),e.prototype.getPluralCategory=function(t){switch(s(this.locale,t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}},e}(R);V.decorators=[{type:_.O}],V.ctorParameters=function(){return[{type:void 0,decorators:[{type:_.Q,args:[_.c]}]}]};var I={};I.Zero=0,I.One=1,I.Two=2,I.Few=3,I.Many=4,I.Other=5,I[I.Zero]="Zero",I[I.One]="One",I[I.Two]="Two",I[I.Few]="Few",I[I.Many]="Many",I[I.Other]="Other";var B=function(){function t(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(n.i(_.R)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+n.i(_.S)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(i){null!=t[i]&&n._toggleClass(i,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();B.decorators=[{type:_.T,args:[{selector:"[ngClass]"}]}],B.ctorParameters=function(){return[{type:_.w},{type:_.x},{type:_.U},{type:_.V}]},B.propDecorators={klass:[{type:_.W,args:["class"]}],ngClass:[{type:_.W}]};var q=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(_.X);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(_.Y),r=i.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();q.decorators=[{type:_.T,args:[{selector:"[ngComponentOutlet]"}]}],q.ctorParameters=function(){return[{type:_.J}]},q.propDecorators={ngComponentOutlet:[{type:_.W}],ngComponentOutletInjector:[{type:_.W}],ngComponentOutletContent:[{type:_.W}],ngComponentOutletNgModuleFactory:[{type:_.W}]};var z=function(){function t(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),G=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){n.i(_.Z)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+a(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new z(null,e.ngForOf,-1,-1),r),s=new H(t,o);n.push(s)}else if(null==r)e._viewContainer.remove(i);else{var o=e._viewContainer.get(i);e._viewContainer.move(o,r);var s=new H(t,o);n.push(s)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var i=0,r=this._viewContainer.length;i<r;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=r}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();G.decorators=[{type:_.T,args:[{selector:"[ngFor][ngForOf]"}]}],G.ctorParameters=function(){return[{type:_.J},{type:_.K},{type:_.w}]},G.propDecorators={ngForOf:[{type:_.W}],ngForTrackBy:[{type:_.W}],ngForTemplate:[{type:_.W}]};var H=function(){function t(t,e){this.record=t,this.view=e}return t}(),U=function(){function t(t,e){this._viewContainer=t,this._context=new K,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();U.decorators=[{type:_.T,args:[{selector:"[ngIf]"}]}],U.ctorParameters=function(){return[{type:_.J},{type:_.K}]},U.propDecorators={ngIf:[{type:_.W}],ngIfThen:[{type:_.W}],ngIfElse:[{type:_.W}]};var K=function(){function t(){this.$implicit=null,this.ngIf=null}return t}(),W=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),J=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();J.decorators=[{type:_.T,args:[{selector:"[ngSwitch]"}]}],J.ctorParameters=function(){return[]},J.propDecorators={ngSwitch:[{type:_.W}]};var Y=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new W(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();Y.decorators=[{type:_.T,args:[{selector:"[ngSwitchCase]"}]}],Y.ctorParameters=function(){return[{type:_.J},{type:_.K},{type:J,decorators:[{type:_._0}]}]},Y.propDecorators={ngSwitchCase:[{type:_.W}]};var Q=function(){function t(t,e,n){n._addDefault(new W(t,e))}return t}();Q.decorators=[{type:_.T,args:[{selector:"[ngSwitchDefault]"}]}],Q.ctorParameters=function(){return[{type:_.J},{type:_.K},{type:J,decorators:[{type:_._0}]}]};var Z=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=o(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();Z.decorators=[{type:_.T,args:[{selector:"[ngPlural]"}]}],Z.ctorParameters=function(){return[{type:R}]},Z.propDecorators={ngPlural:[{type:_.W}]};var X=function(){function t(t,e,n,i){this.value=t;var r=!isNaN(Number(t));i.addCase(r?"="+t:t,new W(n,e))}return t}();X.decorators=[{type:_.T,args:[{selector:"[ngPluralCase]"}]}],X.ctorParameters=function(){return[{type:void 0,decorators:[{type:_._1,args:["ngPluralCase"]}]},{type:_.K},{type:_.J},{type:Z,decorators:[{type:_._0}]}]};var $=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),i=n[0],r=n[1];e=null!=e&&r?""+e+r:e,this._renderer.setElementStyle(this._ngEl.nativeElement,i,e)},t}();$.decorators=[{type:_.T,args:[{selector:"[ngStyle]"}]}],$.ctorParameters=function(){return[{type:_.x},{type:_.U},{type:_.V}]},$.propDecorators={ngStyle:[{type:_.W}]};var tt=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();tt.decorators=[{type:_.T,args:[{selector:"[ngTemplateOutlet]"}]}],tt.ctorParameters=function(){return[{type:_.J}]},tt.propDecorators={ngTemplateOutletContext:[{type:_.W}],ngTemplateOutlet:[{type:_.W}],ngOutletContext:[{type:_.W}]};var et=[B,q,G,U,tt,$,J,Y,Q,Z,X],nt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),it=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),rt=new it,ot=new nt,st=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,_._2.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(n.i(_._3)(e))return rt;if(n.i(_._4)(e))return ot;throw u(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();st.decorators=[{type:_._5,args:[{name:"async",pure:!1}]}],st.ctorParameters=function(){return[{type:_._6}]};var at=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toLowerCase()},t}();at.decorators=[{type:_._5,args:[{name:"lowercase"}]}],at.ctorParameters=function(){return[]};var ut=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.split(/\b/g).map(function(t){return h(t)}).join("")},t}();ut.decorators=[{type:_._5,args:[{name:"titlecase"}]}],ut.ctorParameters=function(){return[]};var ht=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toUpperCase()},t}();ht.decorators=[{type:_._5,args:[{name:"uppercase"}]}],ht.ctorParameters=function(){return[]};var lt={};lt.Decimal=0,lt.Percent=1,lt.Currency=2,lt[lt.Decimal]="Decimal",lt[lt.Percent]="Percent",lt[lt.Currency]="Currency";var ct=function(){function t(){}return t.format=function(t,e,n,i){var r=void 0===i?{}:i,o=r.minimumIntegerDigits,s=r.minimumFractionDigits,a=r.maximumFractionDigits,u=r.currency,h=r.currencyAsSymbol,l=void 0!==h&&h,c={minimumIntegerDigits:o,minimumFractionDigits:s,maximumFractionDigits:a,style:lt[n].toLowerCase()};return n==lt.Currency&&(c.currency="string"==typeof u?u:void 0,c.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,c).format(t)},t}(),ft=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,pt={yMMMdjms:m(g([y("year",1),v("month",3),y("day",1),y("hour",1),y("minute",1),y("second",1)])),yMdjm:m(g([y("year",1),y("month",1),y("day",1),y("hour",1),y("minute",1)])),yMMMMEEEEd:m(g([y("year",1),v("month",4),v("weekday",4),y("day",1)])),yMMMMd:m(g([y("year",1),v("month",4),y("day",1)])),yMMMd:m(g([y("year",1),v("month",3),y("day",1)])),yMd:m(g([y("year",1),y("month",1),y("day",1)])),jms:m(g([y("hour",1),y("second",1),y("minute",1)])),jm:m(g([y("hour",1),y("minute",1)]))},dt={yyyy:m(y("year",4)),yy:m(y("year",2)),y:m(y("year",1)),MMMM:m(v("month",4)),MMM:m(v("month",3)),MM:m(y("month",2)),M:m(y("month",1)),LLLL:m(v("month",4)),L:m(v("month",1)),dd:m(y("day",2)),d:m(y("day",1)),HH:l(c(m(d(y("hour",2),!1)))),H:c(m(d(y("hour",1),!1))),hh:l(c(m(d(y("hour",2),!0)))),h:c(m(d(y("hour",1),!0))),jj:m(y("hour",2)),j:m(y("hour",1)),mm:l(m(y("minute",2))),m:m(y("minute",1)),ss:l(m(y("second",2))),s:m(y("second",1)),sss:m(y("second",3)),EEEE:m(v("weekday",4)),EEE:m(v("weekday",3)),EE:m(v("weekday",2)),E:m(v("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(m(d(y("hour",1),!0))),Z:p("short"),z:p("long"),ww:m({}),w:m({}),G:m(v("era",1)),GG:m(v("era",2)),GGG:m(v("era",3)),GGGG:m(v("era",4))},yt=new Map,vt=function(){function t(){}return t.format=function(t,e,n){return b(n,t,e)},t}(),gt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return x(t,this._locale,e,lt.Decimal,n)},t}();mt.decorators=[{type:_._5,args:[{name:"number"}]}],mt.ctorParameters=function(){return[{type:void 0,decorators:[{type:_.Q,args:[_.c]}]}]};var bt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return x(t,this._locale,e,lt.Percent,n)},t}();bt.decorators=[{type:_._5,args:[{name:"percent"}]}],bt.ctorParameters=function(){return[{type:void 0,decorators:[{type:_.Q,args:[_.c]}]}]};var wt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,i,r){return void 0===n&&(n="USD"),void 0===i&&(i=!1),x(t,this._locale,e,lt.Currency,r,n,i)},t}();wt.decorators=[{type:_._5,args:[{name:"currency"}]}],wt.ctorParameters=function(){return[{type:void 0,decorators:[{type:_.Q,args:[_.c]}]}]};var xt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var i;if(C(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),S(e))i=e;else if(P(e))i=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=e.split("-").map(function(t){return parseInt(t,10)}),o=r[0],s=r[1],a=r[2];i=new Date(o,s-1,a)}else i=new Date(e);if(!S(i)){var h=void 0;if("string"!=typeof e||!(h=e.match(xt)))throw u(t,e);i=T(h)}return vt.format(i,this._locale,t._ALIASES[n]||n)},t}();kt._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},kt.decorators=[{type:_._5,args:[{name:"date",pure:!0}]}],kt.ctorParameters=function(){return[{type:void 0,decorators:[{type:_.Q,args:[_.c]}]}]};var Pt=/#/g,Ct=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw u(t,n);return n[o(e,Object.keys(n),this._localization)].replace(Pt,e.toString())},t}();Ct.decorators=[{type:_._5,args:[{name:"i18nPlural",pure:!0}]}],Ct.ctorParameters=function(){return[{type:R}]};var St=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw u(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();St.decorators=[{type:_._5,args:[{name:"i18nSelect",pure:!0}]}],St.ctorParameters=function(){return[]};var Tt=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();Tt.decorators=[{type:_._5,args:[{name:"json",pure:!1}]}],Tt.ctorParameters=function(){return[]};var Mt=function(){function t(){}return t.prototype.transform=function(e,n,i){if(null==e)return e;if(!this.supports(e))throw u(t,e);return e.slice(n,i)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();Mt.decorators=[{type:_._5,args:[{name:"slice",pure:!1}]}],Mt.ctorParameters=function(){return[]};var _t=[st,ht,at,Tt,Mt,mt,bt,ut,wt,kt,Ct,St],Nt=function(){function t(){}return t}();Nt.decorators=[{type:_._7,args:[{declarations:[et,_t],exports:[et,_t],providers:[{provide:R,useClass:V}]}]}],Nt.ctorParameters=function(){return[]};var At="browser";new _._8("4.1.3")},"qm+V":function(t,e,n){"use strict";var i=n("bKpL"),r=n("CE6k");i.Observable.prototype.share=r.share},"rLm+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.components=[]}return t.prototype.getComponent=function(){return this.components},t.prototype.addComponent=function(t){this.components.push(t)},t.prototype.removeComponent=function(t){this.components=this.components.filter(function(e){return e!==t})},t.ctorParameters=function(){return[]},t}()},rf3q:function(t,e,n){"use strict";function i(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(s.empty)}var r=n("T14+"),o=n("dkwD"),s=n("LiYJ");e.toSubscriber=i},rlar:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("T14+"),s=n("xFbG"),a=n("Lhvy"),u=n("g0Kb"),h=n("dkwD"),l=function(t){function e(e){t.call(this,e),this.destination=e}return i(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var c=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return i(e,t),e.prototype[h.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(r.Observable);e.Subject=c;var f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(c);e.AnonymousSubject=f},"uT+d":function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.ArgumentOutOfRangeError=r},ub06:function(t,e,n){"use strict";var i=n("bKpL"),r=n("ViUi");i.Observable.prototype.merge=r.merge},ueUM:function(t,e,n){"use strict";function i(t){var e=new a(t),n=this.lift(e);return e.caught=n}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("yW9Z"),s=n("ktfo");e._catch=i;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,i){t.call(this,e),this.selector=n,this.caught=i}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(s.subscribeToResult(this,n))}},e}(o.OuterSubscriber)},wCVK:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("aOKN"),s=n("fcnB"),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,n){var i=t.length;return 0===i?new s.EmptyObservable:1===i?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,i=t.length,r=t.subscriber;if(!r.closed){if(n>=i)return void r.complete();r.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,i=n.arrayLike,r=n.scheduler,o=i.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:i,index:0,length:o,subscriber:t});for(var s=0;s<o&&!t.closed;s++)t.next(i[s]);t.complete()},e}(r.Observable);e.ArrayLikeObservable=a},wZOE:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("bKpL"),o=n("aOKN"),s=n("fcnB"),a=n("MicL"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var i=t[t.length-1];a.isScheduler(i)?t.pop():i=null;var r=t.length;return r>1?new e(t,i):1===r?new o.ScalarObservable(t[0],i):new s.EmptyObservable(i)},e.dispatch=function(t){var e=t.array,n=t.index,i=t.count,r=t.subscriber;if(n>=i)return void r.complete();r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,i=n.length,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{array:n,index:0,count:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(r.Observable);e.ArrayObservable=u},xFbG:function(t,e,n){"use strict";function i(t){return t.reduce(function(t,e){return t.concat(e instanceof h.UnsubscriptionError?e.errors:e)},[])}var r=n("NSJx"),o=n("H6Sg"),s=n("fclq"),a=n("RdI5"),u=n("XRvs"),h=n("Emqh"),l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,l=n._parent,c=n._parents,f=n._unsubscribe,p=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,y=c?c.length:0;l;)l.remove(this),l=++d<y&&c[d]||null;if(s.isFunction(f)){var v=a.tryCatch(f).call(this);v===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof h.UnsubscriptionError?i(u.errorObject.e.errors):[u.errorObject.e]))}if(r.isArray(p))for(d=-1,y=p.length;++d<y;){var g=p[d];if(o.isObject(g)){var v=a.tryCatch(g.unsubscribe).call(g);if(v===u.errorObject){e=!0,t=t||[];var m=u.errorObject.e;m instanceof h.UnsubscriptionError?t=t.concat(i(m.errors)):t.push(m)}}}if(e)throw new h.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;n=new t,n._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,i=e._parents;n&&n!==t?i?-1===i.indexOf(t)&&i.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},xKl2:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("rlar"),o=n("bKpL"),s=n("T14+"),a=n("xFbG"),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new a.Subscription,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new c(this))},e}(o.Observable);e.ConnectableObservable=u;var h=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}};var l=function(t){function e(e,n){t.call(this,e),this.connectable=n}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.SubjectSubscriber),c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new f(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),f=function(t){function e(e,n){t.call(this,e),this.connectable=n}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()},e}(s.Subscriber)},yW9Z:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n("T14+"),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.Subscriber);e.OuterSubscriber=o},zijX:function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r=void 0!==t&&t,o=n||r||i;e.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n("fRUx"))}});