YAHOO.util.DragDropMgr||(YAHOO.util.DragDropMgr=function(){var i=YAHOO.util.Event,e=YAHOO.util.Dom;return{useShim:!1,_shimActive:!1,_shimState:!1,_debugShim:!1,_createShim:function(){var t=document.createElement("div");t.id="yui-ddm-shim",document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t),t.style.display="none",t.style.backgroundColor="red",t.style.position="absolute",t.style.zIndex="99999",e.setStyle(t,"opacity","0"),this._shim=t,i.on(t,"mouseup",this.handleMouseUp,this,!0),i.on(t,"mousemove",this.handleMouseMove,this,!0),i.on(window,"scroll",this._sizeShim,this,!0)},_sizeShim:function(){var t;this._shimActive&&((t=this._shim).style.height=e.getDocumentHeight()+"px",t.style.width=e.getDocumentWidth()+"px",t.style.top="0",t.style.left="0")},_activateShim:function(){var t,i;this.useShim&&(this._shim||this._createShim(),this._shimActive=!0,t=this._shim,i="0",this._debugShim&&(i=".5"),e.setStyle(t,"opacity",i),this._sizeShim(),t.style.display="block")},_deactivateShim:function(){this._shim.style.display="none",this._shimActive=!1},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,interactionInfo:null,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(t,i){for(var e in this.ids)for(var s in this.ids[e]){s=this.ids[e][s];this.isTypeOfDD(s)&&s[t].apply(s,i)}},_onLoad:function(){this.init(),i.on(document,"mouseup",this.handleMouseUp,this,!0),i.on(document,"mousemove",this.handleMouseMove,this,!0),i.on(window,"unload",this._onUnload,this,!0),i.on(window,"resize",this._onResize,this,!0)},_onResize:function(t){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:1e3,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,fromTimeout:!1,regDragDrop:function(t,i){this.initialized||this.init(),this.ids[i]||(this.ids[i]={}),this.ids[i][t.id]=t},removeDDFromGroup:function(t,i){this.ids[i]||(this.ids[i]={});i=this.ids[i];i&&i[t.id]&&delete i[t.id]},_remove:function(t){for(var i in t.groups)!i||(i=this.ids[i])&&i[t.id]&&delete i[t.id];delete this.handleIds[t.id]},regHandle:function(t,i){this.handleIds[t]||(this.handleIds[t]={}),this.handleIds[t][i]=i},isDragDrop:function(t){return!!this.getDDById(t)},getRelated:function(t,i){var e,s=[];for(e in t.groups)for(var n in this.ids[e]){n=this.ids[e][n];this.isTypeOfDD(n)&&(i&&!n.isTarget||(s[s.length]=n))}return s},isLegalTarget:function(t,i){for(var e=this.getRelated(t,!0),s=0,n=e.length;s<n;++s)if(e[s].id==i.id)return!0;return!1},isTypeOfDD:function(t){return t&&t.__ygDragDrop},isHandle:function(t,i){return this.handleIds[t]&&this.handleIds[t][i]},getDDById:function(t){for(var i in this.ids)if(this.ids[i][t])return this.ids[i][t];return null},handleMouseDown:function(t,i){this.currentTarget=YAHOO.util.Event.getTarget(t);i=(this.dragCurrent=i).getEl();this.startX=YAHOO.util.Event.getPageX(t),this.startY=YAHOO.util.Event.getPageY(t),this.deltaX=this.startX-i.offsetLeft,this.deltaY=this.startY-i.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var t=YAHOO.util.DDM;t.startDrag(t.startX,t.startY),t.fromTimeout=!0},this.clickTimeThresh)},startDrag:function(t,i){this.dragCurrent&&this.dragCurrent.useShim&&(this._shimState=this.useShim,this.useShim=!0),this._activateShim(),clearTimeout(this.clickTimeout);var e=this.dragCurrent;e&&e.events.b4StartDrag&&(e.b4StartDrag(t,i),e.fireEvent("b4StartDragEvent",{x:t,y:i})),e&&e.events.startDrag&&(e.startDrag(t,i),e.fireEvent("startDragEvent",{x:t,y:i})),this.dragThreshMet=!0},handleMouseUp:function(t){this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&(this.fromTimeout&&(this.fromTimeout=!1,this.handleMouseMove(t)),this.fromTimeout=!1,this.fireEvents(t,!0)),this.stopDrag(t),this.stopEvent(t))},stopEvent:function(t){this.stopPropagation&&YAHOO.util.Event.stopPropagation(t),this.preventDefault&&YAHOO.util.Event.preventDefault(t)},stopDrag:function(t,i){var e=this.dragCurrent;e&&!i&&(this.dragThreshMet&&(e.events.b4EndDrag&&(e.b4EndDrag(t),e.fireEvent("b4EndDragEvent",{e:t})),e.events.endDrag&&(e.endDrag(t),e.fireEvent("endDragEvent",{e:t}))),e.events.mouseUp&&(e.onMouseUp(t),e.fireEvent("mouseUpEvent",{e:t}))),this._shimActive&&(this._deactivateShim(),this.dragCurrent&&this.dragCurrent.useShim&&(this.useShim=this._shimState,this._shimState=!1)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(t){var i,e,s=this.dragCurrent;if(s){if(YAHOO.env.ua.ie&&YAHOO.env.ua.ie<9&&!t.button)return this.stopEvent(t),this.handleMouseUp(t);t.clientX<0||t.clientY,this.dragThreshMet||(i=Math.abs(this.startX-YAHOO.util.Event.getPageX(t)),e=Math.abs(this.startY-YAHOO.util.Event.getPageY(t)),(i>this.clickPixelThresh||e>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)),this.dragThreshMet&&(s&&s.events.b4Drag&&(s.b4Drag(t),s.fireEvent("b4DragEvent",{e:t})),s&&s.events.drag&&(s.onDrag(t),s.fireEvent("dragEvent",{e:t})),s&&this.fireEvents(t,!1)),this.stopEvent(t)}},fireEvents:function(t,i){var e=this.dragCurrent;if(e&&!e.isLocked()&&!e.dragOnly){var s,n,r,o=YAHOO.util.Event.getPageX(t),a=YAHOO.util.Event.getPageY(t),h=new YAHOO.util.Point(o,a),o=e.getTargetCoord(h.x,h.y),a=e.getDragEl(),l=["out","over","drop","enter"],u=new YAHOO.util.Region(o.y,o.x+a.offsetWidth,o.y+a.offsetHeight,o.x),d=[],g={},c={},f=[],v={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(s in this.dragOvers){var D=this.dragOvers[s];this.isTypeOfDD(D)&&(this.isOverTarget(h,D,this.mode,u)||v.outEvts.push(D),d[s]=!0,delete this.dragOvers[s])}for(n in e.groups)if("string"==typeof n)for(s in this.ids[n]){var O=this.ids[n][s];this.isTypeOfDD(O)&&O.isTarget&&!O.isLocked()&&O!=e&&this.isOverTarget(h,O,this.mode,u)&&(g[n]=!0,i?v.dropEvts.push(O):((d[O.id]?v.overEvts:v.enterEvts).push(O),this.dragOvers[O.id]=O))}for(r in this.interactionInfo={out:v.outEvts,enter:v.enterEvts,over:v.overEvts,drop:v.dropEvts,point:h,draggedRegion:u,sourceRegion:this.locationCache[e.id],validDrop:i},g)f.push(r);for(i&&!v.dropEvts.length&&(this.interactionInfo.validDrop=!1,e.events.invalidDrop&&(e.onInvalidDrop(t),e.fireEvent("invalidDropEvent",{e:t}))),s=0;s<l.length;s++){var p=null;if((p=v[l[s]+"Evts"]?v[l[s]+"Evts"]:p)&&p.length){var m=l[s].charAt(0).toUpperCase()+l[s].substr(1),Y="onDrag"+m,y="b4Drag"+m,E="drag"+m+"Event",H="drag"+m;if(this.mode)e.events[y]&&(e[y](t,p,f),c[Y]=e.fireEvent(y+"Event",{event:t,info:p,group:f})),e.events[H]&&!1!==c[Y]&&(e[Y](t,p,f),e.fireEvent(E,{event:t,info:p,group:f}));else for(var T=0,A=p.length;T<A;++T)e.events[y]&&(e[y](t,p[T].id,f[0]),c[Y]=e.fireEvent(y+"Event",{event:t,info:p[T].id,group:f[0]})),e.events[H]&&!1!==c[Y]&&(e[Y](t,p[T].id,f[0]),e.fireEvent(E,{event:t,info:p[T].id,group:f[0]}))}}}},getBestMatch:function(t){var i=null,e=t.length;if(1==e)i=t[0];else for(var s=0;s<e;++s){var n=t[s];if(this.mode==this.INTERSECT&&n.cursorIsOver){i=n;break}i&&i.overlap&&!(n.overlap&&i.overlap.getArea()<n.overlap.getArea())||(i=n)}return i},refreshCache:function(t){for(var i in t||this.ids)if("string"==typeof i)for(var e in this.ids[i]){var s=this.ids[i][e];this.isTypeOfDD(s)&&((e=this.getLocation(s))?this.locationCache[s.id]=e:delete this.locationCache[s.id])}},verifyEl:function(t){try{if(t)if(t.offsetParent)return!0}catch(t){}return!1},getLocation:function(t){if(!this.isTypeOfDD(t))return null;var i,e,s,n=t.getEl();try{e=YAHOO.util.Dom.getXY(n)}catch(t){}return e?(s=(i=e[0])+n.offsetWidth,n=(e=e[1])+n.offsetHeight,e=e-t.padding[0],s=s+t.padding[1],n=n+t.padding[2],t=i-t.padding[3],new YAHOO.util.Region(e,s,n,t)):null},isOverTarget:function(t,i,e,s){var n=this.locationCache[i.id];if(n&&this.useCache||(n=this.getLocation(i),this.locationCache[i.id]=n),!n)return!1;i.cursorIsOver=n.contains(t);var r=this.dragCurrent;if(!r||!e&&!r.constrainX&&!r.constrainY)return i.cursorIsOver;i.overlap=null,s||(t=r.getTargetCoord(t.x,t.y),r=r.getDragEl(),s=new YAHOO.util.Region(t.y,t.x+r.offsetWidth,t.y+r.offsetHeight,t.x));n=s.intersect(n);return!!n&&(i.overlap=n,!!e||i.cursorIsOver)},_onUnload:function(t,i){this.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]),this.ids={}},elementCache:{},getElWrapper:function(t){var i=this.elementCache[t];return i=!i||!i.el?this.elementCache[t]=new this.ElementWrapper(YAHOO.util.Dom.get(t)):i},getElement:function(t){return YAHOO.util.Dom.get(t)},getCss:function(t){t=YAHOO.util.Dom.get(t);return t?t.style:null},ElementWrapper:function(t){this.el=t||null,this.id=this.el&&t.id,this.css=this.el&&t.style},getPosX:function(t){return YAHOO.util.Dom.getX(t)},getPosY:function(t){return YAHOO.util.Dom.getY(t)},swapNode:function(t,i){var e,s;t.swapNode?t.swapNode(i):(e=i.parentNode,(s=i.nextSibling)==t?e.insertBefore(t,i):i==t.nextSibling?e.insertBefore(i,t):(t.parentNode.replaceChild(i,t),e.insertBefore(t,s)))},getScroll:function(){var t,i,e=document.documentElement,s=document.body;return e&&(e.scrollTop||e.scrollLeft)?(t=e.scrollTop,i=e.scrollLeft):s&&(t=s.scrollTop,i=s.scrollLeft),{top:t,left:i}},getStyle:function(t,i){return YAHOO.util.Dom.getStyle(t,i)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(t,i){i=YAHOO.util.Dom.getXY(i);YAHOO.util.Dom.setXY(t,i)},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight()},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth()},numericSort:function(t,i){return t-i},_timeoutCount:0,_addListeners:function(){var t=YAHOO.util.DDM;YAHOO.util.Event&&document?t._onLoad():2e3<t._timeoutCount||(setTimeout(t._addListeners,10),document&&document.body&&(t._timeoutCount+=1))},handleWasClicked:function(t,i){if(this.isHandle(i,t.id))return!0;for(var e=t.parentNode;e;){if(this.isHandle(i,e.id))return!0;e=e.parentNode}return!1}}}(),YAHOO.util.DDM=YAHOO.util.DragDropMgr,YAHOO.util.DDM._addListeners()),function(){var o=YAHOO.util.Event,r=YAHOO.util.Dom;YAHOO.util.DragDrop=function(t,i,e){t&&this.init(t,i,e)},YAHOO.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isTarget:!0,padding:null,dragOnly:!1,useShim:!1,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,cursorIsOver:!1,overlap:null,b4StartDrag:function(t,i){},startDrag:function(t,i){},b4Drag:function(t){},onDrag:function(t){},onDragEnter:function(t,i){},b4DragOver:function(t){},onDragOver:function(t,i){},b4DragOut:function(t){},onDragOut:function(t,i){},b4DragDrop:function(t){},onDragDrop:function(t,i){},onInvalidDrop:function(t){},b4EndDrag:function(t){},endDrag:function(t){},b4MouseDown:function(t){},onMouseDown:function(t){},onMouseUp:function(t){},onAvailable:function(){},getEl:function(){return this._domRef||(this._domRef=r.get(this.id)),this._domRef},getDragEl:function(){return r.get(this.dragElId)},init:function(t,i,e){for(var s in this.initTarget(t,i,e),o.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,!0),this.events)this.createEvent(s+"Event")},initTarget:function(t,i,e){this.config=e||{},this.events={},this.DDM=YAHOO.util.DDM,this.groups={},"string"!=typeof t&&(this._domRef=t,t=r.generateId(t)),this.id=t,this.addToGroup(i||"default"),this.handleElId=t,o.onAvailable(t,this.handleOnAvailable,this,!0),this.setDragElId(t),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig()},applyConfig:function(){if(this.events={mouseDown:!0,b4MouseDown:!0,mouseUp:!0,b4StartDrag:!0,startDrag:!0,b4EndDrag:!0,endDrag:!0,drag:!0,b4Drag:!0,invalidDrop:!0,b4DragOut:!0,dragOut:!0,dragEnter:!0,b4DragOver:!0,dragOver:!0,b4DragDrop:!0,dragDrop:!0},this.config.events)for(var t in this.config.events)!1===this.config.events[t]&&(this.events[t]=!1);this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly,this.dragOnly=!0===this.config.dragOnly,this.useShim=!0===this.config.useShim},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(t,i,e,s){this.padding=i||0===i?e||0===e?[t,i,e,s]:[t,i,t,i]:[t,t,t,t]},setInitPosition:function(t,i){var e,s=this.getEl();this.DDM.verifyEl(s)?(e=t||0,t=i||0,i=r.getXY(s),this.initPageX=i[0]-e,this.initPageY=i[1]-t,this.lastPageX=i[0],this.lastPageY=i[1],this.setStartPosition(i)):s&&s.style&&s.style.display},setStartPosition:function(t){t=t||r.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(t){this.groups[t]=!0,this.DDM.regDragDrop(this,t)},removeFromGroup:function(t){this.groups[t]&&delete this.groups[t],this.DDM.removeDDFromGroup(this,t)},setDragElId:function(t){this.dragElId=t},setHandleElId:function(t){"string"!=typeof t&&(t=r.generateId(t)),this.handleElId=t,this.DDM.regHandle(this.id,t)},setOuterHandleElId:function(t){"string"!=typeof t&&(t=r.generateId(t)),o.on(t,"mousedown",this.handleMouseDown,this,!0),this.setHandleElId(t),this.hasOuterHandles=!0},unreg:function(){o.removeListener(this.id,"mousedown",this.handleMouseDown),this._domRef=null,this.DDM._remove(this)},isLocked:function(){return this.DDM.isLocked()||this.locked},handleMouseDown:function(t,i){var e,s,n,r=t.which||t.button;this.primaryButtonOnly&&1<r||this.isLocked()||(e=this.b4MouseDown(t),s=!0,this.events.b4MouseDown&&(s=this.fireEvent("b4MouseDownEvent",t)),n=this.onMouseDown(t),r=!0,this.events.mouseDown&&(r=!1!==n&&this.fireEvent("mouseDownEvent",t)),!1!==e&&!1!==n&&!1!==s&&!1!==r&&(this.DDM.refreshCache(this.groups),r=new YAHOO.util.Point(o.getPageX(t),o.getPageY(t)),(this.hasOuterHandles||this.DDM.isOverTarget(r,this))&&this.clickValidator(t)&&(this.setStartPosition(),this.DDM.handleMouseDown(t,this),this.DDM.stopEvent(t))))},clickValidator:function(t){t=YAHOO.util.Event.getTarget(t);return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDM.handleWasClicked(t,this.id))},getTargetCoord:function(t,i){t-=this.deltaX,i-=this.deltaY;return this.constrainX&&(t=t<this.minX?this.minX:t)>this.maxX&&(t=this.maxX),this.constrainY&&(i=i<this.minY?this.minY:i)>this.maxY&&(i=this.maxY),{x:t=this.getTick(t,this.xTicks),y:i=this.getTick(i,this.yTicks)}},addInvalidHandleType:function(t){t=t.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(t){"string"!=typeof t&&(t=r.generateId(t)),this.invalidHandleIds[t]=t},addInvalidHandleClass:function(t){this.invalidHandleClasses.push(t)},removeInvalidHandleType:function(t){t=t.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(t){"string"!=typeof t&&(t=r.generateId(t)),delete this.invalidHandleIds[t]},removeInvalidHandleClass:function(t){for(var i=0,e=this.invalidHandleClasses.length;i<e;++i)this.invalidHandleClasses[i]==t&&delete this.invalidHandleClasses[i]},isValidHandleChild:function(i){var e,t=!0;try{e=i.nodeName.toUpperCase()}catch(t){e=i.nodeName}for(var t=(t=t&&!this.invalidHandleTypes[e])&&!this.invalidHandleIds[i.id],s=0,n=this.invalidHandleClasses.length;t&&s<n;++s)t=!r.hasClass(i,this.invalidHandleClasses[s]);return t},setXTicks:function(t,i){this.xTicks=[],this.xTickSize=i;for(var e={},s=this.initPageX;s>=this.minX;s-=i)e[s]||(e[this.xTicks[this.xTicks.length]=s]=!0);for(s=this.initPageX;s<=this.maxX;s+=i)e[s]||(e[this.xTicks[this.xTicks.length]=s]=!0);this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(t,i){this.yTicks=[],this.yTickSize=i;for(var e={},s=this.initPageY;s>=this.minY;s-=i)e[s]||(e[this.yTicks[this.yTicks.length]=s]=!0);for(s=this.initPageY;s<=this.maxY;s+=i)e[s]||(e[this.yTicks[this.yTicks.length]=s]=!0);this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(t,i,e){this.leftConstraint=parseInt(t,10),this.rightConstraint=parseInt(i,10),this.minX=this.initPageX-this.leftConstraint,this.maxX=this.initPageX+this.rightConstraint,e&&this.setXTicks(this.initPageX,e),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(t,i,e){this.topConstraint=parseInt(t,10),this.bottomConstraint=parseInt(i,10),this.minY=this.initPageY-this.topConstraint,this.maxY=this.initPageY+this.bottomConstraint,e&&this.setYTicks(this.initPageY,e),this.constrainY=!0},resetConstraints:function(){var t,i;this.initPageX||0===this.initPageX?(t=this.maintainOffset?this.lastPageX-this.initPageX:0,i=this.maintainOffset?this.lastPageY-this.initPageY:0,this.setInitPosition(t,i)):this.setInitPosition(),this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(t,i){if(i){if(i[0]>=t)return i[0];for(var e=0,s=i.length;e<s;++e){var n=e+1;if(i[n]&&i[n]>=t)return t-i[e]<i[n]-t?i[e]:i[n]}return i[i.length-1]}return t},toString:function(){return"DragDrop "+this.id}},YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider)}(),YAHOO.util.DD=function(t,i,e){t&&this.init(t,i,e)},YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:!0,autoOffset:function(t,i){t-=this.startPageX,i-=this.startPageY;this.setDelta(t,i)},setDelta:function(t,i){this.deltaX=t,this.deltaY=i},setDragElPos:function(t,i){var e=this.getDragEl();this.alignElWithMouse(e,t,i)},alignElWithMouse:function(t,i,e){var s=this.getTargetCoord(i,e);this.deltaSetXY?(YAHOO.util.Dom.setStyle(t,"left",s.x+this.deltaSetXY[0]+"px"),YAHOO.util.Dom.setStyle(t,"top",s.y+this.deltaSetXY[1]+"px")):(i=[s.x,s.y],YAHOO.util.Dom.setXY(t,i),e=parseInt(YAHOO.util.Dom.getStyle(t,"left"),10),i=parseInt(YAHOO.util.Dom.getStyle(t,"top"),10),this.deltaSetXY=[e-s.x,i-s.y]),this.cachePosition(s.x,s.y);var n=this;setTimeout(function(){n.autoScroll.call(n,s.x,s.y,t.offsetHeight,t.offsetWidth)},0)},cachePosition:function(t,i){t?(this.lastPageX=t,this.lastPageY=i):(i=YAHOO.util.Dom.getXY(this.getEl()),this.lastPageX=i[0],this.lastPageY=i[1])},autoScroll:function(t,i,e,s){var n,r,o,a,h,l,u;this.scroll&&(n=this.DDM.getClientHeight(),r=this.DDM.getClientWidth(),o=this.DDM.getScrollTop(),a=this.DDM.getScrollLeft(),h=s+t,l=n+o-i-this.deltaY,u=r+a-t-this.deltaX,s=document.all?80:30,n<e+i&&l<40&&window.scrollTo(a,o+s),i<o&&0<o&&i-o<40&&window.scrollTo(a,o-s),r<h&&u<40&&window.scrollTo(a+s,o),t<a&&0<a&&t-a<40&&window.scrollTo(a-s,o))},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this),this.scroll=!1!==this.config.scroll},b4MouseDown:function(t){this.setStartPosition(),this.autoOffset(YAHOO.util.Event.getPageX(t),YAHOO.util.Event.getPageY(t))},b4Drag:function(t){this.setDragElPos(YAHOO.util.Event.getPageX(t),YAHOO.util.Event.getPageY(t))},toString:function(){return"DD "+this.id}}),YAHOO.util.DDProxy=function(t,i,e){t&&(this.init(t,i,e),this.initFrame())},YAHOO.util.DDProxy.dragElId="ygddfdiv",YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var t,i,e,s=this,n=document.body;n&&n.firstChild?(t=this.getDragEl(),i=YAHOO.util.Dom,t||((t=document.createElement("div")).id=this.dragElId,(e=t.style).position="absolute",e.visibility="hidden",e.cursor="move",e.border="2px solid #aaa",e.zIndex=999,e.height="25px",e.width="25px",e=document.createElement("div"),i.setStyle(e,"height","100%"),i.setStyle(e,"width","100%"),i.setStyle(e,"background-color","#ccc"),i.setStyle(e,"opacity","0"),t.appendChild(e),n.insertBefore(t,n.firstChild))):setTimeout(function(){s.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId)},showFrame:function(t,i){this.getEl();var e=this.getDragEl(),s=e.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(s.width,10)/2),Math.round(parseInt(s.height,10)/2)),this.setDragElPos(t,i),YAHOO.util.Dom.setStyle(e,"visibility","visible")},_resizeProxy:function(){var t,i,e,s,n,r,o;this.resizeFrame&&(t=YAHOO.util.Dom,i=this.getEl(),e=this.getDragEl(),s=parseInt(t.getStyle(e,"borderTopWidth"),10),n=parseInt(t.getStyle(e,"borderRightWidth"),10),o=parseInt(t.getStyle(e,"borderBottomWidth"),10),r=parseInt(t.getStyle(e,"borderLeftWidth"),10),isNaN(s)&&(s=0),isNaN(n)&&(n=0),isNaN(o)&&(o=0),isNaN(r)&&(r=0),r=Math.max(0,i.offsetWidth-n-r),o=Math.max(0,i.offsetHeight-s-o),t.setStyle(e,"width",r+"px"),t.setStyle(e,"height",o+"px"))},b4MouseDown:function(t){this.setStartPosition();var i=YAHOO.util.Event.getPageX(t),t=YAHOO.util.Event.getPageY(t);this.autoOffset(i,t)},b4StartDrag:function(t,i){this.showFrame(t,i)},b4EndDrag:function(t){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(t){var i=YAHOO.util.Dom,e=this.getEl(),s=this.getDragEl();i.setStyle(s,"visibility",""),i.setStyle(e,"visibility","hidden"),YAHOO.util.DDM.moveToEl(e,s),i.setStyle(s,"visibility","hidden"),i.setStyle(e,"visibility","")},toString:function(){return"DDProxy "+this.id}}),YAHOO.util.DDTarget=function(t,i,e){t&&this.initTarget(t,i,e)},YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return"DDTarget "+this.id}}),YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.9.0",build:"2800"});